if(function(a){"function"==typeof define?define(a):"function"==typeof YUI?YUI.add("es5",a):a()}(function(){function a(){}function b(a){return a=+a,a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))),a}function c(a){var b=typeof a;return null===a||"undefined"===b||"boolean"===b||"number"===b||"string"===b}function d(a){var b,d,e;if(c(a))return a;if(d=a.valueOf,"function"==typeof d&&(b=d.call(a),c(b)))return b;if(e=a.toString,"function"==typeof e&&(b=e.call(a),c(b)))return b;throw new TypeError}8!==parseInt("08")&&(parseInt=function(a){var b=/^0[xX]/;return function(c,d){return c=String(c).trim(),+d||(d=b.test(c)?16:10),a(c,d)}}(parseInt)),Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if("function"!=typeof c)throw new TypeError("Function.prototype.bind called on incompatible "+c);for(var d=m.call(arguments,1),e=function(){if(this instanceof i){var a=c.apply(this,d.concat(m.call(arguments)));return Object(a)===a?a:this}return c.apply(b,d.concat(m.call(arguments)))},f=Math.max(0,c.length-d.length),g=[],h=0;f>h;h++)g.push("$"+h);var i=Function("binder","return function("+g.join(",")+"){return binder.apply(this,arguments)}")(e);return c.prototype&&(a.prototype=c.prototype,i.prototype=new a,a.prototype=null),i});var e,f,g,h,i,j=Function.prototype.call,k=Array.prototype,l=Object.prototype,m=k.slice,n=j.bind(l.toString),o=j.bind(l.hasOwnProperty);if((i=o(l,"__defineGetter__"))&&(e=j.bind(l.__defineGetter__),f=j.bind(l.__defineSetter__),g=j.bind(l.__lookupGetter__),h=j.bind(l.__lookupSetter__)),2!=[1,2].splice(0).length){var p=Array.prototype.splice,q=Array.prototype.push,r=Array.prototype.unshift;Array.prototype.splice=function(){function a(a){for(var b=[];a--;)b.unshift(a);return b}var b,c=[];return c.splice.bind(c,0,0).apply(null,a(20)),c.splice.bind(c,0,0).apply(null,a(26)),b=c.length,c.splice(5,0,"XXX"),b+1==c.length?!0:void 0}()?function(a,b){return arguments.length?p.apply(this,[void 0===a?0:a,void 0===b?this.length-a:b].concat(m.call(arguments,2))):[]}:function(a,b){var c,d=m.call(arguments,2),e=d.length;if(!arguments.length)return[];if(void 0===a&&(a=0),void 0===b&&(b=this.length-a),e>0){if(0>=b){if(a==this.length)return q.apply(this,d),[];if(0==a)return r.apply(this,d),[]}return c=m.call(this,a,a+b),d.push.apply(d,m.call(this,a+b,this.length)),d.unshift.apply(d,m.call(this,0,a)),d.unshift(0,this.length),p.apply(this,d),c}return p.call(this,a,b)}}if(1!=[].unshift(0)){var r=Array.prototype.unshift;Array.prototype.unshift=function(){return r.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(a){return"[object Array]"==n(a)});var s=Object("a"),t="a"!=s[0]||!(0 in s),u=!0;if(Array.prototype.forEach&&Array.prototype.forEach.call("foo",function(a,b,c){"object"!=typeof c&&(u=!1)}),Array.prototype.forEach&&u||(Array.prototype.forEach=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=arguments[1],e=-1,f=c.length>>>0;if("[object Function]"!=n(a))throw new TypeError;for(;++e<f;)e in c&&a.call(d,c[e],e,b)}),Array.prototype.map||(Array.prototype.map=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=c.length>>>0,e=Array(d),f=arguments[1];if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");for(var g=0;d>g;g++)g in c&&(e[g]=a.call(f,c[g],g,b));return e}),Array.prototype.filter||(Array.prototype.filter=function(a){var b,c=I(this),d=t&&"[object String]"==n(this)?this.split(""):c,e=d.length>>>0,f=[],g=arguments[1];if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");for(var h=0;e>h;h++)h in d&&(b=d[h],a.call(g,b,h,c)&&f.push(b));return f}),Array.prototype.every||(Array.prototype.every=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&!a.call(e,c[f],f,b))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&a.call(e,c[f],f,b))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var e,f=0;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f++];break}if(++f>=d)throw new TypeError("reduce of empty array with no initial value")}for(;d>f;f++)f in c&&(e=a.call(void 0,e,c[f],f,b));return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var b=I(this),c=t&&"[object String]"==n(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=n(a))throw new TypeError(a+" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var e,f=d-1;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f--];break}if(--f<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>f)return e;do f in this&&(e=a.call(void 0,e,c[f],f,b));while(f--);return e}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(a){var c=t&&"[object String]"==n(this)?this.split(""):I(this),d=c.length>>>0;if(!d)return-1;var e=0;for(arguments.length>1&&(e=b(arguments[1])),e=e>=0?e:Math.max(0,d+e);d>e;e++)if(e in c&&c[e]===a)return e;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(a){var c=t&&"[object String]"==n(this)?this.split(""):I(this),d=c.length>>>0;if(!d)return-1;var e=d-1;for(arguments.length>1&&(e=Math.min(e,b(arguments[1]))),e=e>=0?e:d-Math.abs(e);e>=0;e--)if(e in c&&a===c[e])return e;return-1}),!Object.keys){var v=!0,w=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],x=w.length;for(var y in{toString:null})v=!1;Object.keys=function J(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var J=[];for(var b in a)o(a,b)&&J.push(b);if(v)for(var c=0,d=x;d>c;c++){var e=w[c];o(a,e)&&J.push(e)}return J}}var z=-621987552e5,A="-000001";Date.prototype.toISOString&&-1!==new Date(z).toISOString().indexOf(A)||(Date.prototype.toISOString=function(){var a,b,c,d,e;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(d=this.getUTCFullYear(),e=this.getUTCMonth(),d+=Math.floor(e/12),e=(e%12+12)%12,a=[e+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],d=(0>d?"-":d>9999?"+":"")+("00000"+Math.abs(d)).slice(d>=0&&9999>=d?-4:-6),b=a.length;b--;)c=a[b],10>c&&(a[b]="0"+c);return d+"-"+a.slice(0,2).join("-")+"T"+a.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var B=!1;try{B=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(z).toJSON().indexOf(A)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(C){}B||(Date.prototype.toJSON=function(){var a,b=Object(this),c=d(b);if("number"==typeof c&&!isFinite(c))return null;if(a=b.toISOString,"function"!=typeof a)throw new TypeError("toISOString property is not callable");return a.call(b)}),Date=function(a){function b(c,d,e,f,g,h,i){var j=arguments.length;if(this instanceof a){var k=1==j&&String(c)===c?new a(b.parse(c)):j>=7?new a(c,d,e,f,g,h,i):j>=6?new a(c,d,e,f,g,h):j>=5?new a(c,d,e,f,g):j>=4?new a(c,d,e,f):j>=3?new a(c,d,e):j>=2?new a(c,d):j>=1?new a(c):new a;return k.constructor=b,k}return a.apply(this,arguments)}function c(a,b){var c=b>1?1:0;return f[b]+Math.floor((a-1969+c)/4)-Math.floor((a-1901+c)/100)+Math.floor((a-1601+c)/400)+365*(a-1970)}function d(b){return Number(new a(1970,0,1,0,0,0,b))}var e=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),f=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var g in a)b[g]=a[g];return b.now=a.now,b.UTC=a.UTC,b.prototype=a.prototype,b.prototype.constructor=b,b.parse=function(b){var f=e.exec(b);if(f){var g,h=Number(f[1]),i=Number(f[2]||1)-1,j=Number(f[3]||1)-1,k=Number(f[4]||0),l=Number(f[5]||0),m=Number(f[6]||0),n=Math.floor(1e3*Number(f[7]||0)),o=Boolean(f[4]&&!f[8]),p="-"===f[9]?1:-1,q=Number(f[10]||0),r=Number(f[11]||0);return(l>0||m>0||n>0?24:25)>k&&60>l&&60>m&&1e3>n&&i>-1&&12>i&&24>q&&60>r&&j>-1&&j<c(h,i+1)-c(h,i)&&(g=60*(24*(c(h,i)+j)+k+q*p),g=1e3*(60*(g+l+r*p)+m)+n,o&&(g=d(g)),g>=-864e13&&864e13>=g)?g:0/0}return a.parse.apply(this,arguments)},b}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),Number.prototype.toFixed&&"0.000"===8e-5.toFixed(3)&&"0"!==.9.toFixed(0)&&"1.25"===1.255.toFixed(2)&&"1000000000000000128"===0xde0b6b3a7640080.toFixed(0)||!function(){function a(a,b){for(var c=-1;++c<g;)b+=a*h[c],h[c]=b%f,b=Math.floor(b/f)}function b(a){for(var b=g,c=0;--b>=0;)c+=h[b],h[b]=Math.floor(c/a),c=c%a*f}function c(){for(var a=g,b="";--a>=0;)if(""!==b||0===a||0!==h[a]){var c=String(h[a]);""===b?b=c:b+="0000000".slice(0,7-c.length)+c}return b}function d(a,b,c){return 0===b?c:b%2===1?d(a,b-1,c*a):d(a*a,b/2,c)}function e(a){for(var b=0;a>=4096;)b+=12,a/=4096;for(;a>=2;)b+=1,a/=2;return b}var f,g,h;f=1e7,g=6,h=[0,0,0,0,0,0],Number.prototype.toFixed=function(f){var g,h,i,j,k,l,m,n;if(g=Number(f),g=g!==g?0:Math.floor(g),0>g||g>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(h=Number(this),h!==h)return"NaN";if(-1e21>=h||h>=1e21)return String(h);if(i="",0>h&&(i="-",h=-h),j="0",h>1e-21)if(k=e(h*d(2,69,1))-69,l=0>k?h*d(2,-k,1):h/d(2,k,1),l*=4503599627370496,k=52-k,k>0){for(a(0,l),m=g;m>=7;)a(1e7,0),m-=7;for(a(d(10,m,1),0),m=k-1;m>=23;)b(1<<23),m-=23;b(1<<m),a(1,1),b(2),j=c()}else a(0,l),a(1<<-k,0),j=c()+"0.00000000000000000000".slice(2,2+g);return g>0?(n=j.length,j=g>=n?i+"0.0000000000000000000".slice(0,g-n+2)+j:i+j.slice(0,n-g)+"."+j.slice(n-g)):j=i+j,j}}();var D=String.prototype.split;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var a=void 0===/()??/.exec("")[1];String.prototype.split=function(b,c){var d=this;if(void 0===b&&0===c)return[];if("[object RegExp]"!==Object.prototype.toString.call(b))return D.apply(this,arguments);var e,f,g,h,i=[],j=(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.extended?"x":"")+(b.sticky?"y":""),k=0,b=new RegExp(b.source,j+"g");for(d+="",a||(e=new RegExp("^"+b.source+"$(?!\\s)",j)),c=void 0===c?-1>>>0:c>>>0;(f=b.exec(d))&&(g=f.index+f[0].length,!(g>k&&(i.push(d.slice(k,f.index)),!a&&f.length>1&&f[0].replace(e,function(){for(var a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(f[a]=void 0)}),f.length>1&&f.index<d.length&&Array.prototype.push.apply(i,f.slice(1)),h=f[0].length,k=g,i.length>=c)));)b.lastIndex===f.index&&b.lastIndex++;return k===d.length?(h||!b.test(""))&&i.push(""):i.push(d.slice(k)),i.length>c?i.slice(0,c):i}}():"0".split(void 0,0).length&&(String.prototype.split=function(a,b){return void 0===a&&0===b?[]:D.apply(this,arguments)}),"".substr&&"b"!=="0b".substr(-1)){var E=String.prototype.substr;String.prototype.substr=function(a,b){return E.call(this,0>a&&(a=this.length+a)<0?0:a,b)}}var F="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||F.trim()){F="["+F+"]";var G=new RegExp("^"+F+F+"*"),H=new RegExp(F+F+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(G,"").replace(H,"")}}var I=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)}}),function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b=a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(hb.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=ob[a]={};return _.each(a.match(nb)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+Math.random()}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ub,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:tb.test(c)?_.parseJSON(c):c}catch(e){}sb.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Kb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)rb.set(a[c],"globalEval",!b||rb.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(rb.hasData(a)&&(f=rb.access(a),g=rb.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sb.hasData(a)&&(h=sb.access(a),i=_.extend({},h),sb.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&yb.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Ob[a];return c||(c=t(a,b),"none"!==c&&c||(Nb=(Nb||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Nb[0].contentDocument,b.write(),b.close(),c=t(a,b),Nb.detach()),Ob[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Rb(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qb.test(g)&&Pb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xb.length;e--;)if(b=Xb[e]+c,b in a)return b;return d}function y(a,b,c){var d=Tb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wb[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wb[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wb[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wb[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wb[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Rb(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qb.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=rb.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xb(d)&&(f[g]=rb.access(d,"olddisplay",u(d.nodeName)))):(e=xb(d),"none"===c&&e||rb.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Yb=void 0}),Yb=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wb[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cc[b]||[]).concat(cc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xb(a),p=rb.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?rb.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$b.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=rb.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;rb.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bc.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Yb||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Yb||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bc[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(nb)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===vc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||zc.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.1",_=function(a,b){return new _.fn.init(a,b)},ab=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bb=/^-ms-/,cb=/-([\da-z])/gi,db=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(bb,"ms-").replace(cb,db)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ab,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var eb=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=sb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return _.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ub,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=tb.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return _.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ib,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&typeof a.getElementsByTagName!==V&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?bb.call(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):_.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return bb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ib,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Z.call(i));r=q(r)}_.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V="undefined",W=1<<31,X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,ab=Y.slice,bb=Y.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},cb="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",db="[\\x20\\t\\r\\n\\f]",eb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",fb=eb.replace("w","w#"),gb="\\["+db+"*("+eb+")(?:"+db+"*([*^$|!~]?=)"+db+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fb+"))|)"+db+"*\\]",hb=":("+eb+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+gb+")*)|.*)\\)|)",ib=new RegExp("^"+db+"+|((?:^|[^\\\\])(?:\\\\.)*)"+db+"+$","g"),jb=new RegExp("^"+db+"*,"+db+"*"),kb=new RegExp("^"+db+"*([>+~]|"+db+")"+db+"*"),lb=new RegExp("="+db+"*([^\\]'\"]*?)"+db+"*\\]","g"),mb=new RegExp(hb),nb=new RegExp("^"+fb+"$"),ob={ID:new RegExp("^#("+eb+")"),CLASS:new RegExp("^\\.("+eb+")"),TAG:new RegExp("^("+eb.replace("w","w*")+")"),ATTR:new RegExp("^"+gb),PSEUDO:new RegExp("^"+hb),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+db+"*(even|odd|(([+-]|)(\\d*)n|)"+db+"*(?:([+-]|)"+db+"*(\\d+)|))"+db+"*\\)|)","i"),bool:new RegExp("^(?:"+cb+")$","i"),needsContext:new RegExp("^"+db+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+db+"*((?:-\\d)?\\d*)"+db+"*\\)|)(?=[^-]|$)","i")},pb=/^(?:input|select|textarea|button)$/i,qb=/^h\d$/i,rb=/^[^{]+\{\s*\[native \w/,sb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tb=/[+~]/,ub=/'|\\/g,vb=new RegExp("\\\\([\\da-f]{1,6}"+db+"?|("+db+")|.)","ig"),wb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{_.apply(Y=ab.call(O.childNodes),O.childNodes),Y[O.childNodes.length].nodeType}catch(xb){_={apply:Y.length?function(a,b){$.apply(a,ab.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c=a?a.ownerDocument||a:O,d=c.defaultView;return c!==G&&9===c.nodeType&&c.documentElement?(G=c,H=c.documentElement,I=!y(c),d&&d!==d.top&&(d.addEventListener?d.addEventListener("unload",function(){F()},!1):d.attachEvent&&d.attachEvent("onunload",function(){F()})),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")
}),v.getElementsByTagName=e(function(a){return a.appendChild(c.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=rb.test(c.getElementsByClassName)&&e(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),v.getById=e(function(a){return H.appendChild(a).id=N,!c.getElementsByName||!c.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if(typeof b.getElementById!==V&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(vb,wb);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==V?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==V&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=rb.test(c.querySelectorAll))&&(e(function(a){a.innerHTML="<select msallowclip=''><option selected=''></option></select>",a.querySelectorAll("[msallowclip^='']").length&&J.push("[*^$]="+db+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+db+"*(?:value|"+cb+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),e(function(a){var b=c.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+db+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=rb.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",hb)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=rb.test(H.compareDocumentPosition),M=b||rb.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!v.sortDetached&&b.compareDocumentPosition(a)===d?a===c||a.ownerDocument===O&&M(O,a)?-1:b===c||b.ownerDocument===O&&M(O,b)?1:D?bb.call(D,a)-bb.call(D,b):0:4&d?-1:1)}:function(a,b){if(a===b)return E=!0,0;var d,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===c?-1:b===c?1:f?-1:h?1:D?bb.call(D,a)-bb.call(D,b):0;if(f===h)return g(a,b);for(d=a;d=d.parentNode;)i.unshift(d);for(d=b;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},c):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(lb,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&X.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:ob,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(vb,wb),a[3]=(a[3]||a[4]||a[5]||"").replace(vb,wb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return ob.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&mb.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(vb,wb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+db+")"+a+"("+db+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=bb.call(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ib,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return nb.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(vb,wb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qb.test(a.nodeName)},input:function(a){return pb.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=jb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=kb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ib," ")}),h=h.slice(d.length));for(g in w.filter)!(e=ob[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(vb,wb),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=ob.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(vb,wb),tb.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return _.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,tb.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(cb,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=eb,_.expr=eb.selectors,_.expr[":"]=_.expr.pseudos,_.unique=eb.uniqueSort,_.text=eb.getText,_.isXMLDoc=eb.isXML,_.contains=eb.contains;var fb=_.expr.match.needsContext,gb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,hb=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){for(b=0;c>b;b++)if(_.contains(e[b],this))return!0}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fb.test(a)?_(a):a||[],!1).length}});var ib,jb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,kb=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:jb.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ib).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),gb.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ib.ready?ib.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};kb.prototype=_.fn,ib=_(Z);var lb=/^(?:parents|prev(?:Until|All))/,mb={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fb.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(mb[a]||_.unique(e),lb.test(a)&&e.reverse()),this.pushStack(e)}});var nb=/\S+/g,ob={};_.Callbacks=function(a){a="string"==typeof a?ob[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pb;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pb.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pb||(pb=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pb.promise(b)},_.ready.promise();var qb=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(nb)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var rb=new h,sb=new h,tb=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ub=/([A-Z])/g;_.extend({hasData:function(a){return sb.hasData(a)||rb.hasData(a)},data:function(a,b,c){return sb.access(a,b,c)},removeData:function(a,b){sb.remove(a,b)},_data:function(a,b,c){return rb.access(a,b,c)},_removeData:function(a,b){rb.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sb.get(f),1===f.nodeType&&!rb.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));rb.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sb.set(this,a)}):qb(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sb.get(f,a),void 0!==c)return c;if(c=sb.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sb.get(this,d);sb.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sb.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sb.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=rb.get(a,b),c&&(!d||_.isArray(c)?d=rb.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return rb.get(a,c)||rb.access(a,c,{empty:_.Callbacks("once memory").add(function(){rb.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=rb.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var vb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wb=["Top","Right","Bottom","Left"],xb=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},yb=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var zb="undefined";Y.focusinBubbles="onfocusin"in a;var Ab=/^key/,Bb=/^(?:mouse|pointer|contextmenu)|click/,Cb=/^(?:focusinfocus|focusoutblur)$/,Db=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==zb&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(nb)||[""],j=b.length;j--;)h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=rb.hasData(a)&&rb.get(a);if(q&&(i=q.events)){for(b=(b||"").match(nb)||[""],j=b.length;j--;)if(h=Db.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,rb.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Cb.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Cb.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(rb.get(g,"events")||{})[b.type]&&rb.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(rb.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Bb.test(e)?this.mouseHooks:Ab.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!_.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=rb.access(d,b);e||d.addEventListener(a,c,!0),rb.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=rb.access(d,b)-1;e?rb.access(d,b,e):(d.removeEventListener(a,c,!0),rb.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Eb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fb=/<([\w:]+)/,Gb=/<|&#?\w+;/,Hb=/<(?:script|style|link)/i,Ib=/checked\s*(?:[^=]|=\s*.checked.)/i,Jb=/^$|\/(?:java|ecma)script/i,Kb=/^true\/(.*)/,Lb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Mb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};
Mb.optgroup=Mb.option,Mb.tbody=Mb.tfoot=Mb.colgroup=Mb.caption=Mb.thead,Mb.th=Mb.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Gb.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fb.exec(e)||["",""])[1].toLowerCase(),h=Mb[g]||Mb._default,f.innerHTML=h[1]+e.replace(Eb,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Jb.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[rb.expando],e&&(b=rb.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);rb.cache[e]&&delete rb.cache[e]}delete sb.cache[c[sb.expando]]}}}),_.fn.extend({text:function(a){return qb(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qb(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Hb.test(a)&&!Mb[(Fb.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Eb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ib.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Jb.test(g.type||"")&&!rb.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(Lb,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Nb,Ob={},Pb=/^margin/,Qb=new RegExp("^("+vb+")(?!px)[a-z%]+$","i"),Rb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sb=/^(none|table(?!-c[ea]).+)/,Tb=new RegExp("^("+vb+")(.*)$","i"),Ub=new RegExp("^([+-])=("+vb+")","i"),Vb={position:"absolute",visibility:"hidden",display:"block"},Wb={letterSpacing:"0",fontWeight:"400"},Xb=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ub.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wb&&(e=Wb[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sb.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Vb,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Rb(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wb[d]+b]=f[d]||f[d-2]||f[0];return e}},Pb.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qb(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Rb(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xb(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.current(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},current:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.pos=b=this.options.duration?_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Yb,Zb,$b=/^(?:toggle|show|hide)$/,_b=new RegExp("^(?:([+-])=|)("+vb+")([a-z%]*)$","i"),ac=/queueHooks$/,bc=[G],cc={"*":[function(a,b){var c=this.createTween(a,b),d=c.current(),e=_b.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_b.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.current()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cc[c]=cc[c]||[],cc[c].unshift(b)},prefilter:function(a,b){b?bc.unshift(a):bc.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||rb.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=rb.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ac.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=rb.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Yb=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Yb=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Zb||(Zb=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Zb),Zb=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var dc,ec,fc=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qb(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===zb?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?ec:dc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(nb);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),ec={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fc[b]||_.find.attr;fc[b]=function(a,b,d){var e,f;return d||(f=fc[b],fc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fc[b]=f),e}});var gc=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qb(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gc.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hc=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(nb)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hc," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(_.isFunction(a)?function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(nb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===zb||"boolean"===c)&&(this.className&&rb.set(this,"__className__",this.className),this.className=this.className||a===!1?"":rb.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hc," ").indexOf(b)>=0)return!0;return!1}});var ic=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ic,""):null==c?"":c)}}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(Y.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jc=_.now(),kc=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+a),b};var lc,mc,nc=/#.*$/,oc=/([?&])_=[^&]*/,pc=/^(.*?):[ \t]*([^\r\n]*)$/gm,qc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rc=/^(?:GET|HEAD)$/,sc=/^\/\//,tc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,uc={},vc={},wc="*/".concat("*");try{mc=location.href}catch(xc){mc=Z.createElement("a"),mc.href="",mc=mc.href}lc=tc.exec(mc.toLowerCase())||[],_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:mc,type:"GET",isLocal:qc.test(lc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(uc),ajaxTransport:J(vc),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=pc.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||mc)+"").replace(nc,"").replace(sc,lc[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(nb)||[""],null==l.crossDomain&&(i=tc.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===lc[1]&&i[2]===lc[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(lc[3]||("http:"===lc[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(uc,l,b,v),2===t)return v;j=l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rc.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kc.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=oc.test(e)?e.replace(oc,"$1_="+jc++):e+(kc.test(e)?"&":"?")+"_="+jc++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+wc+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(vc,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(_.isFunction(a)?function(b){_(this).wrapInner(a.call(this,b))}:function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var yc=/%20/g,zc=/\[\]$/,Ac=/\r?\n/g,Bc=/^(?:submit|button|image|reset|file)$/i,Cc=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(yc,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Cc.test(this.nodeName)&&!Bc.test(a)&&(this.checked||!yb.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(Ac,"\r\n")}}):{name:b.name,value:c.replace(Ac,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Dc=0,Ec={},Fc={0:200,1223:204},Gc=_.ajaxSettings.xhr();a.ActiveXObject&&_(a).on("unload",function(){for(var a in Ec)Ec[a]()}),Y.cors=!!Gc&&"withCredentials"in Gc,Y.ajax=Gc=!!Gc,_.ajaxTransport(function(a){var b;return Y.cors||Gc&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Dc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Ec[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Fc[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Ec[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Hc=[],Ic=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Hc.pop()||_.expando+"_"+jc++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Ic.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ic.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Ic,"$1"+e):b.jsonp!==!1&&(b.url+=(kc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Hc.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=gb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Jc=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Jc)return Jc.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Kc=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==zb&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Kc;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Kc})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qb(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qb.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qb(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Lc=a.jQuery,Mc=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Mc),b&&a.jQuery===_&&(a.jQuery=Lc),_},typeof b===zb&&(a.jQuery=a.$=_),_}),function(a,b){b([],a)}(function(){return function(a,b){function c(){}function d(a,b){if(b)return"'"+a.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";
var c=a.charAt(0),d=a.substring(1);return"="===c?"+("+d+")+":":"===c?"+e("+d+")+":";"+a+";o+="}function e(a,b,c){return a+="",b=b||2,c=b-a.length,c?jb[b].substring(0,c)+a:a}function f(a){var b=a.css(D.support.transitions.css+"box-shadow")||a.css("box-shadow"),c=b?b.match(O)||[0,0,0,0,0]:[0,0,0,0,0],d=J.max(+c[3],+(c[4]||0));return{left:-c[1]+d,right:+c[1]+d,bottom:+c[2]+d}}function g(b,c){var d,e=L.browser,g="rtl"==b.css("direction");if(b.parent().hasClass("k-animation-container")){var h=b.parent(".k-animation-container"),i=h[0].style;h.is(":hidden")&&h.show(),d=M.test(i.width)||M.test(i.height),d||h.css({width:b.outerWidth(),height:b.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}else{var j=f(b),k=b[0].style.width,l=b[0].style.height,m=M.test(k),n=M.test(l);e.opera&&(j.left=j.right=j.bottom=5),d=m||n,!m&&(!c||c&&k)&&(k=b.outerWidth()),!n&&(!c||c&&l)&&(l=b.outerHeight()),b.wrap(a("<div/>").addClass("k-animation-container").css({width:k,height:l,marginLeft:j.left*(g?1:-1),paddingLeft:j.left,paddingRight:j.right,paddingBottom:j.bottom})),d&&b.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return e.msie&&J.floor(e.version)<=7&&(b.css({zoom:1}),b.children(".k-menu").width(b.width())),b.parent()}function h(a){var b=1,c=arguments.length;for(b=1;c>b;b++)i(a,arguments[b]);return a}function i(a,b){var c,d,e,f,g=D.data.ObservableArray,h=D.data.DataSource,j=D.data.HierarchicalDataSource;for(c in b)d=b[c],e=typeof d,e===T&&null!==d&&d.constructor!==Array&&d.constructor!==g&&d.constructor!==h&&d.constructor!==j?d instanceof Date?a[c]=new Date(d.getTime()):_(d.clone)?a[c]=d.clone():(f=a[c],a[c]=typeof f===T?f||{}:{},i(a[c],d)):e!==W&&(a[c]=d);return a}function j(a,c,d){for(var e in c)if(c.hasOwnProperty(e)&&c[e].test(a))return e;return d!==b?d:a}function k(a){return a.replace(/([a-z][A-Z])/g,function(a){return a.charAt(0)+"-"+a.charAt(1).toLowerCase()})}function l(a){return a.replace(/\-(\w)/g,function(a,b){return b.toUpperCase()})}function m(b,c){var d,e={};return document.defaultView&&document.defaultView.getComputedStyle?(d=document.defaultView.getComputedStyle(b,""),c&&a.each(c,function(a,b){e[b]=d.getPropertyValue(b)})):(d=b.currentStyle,c&&a.each(c,function(a,b){e[b]=d[l(b)]})),D.size(e)||(e=d),e}function n(a){var b,c=0;for(b in a)a.hasOwnProperty(b)&&"toJSON"!=b&&c++;return c}function o(a,b,c){b||(b="offset");{var d=a[b]();L.mobileOS}return L.browser.msie&&(L.pointers||L.msPointers)&&!c&&(d.top-=window.pageYOffset-document.documentElement.scrollTop,d.left-=window.pageXOffset-document.documentElement.scrollLeft),d}function p(a){var b={};return F("string"==typeof a?a.split(" "):a,function(a){b[a]=this}),b}function q(a){return new D.effects.Element(a)}function r(a,b,c,d){return typeof a===R&&(_(b)&&(d=b,b=400,c=!1),_(c)&&(d=c,c=!1),typeof b===V&&(c=b,b=400),a={effects:a,duration:b,reverse:c,complete:d}),E({effects:{},duration:400,reverse:!1,init:I,teardown:I,hide:!1},a,{completeCallback:a.complete,complete:I})}function s(b,c,d,e,f){for(var g,h=0,i=b.length;i>h;h++)g=a(b[h]),g.queue(function(){lb.promise(g,r(c,d,e,f))});return b}function t(a,b,c,d){return b&&(b=b.split(" "),F(b,function(b,c){a.toggleClass(c,d)})),a}function u(a){return(""+a).replace(mb,"&amp;").replace(nb,"&lt;").replace(qb,"&gt;").replace(ob,"&quot;").replace(pb,"&#39;")}function v(a,c){var d;return 0===c.indexOf("data")&&(c=c.substring(4),c=c.charAt(0).toLowerCase()+c.substring(1)),c=c.replace(yb,"-$1"),d=a.getAttribute("data-"+D.ns+c),null===d?d=b:"null"===d?d=null:"true"===d?d=!0:"false"===d?d=!1:P.test(d)?d=parseFloat(d):wb.test(d)&&!xb.test(d)&&(d=new Function("return ("+d+")")()),d}function w(c,d){var e,f,g={};for(e in d)f=v(c,e),f!==b&&(vb.test(e)&&(f=D.template(a("#"+f).html())),g[e]=f);return g}function x(b,c){return a.contains(b,c)?-1:1}function y(){var b=a(this);return a.inArray(b.attr("data-role"),["slider","rangeslider"])>0||b.is(":visible")}function z(a,b){var c=a.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(c)?!a.disabled:"a"===c?a.href||b:b)&&A(a)}function A(b){return!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")||a.expr.filters.hidden(this)}).length}function B(a,b){return new B.fn.init(a,b)}var C,D=window.kendo=window.kendo||{cultures:{}},E=a.extend,F=a.each,G=a.isArray,H=a.proxy,I=a.noop,J=Math,K=window.JSON||{},L={},M=/%/,N=/\{(\d+)(:[^\}]+)?\}/g,O=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,P=/^(\+|-?)\d+(\.?)\d*$/,Q="function",R="string",S="number",T="object",U="null",V="boolean",W="undefined",X={},Y={},Z=[].slice,$=window.Globalize;D.version="2014.1.318",c.extend=function(a){var b,c,d=function(){},e=this,f=a&&a.init?a.init:function(){e.apply(this,arguments)};d.prototype=e.prototype,c=f.fn=f.prototype=new d;for(b in a)c[b]=null!=a[b]&&a[b].constructor===Object?E(!0,{},d.prototype[b],a[b]):a[b];return c.constructor=f,f.extend=e.extend,f},c.prototype._initOptions=function(a){this.options=h({},this.options,a)};var _=D.isFunction=function(a){return"function"==typeof a},ab=function(){this._defaultPrevented=!0},bb=function(){return this._defaultPrevented===!0},cb=c.extend({init:function(){this._events={}},bind:function(a,c,d){var e,f,g,h,i,j=this,k=typeof a===R?[a]:a,l=typeof c===Q;if(c===b){for(e in a)j.bind(e,a[e]);return j}for(e=0,f=k.length;f>e;e++)a=k[e],h=l?c:c[a],h&&(d&&(g=h,h=function(){j.unbind(a,h),g.apply(j,arguments)}),i=j._events[a]=j._events[a]||[],i.push(h));return j},one:function(a,b){return this.bind(a,b,!0)},first:function(a,b){var c,d,e,f,g=this,h=typeof a===R?[a]:a,i=typeof b===Q;for(c=0,d=h.length;d>c;c++)a=h[c],e=i?b:b[a],e&&(f=g._events[a]=g._events[a]||[],f.unshift(e));return g},trigger:function(a,b){var c,d,e=this,f=e._events[a];if(f){for(b=b||{},b.sender=e,b._defaultPrevented=!1,b.preventDefault=ab,b.isDefaultPrevented=bb,f=f.slice(),c=0,d=f.length;d>c;c++)f[c].call(e,b);return b._defaultPrevented===!0}return!1},unbind:function(a,c){var d,e=this,f=e._events[a];if(a===b)e._events={};else if(f)if(c)for(d=f.length-1;d>=0;d--)f[d]===c&&f.splice(d,1);else e._events[a]=[];return e}}),db=/^\w+/,eb=/\$\{([^}]*)\}/g,fb=/\\\}/g,gb=/__CURLY__/g,hb=/\\#/g,ib=/__SHARP__/g,jb=["","0","00","000","0000"];C={paramName:"data",useWithBlock:!0,render:function(a,b){var c,d,e="";for(c=0,d=b.length;d>c;c++)e+=a(b[c]);return e},compile:function(b,c){var e,f,g,h=E({},this,c),i=h.paramName,j=i.match(db)[0],k=h.useWithBlock,l="var o,e=kendo.htmlEncode;";if(_(b))return 2===b.length?function(c){return b(a,{data:c}).join("")}:b;for(l+=k?"with("+i+"){":"",l+="o=",f=b.replace(fb,"__CURLY__").replace(eb,"#=e($1)#").replace(gb,"}").replace(hb,"__SHARP__").split("#"),g=0;g<f.length;g++)l+=d(f[g],g%2===0);l+=k?";}":";",l+="return o;",l=l.replace(ib,"#");try{return e=new Function(j,l),e._slotCount=Math.floor(f.length/2),e}catch(m){throw new Error(D.format("Invalid template:'{0}' Generated code:'{1}'",b,l))}}},function(){function a(a){return g.lastIndex=0,g.test(a)?'"'+a.replace(g,function(a){var b=h[a];return typeof b===R?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function b(e,g){var h,j,k,l,m,n,o=c,p=g[e];if(p&&typeof p===T&&typeof p.toJSON===Q&&(p=p.toJSON(e)),typeof f===Q&&(p=f.call(g,e,p)),n=typeof p,n===R)return a(p);if(n===S)return isFinite(p)?String(p):U;if(n===V||n===U)return String(p);if(n===T){if(!p)return U;if(c+=d,m=[],"[object Array]"===i.apply(p)){for(l=p.length,h=0;l>h;h++)m[h]=b(h,p)||U;return k=0===m.length?"[]":c?"[\n"+c+m.join(",\n"+c)+"\n"+o+"]":"["+m.join(",")+"]",c=o,k}if(f&&typeof f===T)for(l=f.length,h=0;l>h;h++)typeof f[h]===R&&(j=f[h],k=b(j,p),k&&m.push(a(j)+(c?": ":":")+k));else for(j in p)Object.hasOwnProperty.call(p,j)&&(k=b(j,p),k&&m.push(a(j)+(c?": ":":")+k));return k=0===m.length?"{}":c?"{\n"+c+m.join(",\n"+c)+"\n"+o+"}":"{"+m.join(",")+"}",c=o,k}}var c,d,f,g=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i={}.toString;typeof Date.prototype.toJSON!==Q&&(Date.prototype.toJSON=function(){var a=this;return isFinite(a.valueOf())?e(a.getUTCFullYear(),4)+"-"+e(a.getUTCMonth()+1)+"-"+e(a.getUTCDate())+"T"+e(a.getUTCHours())+":"+e(a.getUTCMinutes())+":"+e(a.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof K.stringify!==Q&&(K.stringify=function(a,e,g){var h;if(c="",d="",typeof g===S)for(h=0;g>h;h+=1)d+=" ";else typeof g===R&&(d=g);if(f=e,e&&typeof e!==Q&&(typeof e!==T||typeof e.length!==S))throw new Error("JSON.stringify");return b("",{"":a})})}(),function(){function c(a){if(a){if(a.numberFormat)return a;if(typeof a===R){var b=D.cultures;return b[a]||b[a.split("-")[0]]||null}return null}return null}function d(a){return a&&(a=c(a)),a||D.cultures.current}function f(a){a.groupSizes=a.groupSize,a.percent.groupSizes=a.percent.groupSize,a.currency.groupSizes=a.currency.groupSize}function g(a,c,f){f=d(f);var g=f.calendars.standard,h=g.days,j=g.months;return c=g.patterns[c]||c,c.replace(i,function(c){var d;return"d"===c?d=a.getDate():"dd"===c?d=e(a.getDate()):"ddd"===c?d=h.namesAbbr[a.getDay()]:"dddd"===c?d=h.names[a.getDay()]:"M"===c?d=a.getMonth()+1:"MM"===c?d=e(a.getMonth()+1):"MMM"===c?d=j.namesAbbr[a.getMonth()]:"MMMM"===c?d=j.names[a.getMonth()]:"yy"===c?d=e(a.getFullYear()%100):"yyyy"===c?d=e(a.getFullYear(),4):"h"===c?d=a.getHours()%12||12:"hh"===c?d=e(a.getHours()%12||12):"H"===c?d=a.getHours():"HH"===c?d=e(a.getHours()):"m"===c?d=a.getMinutes():"mm"===c?d=e(a.getMinutes()):"s"===c?d=a.getSeconds():"ss"===c?d=e(a.getSeconds()):"f"===c?d=J.floor(a.getMilliseconds()/100):"ff"===c?d=J.floor(a.getMilliseconds()/10):"fff"===c?d=a.getMilliseconds():"tt"===c&&(d=a.getHours()<12?g.AM[0]:g.PM[0]),d!==b?d:c.slice(1,c.length-1)})}function h(a,c,e){e=d(e);var f,g,h,i,s,t,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M=e.numberFormat,N=M.groupSize[0],O=M[o],P=M[n],Q=M.decimals,R=M.pattern[0],S=[],T=0>a,U=m,V=m,W=-1;if(a===b)return m;if(!isFinite(a))return a;if(!c)return e.name.length?a.toLocaleString():a.toString();if(s=j.exec(c)){if(c=s[1].toLowerCase(),g="c"===c,h="p"===c,(g||h)&&(M=g?M.currency:M.percent,N=M.groupSize[0],O=M[o],P=M[n],Q=M.decimals,f=M.symbol,R=M.pattern[T?0:1]),i=s[2],i&&(Q=+i),"e"===c)return i?a.toExponential(Q):a.toExponential();if(h&&(a*=100),a=u(a,Q),T=0>a,a=a.split(n),t=a[0],v=a[1],T&&(t=t.substring(1)),V=t,w=t.length,w>=N)for(V=m,y=0;w>y;y++)y>0&&(w-y)%N===0&&(V+=O),V+=t.charAt(y);if(v&&(V+=P+v),"n"===c&&!T)return V;for(a=m,y=0,z=R.length;z>y;y++)A=R.charAt(y),a+="n"===A?V:"$"===A||"%"===A?f:A;return a}if(T&&(a=-a),(c.indexOf("'")>-1||c.indexOf('"')>-1||c.indexOf("\\")>-1)&&(c=c.replace(k,function(a){var b=a.charAt(0).replace("\\",""),c=a.slice(1).replace(b,"");return S.push(c),r})),c=c.split(";"),T&&c[1])c=c[1],C=!0;else if(0===a){if(c=c[2]||c[0],-1==c.indexOf(p)&&-1==c.indexOf(q))return c}else c=c[0];if(I=c.indexOf("%"),J=c.indexOf("$"),h=-1!=I,g=-1!=J,h&&(a*=100),g&&"\\"===c[J-1]&&(c=c.split("\\").join(""),g=!1),(g||h)&&(M=g?M.currency:M.percent,N=M.groupSize[0],O=M[o],P=M[n],Q=M.decimals,f=M.symbol),B=c.indexOf(o)>-1,B&&(c=c.replace(l,m)),D=c.indexOf(n),z=c.length,-1!=D?(v=a.toString().split("e"),v=v[1]?u(a,Math.abs(v[1])):v[0],v=v.split(n)[1]||m,F=c.lastIndexOf(q)-D,E=c.lastIndexOf(p)-D,G=F>-1,H=E>-1,y=v.length,G||H||(c=c.substring(0,D)+c.substring(D+1),z=c.length,D=-1,y=0),G&&F>E?y=F:E>F&&(H&&y>E?y=E:G&&F>y&&(y=F)),y>-1&&(a=u(a,y))):a=u(a),E=c.indexOf(p),K=F=c.indexOf(q),W=-1==E&&-1!=F?F:-1!=E&&-1==F?E:E>F?F:E,E=c.lastIndexOf(p),F=c.lastIndexOf(q),L=-1==E&&-1!=F?F:-1!=E&&-1==F?E:E>F?E:F,W==z&&(L=W),-1!=W){if(V=a.toString().split(n),t=V[0],v=V[1]||m,w=t.length,x=v.length,T&&-1*a>=0&&(T=!1),B)if(w===N&&D-K>w)t=O+t;else if(w>N){for(V=m,y=0;w>y;y++)y>0&&(w-y)%N===0&&(V+=O),V+=t.charAt(y);t=V}for(a=c.substring(0,W),T&&!C&&(a+="-"),y=W;z>y;y++){if(A=c.charAt(y),-1==D){if(w>L-y){a+=t;break}}else if(-1!=F&&y>F&&(U=m),w>=D-y&&D-y>-1&&(a+=t,y=D),D===y){a+=(v?P:m)+v,y+=L-D+1;continue}A===q?(a+=A,U=A):A===p&&(a+=U)}if(L>=W&&(a+=c.substring(L+1)),g||h){for(V=m,y=0,z=a.length;z>y;y++)A=a.charAt(y),V+="$"===A||"%"===A?f:A;a=V}if(z=S.length)for(y=0;z>y;y++)a=a.replace(r,S[y])}return a}var i=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,j=/^(n|c|p|e)(\d*)$/i,k=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,l=/\,/g,m="",n=".",o=",",p="#",q="0",r="??",s="en-US",t={}.toString;D.cultures["en-US"]={name:s,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},D.culture=function(a){var d,e=D.cultures;return a===b?e.current:(d=c(a)||e[s],d.calendar=d.calendars.standard,e.current=d,$&&f(d.numberFormat),void 0)},D.findCulture=c,D.getCulture=d,D.culture(s);var u=function(a,b){return b=b||0,a=a.toString().split("e"),a=Math.round(+(a[0]+"e"+(a[1]?+a[1]+b:b))),a=a.toString().split("e"),a=+(a[0]+"e"+(a[1]?+a[1]-b:-b)),a.toFixed(b)},v=function(a,c,d){if(c){if("[object Date]"===t.call(a))return g(a,c,d);if(typeof a===S)return h(a,c,d)}return a!==b?a:""};$&&(v=function(b,c,d){return a.isPlainObject(d)&&(d=d.name),$.format(b,c,d)}),D.format=function(a){var b=arguments;return a.replace(N,function(a,c,d){var e=b[parseInt(c,10)+1];return v(e,d?d.substring(1):"")})},D._extractFormat=function(a){return"{0:"===a.slice(0,3)&&(a=a.slice(3,a.length-1)),a},D._activeElement=function(){try{return document.activeElement}catch(a){return document.documentElement.activeElement}},D._round=u,D.toString=v}(),function(){function c(a,b,c){return!(a>=b&&c>=a)}function d(a){return a.charAt(0)}function e(b){return a.map(b,d)}function f(a,b){b||23!==a.getHours()||a.setHours(a.getHours()+2)}function g(a){for(var b=0,c=a.length,d=[];c>b;b++)d[b]=(a[b]+"").toLowerCase();return d}function h(a){var b,c={};for(b in a)c[b]=g(a[b]);return c}function i(a,d,g){if(!a)return null;var i,j,k,n,o,p,r,s,t,u,v,w,x,y,z=function(a){for(var b=0;d[L]===a;)b++,L++;return b>0&&(L-=1),b},A=function(b){var c=q[b]||new RegExp("^\\d{1,"+b+"}"),d=a.substr(M,b).match(c);return d?(d=d[0],M+=d.length,parseInt(d,10)):null},B=function(b,c){for(var d,e,f,g=0,h=b.length;h>g;g++)if(d=b[g],e=d.length,f=a.substr(M,e),c&&(f=f.toLowerCase()),f==d)return M+=e,g+1;return null},C=function(){var b=!1;return a.charAt(M)===d[L]&&(M++,b=!0),b},D=g.calendars.standard,E=null,F=null,G=null,H=null,I=null,J=null,K=null,L=0,M=0,N=!1,O=new Date,P=D.twoDigitYearMax||2029,Q=O.getFullYear();for(d||(d="d"),n=D.patterns[d],n&&(d=n),d=d.split(""),k=d.length;k>L;L++)if(i=d[L],N)"'"===i?N=!1:C();else if("d"===i){if(j=z("d"),D._lowerDays||(D._lowerDays=h(D.days)),G=3>j?A(2):B(D._lowerDays[3==j?"namesAbbr":"names"],!0),null===G||c(G,1,31))return null}else if("M"===i){if(j=z("M"),D._lowerMonths||(D._lowerMonths=h(D.months)),F=3>j?A(2):B(D._lowerMonths[3==j?"namesAbbr":"names"],!0),null===F||c(F,1,12))return null;F-=1}else if("y"===i){if(j=z("y"),E=A(j),null===E)return null;2==j&&("string"==typeof P&&(P=Q+parseInt(P,10)),E=Q-Q%100+E,E>P&&(E-=100))}else if("h"===i){if(z("h"),H=A(2),12==H&&(H=0),null===H||c(H,0,11))return null}else if("H"===i){if(z("H"),H=A(2),null===H||c(H,0,23))return null}else if("m"===i){if(z("m"),I=A(2),null===I||c(I,0,59))return null}else if("s"===i){if(z("s"),J=A(2),null===J||c(J,0,59))return null}else if("f"===i){if(j=z("f"),y=a.substr(M,j).match(q[3]),K=A(j),null!==K&&(y=y[0].length,3>y&&(K*=Math.pow(10,3-y)),j>3&&(K=parseInt(K.toString().substring(0,3),10))),null===K||c(K,0,999))return null}else if("t"===i){if(j=z("t"),t=D.AM,u=D.PM,1===j&&(t=e(t),u=e(u)),o=B(u),!o&&!B(t))return null}else if("z"===i){if(p=!0,j=z("z"),"Z"===a.substr(M,1)){if(!r)return null;C();continue}if(s=a.substr(M,6).match(j>2?m:l),!s)return null;if(s=s[0],M=s.length,s=s.split(":"),v=parseInt(s[0],10),c(v,-12,13))return null;if(j>2&&(w=parseInt(s[1],10),isNaN(w)||c(w,0,59)))return null}else if("T"===i)r=C();else if("'"===i)N=!0,C();else if(!C())return null;return x=null!==H||null!==I||J||null,null===E&&null===F&&null===G&&x?(E=Q,F=O.getMonth(),G=O.getDate()):(null===E&&(E=Q),null===G&&(G=1)),o&&12>H&&(H+=12),p?(v&&(H+=-v),w&&(I+=-w),a=new Date(Date.UTC(E,F,G,H,I,J,K))):(a=new Date(E,F,G,H,I,J,K),f(a,H)),100>E&&a.setFullYear(E),a.getDate()!==G&&p===b?null:a}var j=/\u00A0/g,k=/[eE][\-+]?[0-9]+/,l=/[+|\-]\d{1,2}/,m=/[+|\-]\d{1,2}:\d{2}/,n=/^\/Date\((.*?)\)\/$/,o=/[+-]/,p=["G","g","d","F","D","y","m","T","t"],q={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},r={}.toString;D.parseDate=function(a,b,c){if("[object Date]"===r.call(a))return a;var d,e,f,g=0,h=null;if(a&&0===a.indexOf("/D")&&(h=n.exec(a)))return f=h=h[1],h=parseInt(h,10),f=f.substring(1).split(o)[1],f&&(h-=parseInt(f,10)*D.date.MS_PER_MINUTE),new Date(h);if(c=D.getCulture(c),!b){for(b=[],e=c.calendar.patterns,d=p.length;d>g;g++)b[g]=e[p[g]];g=0,b=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd","HH:mm:ss","HH:mm"].concat(b)}for(b=G(b)?b:[b],d=b.length;d>g;g++)if(h=i(a,b[g],c))return h;return h},D.parseInt=function(a,b){var c=D.parseFloat(a,b);return c&&(c=0|c),c},D.parseFloat=function(a,b,c){if(!a&&0!==a)return null;if(typeof a===S)return a;a=a.toString(),b=D.getCulture(b);var d,e,f=b.numberFormat,g=f.percent,h=f.currency,i=h.symbol,l=g.symbol,m=a.indexOf("-");return k.test(a)?(a=parseFloat(a.replace(f["."],".")),isNaN(a)&&(a=null),a):m>0?null:(m=m>-1,a.indexOf(i)>-1||c&&c.toLowerCase().indexOf("c")>-1?(f=h,d=f.pattern[0].replace("$",i).split("n"),a.indexOf(d[0])>-1&&a.indexOf(d[1])>-1&&(a=a.replace(d[0],"").replace(d[1],""),m=!0)):a.indexOf(l)>-1&&(e=!0,f=g,i=l),a=a.replace("-","").replace(i,"").replace(j," ").split(f[","].replace(j," ")).join("").replace(f["."],"."),a=parseFloat(a),isNaN(a)?a=null:m&&(a*=-1),a&&e&&(a/=100),a)},$&&(D.parseDate=function(a,b,c){return"[object Date]"===r.call(a)?a:$.parseDate(a,b,c)},D.parseFloat=function(c,d){return typeof c===S?c:c===b||null===c?null:(a.isPlainObject(d)&&(d=d.name),c=$.parseFloat(c,d),isNaN(c)?null:c)})}(),function(){L.scrollbar=function(){var a,b=document.createElement("div");return b.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",b.innerHTML="&nbsp;",document.body.appendChild(b),a=b.offsetWidth-b.scrollWidth,document.body.removeChild(b),a},L.isRtl=function(b){return a(b).closest(".k-rtl").length>0};var c=document.createElement("table");try{c.innerHTML="<tr><td></td></tr>",L.tbodyInnerHtml=!0}catch(d){L.tbodyInnerHtml=!1}L.touch="ontouchstart"in window,L.msPointers=window.MSPointerEvent,L.pointers=window.PointerEvent;var e=L.transitions=!1,f=L.transforms=!1,g="HTMLElement"in window?HTMLElement.prototype:[];L.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,F(["Moz","webkit","O","ms"],function(){var a=this.toString(),b=typeof c.style[a+"Transition"]===R;if(b||typeof c.style[a+"Transform"]===R){var d=a.toLowerCase();return f={css:"ms"!=d?"-"+d+"-":"",prefix:a,event:"o"===d||"webkit"===d?d:""},b&&(e=f,e.event=e.event?e.event+"TransitionEnd":"transitionend"),!1}}),c=null,L.transforms=f,L.transitions=e,L.devicePixelRatio=window.devicePixelRatio===b?1:window.devicePixelRatio;try{L.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,L.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(d){L.screenWidth=window.screen.availWidth,L.screenHeight=window.screen.availHeight}L.detectOS=function(a){var b,c=!1,d=[],e=!/mobile safari/i.test(a),f={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},g={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},h={tablet:/playbook|ipad|fire/i},i={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome|crios/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(var k in f)if(f.hasOwnProperty(k)&&(d=a.match(f[k]))){if("windows"==k&&"plugins"in navigator)return!1;c={},c.device=k,c.tablet=j(k,h,!1),c.browser=j(a,i,"default"),c.name=j(k,g),c[c.name]=!0,c.majorVersion=d[2],c.minorVersion=d[3].replace("_","."),b=c.minorVersion.replace(".","").substr(0,2),c.flatVersion=c.majorVersion+b+new Array(3-(b.length<3?b.length:2)).join("0"),c.cordova=typeof window.PhoneGap!==W||typeof window.cordova!==W,c.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||c.cordova,c.android&&(L.devicePixelRatio<1.5&&c.flatVersion<400||e)&&(L.screenWidth>800||L.screenHeight>800)&&(c.tablet=k);break}return c};var h=L.mobileOS=L.detectOS(navigator.userAgent);L.wpDevicePixelRatio=h.wp?screen.width/320:0,L.kineticScrollNeeded=h&&(L.touch||L.msPointers||L.pointers),L.hasNativeScrolling=!1,(h.ios||h.android&&h.majorVersion>2||h.wp)&&(L.hasNativeScrolling=h),L.mouseAndTouchPresent=L.touch&&!(L.mobileOS.ios||L.mobileOS.android),L.detectBrowser=function(a){var b=!1,c=[],d={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var e in d)if(d.hasOwnProperty(e)&&(c=a.match(d[e]))){b={},b[e]=!0,b[c[1].toLowerCase()]=!0,b.version=parseInt(document.documentMode||c[2],10);break}return b},L.browser=L.detectBrowser(navigator.userAgent),L.zoomLevel=function(){try{return L.touch?document.documentElement.clientWidth/window.innerWidth:L.browser.msie&&L.browser.version>=10?(top||window).document.documentElement.offsetWidth/(top||window).innerWidth:1}catch(a){return 1}},L.cssBorderSpacing="undefined"!=typeof document.documentElement.style.borderSpacing&&!(L.browser.msie&&L.browser.version<8),function(b){var c,d=parseInt(b.version,10);b.msie?c="ie":b.mozilla?c="ff":b.safari?c="safari":b.webkit?c="webkit":b.opera&&(c="opera"),c&&a(document.documentElement).addClass("k-"+c+" k-"+c+d)}(L.browser),L.eventCapture=document.documentElement.addEventListener;var i=document.createElement("input");L.placeholder="placeholder"in i,L.propertyChangeEvent="onpropertychange"in i,L.input=function(){for(var a,b=["number","date","time","month","week","datetime","datetime-local"],c=b.length,d="test",e={},f=0;c>f;f++)a=b[f],i.setAttribute("type",a),i.value=d,e[a.replace("-","")]="text"!==i.type&&i.value!==d;return e}(),i.style.cssText="float:left;",L.cssFloat=!!i.style.cssFloat,i=null,L.stableSort=function(){for(var a=513,b=[{index:0,field:"b"}],c=1;a>c;c++)b.push({index:c,field:"a"});return b.sort(function(a,b){return a.field>b.field?1:a.field<b.field?-1:0}),1===b[0].index}(),L.matchesSelector=g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector||g.matchesSelector||function(b){for(var c=document.querySelectorAll?(this.parentNode||document).querySelectorAll(b)||[]:a(b),d=c.length;d--;)if(c[d]==this)return!0;return!1},L.pushState=window.history&&window.history.pushState;var k=document.documentMode;L.hashChange="onhashchange"in window&&!(L.browser.msie&&(!k||8>=k))}();var kb={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},lb={};a.extend(lb,{enabled:!0,Element:function(b){this.element=a(b)},promise:function(a,b){a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.hide&&a.data("olddisplay",a.css("display")).hide(),b.init&&b.init(),b.completeCallback&&b.completeCallback(a),a.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),lb.promiseShim=lb.promise,"kendoAnimate"in a.fn||E(a.fn,{kendoStop:function(a,b){return this.stop(a,b)},kendoAnimate:function(a,b,c,d){return s(this,a,b,c,d)},kendoAddClass:function(a,b){return D.toggleClass(this,a,b,!0)},kendoRemoveClass:function(a,b){return D.toggleClass(this,a,b,!1)},kendoToggleClass:function(a,b,c){return D.toggleClass(this,a,b,c)}});var mb=/&/g,nb=/</g,ob=/"/g,pb=/'/g,qb=/>/g,rb=function(a){return a.target};L.touch&&(rb=function(a){var b="originalEvent"in a?a.originalEvent.changedTouches:"changedTouches"in a?a.changedTouches:null;return b?document.elementFromPoint(b[0].clientX,b[0].clientY):a.target},F(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(b,c){a.fn[c]=function(a){return this.bind(c,a)}})),L.touch?L.mobileOS?(L.mousedown="touchstart",L.mouseup="touchend",L.mousemove="touchmove",L.mousecancel="touchcancel",L.click="touchend",L.resize="orientationchange"):(L.mousedown="mousedown touchstart",L.mouseup="mouseup touchend",L.mousemove="mousemove touchmove",L.mousecancel="mouseleave touchcancel",L.click="click",L.resize="resize"):L.pointers?(L.mousemove="pointermove",L.mousedown="pointerdown",L.mouseup="pointerup",L.mousecancel="pointercancel",L.click="pointerup",L.resize="orientationchange resize"):L.msPointers?(L.mousemove="MSPointerMove",L.mousedown="MSPointerDown",L.mouseup="MSPointerUp",L.mousecancel="MSPointerCancel",L.click="MSPointerUp",L.resize="orientationchange resize"):(L.mousemove="mousemove",L.mousedown="mousedown",L.mouseup="mouseup",L.mousecancel="mouseleave",L.click="click",L.resize="resize");var sb=function(a,b){var c,d,e,f,g=b||"d",h=1;for(d=0,e=a.length;e>d;d++)f=a[d],""!==f&&(c=f.indexOf("["),0!==c&&(-1==c?f="."+f:(h++,f="."+f.substring(0,c)+" || {})"+f.substring(c))),h++,g+=f+(e-1>d?" || {})":")"));return new Array(h).join("(")+g},tb=/^([a-z]+:)?\/\//i;E(D,{ui:D.ui||{},fx:D.fx||q,effects:D.effects||lb,mobile:D.mobile||{},data:D.data||{},dataviz:D.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:D.support||L,animate:D.animate||s,ns:"",attr:function(a){return"data-"+D.ns+a},getShadows:f,wrap:g,deepExtend:h,getComputedStyles:m,size:n,toCamelCase:l,toHyphens:k,getOffset:D.getOffset||o,parseEffects:D.parseEffects||p,toggleClass:D.toggleClass||t,directions:D.directions||kb,Observable:cb,Class:c,Template:C,template:H(C.compile,C),render:H(C.render,C),stringify:H(K.stringify,K),eventTarget:rb,htmlEncode:u,isLocalUrl:function(a){return a&&!tb.test(a)},expr:function(a,b,c){return a=a||"",typeof b==R&&(c=b,b=!1),c=c||"d",a&&"["!==a.charAt(0)&&(a="."+a),a=b?sb(a.split("."),c):c+a},getter:function(a,b){return X[a]=X[a]||new Function("d","return "+D.expr(a,b))},setter:function(a){return Y[a]=Y[a]||new Function("d,value",D.expr(a)+"=value")},accessor:function(a){return{get:D.getter(a),set:D.setter(a)}},guid:function(){var a,b,c="";for(a=0;32>a;a++)b=16*J.random()|0,(8==a||12==a||16==a||20==a)&&(c+="-"),c+=(12==a?4:16==a?3&b|8:b).toString(16);return c},roleSelector:function(a){return a.replace(/(\S+)/g,"["+D.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(a){return/^(label|input|textarea|select)$/i.test(a.target.tagName)},logToConsole:function(a){var b=window.console;"undefined"!=typeof b&&b.log&&b.log(a)}});var ub=cb.extend({init:function(a,b){var c=this;c.element=D.jQuery(a).handler(c),cb.fn.init.call(c),b=c.options=E(!0,{},c.options,b),c.element.attr(D.attr("role"))||c.element.attr(D.attr("role"),(b.name||"").toLowerCase()),c.element.data("kendo"+b.prefix+b.name,c),c.bind(c.events,b)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(a){a=a||this.wrapper;var b=this.element,c="tabindex",d=a.attr(c)||b.attr(c);b.removeAttr(c),a.attr(c,isNaN(d)?0:d)},setOptions:function(b){this._setEvents(b),a.extend(this.options,b)},_setEvents:function(a){for(var b,c=this,d=0,e=c.events.length;e>d;d++)b=c.events[d],c.options[b]&&a[b]&&c.unbind(b,c.options[b]);c.bind(c.events,a)},resize:function(a){var b=this.getSize(),c=this._size;(a||!c||b.width!==c.width||b.height!==c.height)&&(this._resize(b),this.trigger("resize",b),this._size=b)},getSize:function(){return D.dimensions(this.element)},size:function(a){return a?void this.setSize(a):this.getSize()},setSize:a.noop,_resize:a.noop,destroy:function(){var a=this;a.element.removeData("kendo"+a.options.prefix+a.options.name),a.element.removeData("handler"),a.unbind()}});D.dimensions=function(a,b){var c=a[0];return b&&a.css(b),{width:c.offsetWidth,height:c.offsetHeight}},D.notify=I;var vb=/template$/i,wb=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,xb=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]*\]$/,yb=/([A-Z])/g;D.initWidget=function(c,d,e){var f,g,h,i,j,k,l,m;if(e?e.roles&&(e=e.roles):e=D.ui.roles,c=c.nodeType?c:c[0],k=c.getAttribute("data-"+D.ns+"role"),k&&(h=-1===k.indexOf(".")?e[k]:D.getter(k)(window))){for(m=v(c,"dataSource"),d=a.extend({},w(c,h.fn.options),d),m&&(d.dataSource=typeof m===R?D.getter(m)(window):m),i=0,j=h.fn.events.length;j>i;i++)g=h.fn.events[i],l=v(c,g),l!==b&&(d[g]=D.getter(l)(window));return f=a(c).data("kendo"+h.fn.options.prefix+h.fn.options.name),f?f.setOptions(d):f=new h(c,d),f}},D.rolesFromNamespaces=function(a){var b,c,d=[];for(a[0]||(a=[D.ui,D.dataviz.ui]),b=0,c=a.length;c>b;b++)d[b]=a[b].roles;return E.apply(null,[{}].concat(d.reverse()))},D.init=function(b){var c=D.rolesFromNamespaces(Z.call(arguments,1));a(b).find("[data-"+D.ns+"role]").addBack().each(function(){D.initWidget(this,{},c)})},D.destroy=function(b){a(b).find("[data-"+D.ns+"role]").addBack().each(function(){var b=D.widgetInstance(a(this));b&&b.destroy()})},D.resize=function(b){var c=a(b).find("[data-"+D.ns+"role]").addBack().filter(y);if(c.length){var d=a.makeArray(c);d.sort(x),a.each(d,function(){var b=D.widgetInstance(a(this));b&&b.resize()})}},D.parseOptions=w,E(D.ui,{Widget:ub,roles:{},progress:function(b,c){var d,e,f,g,h=b.find(".k-loading-mask"),i=D.support,j=i.browser;c?h.length||(d=i.isRtl(b),e=d?"right":"left",g=b.scrollLeft(),f=j.webkit&&d?b[0].scrollWidth-b.width()-2*g:0,h=a("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",b.scrollTop()).css(e,Math.abs(g)+f).prependTo(b)):h&&h.remove()
},plugin:function(c,d,e){var f,g=c.fn.options.name;d=d||D.ui,e=e||"",d[g]=c,d.roles[g.toLowerCase()]=c,f="getKendo"+e+g,g="kendo"+e+g,a.fn[g]=function(d){var e,f=this;return typeof d===R?(e=Z.call(arguments,1),this.each(function(){var c,h,i=a.data(this,g);if(!i)throw new Error(D.format("Cannot call method '{0}' of {1} before it is initialized",d,g));if(c=i[d],typeof c!==Q)throw new Error(D.format("Cannot find method '{0}' of {1}",d,g));return h=c.apply(i,e),h!==b?(f=h,!1):void 0})):this.each(function(){new c(this,d)}),f},a.fn[f]=function(){return this.data(g)}}});var zb={bind:function(){return this},nullObject:!0},Ab=ub.extend({init:function(a,b){ub.fn.init.call(this,a,b),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){ub.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var a=this.element.closest(D.roleSelector("view splitview modalview drawer"));return D.widgetInstance(a,D.mobile.ui)},viewHasNativeScrolling:function(){var a=this.view();return a&&a.options.useNativeScrolling},container:function(){var a=this.element.closest(D.roleSelector("view layout modalview drawer"));return D.widgetInstance(a,D.mobile.ui)||zb}});E(D.mobile,{init:function(a){D.init(a,D.mobile.ui,D.ui,D.dataviz.ui)},appLevelNativeScrolling:function(){return D.mobile.application&&D.mobile.application.options&&D.mobile.application.options.useNativeScrolling},ui:{Widget:Ab,roles:{},plugin:function(a){D.ui.plugin(a,D.mobile.ui,"Mobile")}}}),D.touchScroller=function(b,c){return a(b).map(function(b,d){return d=a(d),L.kineticScrollNeeded&&D.mobile.ui.Scroller&&!d.data("kendoMobileScroller")?(d.kendoMobileScroller(c),d.data("kendoMobileScroller")):!1})[0]},D.preventDefault=function(a){a.preventDefault()},D.widgetInstance=function(a,b){var c,d,e=a.data(D.ns+"role"),f=[];if(e){if("content"===e&&(e="scroller"),b)if(b[0])for(c=0,d=b.length;d>c;c++)f.push(b[c].roles[e]);else f.push(b.roles[e]);else f=[D.ui.roles[e],D.dataviz.ui.roles[e],D.mobile.ui.roles[e]];for(e.indexOf(".")>=0&&(f=[D.getter(e)(window)]),c=0,d=f.length;d>c;c++){var g=f[c];if(g){var h=a.data("kendo"+g.fn.options.prefix+g.fn.options.name);if(h)return h}}}},D.onResize=function(b){var c=b;return L.mobileOS.android&&(c=function(){setTimeout(b,600)}),a(window).on(L.resize,c),c},D.unbindResize=function(b){a(window).off(L.resize,b)},D.attrValue=function(a,b){return a.data(D.ns+b)},D.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},a.extend(a.expr[":"],{kendoFocusable:function(b){var c=a.attr(b,"tabindex");return z(b,!isNaN(c)&&c>-1)}});var Bb=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],Cb="label, input, [data-rel=external]",Db={setupMouseMute:function(){var b=0,c=Bb.length,d=document.documentElement;if(!Db.mouseTrap&&L.eventCapture){Db.mouseTrap=!0,Db.bustClick=!1,Db.captureMouse=!1;for(var e=function(b){Db.captureMouse&&("click"===b.type?Db.bustClick&&!a(b.target).is(Cb)&&(b.preventDefault(),b.stopPropagation()):b.stopPropagation())};c>b;b++)d.addEventListener(Bb[b],e,!0)}},muteMouse:function(a){Db.captureMouse=!0,a.data.bustClick&&(Db.bustClick=!0),clearTimeout(Db.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(Db.mouseTrapTimeoutID),Db.mouseTrapTimeoutID=setTimeout(function(){Db.captureMouse=!1,Db.bustClick=!1},400)}},Eb={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};L.touch&&(L.mobileOS.ios||L.mobileOS.android)?Eb={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:L.pointers?Eb={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:L.msPointers&&(Eb={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!L.msPointers||"onmspointerenter"in window||a.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(b,c){a.event.special[b]={delegateType:c,bindType:c,handle:function(b){var d,e=this,f=b.relatedTarget,g=b.handleObj;return(!f||f!==e&&!a.contains(e,f))&&(b.type=g.origType,d=g.handler.apply(this,arguments),b.type=c),d}}});var Fb=function(a){return Eb[a]||a},Gb=/([^ ]+)/g;D.applyEventMap=function(a,b){return a=a.replace(Gb,Fb),b&&(a=a.replace(Gb,"$1."+b)),a};var Hb=a.fn.on;E(!0,B,a),B.fn=B.prototype=new a,B.fn.constructor=B,B.fn.init=function(b,c){return c&&c instanceof a&&!(c instanceof B)&&(c=B(c)),a.fn.init.call(this,b,c,Ib)},B.fn.init.prototype=B.fn;var Ib=B(document);E(B.fn,{handler:function(a){return this.data("handler",a),this},autoApplyNS:function(a){return this.data("kendoNS",a||D.guid()),this},on:function(){var a=this,b=a.data("kendoNS");if(1===arguments.length)return Hb.call(a,arguments[0]);var c=a,d=Z.call(arguments);typeof d[d.length-1]===W&&d.pop();var e=d[d.length-1],f=D.applyEventMap(d[0],b);if(L.mouseAndTouchPresent&&f.search(/mouse|click/)>-1&&this[0]!==document.documentElement){Db.setupMouseMute();var g=2===d.length?null:d[1],h=f.indexOf("click")>-1&&f.indexOf("touchend")>-1;Hb.call(this,{touchstart:Db.muteMouse,touchend:Db.unMuteMouse},g,{bustClick:h})}return typeof e===R&&(c=a.data("handler"),e=c[e],d[d.length-1]=function(a){e.call(c,a)}),d[0]=f,Hb.apply(a,d),a},kendoDestroy:function(a){return a=a||this.data("kendoNS"),a&&this.off("."+a),this}}),D.jQuery=B,D.eventMap=Eb,D.timezone=function(){function a(a,b){var c,d,e,f=b[3],g=b[4],h=b[5],i=b[8];return i||(b[8]=i={}),i[a]?i[a]:(isNaN(g)?0===g.indexOf("last")?(c=new Date(Date.UTC(a,k[f]+1,1,h[0]-24,h[1],h[2],0)),d=l[g.substr(4,3)],e=c.getUTCDay(),c.setUTCDate(c.getUTCDate()+d-e-(d>e?7:0))):g.indexOf(">=")>=0&&(c=new Date(Date.UTC(a,k[f],g.substr(5),h[0],h[1],h[2],0)),d=l[g.substr(0,3)],e=c.getUTCDay(),c.setUTCDate(c.getUTCDate()+d-e+(e>d?7:0))):c=new Date(Date.UTC(a,k[f],g,h[0],h[1],h[2],0)),i[a]=c)}function b(b,c,d){if(c=c[d],!c){var e=d.split(":"),f=0;return e.length>1&&(f=60*e[0]+Number(e[1])),[-1e6,"max","-","Jan",1,[0,0,0],f,"-"]}var g=new Date(b).getUTCFullYear();c=jQuery.grep(c,function(a){var b=a[0],c=a[1];return g>=b&&(c>=g||b==g&&"only"==c||"max"==c)}),c.push(b),c.sort(function(b,c){return"number"!=typeof b&&(b=Number(a(g,b))),"number"!=typeof c&&(c=Number(a(g,c))),b-c});var h=c[jQuery.inArray(b,c)-1]||c[c.length-1];return isNaN(h)?h:null}function c(a,b,c){var d=b[c];if("string"==typeof d&&(d=b[d]),!d)throw new Error('Timezone "'+c+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var e=d.length-1;e>=0;e--){var f=d[e][3];if(f&&a>f)break}var g=d[e+1];if(!g)throw new Error('Timezone "'+c+'" not found on '+a+".");return g}function d(a,d,e,f){typeof a!=S&&(a=Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));var g=c(a,d,f);return{zone:g,rule:b(a,e,g[1])}}function e(a,b){if("Etc/UTC"==b||"Etc/GMT"==b)return 0;var c=d(a,this.zones,this.rules,b),e=c.zone,f=c.rule;return f?e[0]-f[6]:e[0]}function f(a,b){var c=d(a,this.zones,this.rules,b),e=c.zone,f=c.rule,g=e[2];return g.indexOf("/")>=0?g.split("/")[f&&+f[6]?1:0]:g.indexOf("%s")>=0?g.replace("%s",f&&"-"!=f[7]?f[7]:""):g}function g(a,b,c){typeof b==R&&(b=this.offset(a,b)),typeof c==R&&(c=this.offset(a,c));var d=a.getTimezoneOffset();a=new Date(a.getTime()+6e4*(b-c));var e=a.getTimezoneOffset();return new Date(a.getTime()+6e4*(e-d))}function h(a,b){return this.convert(a,a.getTimezoneOffset(),b)}function i(a,b){return this.convert(a,b,a.getTimezoneOffset())}function j(a){return this.apply(new Date(a),"Etc/UTC")}var k={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},l={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:e,convert:g,apply:h,remove:i,abbr:f,toLocalDate:j}}(),D.date=function(){function a(a,b){return 0===b&&23===a.getHours()?(a.setHours(a.getHours()+2),!0):!1}function b(b,c,d){var e=b.getHours();d=d||1,c=(c-b.getDay()+7*d)%7,b.setDate(b.getDate()+c),a(b,e)}function c(a,c,d){return a=new Date(a),b(a,c,d),a}function d(a){return new Date(a.getFullYear(),a.getMonth(),1)}function e(a){var b=new Date(a.getFullYear(),a.getMonth()+1,0),c=d(a),e=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return e&&b.setHours(c.getHours()+e/60),b}function f(b){return b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),0,0,0),a(b,0),b}function g(a){return Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())}function h(a){return a.getTime()-f(a)}function i(a,b,c){var d,e=h(b),f=h(c);return a&&e!=f?(b>=c&&(c+=q),d=h(a),e>d&&(d+=q),e>f&&(f+=q),d>=e&&f>=d):!0}function j(a,b,c){var d,e=b.getTime(),f=c.getTime();return e>=f&&(f+=q),d=a.getTime(),d>=e&&f>=d}function k(b,c){var d=b.getHours();return b=new Date(b),l(b,c*q),a(b,d),b}function l(a,b,c){var d,e=a.getTimezoneOffset();a.setTime(a.getTime()+b),c||(d=a.getTimezoneOffset()-e,a.setTime(a.getTime()+d*p))}function m(){return f(new Date)}function n(a){return f(a).getTime()==m().getTime()}function o(a){var b=new Date(1980,1,1,0,0,0);return a&&b.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),b}var p=6e4,q=864e5;return{adjustDST:a,dayOfWeek:c,setDayOfWeek:b,getDate:f,isInDateRange:j,isInTimeRange:i,isToday:n,nextDay:function(a){return k(a,1)},previousDay:function(a){return k(a,-1)},toUtcTime:g,MS_PER_DAY:q,MS_PER_HOUR:60*p,MS_PER_MINUTE:p,setTime:l,addDays:k,today:m,toInvariantTime:o,firstDayOfMonth:d,lastDayOfMonth:e,getMilliseconds:h}}(),D.stripWhitespace=function(a){for(var b=document.createNodeIterator(a,NodeFilter.SHOW_TEXT,function(b){return b.parentNode==a?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);b.nextNode();)b.referenceNode&&!b.referenceNode.textContent.trim()&&b.referenceNode.parentNode.removeChild(b.referenceNode)};var Jb=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){setTimeout(a,1e3/60)};D.animationFrame=function(a){Jb.call(window,a)};var Kb=[];D.queueAnimation=function(a){Kb[Kb.length]=a,1===Kb.length&&D.runNextAnimation()},D.runNextAnimation=function(){D.animationFrame(function(){Kb[0]&&(Kb.shift()(),Kb[0]&&D.runNextAnimation())})},D.parseQueryStringParams=function(a){for(var b=a.split("?")[1]||"",c={},d=b.split(/&|=/),e=d.length,f=0;e>f;f+=2)""!==d[f]&&(c[decodeURIComponent(d[f])]=decodeURIComponent(d[f+1]));return c};var Lb=D.support.mobileOS,Mb=Lb&&Lb.android,Nb=Mb&&"chrome"==Lb.browser;D.elementUnderCursor=function(a){return Nb?document.elementFromPoint(a.x.screen,a.y.screen):document.elementFromPoint(a.x.client,a.y.client)},D.wheelDeltaY=function(a){var c,d=a.originalEvent,e=d.wheelDeltaY;return d.wheelDelta?(e===b||e)&&(c=d.wheelDelta):d.detail&&d.axis===d.VERTICAL_AXIS&&(c=10*-d.detail),c},D.caret=function(c,d,e){var f,g=d!==b;if(e===b&&(e=d),c[0]&&(c=c[0]),!g||!c.disabled){try{if(c.selectionStart!==b)g?(c.focus(),c.setSelectionRange(d,e)):d=[c.selectionStart,c.selectionEnd];else if(document.selection)if(a(c).is(":visible")&&c.focus(),f=c.createTextRange(),g)f.collapse(!0),f.moveStart("character",d),f.moveEnd("character",e-d),f.select();else{var h,i,j=f.duplicate();f.moveToBookmark(document.selection.createRange().getBookmark()),j.setEndPoint("EndToStart",f),h=j.text.length,i=h+f.text.length,d=[h,i]}}catch(k){d=[]}return d}}}(jQuery),function(a){function b(a,b){if(!b)return a;a+"/"===b&&(a=b);var c=new RegExp("^"+b,"i");return c.test(a)||(a=b+"/"+a),j.protocol+"//"+(j.host+"/"+a).replace(/\/\/+/g,"/")}function c(){return j.href.split("#")[1]||""}function d(a,b){return 0===b.indexOf(a)?b.substr(a.length).replace(/\/\//g,"/"):b}var e=window.kendo,f="change",g="back",h="same",i=e.support,j=window.location,k=window.history,l=50,m=/^#*/,n=window.document,o=e.Class.extend({back:function(){k.back()},forward:function(){k.forward()},length:function(){return k.length},replaceLocation:function(a){j.replace(a)}}),p=o.extend({init:function(a){this.root=a},navigate:function(a){k.pushState({},n.title,b(a,this.root))},replace:function(a){k.replaceState({},n.title,b(a,this.root))},normalize:function(a){return d(this.root,a)},current:function(){var a=j.pathname;return j.search&&(a+=j.search),d(this.root,a)},change:function(b){a(window).bind("popstate.kendo",b)},stop:function(){a(window).unbind("popstate.kendo")},normalizeCurrent:function(a){var d,e=a.root,f=j.pathname,g=c();e===f+"/"&&(d=e),e===f&&g&&(d=b(g.replace(m,""),e)),d&&k.pushState({},n.title,d)}}),q=o.extend({init:function(){this._id=e.guid()},navigate:function(a){j.hash=a},replace:function(a){this.replaceLocation("#"+a.replace(/^#/,""))},normalize:function(a){return a},change:function(b){i.hashChange?a(window).on("hashchange."+this._id,b):this._interval=setInterval(b,l)},stop:function(){a(window).off("hashchange."+this._id),clearInterval(this._interval)},current:function(){return c()},normalizeCurrent:function(a){var b=j.pathname,c=a.root;return a.pushState&&c!==b?(this.replaceLocation(c+"#"+d(c,b)),!0):!1}}),r=e.Observable.extend({start:function(b){if(b=b||{},this.bind([f,g,h],b),!this._started){this._started=!0,b.root=b.root||"/";var c,d=this.createAdapter(b);d.normalizeCurrent(b)||(c=d.current(),a.extend(this,{adapter:d,root:b.root,historyLength:d.length(),current:c,locations:[c]}),d.change(a.proxy(this,"_checkUrl")))}},createAdapter:function(a){return i.pushState&&a.pushState?new p(a.root):new q},stop:function(){this._started&&(this.adapter.stop(),this.unbind(f),this._started=!1)},change:function(a){this.bind(f,a)},replace:function(a,b){this._navigate(a,b,function(b){b.replace(a),this.locations[this.locations-1]=this.current})},navigate:function(a,b){return"#:back"===a?void this.adapter.back():void this._navigate(a,b,function(b){b.navigate(a),this.locations.push(this.current)})},_navigate:function(a,b,c){var d=this.adapter;return a=a.replace(m,""),this.current===a||this.current===decodeURIComponent(a)?void this.trigger(h):void((b||!this.trigger(f,{url:a}))&&(this.current=d.normalize(a),c.call(this,d),this.historyLength=d.length()))},_checkUrl:function(){var a=this.adapter,b=a.current(),c=a.length(),d=this.historyLength===c,e=b===this.locations[this.locations.length-2]&&d,g=this.current;return this.current===b||this.current===decodeURIComponent(b)?!0:(this.historyLength=c,this.current=b,e&&this.trigger("back",{url:g,to:b})?(a.forward(),void(this.current=g)):this.trigger(f,{url:b})?(e?a.forward():(a.back(),this.historyLength--),void(this.current=g)):void(e?this.locations.pop():this.locations.push(b)))}});e.History=r,e.History.HistoryAdapter=o,e.History.HashAdapter=q,e.History.PushStateAdapter=p,e.absoluteURL=b,e.history=new r}(window.kendo.jQuery),function(){function a(a,b){return b?a:"([^/]+)"}function b(b){return new RegExp("^"+b.replace(o,"\\$&").replace(l,"(?:$1)?").replace(m,a).replace(n,"(.*?)")+"$")}function c(a){return a.replace(/(\?.*)|(#.*)/g,"")}var d=window.kendo,e=d.history,f=d.Observable,g="init",h="routeMissing",i="change",j="back",k="same",l=/\((.*?)\)/g,m=/(\(\?)?:\w+/g,n=/\*\w+/g,o=/[\-{}\[\]+?.,\\\^$|#\s]/g,p=d.Class.extend({init:function(a,c){a instanceof RegExp||(a=b(a)),this.route=a,this._callback=c},callback:function(a){var b,e,f=0,g=d.parseQueryStringParams(a);for(a=c(a),b=this.route.exec(a).slice(1),e=b.length;e>f;f++)"undefined"!=typeof b[f]&&(b[f]=decodeURIComponent(b[f]));b.push(g),this._callback.apply(null,b)},worksWith:function(a){return this.route.test(c(a))?(this.callback(a),!0):!1}}),q=f.extend({init:function(a){f.fn.init.call(this),this.routes=[],this.pushState=a?a.pushState:!1,a&&a.root&&(this.root=a.root),this.bind([g,h,i,k],a)},destroy:function(){e.unbind(i,this._urlChangedProxy),e.unbind(k,this._sameProxy),e.unbind(j,this._backProxy),this.unbind()},start:function(){var a=this,b=function(){a._same()},c=function(b){a._back(b)},d=function(b){a._urlChanged(b)};e.start({same:b,change:d,back:c,pushState:a.pushState,root:a.root});var f={url:e.current||"/",preventDefault:$.noop};a.trigger(g,f)||a._urlChanged(f),this._urlChangedProxy=d,this._backProxy=c},route:function(a,b){this.routes.push(new p(a,b))},navigate:function(a,b){d.history.navigate(a,b)},replace:function(a,b){d.history.replace(a,b)},_back:function(a){this.trigger(j,{url:a.url,to:a.to})&&a.preventDefault()},_same:function(){this.trigger(k)},_urlChanged:function(a){var b=a.url;if(b||(b="/"),this.trigger(i,{url:a.url,params:d.parseQueryStringParams(a.url)}))return void a.preventDefault();for(var c,e=0,f=this.routes,g=f.length;g>e;e++)if(c=f[e],c.worksWith(b))return;this.trigger(h,{url:b,params:d.parseQueryStringParams(b)})&&a.preventDefault()}});d.Router=q}(),function(a,b){function c(e){var g,h,i,j,k,l,m,n,o=[],p=e.logic||"and",q=e.filters;for(g=0,h=q.length;h>g;g++)e=q[g],i=e.field,m=e.value,l=e.operator,e.filters?e=c(e):(n=e.ignoreCase,i=i.replace(/\./g,"/"),e=f[l],e&&m!==b&&(j=a.type(m),"string"===j?(k="'{1}'",m=m.replace(/'/g,"''"),n===!0&&(i="tolower("+i+")")):k="date"===j?"datetime'{1:yyyy-MM-ddTHH:mm:ss}'":"{1}",e.length>3?"substringof"!==e?k="{0}({2},"+k+")":(k="{0}("+k+",{2})","doesnotcontain"===l&&(k+=" eq false")):k="{2} {0} "+k,e=d.format(k,e,m,i))),o.push(e);return e=o.join(" "+p+" "),o.length>1&&(e="("+e+")"),e}var d=window.kendo,e=a.extend,f={eq:"eq",neq:"ne",gt:"gt",gte:"ge",lt:"lt",lte:"le",contains:"substringof",doesnotcontain:"substringof",endswith:"endswith",startswith:"startswith"},g={pageSize:a.noop,page:a.noop,filter:function(a,b){b&&(a.$filter=c(b))},sort:function(b,c){var d=a.map(c,function(a){var b=a.field.replace(/\./g,"/");return"desc"===a.dir&&(b+=" desc"),b}).join(",");d&&(b.$orderby=d)},skip:function(a,b){b&&(a.$skip=b)},take:function(a,b){b&&(a.$top=b)}},h={read:{dataType:"jsonp"}};e(!0,d.data,{schemas:{odata:{type:"json",data:function(a){return a.d.results||[a.d]},total:"d.__count"}},transports:{odata:{read:{cache:!0,dataType:"jsonp",jsonp:"$callback"},update:{cache:!0,dataType:"json",contentType:"application/json",type:"PUT"},create:{cache:!0,dataType:"json",contentType:"application/json",type:"POST"},destroy:{cache:!0,dataType:"json",type:"DELETE"},parameterMap:function(a,b){var c,e,f,i;if(a=a||{},b=b||"read",i=(this.options||h)[b],i=i?i.dataType:"json","read"===b){c={$inlinecount:"allpages"},"json"!=i&&(c.$format="json");for(f in a)g[f]?g[f](c,a[f]):c[f]=a[f]}else{if("json"!==i)throw new Error("Only json dataType can be used for "+b+" operation.");if("destroy"!==b){for(f in a)e=a[f],"number"==typeof e&&(a[f]=e+"");c=d.stringify(a)}}return c}}}})}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=a.isArray,e=a.isPlainObject,f=a.map,g=a.each,h=a.extend,i=c.getter,j=c.Class,k=j.extend({init:function(a){var b=this,i=a.total,j=a.model,k=a.parse,l=a.errors,m=a.serialize,n=a.data;if(j){if(e(j)){var o=a.modelBase||c.data.Model;j.fields&&g(j.fields,function(a,c){c=e(c)&&c.field?h(c,{field:b.getter(c.field)}):{field:b.getter(c)},j.fields[a]=c});var p=j.id;if(p){var q={};q[b.xpathToMember(p,!0)]={field:b.getter(p)},j.fields=h(q,j.fields),j.id=b.xpathToMember(p)}j=o.define(j)}b.model=j}if(i&&("string"==typeof i?(i=b.getter(i),b.total=function(a){return parseInt(i(a),10)}):"function"==typeof i&&(b.total=i)),l&&("string"==typeof l?(l=b.getter(l),b.errors=function(a){return l(a)||null}):"function"==typeof l&&(b.errors=l)),n&&("string"==typeof n?(n=b.xpathToMember(n),b.data=function(a){var c,e=b.evaluate(a,n);return e=d(e)?e:[e],b.model&&j.fields?(c=new b.model,f(e,function(a){if(a){var b,d={};for(b in j.fields)d[b]=c._parse(b,j.fields[b].field(a));return d}})):e}):"function"==typeof n&&(b.data=n)),"function"==typeof k){var r=b.parse;b.parse=function(a){var c=k.call(b,a);return r.call(b,c)}}"function"==typeof m&&(b.serialize=m)},total:function(a){return this.data(a).length},errors:function(a){return a?a.errors:null},serialize:function(a){return a},parseDOM:function(a){var c,e,f,g,h,i,j,k={},l=a.attributes,m=l.length;for(j=0;m>j;j++)i=l[j],k["@"+i.nodeName]=i.nodeValue;for(e=a.firstChild;e;e=e.nextSibling)f=e.nodeType,3===f||4===f?k["#text"]=e.nodeValue:1===f&&(c=this.parseDOM(e),g=e.nodeName,h=k[g],d(h)?h.push(c):h=h!==b?[h,c]:c,k[g]=h);return k},evaluate:function(a,b){for(var c,e,f,g,h,i=b.split(".");c=i.shift();)if(a=a[c],d(a)){for(e=[],b=i.join("."),h=0,f=a.length;f>h;h++)g=this.evaluate(a[h],b),g=d(g)?g:[g],e.push.apply(e,g);return e}return a},parse:function(b){var c,d,e={};return c=b.documentElement||a.parseXML(b).documentElement,d=this.parseDOM(c),e[c.nodeName]=d,e},xpathToMember:function(a,b){return a?(a=a.replace(/^\//,"").replace(/\//g,"."),a.indexOf("@")>=0?a.replace(/\.?(@.*)/,b?"$1":'["$1"]'):a.indexOf("text()")>=0?a.replace(/(\.?text\(\))/,b?"#text":'["#text"]'):a):""},getter:function(a){return i(this.xpathToMember(a),!0)}});a.extend(!0,c.data,{XmlDataReader:k,readers:{xml:k}})}(window.kendo.jQuery),function(a,b){function c(a,b,c,d){return function(e){var f,g={};for(f in e)g[f]=e[f];g.field=d?c+"."+e.field:c,b==cb&&a._notifyChange&&a._notifyChange(g),a.trigger(b,g)}}function d(b,c){if(b===c)return!0;var e,f=a.type(b),g=a.type(c);if(f!==g)return!1;if("date"===f)return b.getTime()===c.getTime();if("object"!==f&&"array"!==f)return!1;for(e in b)if(!d(b[e],c[e]))return!1;return!0}function e(a,b){var c,d;for(d in a){if(c=a[d],N(c)&&c.field&&c.field===b)return c;if(c===b)return c}return null}function f(a){this.data=a||[]}function g(a,c){if(a){var d=typeof a===Y?{field:a,dir:c}:a,e=P(d)?d:d!==b?[d]:[];return Q(e,function(a){return!!a.dir})}}function h(a){var b,c,d,e,f=a.filters;if(f)for(b=0,c=f.length;c>b;b++)d=f[b],e=d.operator,e&&typeof e===Y&&(d.operator=Ib[e.toLowerCase()]||e),h(d)}function i(a){return a&&!O(a)?((P(a)||!a.filters)&&(a={logic:"and",filters:P(a)?a:[a]}),h(a),a):void 0}function j(a){return P(a)?a:[a]}function k(a,c){var d=typeof a===Y?{field:a,dir:c}:a,e=P(d)?d:d!==b?[d]:[];return K(e,function(a){return{field:a.field,dir:a.dir||"asc",aggregates:a.aggregates}})}function l(a,b){return a&&a.getTime&&b&&b.getTime?a.getTime()===b.getTime():a===b}function m(a,b,c,d,e){b=b||[];var f,g,h,i=b.length;for(f=0;i>f;f++){g=b[f],h=g.aggregate;var j=g.field;a[j]=a[j]||{},a[j][h]=Jb[h.toLowerCase()](a[j][h],c,U.accessor(j),d,e)}}function n(a){return"number"==typeof a&&!isNaN(a)}function o(a){var b,c=a.length,d=new Array(c);for(b=0;c>b;b++)d[b]=a[b].toJSON();return d}function p(a,b){b=b||{};var c=new f(a),d=b.aggregate,e=b.filter;return e&&(c=c.filter(e)),c.aggregate(d)}function q(a,b,c,d,e){var f,g,h,i,j;for(i=0,j=a.length;j>i;i++){f=a[i];for(g in b)h=e[g],h&&h!==g&&(f[h]=b[g](f),delete f[g])}}function r(a,b,c,d,e){var f,g,h,i,j;for(i=0,j=a.length;j>i;i++){f=a[i];for(g in b)f[g]=c._parse(g,b[g](f)),h=e[g],h&&h!==g&&delete f[h]}}function s(a,b,c,d,e){var f,g,h,i;for(g=0,i=a.length;i>g;g++)f=a[g],h=d[f.field],h&&h!=f.field&&(f.field=h),f.value=c._parse(f.field,f.value),f.hasSubgroups?s(f.items,b,c,d,e):r(f.items,b,c,d,e)}function t(a,b,c,d,e,f){return function(g){return g=a(g),g&&!O(d)&&("[object Array]"===vb.call(g)||g instanceof Ab||(g=[g]),c(g,d,new b,e,f)),g||[]}}function u(a,b,c,d){for(var e,f,g=0;b.length&&d;){e=b[g],f=e.items;var h=f.length;if(a&&a.field===e.field&&a.value===e.value?(a.hasSubgroups&&a.items.length?u(a.items[a.items.length-1],e.items,c,d):(f=f.slice(c,c+d),a.items=a.items.concat(f)),b.splice(g--,1)):e.hasSubgroups&&f.length?u(e,f,c,d):(f=f.slice(c,c+d),e.items=f,e.items.length||b.splice(g--,1)),0===f.length?c-=h:(c=0,d-=f.length),++g>=b.length)break}g<b.length&&b.splice(g,b.length-g)}function v(a){var b,c,d=[];for(b=0,c=a.length;c>b;b++)d=d.concat(a[b].hasSubgroups?v(a[b].items):a[b].items.slice());return d}function w(a,b){var c,d,e,f;if(b)for(c=0,d=a.length;d>c;c++)e=a[c],f=e.items,e.hasSubgroups?w(f,b):!f.length||f[0]instanceof b||(f.type=b,f.wrapAll(f,f))}function x(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c].hasSubgroups){if(x(a[c].items,b))return!0}else if(b(a[c].items,a[c]))return!0}function y(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c].uid==b.uid)return b=a[c],a.splice(c,1),b}function z(a,b){var c,d,e,f;for(e=a.length-1,f=0;e>=f;e--)d=a[e],c={value:b.get(d.field),field:d.field,items:c?[c]:[b],hasSubgroups:!!c,aggregates:{}};return c}function A(a,b){return b?C(a,function(a){return a[b.idField]===b.id}):-1}function B(a,b){return b?C(a,function(a){return a.uid==b.uid}):-1}function C(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(b(a[c]))return c;return-1}function D(a,b){if(a&&!O(a)){var c,d=a[b];return c=N(d)?d.from||d.field||b:a[b]||b,V(c)?b:c}return b}function E(a,b){var c,d,e={};for(var f in a)"filters"!==f&&(e[f]=a[f]);if(a.filters)for(e.filters=[],c=0,d=a.filters.length;d>c;c++)e.filters[c]=E(a.filters[c],b);else e.field=D(b.fields,e.field);return e}function F(a,b){var c,d,e,f,g=[];for(c=0,d=a.length;d>c;c++){e={},f=a[c];for(var h in f)e[h]=f[h];e.field=D(b.fields,e.field),e.aggregates&&P(e.aggregates)&&(e.aggregates=F(e.aggregates,b)),g.push(e)}return g}function G(b,c){var d,e,f,g,h,i=a(b)[0].children,j=[],k=c[0],l=c[1];for(d=0,e=i.length;e>d;d++)f={},h=i[d],h.disabled||(f[k.field]=h.text,g=h.attributes.value,g=g&&g.specified?h.value:h.text,f[l.field]=g,j.push(f));return j}function H(b,c){var d,e,f,g,h,i,j,k=a(b)[0].tBodies[0],l=k?k.rows:[],m=c.length,n=[];for(d=0,e=l.length;e>d;d++){for(h={},j=!0,g=l[d].cells,f=0;m>f;f++)i=g[f],"th"!==i.nodeName.toLowerCase()&&(j=!1,h[c[f].field]=i.innerHTML);j||n.push(h)}return n}function I(a){return function(){var b=this._data,c=Ob.fn[a].apply(this,tb.call(arguments));return this._data!=b&&this._attachBubbleHandlers(),c}}function J(b,c){function d(a,b){return a.filter(b).add(a.find(b))}var e,f,g,h,i,j,k,l,m=a(b).children(),n=[],o=c[0].field,p=c[1]&&c[1].field,q=c[2]&&c[2].field,r=c[3]&&c[3].field;for(e=0,f=m.length;f>e;e++)g={_loaded:!0},h=m.eq(e),j=h[0].firstChild,l=h.children(),b=l.filter("ul"),l=l.filter(":not(ul)"),i=h.attr("data-id"),i&&(g.id=i),j&&(g[o]=3==j.nodeType?j.nodeValue:l.text()),p&&(g[p]=d(l,"a").attr("href")),r&&(g[r]=d(l,"img").attr("src")),q&&(k=d(l,".k-sprite").prop("className"),g[q]=k&&a.trim(k.replace("k-sprite",""))),b.length&&(g.items=J(b.eq(0),c)),"true"==h.attr("data-hasChildren")&&(g.hasChildren=!0),n.push(g);return n}var K,L=a.extend,M=a.proxy,N=a.isPlainObject,O=a.isEmptyObject,P=a.isArray,Q=a.grep,R=a.ajax,S=a.each,T=a.noop,U=window.kendo,V=U.isFunction,W=U.Observable,X=U.Class,Y="string",Z="function",$="create",_="read",ab="update",bb="destroy",cb="change",db="sync",eb="get",fb="error",gb="requestStart",hb="progress",ib="requestEnd",jb=[$,_,ab,bb],kb=function(a){return a},lb=U.getter,mb=U.stringify,nb=Math,ob=[].push,pb=[].join,qb=[].pop,rb=[].splice,sb=[].shift,tb=[].slice,ub=[].unshift,vb={}.toString,wb=U.support.stableSort,xb=/^\/Date\((.*?)\)\/$/,yb=/(\r+|\n+)/g,zb=/(?=['\\])/g,Ab=W.extend({init:function(a,b){var c=this;c.type=b||Bb,W.fn.init.call(c),c.length=a.length,c.wrapAll(a,c)},toJSON:function(){var a,b,c=this.length,d=new Array(c);for(a=0;c>a;a++)b=this[a],b instanceof Bb&&(b=b.toJSON()),d[a]=b;return d},parent:T,wrapAll:function(a,b){var c,d,e=this,f=function(){return e};for(b=b||[],c=0,d=a.length;d>c;c++)b[c]=e.wrap(a[c],f);return b},wrap:function(a,b){var c,d=this;return null!==a&&"[object Object]"===vb.call(a)&&(c=a instanceof d.type||a instanceof Eb,c||(a=a instanceof Bb?a.toJSON():a,a=new d.type(a)),a.parent=b,a.bind(cb,function(a){d.trigger(cb,{field:a.field,node:a.node,index:a.index,items:a.items||[this],action:a.node?a.action||"itemchange":"itemchange"})})),a},push:function(){var a,b=this.length,c=this.wrapAll(arguments);return a=ob.apply(this,c),this.trigger(cb,{action:"add",index:b,items:c}),a},slice:tb,join:pb,pop:function(){var a=this.length,b=qb.apply(this);return a&&this.trigger(cb,{action:"remove",index:a-1,items:[b]}),b},splice:function(a,b,c){var d,e,f,g=this.wrapAll(tb.call(arguments,2));if(d=rb.apply(this,[a,b].concat(g)),d.length)for(this.trigger(cb,{action:"remove",index:a,items:d}),e=0,f=d.length;f>e;e++)d[e].children&&d[e].unbind(cb);return c&&this.trigger(cb,{action:"add",index:a,items:g}),d},shift:function(){var a=this.length,b=sb.apply(this);return a&&this.trigger(cb,{action:"remove",index:0,items:[b]}),b},unshift:function(){var a,b=this.wrapAll(arguments);return a=ub.apply(this,b),this.trigger(cb,{action:"add",index:0,items:b}),a},indexOf:function(a){var b,c,d=this;for(b=0,c=d.length;c>b;b++)if(d[b]===a)return b;return-1},forEach:function(a){for(var b=0,c=this.length;c>b;b++)a(this[b],b,this)},map:function(a){for(var b=0,c=[],d=this.length;d>b;b++)c[b]=a(this[b],b,this);return c},filter:function(a){for(var b,c=0,d=[],e=this.length;e>c;c++)b=this[c],a(b,c,this)&&(d[d.length]=b);return d},find:function(a){for(var b,c=0,d=this.length;d>c;c++)if(b=this[c],a(b,c,this))return b},every:function(a){for(var b,c=0,d=this.length;d>c;c++)if(b=this[c],!a(b,c,this))return!1;return!0},some:function(a){for(var b,c=0,d=this.length;d>c;c++)if(b=this[c],a(b,c,this))return!0;return!1},remove:function(a){this.splice(this.indexOf(a),1)},empty:function(){this.splice(0,this.length)}}),Bb=W.extend({init:function(a){var b,c,d=this,e=function(){return d};W.fn.init.call(this);for(c in a)b=a[c],"_"!=c.charAt(0)&&(b=d.wrap(b,c,e)),d[c]=b;d.uid=U.guid()},shouldSerialize:function(a){return this.hasOwnProperty(a)&&"_events"!==a&&typeof this[a]!==Z&&"uid"!==a},forEach:function(a){for(var b in this)this.shouldSerialize(b)&&a(this[b],b)},toJSON:function(){var a,b,c={};for(b in this)this.shouldSerialize(b)&&(a=this[b],(a instanceof Bb||a instanceof Ab)&&(a=a.toJSON()),c[b]=a);return c},get:function(a){var b,c=this;return c.trigger(eb,{field:a}),b="this"===a?c:U.getter(a,!0)(c)},_set:function(a,b){var c=this,d=a.indexOf(".")>=0;if(d)for(var e=a.split("."),f="";e.length>1;){f+=e.shift();var g=U.getter(f,!0)(c);if(g instanceof Bb)return g.set(e.join("."),b),d;f+="."}return U.setter(a)(c,b),d},set:function(a,b){var c=this,d=U.getter(a,!0)(c);d!==b&&(c.trigger("set",{field:a,value:b})||(!c._set(a,c.wrap(b,a,function(){return c}))||a.indexOf("(")>=0||a.indexOf("[")>=0)&&c.trigger(cb,{field:a}))},parent:T,wrap:function(a,b,d){var e=this,f=vb.call(a);if(null!=a&&("[object Object]"===f||"[object Array]"===f)){var g=a instanceof Ab,h=a instanceof Ob;"[object Object]"!==f||h||g?("[object Array]"===f||g||h)&&(g||h||(a=new Ab(a)),a.parent()!=d()&&a.bind(cb,c(e,cb,b,!1))):(a instanceof Bb||(a=new Bb(a)),a.parent()!=d()&&(a.bind(eb,c(e,eb,b,!0)),a.bind(cb,c(e,cb,b,!0)))),a.parent=d}return a}}),Cb={number:function(a){return U.parseFloat(a)},date:function(a){return U.parseDate(a)},"boolean":function(a){return typeof a===Y?"true"===a.toLowerCase():null!=a?!!a:a},string:function(a){return null!=a?a+"":a},"default":function(a){return a}},Db={string:"",number:0,date:new Date,"boolean":!1,"default":""},Eb=Bb.extend({init:function(c){var d=this;(!c||a.isEmptyObject(c))&&(c=a.extend({},d.defaults,c)),Bb.fn.init.call(d,c),d.dirty=!1,d.idField&&(d.id=d.get(d.idField),d.id===b&&(d.id=d._defaultId))},shouldSerialize:function(a){return Bb.fn.shouldSerialize.call(this,a)&&"uid"!==a&&!("id"!==this.idField&&"id"===a)&&"dirty"!==a&&"_accessors"!==a},_parse:function(a,b){var c,d=this,f=a,g=d.fields||{};return a=g[a],a||(a=e(g,f)),a&&(c=a.parse,!c&&a.type&&(c=Cb[a.type.toLowerCase()])),c?c(b):b},_notifyChange:function(a){var b=a.action;("add"==b||"remove"==b)&&(this.dirty=!0)},editable:function(a){return a=(this.fields||{})[a],a?a.editable!==!1:!0},set:function(a,b,c){var e=this;e.editable(a)&&(b=e._parse(a,b),d(b,e.get(a))||(e.dirty=!0,Bb.fn.set.call(e,a,b,c)))},accept:function(a){var b,c=this,d=function(){return c};for(b in a){var e=a[b];"_"!=b.charAt(0)&&(e=c.wrap(a[b],b,d)),c._set(b,e)}c.idField&&(c.id=c.get(c.idField)),c.dirty=!1},isNew:function(){return this.id===this._defaultId}});Eb.define=function(a,c){c===b&&(c=a,a=Eb);var d,e,f,g,h,i,j,k,l=L({defaults:{}},c),m={},n=l.id;if(n&&(l.idField=n),l.id&&delete l.id,n&&(l.defaults[n]=l._defaultId=""),"[object Array]"===vb.call(l.fields)){for(i=0,j=l.fields.length;j>i;i++)f=l.fields[i],typeof f===Y?m[f]={}:f.field&&(m[f.field]=f);l.fields=m
}for(e in l.fields)f=l.fields[e],g=f.type||"default",h=null,k=e,e=typeof f.field===Y?f.field:e,f.nullable||(h=l.defaults[k!==e?k:e]=f.defaultValue!==b?f.defaultValue:Db[g.toLowerCase()]),c.id===e&&(l._defaultId=h),l.defaults[k!==e?k:e]=h,f.parse=f.parse||Cb[g];return d=a.extend(l),d.define=function(a){return Eb.define(d,a)},l.fields&&(d.fields=l.fields,d.idField=l.idField),d};var Fb={selector:function(a){return V(a)?a:lb(a)},compare:function(a){var b=this.selector(a);return function(a,c){return a=b(a),c=b(c),null==a&&null==c?0:null==a?-1:null==c?1:a.localeCompare?a.localeCompare(c):a>c?1:c>a?-1:0}},create:function(a){var b=a.compare||this.compare(a.field);return"desc"==a.dir?function(a,c){return b(c,a,!0)}:b},combine:function(a){return function(b,c){var d,e,f=a[0](b,c);for(d=1,e=a.length;e>d;d++)f=f||a[d](b,c);return f}}},Gb=L({},Fb,{asc:function(a){var b=this.selector(a);return function(a,c){var d=b(a),e=b(c);return d&&d.getTime&&e&&e.getTime&&(d=d.getTime(),e=e.getTime()),d===e?a.__position-c.__position:null==d?-1:null==e?1:d.localeCompare?d.localeCompare(e):d>e?1:-1}},desc:function(a){var b=this.selector(a);return function(a,c){var d=b(a),e=b(c);return d&&d.getTime&&e&&e.getTime&&(d=d.getTime(),e=e.getTime()),d===e?a.__position-c.__position:null==d?1:null==e?-1:e.localeCompare?e.localeCompare(d):e>d?1:-1}},create:function(a){return this[a.dir](a.field)}});K=function(a,b){var c,d=a.length,e=new Array(d);for(c=0;d>c;c++)e[c]=b(a[c],c,a);return e};var Hb=function(){function a(a){return a.replace(zb,"\\").replace(yb,"")}function b(b,c,d,e){var f;return null!=d&&(typeof d===Y&&(d=a(d),f=xb.exec(d),f?d=new Date(+f[1]):e?(d="'"+d.toLowerCase()+"'",c="("+c+" || '').toLowerCase()"):d="'"+d+"'"),d.getTime&&(c="("+c+"?"+c+".getTime():"+c+")",d=d.getTime())),c+" "+b+" "+d}return{eq:function(a,c,d){return b("==",a,c,d)},neq:function(a,c,d){return b("!=",a,c,d)},gt:function(a,c,d){return b(">",a,c,d)},gte:function(a,c,d){return b(">=",a,c,d)},lt:function(a,c,d){return b("<",a,c,d)},lte:function(a,c,d){return b("<=",a,c,d)},startswith:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".lastIndexOf('"+c+"', 0) == 0"},endswith:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"', "+b+".length - "+(c||"").length+") >= 0"},contains:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"') >= 0"},doesnotcontain:function(b,c,d){return d&&(b="("+b+" || '').toLowerCase()",c&&(c=c.toLowerCase())),c&&(c=a(c)),b+".indexOf('"+c+"') == -1"}}}();f.filterExpr=function(a){var c,d,e,g,h,i,j=[],k={and:" && ",or:" || "},l=[],m=[],n=a.filters;for(c=0,d=n.length;d>c;c++)e=n[c],h=e.field,i=e.operator,e.filters?(g=f.filterExpr(e),e=g.expression.replace(/__o\[(\d+)\]/g,function(a,b){return b=+b,"__o["+(m.length+b)+"]"}).replace(/__f\[(\d+)\]/g,function(a,b){return b=+b,"__f["+(l.length+b)+"]"}),m.push.apply(m,g.operators),l.push.apply(l,g.fields)):(typeof h===Z?(g="__f["+l.length+"](d)",l.push(h)):g=U.expr(h),typeof i===Z?(e="__o["+m.length+"]("+g+", "+e.value+")",m.push(i)):e=Hb[(i||"eq").toLowerCase()](g,e.value,e.ignoreCase!==b?e.ignoreCase:!0)),j.push(e);return{expression:"("+j.join(k[a.logic])+")",fields:l,operators:m}};var Ib={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};f.normalizeFilter=i,f.prototype={toArray:function(){return this.data},range:function(a,b){return new f(this.data.slice(a,a+b))},skip:function(a){return new f(this.data.slice(a))},take:function(a){return new f(this.data.slice(0,a))},select:function(a){return new f(K(this.data,a))},order:function(a,b){var c={dir:b};return a&&(a.compare?c.compare=a.compare:c.field=a),new f(this.data.slice(0).sort(Fb.create(c)))},orderBy:function(a){return this.order(a,"asc")},orderByDescending:function(a){return this.order(a,"desc")},sort:function(a,b,c){var d,e,f=g(a,b),h=[];if(c=c||Fb,f.length){for(d=0,e=f.length;e>d;d++)h.push(c.create(f[d]));return this.orderBy({compare:c.combine(h)})}return this},filter:function(a){var b,c,d,e,g,h,j,k,l=this.data,m=[];if(a=i(a),!a||0===a.filters.length)return this;for(e=f.filterExpr(a),h=e.fields,j=e.operators,g=k=new Function("d, __f, __o","return "+e.expression),(h.length||j.length)&&(k=function(a){return g(a,h,j)}),b=0,d=l.length;d>b;b++)c=l[b],k(c)&&m.push(c);return new f(m)},group:function(a,b){a=k(a||[]),b=b||this.data;var c,d=this,e=new f(d.data);return a.length>0&&(c=a[0],e=e.groupBy(c).select(function(d){var e=new f(b).filter([{field:d.field,operator:"eq",value:d.value,ignoreCase:!1}]);return{field:d.field,value:d.value,items:a.length>1?new f(d.items).group(a.slice(1),e.toArray()).toArray():d.items,hasSubgroups:a.length>1,aggregates:e.aggregate(c.aggregates)}})),e},groupBy:function(a){if(O(a)||!this.data.length)return new f([]);var b,c,d,e,g=a.field,h=this._sortForGrouping(g,a.dir||"asc"),i=U.accessor(g),j=i.get(h[0],g),k={field:g,value:j,items:[]},m=[k];for(d=0,e=h.length;e>d;d++)b=h[d],c=i.get(b,g),l(j,c)||(j=c,k={field:g,value:j,items:[]},m.push(k)),k.items.push(b);return new f(m)},_sortForGrouping:function(a,b){var c,d,e=this.data;if(!wb){for(c=0,d=e.length;d>c;c++)e[c].__position=c;for(e=new f(e).sort(a,b,Gb).toArray(),c=0,d=e.length;d>c;c++)delete e[c].__position;return e}return this.sort(a,b).toArray()},aggregate:function(a){var b,c,d={};if(a&&a.length)for(b=0,c=this.data.length;c>b;b++)m(d,a,this.data[b],b,c);return d}};var Jb={sum:function(a,b,c){var d=c.get(b);return n(a)?n(d)&&(a+=d):a=d,a},count:function(a){return(a||0)+1},average:function(a,b,c,d,e){var f=c.get(b);return n(a)?n(f)&&(a+=f):a=f,d==e-1&&n(a)&&(a/=e),a},max:function(a,b,c){var d=c.get(b);return n(a)||(a=d),d>a&&n(d)&&(a=d),a},min:function(a,b,c){var d=c.get(b);return n(a)||(a=d),a>d&&n(d)&&(a=d),a}};f.process=function(a,c){c=c||{};var d,e=new f(a),h=c.group,i=k(h||[]).concat(g(c.sort||[])),j=c.filter,l=c.skip,m=c.take;return j&&(e=e.filter(j),d=e.toArray().length),i&&(e=e.sort(i),h&&(a=e.toArray())),l!==b&&m!==b&&(e=e.range(l,m)),h&&(e=e.group(h,a)),{total:d,data:e.toArray()}};var Kb=X.extend({init:function(a){this.data=a.data},read:function(a){a.success(this.data)},update:function(a){a.success(a.data)},create:function(a){a.success(a.data)},destroy:function(a){a.success(a.data)}}),Lb=X.extend({init:function(a){var b,c=this;a=c.options=L({},c.options,a),S(jb,function(b,c){typeof a[c]===Y&&(a[c]={url:a[c]})}),c.cache=a.cache?Mb.create(a.cache):{find:T,add:T},b=a.parameterMap,V(a.push)&&(c.push=a.push),c.push||(c.push=kb),c.parameterMap=V(b)?b:function(a){var c={};return S(a,function(a,d){a in b&&(a=b[a],N(a)&&(d=a.value(d),a=a.key)),c[a]=d}),c}},options:{parameterMap:kb},create:function(a){return R(this.setup(a,$))},read:function(c){var d,e,f,g=this,h=g.cache;c=g.setup(c,_),d=c.success||T,e=c.error||T,f=h.find(c.data),f!==b?d(f):(c.success=function(a){h.add(c.data,a),d(a)},a.ajax(c))},update:function(a){return R(this.setup(a,ab))},destroy:function(a){return R(this.setup(a,bb))},setup:function(a,b){a=a||{};var c,d=this,e=d.options[b],f=V(e.data)?e.data(a.data):e.data;return a=L(!0,{},e,a),c=L(!0,{},f,a.data),a.data=d.parameterMap(c,b),V(a.url)&&(a.url=a.url(c)),a}}),Mb=X.extend({init:function(){this._store={}},add:function(a,c){a!==b&&(this._store[mb(a)]=c)},find:function(a){return this._store[mb(a)]},clear:function(){this._store={}},remove:function(a){delete this._store[mb(a)]}});Mb.create=function(a){var b={inmemory:function(){return new Mb}};return N(a)&&V(a.find)?a:a===!0?new Mb:b[a]()};var Nb=X.extend({init:function(a){var b,c,d,e,f=this;a=a||{};for(b in a)c=a[b],f[b]=typeof c===Y?lb(c):c;if(e=a.modelBase||Eb,N(f.model)&&(f.model=d=e.define(f.model)),f.model){var g,h=M(f.data,f),i=M(f.groups,f),j=M(f.serialize,f),k={},l={},m={},n={},o=!1;d=f.model,d.fields&&(S(d.fields,function(a,b){var c;g=a,N(b)&&b.field?g=b.field:typeof b===Y&&(g=b),N(b)&&b.from&&(c=b.from),o=o||c&&c!==a||g!==a,l[a]=lb(c||g),m[a]=lb(a),k[c||g]=a,n[a]=c||g}),!a.serialize&&o&&(f.serialize=t(j,d,q,m,k,n))),f.data=t(h,d,r,l,k,n),f.groups=t(i,d,s,l,k,n)}},errors:function(a){return a?a.errors:null},parse:kb,data:kb,total:function(a){return a.length},groups:kb,aggregates:function(){return{}},serialize:function(a){return a}}),Ob=W.extend({init:function(a){var c,d,e=this;a&&(d=a.data),a=e.options=L({},e.options,a),e._map={},e._prefetch={},e._data=[],e._pristineData=[],e._ranges=[],e._view=[],e._pristineTotal=0,e._destroyed=[],e._pageSize=a.pageSize,e._page=a.page||(a.pageSize?1:b),e._sort=g(a.sort),e._filter=i(a.filter),e._group=k(a.group),e._aggregate=a.aggregate,e._total=a.total,W.fn.init.call(e),e.transport=Pb.create(a,d),V(e.transport.push)&&e.transport.push({pushCreate:M(e._pushCreate,e),pushUpdate:M(e._pushUpdate,e),pushDestroy:M(e._pushDestroy,e)}),e.reader=new U.data.readers[a.schema.type||"json"](a.schema),c=e.reader.model||{},e._data=e._observe(e._data),e.bind(["push",fb,cb,gb,db,ib,hb],a)},options:{data:[],schema:{modelBase:Eb},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var a=this.group()||[];return this.options.serverGrouping&&a.length},_pushCreate:function(a){this._push(a,"pushCreate")},_pushUpdate:function(a){this._push(a,"pushUpdate")},_pushDestroy:function(a){this._push(a,"pushDestroy")},_push:function(a,b){var c=this._readData(a);c||(c=a),this[b](c)},_flatData:function(a){return this._isServerGrouped()?v(a):a},parent:T,get:function(a){var b,c,d=this._flatData(this._data);for(b=0,c=d.length;c>b;b++)if(d[b].id==a)return d[b]},getByUid:function(a){var b,c,d=this._flatData(this._data);if(d)for(b=0,c=d.length;c>b;b++)if(d[b].uid==a)return d[b]},indexOf:function(a){return B(this._data,a)},at:function(a){return this._data[a]},data:function(a){var c=this;return a===b?c._data:(c._data=this._observe(a),c._pristineData=a.slice(0),c._ranges=[],c._addRange(c._data),c._total=c._data.length,c._pristineTotal=c._total,c._process(c._data),void 0)},view:function(){return this._view},add:function(a){return this.insert(this._data.length,a)},_createNewModel:function(a){return this.reader.model?new this.reader.model(a):new Bb(a)},insert:function(a,b){return b||(b=a,a=0),b instanceof Eb||(b=this._createNewModel(b)),this._isServerGrouped()?this._data.splice(a,0,z(this.group(),b)):this._data.splice(a,0,b),b},pushCreate:function(a){P(a)||(a=[a]);for(var b=[],c=0;c<a.length;c++){var d=a[c],e=this.add(d);b.push(e);var f=e.toJSON();this._isServerGrouped()&&(f=z(this.group(),f)),this._pristineData.push(f)}b.length&&this.trigger("push",{type:"create",items:b})},pushUpdate:function(a){P(a)||(a=[a]);for(var b=[],c=0;c<a.length;c++){var d=a[c],e=this._createNewModel(d),f=this.get(e.id);f?(b.push(f),f.accept(d),f.trigger("change"),this._updatePristineForModel(f,d)):this.pushCreate(d)}b.length&&this.trigger("push",{type:"update",items:b})},pushDestroy:function(a){P(a)||(a=[a]);var b=[],c=this.options.autoSync;this.options.autoSync=!1;try{for(var d=0;d<a.length;d++){var e=a[d],f=this._createNewModel(e),g=!1;this._eachItem(this._data,function(a){for(var c=0;c<a.length;c++)if(a[c].id===f.id){b.push(a[c]),a.splice(c,1),g=!0;break}}),g&&(this._removePristineForModel(f),this._destroyed.pop())}}finally{this.options.autoSync=c}b.length&&this.trigger("push",{type:"destroy",items:b})},remove:function(a){var b,c=this,d=c._isServerGrouped();return this._eachItem(c._data,function(e){return b=y(e,a),b&&d?(b.isNew&&b.isNew()||c._destroyed.push(b),!0):void 0}),this._removeModelFromRanges(a),this._updateRangesLength(),a},sync:function(){var b,c,d=this,e=[],f=[],g=d._destroyed,h=d._flatData(d._data);if(d.reader.model){for(b=0,c=h.length;c>b;b++)h[b].isNew()?e.push(h[b]):h[b].dirty&&f.push(h[b]);var i=d._send("create",e);i.push.apply(i,d._send("update",f)),i.push.apply(i,d._send("destroy",g)),a.when.apply(null,i).then(function(){var a,b;for(a=0,b=arguments.length;b>a;a++)d._accept(arguments[a]);d._change({action:"sync"}),d.trigger(db)})}},cancelChanges:function(a){var b=this;a instanceof U.data.Model?b._cancelModel(a):(b._destroyed=[],b._data=b._observe(b._pristineData),b.options.serverPaging&&(b._total=b._pristineTotal),b._change())},hasChanges:function(){var a,b,c=this._data;if(this._destroyed.length)return!0;for(a=0,b=c.length;b>a;a++)if(c[a].isNew()||c[a].dirty)return!0;return!1},_accept:function(b){var c,d=this,e=b.models,f=b.response,g=0,h=d._isServerGrouped(),i=d._pristineData,j=b.type;if(d.trigger(ib,{response:f,type:j}),f&&!O(f)){if(f=d.reader.parse(f),d._handleCustomErrors(f))return;f=d.reader.data(f),P(f)||(f=[f])}else f=a.map(e,function(a){return a.toJSON()});for("destroy"===j&&(d._destroyed=[]),g=0,c=e.length;c>g;g++)"destroy"!==j?(e[g].accept(f[g]),"create"===j?i.push(h?z(d.group(),e[g]):f[g]):"update"===j&&d._updatePristineForModel(e[g],f[g])):d._removePristineForModel(e[g])},_updatePristineForModel:function(a,b){this._executeOnPristineForModel(a,function(a,c){U.deepExtend(c[a],b)})},_executeOnPristineForModel:function(a,b){this._eachPristineItem(function(c){var d=A(c,a);return d>-1?(b(d,c),!0):void 0})},_removePristineForModel:function(a){this._executeOnPristineForModel(a,function(a,b){b.splice(a,1)})},_readData:function(a){var b=this._isServerGrouped()?this.reader.groups:this.reader.data;return b(a)},_eachPristineItem:function(a){this._eachItem(this._pristineData,a)},_eachItem:function(a,b){a&&a.length&&(this._isServerGrouped()?x(a,b):b(a))},_pristineForModel:function(a){var b,c,d=function(d){return c=A(d,a),c>-1?(b=d[c],!0):void 0};return this._eachPristineItem(d),b},_cancelModel:function(a){var b,c=this._pristineForModel(a);this._eachItem(this._data,function(d){b=B(d,a),-1!=b&&(!a.isNew()&&c?d[b].accept(c):d.splice(b,1))})},_promise:function(b,c,d){var e=this,f=e.transport;return a.Deferred(function(a){e.trigger(gb,{type:d}),f[d].call(f,L({success:function(b){a.resolve({response:b,models:c,type:d})},error:function(b,c,d){a.reject(b),e.error(b,c,d)}},b))}).promise()},_send:function(a,b){var c,d,e=this,f=[],g=e.reader.serialize(o(b));if(e.options.batch)b.length&&f.push(e._promise({data:{models:g}},b,a));else for(c=0,d=b.length;d>c;c++)f.push(e._promise({data:g[c]},[b[c]],a));return f},read:function(a){var b=this,c=b._params(a);b._queueRequest(c,function(){b.trigger(gb,{type:"read"})?b._dequeueRequest():(b.trigger(hb),b._ranges=[],b.transport.read({data:c,success:M(b.success,b),error:M(b.error,b)}))})},success:function(a){var b=this,c=b.options;return b.trigger(ib,{response:a,type:"read"}),a=b.reader.parse(a),b._handleCustomErrors(a)?void b._dequeueRequest():(b._total=b.reader.total(a),b._pristineTotal=b._total,b._aggregate&&c.serverAggregates&&(b._aggregateResult=b.reader.aggregates(a)),a=b._readData(a),b._pristineData=a.slice(0),b._data=b._observe(a),b._addRange(b._data),b._process(b._data),void b._dequeueRequest())},_addRange:function(a){var b=this,c=b._skip||0,d=c+b._flatData(a).length;b._ranges.push({start:c,end:d,data:a}),b._ranges.sort(function(a,b){return a.start-b.start})},error:function(a,b,c){this._dequeueRequest(),this.trigger(ib,{}),this.trigger(fb,{xhr:a,status:b,errorThrown:c})},_params:function(a){var b=this,c=L({take:b.take(),skip:b.skip(),page:b.page(),pageSize:b.pageSize(),sort:b._sort,filter:b._filter,group:b._group,aggregate:b._aggregate},a);return b.options.serverPaging||(delete c.take,delete c.skip,delete c.page,delete c.pageSize),b.options.serverGrouping?b.reader.model&&c.group&&(c.group=F(c.group,b.reader.model)):delete c.group,b.options.serverFiltering?b.reader.model&&c.filter&&(c.filter=E(c.filter,b.reader.model)):delete c.filter,b.options.serverSorting?b.reader.model&&c.sort&&(c.sort=F(c.sort,b.reader.model)):delete c.sort,b.options.serverAggregates?b.reader.model&&c.aggregate&&(c.aggregate=F(c.aggregate,b.reader.model)):delete c.aggregate,c},_queueRequest:function(a,c){var d=this;d._requestInProgress?d._pending={callback:M(c,d),options:a}:(d._requestInProgress=!0,d._pending=b,c())},_dequeueRequest:function(){var a=this;a._requestInProgress=!1,a._pending&&a._queueRequest(a._pending.options,a._pending.callback)},_handleCustomErrors:function(a){if(this.reader.errors){var b=this.reader.errors(a);if(b)return this.trigger(fb,{xhr:null,status:"customerror",errorThrown:"custom error",errors:b}),!0}return!1},_observe:function(a){var b=this,c=b.reader.model,d=!1;return c&&a.length&&(d=!(a[0]instanceof c)),a instanceof Ab?d&&(a.type=b.reader.model,a.wrapAll(a,a)):(a=new Ab(a,b.reader.model),a.parent=function(){return b.parent()}),b._isServerGrouped()&&w(a,c),b._changeHandler&&b._data&&b._data instanceof Ab?b._data.unbind(cb,b._changeHandler):b._changeHandler=M(b._change,b),a.bind(cb,b._changeHandler)},_change:function(a){var b,c,d=this,e=a?a.action:"";if("remove"===e)for(b=0,c=a.items.length;c>b;b++)a.items[b].isNew&&a.items[b].isNew()||d._destroyed.push(a.items[b]);if(!d.options.autoSync||"add"!==e&&"remove"!==e&&"itemchange"!==e){var f=parseInt(d._total||d._pristineTotal,10);"add"===e?f+=a.items.length:"remove"===e?f-=a.items.length:"itemchange"===e||"sync"===e||d.options.serverPaging?"sync"===e&&(f=d._pristineTotal=parseInt(d._total,10)):f=d._pristineTotal,d._total=f,d._process(d._data,a)}else d.sync()},_process:function(a,c){var d,e=this,g={};e.options.serverPaging!==!0&&(g.skip=e._skip,g.take=e._take||e._pageSize,g.skip===b&&e._page!==b&&e._pageSize!==b&&(g.skip=(e._page-1)*e._pageSize)),e.options.serverSorting!==!0&&(g.sort=e._sort),e.options.serverFiltering!==!0&&(g.filter=e._filter),e.options.serverGrouping!==!0&&(g.group=e._group),e.options.serverAggregates!==!0&&(g.aggregate=e._aggregate,e._aggregateResult=p(a,g)),d=f.process(a,g),e._view=d.data,d.total===b||e.options.serverFiltering||(e._total=d.total),c=c||{},c.items=c.items||e._view,e.trigger(cb,c)},_mergeState:function(a){var c=this;return a!==b&&(c._pageSize=a.pageSize,c._page=a.page,c._sort=a.sort,c._filter=a.filter,c._group=a.group,c._aggregate=a.aggregate,c._skip=a.skip,c._take=a.take,c._skip===b&&(c._skip=c.skip(),a.skip=c.skip()),c._take===b&&c._pageSize!==b&&(c._take=c._pageSize,a.take=c._take),a.sort&&(c._sort=a.sort=g(a.sort)),a.filter&&(c._filter=a.filter=i(a.filter)),a.group&&(c._group=a.group=k(a.group)),a.aggregate&&(c._aggregate=a.aggregate=j(a.aggregate))),a},query:function(a){var c,d=this,e=d.options.serverSorting||d.options.serverPaging||d.options.serverFiltering||d.options.serverGrouping||d.options.serverAggregates;e||(d._data===b||0===d._data.length)&&!d._destroyed.length?d.read(d._mergeState(a)):d.trigger(gb,{type:"read"})||(d.trigger(hb),c=f.process(d._data,d._mergeState(a)),d.options.serverFiltering||(d._total=c.total!==b?c.total:d._data.length),d._view=c.data,d._aggregateResult=p(d._data,a),d.trigger(ib,{}),d.trigger(cb,{items:c.data}))},fetch:function(b){var c=this;return a.Deferred(function(a){var d=function(d){c.unbind(fb,e),a.resolve(),b&&b.call(c,d)},e=function(b){a.reject(b)};c.one(cb,d),c.one(fb,e),c._query()}).promise()},_query:function(a){var b=this;b.query(L({},{page:b.page(),pageSize:b.pageSize(),sort:b.sort(),filter:b.filter(),group:b.group(),aggregate:b.aggregate()},a))},next:function(a){var b=this,c=b.page(),d=b.total();return a=a||{},!c||d&&c+1>b.totalPages()?void 0:(b._skip=c*b.take(),c+=1,a.page=c,b._query(a),c)},prev:function(a){var b=this,c=b.page();return a=a||{},c&&1!==c?(b._skip=b._skip-b.take(),c-=1,a.page=c,b._query(a),c):void 0},page:function(a){var c,d=this;return a!==b?(a=nb.max(nb.min(nb.max(a,1),d.totalPages()),1),void d._query({page:a})):(c=d.skip(),c!==b?nb.round((c||0)/(d.take()||1))+1:b)},pageSize:function(a){var c=this;return a!==b?void c._query({pageSize:a,page:1}):c.take()},sort:function(a){var c=this;return a!==b?void c._query({sort:a}):c._sort},filter:function(a){var c=this;return a===b?c._filter:void c._query({filter:a,page:1})},group:function(a){var c=this;return a!==b?void c._query({group:a}):c._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(a){var c=this;return a!==b?void c._query({aggregate:a}):c._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var a=this,b=a.pageSize()||a.total();return nb.ceil((a.total()||0)/b)},inRange:function(a,b){var c=this,d=nb.min(a+b,c.total());return!c.options.serverPaging&&c.data.length>0?!0:c._findRange(a,d).length>0},lastRange:function(){var a=this._ranges;return a[a.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var a=this._ranges;return a.length&&a[0].data.length&&a[0].data[0].uid},range:function(a,c){a=nb.min(a||0,this.total());var d,e=this,f=nb.max(nb.floor(a/c),0)*c,g=nb.min(f+c,e.total());if(d=e._findRange(a,nb.min(a+c,e.total())),d.length){e._skip=a>e.skip()?nb.min(g,(e.totalPages()-1)*e.take()):f,e._take=c;var h=e.options.serverPaging,i=e.options.serverSorting,j=e.options.serverFiltering;try{e.options.serverPaging=!0,e._isServerGrouped()||e.group()&&e.group().length||(e.options.serverSorting=!0),e.options.serverFiltering=!0,h&&(e._data=d=e._observe(d)),e._process(d)}finally{e.options.serverPaging=h,e.options.serverSorting=i,e.options.serverFiltering=j}}else c!==b&&(e._rangeExists(f,g)?a>f&&e.prefetch(g,c,function(){e.range(a,c)}):e.prefetch(f,c,function(){a>f&&g<e.total()&&!e._rangeExists(g,nb.min(g+c,e.total()))?e.prefetch(g,c,function(){e.range(a,c)}):e.range(a,c)}))},_findRange:function(a,c){var d,e,h,i,j,l,m,n,o,p,q,r=this,s=r._ranges,t=[],u=r.options,v=u.serverSorting||u.serverPaging||u.serverFiltering||u.serverGrouping||u.serverAggregates;for(e=0,q=s.length;q>e;e++)if(d=s[e],a>=d.start&&a<=d.end){for(p=0,h=e;q>h;h++)if(d=s[h],o=r._flatData(d.data),o.length&&a+p>=d.start){if(l=d.data,m=d.end,!v){var w=k(r.group()||[]).concat(g(r.sort()||[]));n=f.process(d.data,{sort:w,filter:r.filter()}),o=l=n.data,n.total!==b&&(m=n.total)}if(i=0,a+p>d.start&&(i=a+p-d.start),j=o.length,m>c&&(j-=m-c),p+=j-i,t=r._mergeGroups(t,l,i,j),c<=d.end&&p==c-a)return t}break}return[]},_mergeGroups:function(a,b,c,d){if(this._isServerGrouped()){var e,f=b.toJSON();return a.length&&(e=a[a.length-1]),u(e,f,c,d),a.concat(f)}return a.concat(b.slice(c,d))},skip:function(){var a=this;return a._skip===b?a._page!==b?(a._page-1)*(a.take()||1):b:a._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(a,b,c){var d=this;return function(e){var f,g,h,i=!1,j={start:a,end:b,data:[]};if(d._dequeueRequest(),d.trigger(ib,{response:e,type:"read"}),e=d.reader.parse(e),h=d._readData(e),h.length){for(f=0,g=d._ranges.length;g>f;f++)if(d._ranges[f].start===a){i=!0,j=d._ranges[f];break}i||d._ranges.push(j)}j.data=d._observe(h),j.end=j.start+d._flatData(j.data).length,d._ranges.sort(function(a,b){return a.start-b.start}),d._total=d.reader.total(e),c&&h.length?c():d.trigger(cb,{})}},prefetch:function(a,b,c){var d=this,e=nb.min(a+b,d.total()),f={take:b,skip:a,page:a/b+1,pageSize:b,sort:d._sort,filter:d._filter,group:d._group,aggregate:d._aggregate};d._rangeExists(a,e)?c&&c():(clearTimeout(d._timeout),d._timeout=setTimeout(function(){d._queueRequest(f,function(){d.trigger(gb,{type:"read"})?d._dequeueRequest():d.transport.read({data:d._params(f),success:d._prefetchSuccessHandler(a,e,c)})})},100))},_rangeExists:function(a,b){var c,d,e=this,f=e._ranges;for(c=0,d=f.length;d>c;c++)if(f[c].start<=a&&f[c].end>=b)return!0;return!1},_removeModelFromRanges:function(a){for(var b,c,d,e=0,f=this._ranges.length;f>e&&(d=this._ranges[e],this._eachItem(d.data,function(d){b=y(d,a),b&&(c=!0)}),!c);e++);},_updateRangesLength:function(){for(var a,b,c=0,d=0,e=this._ranges.length;e>d;d++)a=this._ranges[d],a.start=a.start-c,b=this._flatData(a.data).length,c=a.end-b,a.end=a.start+b}}),Pb={};Pb.create=function(a,b){var c,d=a.transport;return d?(d.read=typeof d.read===Y?{url:d.read}:d.read,a.type&&(U.data.transports[a.type]&&!N(U.data.transports[a.type])?c=new U.data.transports[a.type](L(d,{data:b})):d=L(!0,{},U.data.transports[a.type],d),a.schema=L(!0,{},U.data.schemas[a.type],a.schema)),c||(c=V(d.read)?d:new Lb(d))):c=new Kb({data:a.data}),c},Ob.create=function(a){(P(a)||a instanceof Ab)&&(a={data:a});var b,c,d,e=a||{},f=e.data,g=e.fields,h=e.table,i=e.select,j={};if(f||!g||e.transport||(h?f=H(h,g):i&&(f=G(i,g))),U.data.Model&&g&&(!e.schema||!e.schema.model)){for(b=0,c=g.length;c>b;b++)d=g[b],d.type&&(j[d.field]=d);O(j)||(e.schema=L(!0,e.schema,{model:{fields:j}}))}return e.data=f,h=null,e.table=null,e instanceof Ob?e:new Ob(e)};var Qb=Eb.define({init:function(a){var b=this,c=b.hasChildren||a&&a.hasChildren,d="items",e={};U.data.Model.fn.init.call(b,a),typeof b.children===Y&&(d=b.children),e={schema:{data:d,model:{hasChildren:c,id:b.idField}}},typeof b.children!==Y&&L(e,b.children),e.data=a,c||(c=e.schema.data),typeof c===Y&&(c=U.getter(c)),V(c)&&(b.hasChildren=!!c.call(b,b)),b._childrenOptions=e,b.hasChildren&&b._initChildren(),b._loaded=!(!a||!a[d]&&!a._loaded)},_initChildren:function(){var a,b,c,d=this;d.children instanceof Rb||(a=d.children=new Rb(d._childrenOptions),b=a.transport,c=b.parameterMap,b.parameterMap=function(a){return a[d.idField||"id"]=d.id,c&&(a=c(a)),a},a.parent=function(){return d},a.bind(cb,function(a){a.node=a.node||d,d.trigger(cb,a)}),a.bind(fb,function(a){var b=d.parent();b&&(a.node=a.node||d,b.trigger(fb,a))}),d._updateChildrenField())},append:function(a){this._initChildren(),this.loaded(!0),this.children.add(a)},hasChildren:!1,level:function(){for(var a=this.parentNode(),b=0;a&&a.parentNode;)b++,a=a.parentNode?a.parentNode():null;return b},_updateChildrenField:function(){var a=this._childrenOptions.schema.data;this[a||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var a,c={},d="_query";this.hasChildren?(this._initChildren(),a=this.children,c[this.idField||"id"]=this.id,this._loaded||(a._data=b,d="read"),a.one(cb,M(this._childrenLoaded,this)),a[d](c)):this.loaded(!0)},parentNode:function(){var a=this.parent();return a.parent()},loaded:function(a){return a===b?this._loaded:void(this._loaded=a)},shouldSerialize:function(a){return Eb.fn.shouldSerialize.call(this,a)&&"children"!==a&&"_loaded"!==a&&"hasChildren"!==a&&"_childrenOptions"!==a}}),Rb=Ob.extend({init:function(a){var b=Qb.define({children:a});Ob.fn.init.call(this,L(!0,{},{schema:{modelBase:b,model:b}},a)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var a=this;a._data.bind(fb,function(b){a.trigger(fb,b)})},remove:function(a){var b,c=a.parentNode(),d=this;return c&&c._initChildren&&(d=c.children),b=Ob.fn.remove.call(d,a),c&&!d.data().length&&(c.hasChildren=!1),b},success:I("success"),data:I("data"),insert:function(a,b){var c=this.parent();return c&&c._initChildren&&(c.hasChildren=!0,c._initChildren()),Ob.fn.insert.call(this,a,b)},_find:function(a,b){var c,d,e,f,g;if(e=Ob.fn[a].call(this,b))return e;if(f=this._flatData(this.data()))for(c=0,d=f.length;d>c;c++)if(g=f[c].children,g instanceof Rb&&(e=g[a](b)))return e},get:function(a){return this._find("get",a)},getByUid:function(a){return this._find("getByUid",a)}});Rb.create=function(a){a=a&&a.push?{data:a}:a;var b=a||{},c=b.data,d=b.fields,e=b.list;return c&&c._dataSource?c._dataSource:(c||!d||b.transport||e&&(c=J(e,d)),b.data=c,b instanceof Rb?b:new Rb(b))};var Sb=U.Observable.extend({init:function(a,b,c){U.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=a,this.prefetch=!c;var d=this;a.bind("change",function(){d._change()}),this._syncWithDataSource(),this.setViewSize(b)},setViewSize:function(a){this.viewSize=a,this._recalculate()},at:function(a){var c,d=this.pageSize;if(a>=this.total())return void this.trigger("endreached",{index:a});if(!this.useRanges)return this.dataSource.view()[a];if(this.useRanges){if(a<this.dataOffset||a>this.skip+d){var e=Math.floor(a/d)*d;this.range(e)}a===this.prefetchThreshold&&this._prefetch(),a===this.midPageThreshold?this.range(this.nextMidRange):a===this.nextPageThreshold?this.range(this.nextFullRange):a===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange),c=this.dataSource.at(a-this.dataOffset)}return c===b&&this.trigger("endreached",{index:a}),c},indexOf:function(a){return this.dataSource.data().indexOf(a)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var a=this,b=a.pageSize,c=a.skip-a.viewSize,d=nb.max(nb.floor(c/b),0)*b+b;this.offset=c,this.dataSource.prefetch(d,b,function(){a._goToRange(c,!0)})},range:function(a){if(this.offset!==a){var b=this,c=this.pageSize,d=nb.max(nb.floor(a/c),0)*c+c,e=this.dataSource;this.offset=a,this._recalculate(),e.inRange(a,c)?this._goToRange(a):this.prefetch&&e.prefetch(d,c,function(){b._goToRange(a,!0)})}},syncDataSource:function(){var a=this.offset;this.offset=null,this.range(a)},destroy:function(){this.unbind()},_prefetch:function(){var a=this,b=this.pageSize,c=this.skip+b,d=this.dataSource;d.inRange(c,b)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:c,take:b}),d.prefetch(c,b,function(){a._prefetching=!1,a.trigger("prefetched",{skip:c,take:b})}))},_goToRange:function(a,b){this.offset===a&&(this.dataOffset=a,this._expanding=b,this.dataSource.range(a,this.pageSize))},_change:function(){var a=this.dataSource,b=a.firstItemUid();this.length=this.useRanges?a.lastRange().end:a.view().length,this._firstItemUid===b&&this.useRanges||(this._syncWithDataSource(),this._recalculate(),this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var a=this.dataSource;this._firstItemUid=a.firstItemUid(),this.dataOffset=this.offset=a.skip()||0,this.pageSize=a.pageSize(),this.useRanges=a.options.serverPaging},_recalculate:function(){var a=this.pageSize,b=this.offset,c=this.viewSize,d=Math.ceil(b/a)*a;this.skip=d,this.midPageThreshold=d+a-1,this.nextPageThreshold=d+c-1,this.prefetchThreshold=d+Math.floor(a/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=d+a-c,this.nextFullRange=d,this.previousMidRange=b-c,this.previousFullRange=d-a}}),Tb=U.Observable.extend({init:function(a,b){var c=this;U.Observable.fn.init.call(c),this.dataSource=a,this.batchSize=b,this._total=0,this.buffer=new Sb(a,3*b),this.buffer.bind({endreached:function(a){c.trigger("endreached",{index:a.index})},prefetching:function(a){c.trigger("prefetching",{skip:a.skip,take:a.take})},prefetched:function(a){c.trigger("prefetched",{skip:a.skip,take:a.take})},reset:function(){c._total=0,c.trigger("reset")},resize:function(){c._total=Math.ceil(this.length/c.batchSize),c.trigger("resize",{total:c.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(a){var c,d=this.buffer,e=a*this.batchSize,f=this.batchSize,g=[];d.offset>e&&d.at(d.offset-1);for(var h=0;f>h&&(c=d.at(e+h),c!==b);h++)g.push(c);return g},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}});L(!0,U.data,{readers:{json:Nb},Query:f,DataSource:Ob,HierarchicalDataSource:Rb,Node:Qb,ObservableObject:Bb,ObservableArray:Ab,LocalTransport:Kb,RemoteTransport:Lb,Cache:Mb,DataReader:Nb,Model:Eb,Buffer:Sb,BatchBuffer:Tb})}(window.kendo.jQuery),function(a,b){function c(a){var b,d,e,f,g=[];for(b=0,d=a.length;d>b;b++)if(a[b].hasSubgroups)g=g.concat(c(a[b].items));else for(e=a[b].items,f=0;f<e.length;f++)g.push(e[f]);return g}function d(a,b){var c=o.initWidget(a,{},b);return c?new I(c):void 0}function e(a){var b,c,d,f,g,h,i,j={};for(i=a.match(J),b=0,c=i.length;c>b;b++)d=i[b],f=d.indexOf(":"),g=d.substring(0,f),h=d.substring(f+1),"{"==h.charAt(0)&&(h=e(h)),j[g]=h;return j}function f(a,b,c){var d,e={};for(d in a)e[d]=new c(b,a[d]);return e
}function g(a,b,c,h){var j,k,l,m=a.getAttribute("data-"+o.ns+"role"),n=a.getAttribute("data-"+o.ns+"bind"),p=a.children,q=[],r=!0,s={};if(h=h||[b],(m||n)&&i(a),m&&(l=d(a,c)),n&&(n=e(n.replace(K,"")),l||(s=o.parseOptions(a,{textField:"",valueField:"",template:"",valueUpdate:C,valuePrimitive:!1,autoBind:!0}),s.roles=c,l=new H(a,s)),l.source=b,k=f(n,h,D),s.template&&(k.template=new F(h,"",s.template)),k.click&&(n.events=n.events||{},n.events.click=n.click,delete k.click),k.source&&(r=!1),n.attr&&(k.attr=f(n.attr,h,D)),n.style&&(k.style=f(n.style,h,D)),n.events&&(k.events=f(n.events,h,E)),l.bind(k)),l&&(a.kendoBindingTarget=l),r&&p){for(j=0;j<p.length;j++)q[j]=p[j];for(j=0;j<q.length;j++)g(q[j],b,c,h)}}function h(b,c){var d,e,f,h=o.rolesFromNamespaces([].slice.call(arguments,2));for(c=o.observable(c),b=a(b),d=0,e=b.length;e>d;d++)f=b[d],1===f.nodeType&&g(f,c,h)}function i(a){var b=a.kendoBindingTarget;b&&(b.destroy(),B?delete a.kendoBindingTarget:a.removeAttribute?a.removeAttribute("kendoBindingTarget"):a.kendoBindingTarget=null)}function j(a){i(a),k(a)}function k(a){var b=a.children;if(b)for(var c=0,d=b.length;d>c;c++)j(b[c])}function l(b){var c,d;for(b=a(b),c=0,d=b.length;d>c;c++)j(b[c])}function m(a,b){var c=a.element,d=c[0].kendoBindingTarget;d&&h(c,d.source,b)}var n,o=window.kendo,p=o.Observable,q=o.data.ObservableObject,r=o.data.ObservableArray,s={}.toString,t={},u=Array.prototype.splice,v=o.Class,w=a.proxy,x="value",y="source",z="events",A="checked",B=!0,C="change";!function(){var a=document.createElement("a");a.innerText!==b?n="innerText":a.textContent!==b&&(n="textContent");try{delete a.test}catch(c){B=!1}}();var D=p.extend({init:function(a,b){var c=this;p.fn.init.call(c),c.source=a[0],c.parents=a,c.path=b,c.dependencies={},c.dependencies[b]=!0,c.observable=c.source instanceof p,c._access=function(a){c.dependencies[a.field]=!0},c.observable&&(c._change=function(a){c.change(a)},c.source.bind(C,c._change))},_parents:function(){var b=this.parents,c=this.get();if(c&&"function"==typeof c.parent){var d=c.parent();a.inArray(d,b)<0&&(b=[d].concat(b))}return b},change:function(a){var b,c,d=a.field,e=this;if("this"===e.path)e.trigger(C,a);else for(b in e.dependencies)if(0===b.indexOf(d)&&(c=b.charAt(d.length),!c||"."===c||"["===c)){e.trigger(C,a);break}},start:function(a){a.bind("get",this._access)},stop:function(a){a.unbind("get",this._access)},get:function(){var a=this,c=a.source,d=0,e=a.path,f=c;if(!a.observable)return f;for(a.start(a.source),f=c.get(e);f===b&&c;)c=a.parents[++d],c instanceof q&&(f=c.get(e));if(f===b)for(c=a.source;f===b&&c;)c=c.parent(),c instanceof q&&(f=c.get(e));return"function"==typeof f&&(d=e.lastIndexOf("."),d>0&&(c=c.get(e.substring(0,d))),a.start(c),f=c!==a.source?f.call(c,a.source):f.call(c),a.stop(c)),c&&c!==a.source&&(a.currentSource=c,c.unbind(C,a._change).bind(C,a._change)),a.stop(a.source),f},set:function(a){var b=this.currentSource||this.source,c=o.getter(this.path)(b);"function"==typeof c?b!==this.source?c.call(b,this.source,a):c.call(b,a):b.set(this.path,a)},destroy:function(){this.observable&&this.source.unbind(C,this._change)}}),E=D.extend({get:function(){var a,b=this.source,c=this.path,d=0;for(a=b.get(c);!a&&b;)b=this.parents[++d],b instanceof q&&(a=b.get(c));return w(a,b)}}),F=D.extend({init:function(a,b,c){var d=this;D.fn.init.call(d,a,b),d.template=c},render:function(a){var b;return this.start(this.source),b=o.render(this.template,a),this.stop(this.source),b}}),G=v.extend({init:function(a,b,c){this.element=a,this.bindings=b,this.options=c},bind:function(a,b){var c=this;a=b?a[b]:a,a.bind(C,function(a){c.refresh(b||a)}),c.refresh(b)},destroy:function(){}});t.attr=G.extend({refresh:function(a){this.element.setAttribute(a,this.bindings.attr[a].get())}}),t.style=G.extend({refresh:function(a){this.element.style[a]=this.bindings.style[a].get()||""}}),t.enabled=G.extend({refresh:function(){this.bindings.enabled.get()?this.element.removeAttribute("disabled"):this.element.setAttribute("disabled","disabled")}}),t.readonly=G.extend({refresh:function(){this.bindings.readonly.get()?this.element.setAttribute("readonly","readonly"):this.element.removeAttribute("readonly")}}),t.disabled=G.extend({refresh:function(){this.bindings.disabled.get()?this.element.setAttribute("disabled","disabled"):this.element.removeAttribute("disabled")}}),t.events=G.extend({init:function(a,b,c){G.fn.init.call(this,a,b,c),this.handlers={}},refresh:function(b){var c=a(this.element),d=this.bindings.events[b],e=this.handlers[b];e&&c.off(b,e),e=this.handlers[b]=d.get(),c.on(b,d.source,e)},destroy:function(){var b,c=a(this.element);for(b in this.handlers)c.off(b,this.handlers[b])}}),t.text=G.extend({refresh:function(){var a=this.bindings.text.get();null==a&&(a=""),this.element[n]=a}}),t.visible=G.extend({refresh:function(){this.element.style.display=this.bindings.visible.get()?"":"none"}}),t.invisible=G.extend({refresh:function(){this.element.style.display=this.bindings.invisible.get()?"none":""}}),t.html=G.extend({refresh:function(){this.element.innerHTML=this.bindings.html.get()}}),t.value=G.extend({init:function(b,c,d){G.fn.init.call(this,b,c,d),this._change=w(this.change,this),this.eventName=d.valueUpdate||C,a(this.element).on(this.eventName,this._change),this._initChange=!1},change:function(){this._initChange=this.eventName!=C;var a=this.element.value,b=this.element.type;"date"==b?a=o.parseDate(a,"yyyy-MM-dd"):"datetime-local"==b?a=o.parseDate(a,["yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm"]):"number"==b&&(a=o.parseFloat(a)),this.bindings[x].set(a),this._initChange=!1},refresh:function(){if(!this._initChange){var a=this.bindings[x].get();null==a&&(a="");var b=this.element.type;"date"==b?a=o.toString(a,"yyyy-MM-dd"):"datetime-local"==b&&(a=o.toString(a,"yyyy-MM-ddTHH:mm:ss")),this.element.value=a}this._initChange=!1},destroy:function(){a(this.element).off(this.eventName,this._change)}}),t.source=G.extend({init:function(a,b,c){G.fn.init.call(this,a,b,c);var d=this.bindings.source.get();d instanceof o.data.DataSource&&c.autoBind!==!1&&d.fetch()},refresh:function(a){var b=this,c=b.bindings.source.get();c instanceof r||c instanceof o.data.DataSource?(a=a||{},"add"==a.action?b.add(a.index,a.items):"remove"==a.action?b.remove(a.index,a.items):"itemchange"!=a.action&&b.render()):b.render()},container:function(){var a=this.element;return"table"==a.nodeName.toLowerCase()&&(a.tBodies[0]||a.appendChild(document.createElement("tbody")),a=a.tBodies[0]),a},template:function(){var a=this.options,b=a.template,c=this.container().nodeName.toLowerCase();return b||(b="select"==c?a.valueField||a.textField?o.format('<option value="#:{0}#">#:{1}#</option>',a.valueField||a.textField,a.textField||a.valueField):"<option>#:data#</option>":"tbody"==c?"<tr><td>#:data#</td></tr>":"ul"==c||"ol"==c?"<li>#:data#</li>":"#:data#",b=o.template(b)),b},add:function(b,c){var d,e,f,h,i=this.container(),j=i.cloneNode(!1),k=i.children[b];if(a(j).html(o.render(this.template(),c)),j.children.length)for(d=this.bindings.source._parents(),e=0,f=c.length;f>e;e++)h=j.children[0],i.insertBefore(h,k||null),g(h,c[e],this.options.roles,[c[e]].concat(d))},remove:function(a,b){var c,d=this.container();for(c=0;c<b.length;c++){var e=d.children[a];j(e),d.removeChild(e)}},render:function(){var b,c,d,e=this.bindings.source.get(),f=this.container(),h=this.template();if(e instanceof o.data.DataSource&&(e=e.view()),e instanceof r||"[object Array]"===s.call(e)||(e=[e]),this.bindings.template){if(k(f),a(f).html(this.bindings.template.render(e)),f.children.length)for(b=this.bindings.source._parents(),c=0,d=e.length;d>c;c++)g(f.children[c],e[c],this.options.roles,[e[c]].concat(b))}else a(f).html(o.render(h,e))}}),t.input={checked:G.extend({init:function(b,c,d){G.fn.init.call(this,b,c,d),this._change=w(this.change,this),a(this.element).change(this._change)},change:function(){var a=this.element,b=this.value();if("radio"==a.type)this.bindings[A].set(b);else if("checkbox"==a.type){var c,d=this.bindings[A].get();d instanceof r?(b=this.element.value,"on"!==b&&"off"!==b&&(c=d.indexOf(b),c>-1?d.splice(c,1):d.push(b))):this.bindings[A].set(b)}},refresh:function(){var a=this.bindings[A].get(),b=a,c=this.element;"checkbox"==c.type?(b instanceof r&&(a=this.element.value,b.indexOf(a)>=0&&(a=!0)),c.checked=a===!0):"radio"==c.type&&null!=a&&c.value===a.toString()&&(c.checked=!0)},value:function(){var a=this.element,b=a.value;return"checkbox"==a.type&&(b=a.checked),b},destroy:function(){a(this.element).off(C,this._change)}})},t.select={value:G.extend({init:function(b,c,d){G.fn.init.call(this,b,c,d),this._change=w(this.change,this),a(this.element).change(this._change)},change:function(){var a,b,c,d,e,f,g=[],h=this.element,i=this.options.valueField||this.options.textField,j=this.options.valuePrimitive;for(e=0,f=h.options.length;f>e;e++)b=h.options[e],b.selected&&(d=b.attributes.value,d=d&&d.specified?b.value:b.text,g.push(d));if(i)for(a=this.bindings.source.get(),c=0;c<g.length;c++)for(e=0,f=a.length;f>e;e++)if(a[e].get(i)==g[c]){g[c]=a[e];break}d=this.bindings[x].get(),d instanceof r?d.splice.apply(d,[0,d.length].concat(g)):this.bindings[x].set(j||!(d instanceof q)&&i?g[0].get(i):g[0])},refresh:function(){var a,b,c=this.element,d=c.options,e=this.bindings[x].get(),f=e,g=this.options.valueField||this.options.textField,h=!1;f instanceof r||(f=new r([e])),c.selectedIndex=-1;for(var i=0;i<f.length;i++)for(e=f[i],g&&e instanceof q&&(e=e.get(g)),a=0;a<d.length;a++)b=d[a].value,""===b&&""!==e&&(b=d[a].text),b==e&&(d[a].selected=!0,h=!0)},destroy:function(){a(this.element).off(C,this._change)}})},t.widget={events:G.extend({init:function(a,b,c){G.fn.init.call(this,a.element[0],b,c),this.widget=a,this.handlers={}},refresh:function(a){var b=this.bindings.events[a],c=this.handlers[a];c&&this.widget.unbind(a,c),c=b.get(),this.handlers[a]=function(a){a.data=b.source,c(a),a.data===b.source&&delete a.data},this.widget.bind(a,this.handlers[a])},destroy:function(){var a;for(a in this.handlers)this.widget.unbind(a,this.handlers[a])}}),checked:G.extend({init:function(a,b,c){G.fn.init.call(this,a.element[0],b,c),this.widget=a,this._change=w(this.change,this),this.widget.bind(C,this._change)},change:function(){this.bindings[A].set(this.value())},refresh:function(){this.widget.check(this.bindings[A].get()===!0)},value:function(){var a=this.element,b=a.value;return("on"==b||"off"==b)&&(b=a.checked),b},destroy:function(){this.widget.unbind(C,this._change)}}),visible:G.extend({init:function(a,b,c){G.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){var a=this.bindings.visible.get();this.widget.wrapper[0].style.display=a?"":"none"}}),invisible:G.extend({init:function(a,b,c){G.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){var a=this.bindings.invisible.get();this.widget.wrapper[0].style.display=a?"none":""}}),enabled:G.extend({init:function(a,b,c){G.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){this.widget.enable&&this.widget.enable(this.bindings.enabled.get())}}),disabled:G.extend({init:function(a,b,c){G.fn.init.call(this,a.element[0],b,c),this.widget=a},refresh:function(){this.widget.enable&&this.widget.enable(!this.bindings.disabled.get())}}),source:G.extend({init:function(a,b,c){var d=this;G.fn.init.call(d,a.element[0],b,c),d.widget=a,d._dataBinding=w(d.dataBinding,d),d._dataBound=w(d.dataBound,d),d._itemChange=w(d.itemChange,d)},itemChange:function(a){g(a.item[0],a.data,this._ns(a.ns),[a.data].concat(this.bindings.source._parents()))},dataBinding:function(){var a,b,c=this.widget,d=c.items();for(a=0,b=d.length;b>a;a++)j(d[a])},_ns:function(b){b=b||o.ui;var c=[o.ui,o.dataviz.ui,o.mobile.ui];return c.splice(a.inArray(b,c),1),c.unshift(b),o.rolesFromNamespaces(c)},dataBound:function(a){var b,d,e,f=this.widget,h=f.items(),i=f.dataSource,j=i.view(),k=i.group()||[];if(h.length)for(k.length&&(j=c(j)),e=this.bindings.source._parents(),b=0,d=j.length;d>b;b++)g(h[b],j[b],this._ns(a.ns),[j[b]].concat(e))},refresh:function(a){var b,c=this,d=c.widget;a=a||{},a.action||(c.destroy(),d.bind("dataBinding",c._dataBinding),d.bind("dataBound",c._dataBound),d.bind("itemChange",c._itemChange),b=c.bindings.source.get(),d.dataSource instanceof o.data.DataSource&&d.dataSource!=b&&(b instanceof o.data.DataSource?d.setDataSource(b):b&&b._dataSource?d.setDataSource(b._dataSource):d.dataSource.data(b)))},destroy:function(){var a=this.widget;a.unbind("dataBinding",this._dataBinding),a.unbind("dataBound",this._dataBound),a.unbind("itemChange",this._itemChange)}}),value:G.extend({init:function(b,c,d){G.fn.init.call(this,b.element[0],c,d),this.widget=b,this._change=a.proxy(this.change,this),this.widget.first(C,this._change);var e=this.bindings.value.get();this._valueIsObservableObject=!d.valuePrimitive&&(null==e||e instanceof q),this._valueIsObservableArray=e instanceof r,this._initChange=!1},change:function(){var a,b,c,d,e,f,g,h=this.widget.value(),i=this.options.dataValueField||this.options.dataTextField,j="[object Array]"===s.call(h),k=this._valueIsObservableObject,l=[];if(this._initChange=!0,i)if(this.bindings.source&&(g=this.bindings.source.get()),""===h&&(k||this.options.valuePrimitive))h=null;else{for((!g||g instanceof o.data.DataSource)&&(g=this.widget.dataSource.view()),j&&(b=h.length,l=h.slice(0)),e=0,f=g.length;f>e;e++)if(c=g[e],d=c.get(i),j){for(a=0;b>a;a++)if(d==l[a]){l[a]=c;break}}else if(d==h){h=k?c:d;break}l[0]&&(h=this._valueIsObservableArray?l:k||!i?l[0]:l[0].get(i))}this.bindings.value.set(h),this._initChange=!1},refresh:function(){if(!this._initChange){var a,b=this.options.dataValueField||this.options.dataTextField,c=this.bindings.value.get(),d=0,e=[];if(b)if(c instanceof r){for(a=c.length;a>d;d++)e[d]=c[d].get(b);c=e}else c instanceof q&&(c=c.get(b));this.widget.value(c)}this._initChange=!1},destroy:function(){this.widget.unbind(C,this._change)}}),multiselect:{value:G.extend({init:function(b,c,d){G.fn.init.call(this,b.element[0],c,d),this.widget=b,this._change=a.proxy(this.change,this),this.widget.first(C,this._change),this._initChange=!1},change:function(){var a=this,b=a.bindings[x].get(),c=a.options.valuePrimitive,d=c?a.widget.value():a.widget.dataItems(),e=this.options.dataValueField||this.options.dataTextField;if(d=d.slice(0),a._initChange=!0,b instanceof r){for(var f,g,h,i=[],j=d.length,k=0,l=0,m=b[k],n=!1,o=0,p=b.length+1;m;){for(h=!1,l=0;j>l;l++)if(c?n=d[l]==m:(g=d[l],g=g.get?g.get(e):g,n=g==(m.get?m.get(e):m)),n){d.splice(l,1),j-=1,h=!0;break}if(h?k+=1:(i.push(m),u.call(b,k,1),f=k),m=b[k],o++,o>p)break}u.apply(b,[b.length,0].concat(d)),i.length&&b.trigger("change",{action:"remove",items:i,index:f}),d.length&&b.trigger("change",{action:"add",items:d,index:b.length-1})}else a.bindings[x].set(d);a._initChange=!1},refresh:function(){if(!this._initChange){var a,b,c=this.options.dataValueField||this.options.dataTextField,d=this.bindings.value.get(),e=0,f=[];if(c)if(d instanceof r){for(a=d.length;a>e;e++)b=d[e],f[e]=b.get?b.get(c):b;d=f}else d instanceof q&&(d=d.get(c));this.widget.value(d)}},destroy:function(){this.widget.unbind(C,this._change)}})}};var H=v.extend({init:function(a,b){this.target=a,this.options=b,this.toDestroy=[]},bind:function(a){var b,c,d,e,f=this.target.nodeName.toLowerCase(),g=t[f]||{};for(b in a)b==x?c=!0:b==y?d=!0:b==z?e=!0:this.applyBinding(b,a,g);d&&this.applyBinding(y,a,g),c&&this.applyBinding(x,a,g),e&&this.applyBinding(z,a,g)},applyBinding:function(a,b,c){var d,e=c[a]||t[a],f=this.toDestroy,g=b[a];if(e)if(e=new e(this.target,b,this.options),f.push(e),g instanceof D)e.bind(g),f.push(g);else for(d in g)e.bind(g,d),f.push(g[d]);else if("template"!==a)throw new Error("The "+a+" binding is not supported by the "+this.target.nodeName.toLowerCase()+" element")},destroy:function(){var a,b,c=this.toDestroy;for(a=0,b=c.length;b>a;a++)c[a].destroy()}}),I=H.extend({bind:function(a){var b,c=this,d=!1,e=!1,f=t.widget[c.target.options.name.toLowerCase()]||{};for(b in a)b==x?d=!0:b==y?e=!0:c.applyBinding(b,a,f);e&&c.applyBinding(y,a,f),d&&c.applyBinding(x,a,f)},applyBinding:function(a,b,c){var d,e=c[a]||t.widget[a],f=this.toDestroy,g=b[a];if(!e)throw new Error("The "+a+" binding is not supported by the "+this.target.options.name+" widget");if(e=new e(this.target,b,this.target.options),f.push(e),g instanceof D)e.bind(g),f.push(g);else for(d in g)e.bind(g,d),f.push(g[d])}}),J=/[A-Za-z0-9_\-]+:(\{([^}]*)\}|[^,}]+)/g,K=/\s/g;o.unbind=l,o.bind=h,o.data.binders=t,o.data.Binder=G,o.notify=m,o.observable=function(a){return a instanceof q||(a=new q(a)),a},o.observableHierarchy=function(a){function b(a){var c,d;for(c=0;c<a.length;c++)a[c]._initChildren(),d=a[c].children,d.fetch(),a[c].items=d.data(),b(a[c].items)}var c=o.data.HierarchicalDataSource.create(a);return c.fetch(),b(c.data()),c._data._dataSource=c,c._data}}(window.kendo.jQuery),function(a,b){function c(a){return parseInt(a,10)}function d(a,b){return c(a.css(b))}function e(a){var b=[];for(var c in a)b.push(c);return b}function f(a){for(var b in a)-1!=E.indexOf(b)&&-1==F.indexOf(b)&&delete a[b];return a}function g(a,b){var c,d,e,f,g=[],h={};for(d in b)c=d.toLowerCase(),f=t&&-1!=E.indexOf(c),!r.hasHW3D&&f&&-1==F.indexOf(c)?delete b[d]:(e=b[d],f?g.push(d+"("+e+")"):h[d]=e);return g.length&&(h[X]=g.join(" ")),h}function h(a,b){if(t){var d=a.css(X);if(d==L)return"scale"==b?1:0;var e=d.match(new RegExp(b+"\\s*\\(([\\d\\w\\.]+)")),f=0;return e?f=c(e[1]):(e=d.match(y)||[0,0,0,0,0],b=b.toLowerCase(),A.test(b)?f=parseFloat(e[3]/e[2]):"translatey"==b?f=parseFloat(e[4]/e[2]):"scale"==b?f=parseFloat(e[2]):"rotate"==b&&(f=parseFloat(Math.atan2(e[2],e[1])))),f}return parseFloat(a.css(b))}function i(a){return a.charAt(0).toUpperCase()+a.substring(1)}function j(a,b){var c=db.extend(b),d=c.prototype.directions;n[i(a)]=c,n.Element.prototype[a]=function(a,b,d,e){return new c(this.element,a,b,d,e)},o(d,function(b,d){n.Element.prototype[a+i(d)]=function(a,b,e){return new c(this.element,d,a,b,e)}})}function k(a,b,c,d){j(a,{directions:fb,startValue:function(a){return this._startValue=a,this},endValue:function(a){return this._endValue=a,this},shouldHide:function(){return this._shouldHide},prepare:function(a,e){var f,g,h=this,i="out"===this._direction,j=h.element.data(b),k=!(isNaN(j)||j==c);f=k?j:"undefined"!=typeof this._startValue?this._startValue:i?c:d,g="undefined"!=typeof this._endValue?this._endValue:i?d:c,this._reverse?(a[b]=g,e[b]=f):(a[b]=f,e[b]=g),h._shouldHide=e[b]===d}})}function l(a,b){var c=m.directions[b].vertical,d=a[c?O:N]()/2+"px";return hb[b].replace("$size",d)}var m=window.kendo,n=m.effects,o=a.each,p=a.extend,q=a.proxy,r=m.support,s=r.browser,t=r.transforms,u=r.transitions,v={scale:0,scalex:0,scaley:0,scale3d:0},w={translate:0,translatex:0,translatey:0,translate3d:0},x="undefined"!=typeof document.documentElement.style.zoom&&!t,y=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,z=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,A=/translatex?$/i,B=/(zoom|fade|expand)(\w+)/,C=/(zoom|fade|expand)/,D=/[xy]$/i,E=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],F=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],G={rotate:"deg",scale:"",skew:"px",translate:"px"},H=t.css,I=Math.round,J="",K="px",L="none",M="auto",N="width",O="height",P="hidden",Q="origin",R="abortId",S="overflow",T="translate",U="position",V="completeCallback",W=H+"transition",X=H+"transform",Y=H+"backface-visibility",Z=H+"perspective",$="1500px",_="perspective("+$+")",ab=(r.mobileOS&&7==r.mobileOS.majorVersion,{left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}});if(m.directions=ab,p(a.fn,{kendoStop:function(a,b){return u?n.stopQueue(this,a||!1,b||!1):this.stop(a,b)}}),t&&!u){o(F,function(b,c){a.fn[c]=function(b){if("undefined"==typeof b)return h(this,c);var d=a(this)[0],e=c+"("+b+G[c.replace(D,"")]+")";return-1==d.style.cssText.indexOf(X)?a(this).css(X,e):d.style.cssText=d.style.cssText.replace(new RegExp(c+"\\(.*?\\)","i"),e),this},a.fx.step[c]=function(b){a(b.elem)[c](b.now)}});var bb=a.fx.prototype.current;a.fx.prototype.current=function(){return-1!=F.indexOf(this.prop)?parseFloat(a(this.elem)[this.prop]()):bb.apply(this,arguments)}}m.toggleClass=function(a,b,c,d){return b&&(b=b.split(" "),u&&(c=p({exclusive:"all",duration:400,ease:"ease-out"},c),a.css(W,c.exclusive+" "+c.duration+"ms "+c.ease),setTimeout(function(){a.css(W,"").css(O)},c.duration)),o(b,function(b,c){a.toggleClass(c,d)})),a},m.parseEffects=function(a,b){var c={};return"string"==typeof a?o(a.split(" "),function(a,d){var e=!C.test(d),f=d.replace(B,function(a,b,c){return b+":"+c.toLowerCase()}),g=f.split(":"),h=g[1],i={};g.length>1&&(i.direction=b&&e?ab[h].reverse:h),c[g[0]]=i}):o(a,function(a){var d=this.direction;d&&b&&!C.test(a)&&(this.direction=ab[d].reverse),c[a]=this}),c},u&&p(n,{transition:function(b,c,d){var f,h,i=0,j=b.data("keys")||[];d=p({duration:200,ease:"ease-out",complete:null,exclusive:"all"},d);var k=!1,l=function(){k||(k=!0,h&&(clearTimeout(h),h=null),b.removeData(R).dequeue().css(W,"").css(W),d.complete.call(b))};d.duration=a.fx?a.fx.speeds[d.duration]||d.duration:d.duration,f=g(b,c),a.merge(j,e(f)),b.data("keys",a.unique(j)).height(),b.css(W,d.exclusive+" "+d.duration+"ms "+d.ease).css(W),b.css(f).css(X),u.event&&(b.one(u.event,l),0!==d.duration&&(i=500)),h=setTimeout(l,d.duration+i),b.data(R,h),b.data(V,l)},stopQueue:function(a,b,c){var d,e=a.data("keys"),f=!c&&e,g=a.data(V);return f&&(d=m.getComputedStyles(a[0],e)),g&&g(),f&&a.css(d),a.removeData("keys").stop(b)}});var cb=m.Class.extend({init:function(a,b){var c=this;c.element=a,c.effects=[],c.options=b,c.restore=[]},run:function(b){var c,d,e,h,i,j,k=this,l=b.length,m=k.element,o=k.options,q=a.Deferred(),r={},s={};for(k.effects=b,q.then(a.proxy(k,"complete")),m.data("animating",!0),d=0;l>d;d++)for(c=b[d],c.setReverse(o.reverse),c.setOptions(o),k.addRestoreProperties(c.restore),c.prepare(r,s),i=c.children(),e=0,j=i.length;j>e;e++)i[e].duration(o.duration).run();for(var v in o.effects)p(s,o.effects[v].properties);for(m.is(":visible")||p(r,{display:m.data("olddisplay")||"block"}),t&&!o.reset&&(h=m.data("targetTransform"),h&&(r=p(h,r))),r=g(m,r),t&&!u&&(r=f(r)),m.css(r).css(X),d=0;l>d;d++)b[d].setup();return o.init&&o.init(),m.data("targetTransform",s),n.animate(m,s,p({},o,{complete:q.resolve})),q.promise()},stop:function(){a(this.element).kendoStop(!0,!0)},addRestoreProperties:function(a){for(var b,c=this.element,d=0,e=a.length;e>d;d++)b=a[d],this.restore.push(b),c.data(b)||c.data(b,c.css(b))},restoreCallback:function(){for(var a=this.element,b=0,c=this.restore.length;c>b;b++){var d=this.restore[b];a.css(d,a.data(d))}},complete:function(){var b=this,c=0,d=b.element,e=b.options,f=b.effects,g=f.length;for(d.removeData("animating").dequeue(),e.hide&&d.data("olddisplay",d.css("display")).hide(),this.restoreCallback(),x&&!t&&setTimeout(a.proxy(this,"restoreCallback"),0);g>c;c++)f[c].teardown();e.completeCallback&&e.completeCallback(d)}});n.promise=function(a,b){var c,d,e=[],f=new cb(a,b),g=m.parseEffects(b.effects);b.effects=g;for(var h in g)c=n[i(h)],c&&(d=new c(a,g[h].direction),e.push(d));e[0]?f.run(e):(a.is(":visible")||a.css({display:a.data("olddisplay")||"block"}).css("display"),b.init&&b.init(),a.dequeue(),f.complete())},p(n,{animate:function(c,e,g){var h=g.transition!==!1;delete g.transition,u&&"transition"in n&&h?n.transition(c,e,g):t?c.animate(f(e),{queue:!1,show:!1,hide:!1,duration:g.duration,complete:g.complete}):c.each(function(){var c=a(this),f={};o(E,function(a,g){var h,i=e?e[g]+" ":null;if(i){var j=e;if(g in v&&e[g]!==b)h=i.match(z),t&&p(j,{scale:+h[0]});else if(g in w&&e[g]!==b){var k=c.css(U),l="absolute"==k||"fixed"==k;c.data(T)||(l?c.data(T,{top:d(c,"top")||0,left:d(c,"left")||0,bottom:d(c,"bottom"),right:d(c,"right")}):c.data(T,{top:d(c,"marginTop")||0,left:d(c,"marginLeft")||0}));var m=c.data(T);if(h=i.match(z)){var n=g==T+"y"?0:+h[1],o=g==T+"y"?+h[1]:+h[2];l?(isNaN(m.right)?isNaN(n)||p(j,{left:m.left+n}):isNaN(n)||p(j,{right:m.right-n}),isNaN(m.bottom)?isNaN(o)||p(j,{top:m.top+o}):isNaN(o)||p(j,{bottom:m.bottom-o})):(isNaN(n)||p(j,{marginLeft:m.left+n}),isNaN(o)||p(j,{marginTop:m.top+o}))}}!t&&"scale"!=g&&g in j&&delete j[g],j&&p(f,j)}}),s.msie&&delete f.scale,c.animate(f,{queue:!1,show:!1,hide:!1,duration:g.duration,complete:g.complete})})}}),n.animatedPromise=n.promise;var db=m.Class.extend({init:function(a,b){var c=this;c.element=a,c._direction=b,c.options={},c._additionalEffects=[],c.restore||(c.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(a){return this._additionalEffects.push(a),this},direction:function(a){return this._direction=a,this},duration:function(a){return this._duration=a,this},compositeRun:function(){var a=this,b=new cb(a.element,{reverse:a._reverse,duration:a._duration}),c=a._additionalEffects.concat([a]);return b.run(c)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var b,c,d=this,e=d.element,h=0,i=d.restore,j=i.length,k=a.Deferred(),l={},m={},o=d.children(),q=o.length;for(k.then(a.proxy(d,"_complete")),e.data("animating",!0),h=0;j>h;h++)b=i[h],e.data(b)||e.data(b,e.css(b));for(h=0;q>h;h++)o[h].duration(d._duration).run();return d.prepare(l,m),e.is(":visible")||p(l,{display:e.data("olddisplay")||"block"}),t&&(c=e.data("targetTransform"),c&&(l=p(c,l))),l=g(e,l),t&&!u&&(l=f(l)),e.css(l).css(X),d.setup(),e.data("targetTransform",m),n.animate(e,m,{duration:d._duration,complete:k.resolve}),k.promise()},stop:function(){var b=0,c=this.children(),d=c.length;for(b=0;d>b;b++)c[b].stop();return a(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var a=this.element,b=0,c=this.restore.length;c>b;b++){var d=this.restore[b];a.css(d,a.data(d))}},_complete:function(){var b=this,c=b.element;c.removeData("animating").dequeue(),b.restoreCallback(),b.shouldHide()&&c.data("olddisplay",c.css("display")).hide(),x&&!t&&setTimeout(a.proxy(b,"restoreCallback"),0),b.teardown()},setOptions:function(a){p(!0,this.options,a)},children:function(){return[]},shouldHide:a.noop,setup:a.noop,prepare:a.noop,teardown:a.noop,directions:[],setReverse:function(a){return this._reverse=a,this}}),eb=["left","right","up","down"],fb=["in","out"];j("slideIn",{directions:eb,divisor:function(a){return this.options.divisor=a,this},prepare:function(a,b){var c,d=this,e=d.element,f=ab[d._direction],g=-f.modifier*(f.vertical?e.outerHeight():e.outerWidth()),h=g/(d.options&&d.options.divisor||1)+K,i="0px";d._reverse&&(c=a,a=b,b=c),t?(a[f.transition]=h,b[f.transition]=i):(a[f.property]=h,b[f.property]=i)}}),j("tile",{directions:eb,init:function(a,b,c){db.prototype.init.call(this,a,b),this.options={previous:c}},previousDivisor:function(a){return this.options.previousDivisor=a,this},children:function(){var a=this,b=a._reverse,c=a.options.previous,d=a.options.previousDivisor||1,e=a._direction,f=[m.fx(a.element).slideIn(e).setReverse(b)];return c&&f.push(m.fx(c).slideIn(ab[e].reverse).divisor(d).setReverse(!b)),f}}),k("fade","opacity",1,0),k("zoom","scale",1,.01),j("slideMargin",{prepare:function(a,b){var c,d=this,e=d.element,f=d.options,g=e.data(Q),h=f.offset,i=d._reverse;i||null!==g||e.data(Q,parseFloat(e.css("margin-"+f.axis))),c=e.data(Q)||0,b["margin-"+f.axis]=i?c:c+h}}),j("slideTo",{prepare:function(a,b){var c=this,d=c.element,e=c.options,f=e.offset.split(","),g=c._reverse;t?(b.translatex=g?0:f[0],b.translatey=g?0:f[1]):(b.left=g?0:f[0],b.top=g?0:f[1]),d.css("left")}}),j("expand",{directions:["horizontal","vertical"],restore:[S],prepare:function(a,c){var d=this,e=d.element,f=d.options,g=d._reverse,h="vertical"===d._direction?O:N,i=e[0].style[h],j=e.data(h),k=parseFloat(j||i),l=I(e.css(h,M)[h]());a.overflow=P,k=f&&f.reset?l||k:k||l,c[h]=(g?0:k)+K,a[h]=(g?k:0)+K,j===b&&e.data(h,i)},shouldHide:function(){return this._reverse},teardown:function(){var a=this,b=a.element,c="vertical"===a._direction?O:N,d=b.data(c);(d==M||d===J)&&setTimeout(function(){b.css(c,M).css(c)},0)}});var gb={position:"absolute",marginLeft:0,marginTop:0,scale:1};j("transfer",{init:function(a,b){this.element=a,this.options={target:b},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(a,b){var c,d=this,e=d.element,f=d.options,g=d._reverse,i=f.target,j=h(e,"scale"),k=i.offset(),l=i.outerHeight()/e.outerHeight();p(a,gb),b.scale=1,e.css(X,"scale(1)").css(X),c=e.offset(),e.css(X,"scale("+j+")");var m=0,n=0,o=k.left-c.left,q=k.top-c.top,r=m+e.outerWidth(),s=n,t=o+i.outerWidth(),u=q,v=(q-n)/(o-m),w=(u-s)/(t-r),x=(n-s-v*m+w*r)/(w-v),y=n+v*(x-m);a.top=c.top,a.left=c.left,a.transformOrigin=x+K+" "+y+K,g?a.scale=l:b.scale=l}});var hb={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},ib={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};j("turningPage",{directions:eb,init:function(a,b,c){db.prototype.init.call(this,a,b),this._container=c},prepare:function(a,b){var c=this,d=c._reverse,e=d?ab[c._direction].reverse:c._direction,f=ib[e];a.zIndex=1,c._clipInHalf&&(a.clip=l(c._container,m.directions[e].reverse)),a[Y]=P,b[X]=_+(d?f.start:f.end),a[X]=_+(d?f.end:f.start)},setup:function(){this._container.append(this.element)},face:function(a){return this._face=a,this},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},clipInHalf:function(a){return this._clipInHalf=a,this},temporary:function(){return this.element.addClass("temp-page"),this}}),j("staticPage",{directions:eb,init:function(a,b,c){db.prototype.init.call(this,a,b),this._container=c},restore:["clip"],prepare:function(a,b){var c=this,d=c._reverse?ab[c._direction].reverse:c._direction;a.clip=l(c._container,d),a.opacity=.999,b.opacity=1},shouldHide:function(){var a=this,b=a._reverse,c=a._face;return b&&!c||!b&&c},face:function(a){return this._face=a,this}}),j("pageturn",{directions:["horizontal","vertical"],init:function(a,b,c,d){db.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var a,b=this,c=b.options,d="horizontal"===b._direction?"left":"top",e=m.directions[d].reverse,f=b._reverse,g=c.face.clone(!0).removeAttr("id"),h=c.back.clone(!0).removeAttr("id"),i=b.element;return f&&(a=d,d=e,e=a),[m.fx(c.face).staticPage(d,i).face(!0).setReverse(f),m.fx(c.back).staticPage(e,i).setReverse(f),m.fx(g).turningPage(d,i).face(!0).clipInHalf(!0).temporary().setReverse(f),m.fx(h).turningPage(e,i).clipInHalf(!0).temporary().setReverse(f)]},prepare:function(a,b){a[Z]=$,a.transformStyle="preserve-3d",a.opacity=.999,b.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),j("flip",{directions:["horizontal","vertical"],init:function(a,b,c,d){db.prototype.init.call(this,a,b),this.options={},this.options.face=c,this.options.back=d},children:function(){var a,b=this,c=b.options,d="horizontal"===b._direction?"left":"top",e=m.directions[d].reverse,f=b._reverse,g=b.element;return f&&(a=d,d=e,e=a),[m.fx(c.face).turningPage(d,g).face(!0).setReverse(f),m.fx(c.back).turningPage(e,g).setReverse(f)]},prepare:function(a){a[Z]=$,a.transformStyle="preserve-3d"}});var jb=!r.mobileOS.android;
j("replace",{init:function(b,c,d){db.prototype.init.call(this,b),this._previous=a(c),this._transitionClass=d},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},_both:function(){return a().add(this._element).add(this._previous)},_containerClass:function(){var a=this._direction,b="k-fx k-fx-start k-fx-"+this._transitionClass;return a&&(b+=" k-fx-"+a),this._reverse&&(b+=" k-fx-reverse"),b},complete:function(){if(this.deferred){var a=this.container;a.removeClass("k-fx-end").removeClass(this._containerClass()),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),jb&&a.css(S,""),this.isAbsolute||this._both().css(U,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var b,c=this,d=c.element,e=c._previous,f=(c._direction,d.parents().filter(e.parents()).first()),g=c._both(),h=a.Deferred(),i=d.css(U);return f.length||(f=d.parent()),this.container=f,this.deferred=h,this.isAbsolute="absolute"==i,this.isAbsolute||g.css(U,"absolute"),jb&&(b=f.css(S),f.css(S,"hidden")),u?(d.addClass("k-fx-hidden"),f.addClass(this._containerClass()),f.one(u.event,a.proxy(this,"complete")),m.animationFrame(function(){d.removeClass("k-fx-hidden").addClass("k-fx-next"),e.css("display","").addClass("k-fx-current"),m.animationFrame(function(){f.removeClass("k-fx-start").addClass("k-fx-end")})})):this.complete(),h.promise()},stop:function(){this.complete()}});var kb=m.Class.extend({init:function(){var a=this;a._tickProxy=q(a._tick,a),a._started=!1},tick:a.noop,done:a.noop,onEnd:a.noop,onCancel:a.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,m.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var a=this;a._started&&(a.tick(),a.done()?(a._started=!1,a.onEnd()):m.animationFrame(a._tickProxy))}}),lb=kb.extend({init:function(a){var b=this;p(b,a),kb.fn.init.call(b)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(a){var b=this,c=b.movable;b.initial=c[b.axis],b.delta=a.location-b.initial,b.duration="number"==typeof a.duration?a.duration:300,b.tick=b._easeProxy(a.ease),b.startDate=new Date,b.start()},_easeProxy:function(a){var b=this;return function(){b.movable.moveAxis(b.axis,a(b.timePassed(),b.initial,b.delta,b.duration))}}});p(lb,{easeOutExpo:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},easeOutBack:function(a,b,c,d,e){return e=1.70158,c*((a=a/d-1)*a*((e+1)*a+e)+1)+b}}),n.Animation=kb,n.Transition=lb,n.createEffect=j}(window.kendo.jQuery),function(a){function b(a){if(!a)return{};var b=a.match(p)||[];return{type:b[1],direction:b[3],reverse:"reverse"===b[5]}}var c=window.kendo,d=c.Observable,e="SCRIPT",f="init",g="show",h="hide",i="attach",j="detach",k=/unrecognized expression/,l=d.extend({init:function(a,b){var e=this;b=b||{},d.fn.init.call(e),e.content=a,e.id=c.guid(),e.tagName=b.tagName||"div",e.model=b.model,e._wrap=b.wrap!==!1,e._fragments={},e.bind([f,g,h],b)},render:function(b){var d=this,e=!d.element;return e&&(d.element=d._createElement()),b&&a(b).append(d.element),e&&(c.bind(d.element,d.model),d.trigger(f)),b&&(d._eachFragment(i),d.trigger(g)),d.element},clone:function(){return new m(this)},triggerBeforeShow:function(){return!0},showStart:function(){this.element.css("display","")},showEnd:function(){},hideStart:function(){},hideEnd:function(){this.hide()},hide:function(){this._eachFragment(j),this.element.detach(),this.trigger(h)},destroy:function(){var a=this.element;a&&(c.unbind(a),c.destroy(a),a.remove())},fragments:function(b){a.extend(this._fragments,b)},_eachFragment:function(a){for(var b in this._fragments)this._fragments[b][a](this,b)},_createElement:function(){var b,d,f=this,g=f._wrap,h="<"+f.tagName+" />";try{d=a(document.getElementById(f.content)||f.content),d[0].tagName===e&&(d=d.html())}catch(i){k.test(i.message)&&(d=f.content)}return"string"==typeof d?(b=a(h).append(d),c.stripWhitespace(b[0]),g||(b=b.contents())):(b=d,g&&(b=b.wrap(h).parent())),b}}),m=c.Class.extend({init:function(b){a.extend(this,{element:b.element.clone(!0),transition:b.transition,id:b.id}),b.element.parent().append(this.element)},hideStart:a.noop,hideEnd:function(){this.element.remove()}}),n=l.extend({init:function(a,b){l.fn.init.call(this,a,b),this.containers={}},container:function(a){var b=this.containers[a];return b||(b=this._createContainer(a),this.containers[a]=b),b},showIn:function(a,b,c){this.container(a).show(b,c)},_createContainer:function(a){var b=this.render().find(a),c=new q(b);return c.bind("accepted",function(a){b.append(a.view.render())}),c}}),o=l.extend({attach:function(a,b){a.element.find(b).replaceWith(this.render())},detach:function(){console.log("detach",arguments)}}),p=/^(\w+)(:(\w+))?( (\w+))?$/,q=d.extend({init:function(a){d.fn.init.call(this),this.container=a,this.history=[],this.view=null,this.running=!1},after:function(){this.running=!1,this.trigger("complete",{view:this.view}),this.trigger("after")},end:function(){this.view.showEnd(),this.previous.hideEnd(),this.after()},show:function(a,d,e){if(!a.triggerBeforeShow())return this.trigger("after"),!1;e=e||a.id;var f=this,g=a===f.view?a.clone():f.view,h=f.history,i=h[h.length-2]||{},j=i.id===e,k=d||(j?h[h.length-1].transition:a.transition),l=b(k);return f.running&&f.effect.stop(),"none"===k&&(k=null),f.trigger("accepted",{view:a}),f.view=a,f.previous=g,f.running=!0,j?h.pop():h.push({id:e,transition:k}),g?(g.hideStart(),a.showStart(),k&&c.effects.enabled?(j&&!d&&(l.reverse=!l.reverse),f.effect=c.fx(a.element).replace(g.element,l.type).direction(l.direction).setReverse(l.reverse),f.effect.run().then(function(){f.end()})):f.end(),!0):(a.showStart(),a.showEnd(),f.after(),!0)}});c.ViewContainer=q,c.Fragment=o,c.Layout=n,c.View=l,c.ViewClone=m}(window.kendo.jQuery),function(){kendo.data.transports.signalr=kendo.data.RemoteTransport.extend({init:function(a){var b=a&&a.signalr?a.signalr:{},c=b.promise;if(!c)throw new Error('The "promise" option must be set.');if("function"!=typeof c.done||"function"!=typeof c.fail)throw new Error('The "promise" option must be a Promise.');this.promise=c;var d=b.hub;if(!d)throw new Error('The "hub" option must be set.');if("function"!=typeof d.on||"function"!=typeof d.invoke)throw new Error('The "hub" option is not a valid SignalR hub proxy.');this.hub=d,kendo.data.RemoteTransport.fn.init.call(this,a)},push:function(a){var b=this.options.signalr.client||{};b.create&&this.hub.on(b.create,a.pushCreate),b.update&&this.hub.on(b.update,a.pushUpdate),b.destroy&&this.hub.on(b.destroy,a.pushDestroy)},_crud:function(a,b){var c=this.hub,d=this.options.signalr.server;if(!d||!d[b])throw new Error(kendo.format('The "server.{0}" option must be set.',b));var e=[d[b]],f=this.parameterMap(a.data,b);$.isEmptyObject(f)||e.push(f),this.promise.done(function(){c.invoke.apply(c,e).done(a.success).fail(a.error)})},read:function(a){this._crud(a,"read")},create:function(a){this._crud(a,"create")},update:function(a){this._crud(a,"update")},destroy:function(a){this._crud(a,"destroy")}})}(),function(a){function b(b){var c,d=g.ui.validator.ruleResolvers||{},e={};for(c in d)a.extend(!0,e,d[c].resolve(b));return e}function c(a){return a.replace(/&amp/g,"&amp;").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">")}function d(a){return a=(a+"").split("."),a.length>1?a[1].length:0}function e(b){return a(a.parseHTML?a.parseHTML(b):b)}function f(b,c){for(var d,e,f=a(),h=0,i=b.length;i>h;h++)d=b[h],k.test(d.className)&&(e=d.getAttribute(g.attr("for")),e===c&&(f=f.add(d)));return f}var g=window.kendo,h=g.ui.Widget,i=".kendoValidator",j="k-invalid-msg",k=new RegExp(j,"i"),l="k-invalid",m=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,n=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,o=":input:not(:button,[type=submit],[type=reset],[disabled],[readonly])",p=":checkbox:not([disabled],[readonly])",q="[type=number],[type=range]",r="blur",s="name",t="form",u="novalidate",v=a.proxy,w=function(a,b){return"string"==typeof b&&(b=new RegExp("^(?:"+b+")$")),b.test(a)},x=function(a,b,c){var d=a.val();return a.filter(b).length&&""!==d?w(d,c):!0},y=function(a,b){return a.length?null!=a[0].attributes[b]:!1};g.ui.validator||(g.ui.validator={rules:{},messages:{}});var z=h.extend({init:function(c,d){var e=this,f=b(c);d=d||{},d.rules=a.extend({},g.ui.validator.rules,f.rules,d.rules),d.messages=a.extend({},g.ui.validator.messages,f.messages,d.messages),h.fn.init.call(e,c,d),e._errorTemplate=g.template(e.options.errorTemplate),e.element.is(t)&&e.element.attr(u,u),e._errors={},e._attachEvents()},events:["validate"],options:{name:"Validator",errorTemplate:'<span class="k-widget k-tooltip k-tooltip-validation"><span class="k-icon k-warning"> </span> #=message#</span>',messages:{required:"{0} is required",pattern:"{0} is not valid",min:"{0} should be greater than or equal to {1}",max:"{0} should be smaller than or equal to {1}",step:"{0} is not valid",email:"{0} is not valid email",url:"{0} is not valid URL",date:"{0} is not valid date"},rules:{required:function(a){var b=a.filter("[type=checkbox]").length&&!a.is(":checked"),c=a.val();return!(y(a,"required")&&(""===c||!c||b))},pattern:function(a){return a.filter("[type=text],[type=email],[type=url],[type=tel],[type=search],[type=password]").filter("[pattern]").length&&""!==a.val()?w(a.val(),a.attr("pattern")):!0},min:function(a){if(a.filter(q+",["+g.attr("type")+"=number]").filter("[min]").length&&""!==a.val()){var b=parseFloat(a.attr("min"))||0,c=g.parseFloat(a.val());return c>=b}return!0},max:function(a){if(a.filter(q+",["+g.attr("type")+"=number]").filter("[max]").length&&""!==a.val()){var b=parseFloat(a.attr("max"))||0,c=g.parseFloat(a.val());return b>=c}return!0},step:function(a){if(a.filter(q+",["+g.attr("type")+"=number]").filter("[step]").length&&""!==a.val()){var b,c=parseFloat(a.attr("min"))||0,e=parseFloat(a.attr("step"))||1,f=parseFloat(a.val()),h=d(e);return h?(b=Math.pow(10,h),(f-c)*b%(e*b)/Math.pow(100,h)===0):(f-c)%e===0}return!0},email:function(a){return x(a,"[type=email],["+g.attr("type")+"=email]",m)},url:function(a){return x(a,"[type=url],["+g.attr("type")+"=url]",n)},date:function(a){return a.filter("[type^=date],["+g.attr("type")+"=date]").length&&""!==a.val()?null!==g.parseDate(a.val(),a.attr(g.attr("format"))):!0}},validateOnBlur:!0},destroy:function(){h.fn.destroy.call(this),this.element.off(i)},_submit:function(a){return this.validate()?!0:(a.stopPropagation(),a.stopImmediatePropagation(),a.preventDefault(),!1)},_attachEvents:function(){var b=this;b.element.is(t)&&b.element.on("submit"+i,v(b._submit,b)),b.options.validateOnBlur&&(b.element.is(o)?(b.element.on(r+i,function(){b.validateInput(b.element)}),b.element.is(p)&&b.element.on("click"+i,function(){b.validateInput(b.element)})):(b.element.on(r+i,o,function(){b.validateInput(a(this))}),b.element.on("click"+i,p,function(){b.validateInput(a(this))})))},validate:function(){var a,b,c,d=!1;if(this._errors={},this.element.is(o))d=this.validateInput(this.element);else{var e=!1;for(a=this.element.find(o),b=0,c=a.length;c>b;b++)this.validateInput(a.eq(b))||(e=!0);d=!e}return this.trigger("validate",{valid:d}),d},validateInput:function(b){b=a(b);var d,f=this,g=f._errorTemplate,h=f._checkValidity(b),i=h.valid,k="."+j,m=b.attr(s)||"",n=f._findMessageContainer(m).add(b.next(k)).hide();if(b.removeAttr("aria-invalid"),!i){d=f._extractMessage(b,h.key),f._errors[m]=d;var o=e(g({message:c(d)}));f._decorateMessageContainer(o,m),n.replaceWith(o).length||o.insertAfter(b),o.show(),b.attr("aria-invalid",!0)}return b.toggleClass(l,!i),i},hideMessages:function(){var a=this,b="."+j,c=a.element;c.is(o)?c.next(b).hide():c.find(b).hide()},_findMessageContainer:function(b){for(var c,d=g.ui.validator.messageLocators,e=a(),h=0,i=this.element.length;i>h;h++)e=e.add(f(this.element[h].getElementsByTagName("*"),b));for(c in d)e=e.add(d[c].locate(this.element,b));return e},_decorateMessageContainer:function(a,b){var c,d=g.ui.validator.messageLocators;a.addClass(j).attr(g.attr("for"),b||"");for(c in d)d[c].decorate(a,b);a.attr("role","alert")},_extractMessage:function(a,b){var c=this,d=c.options.messages[b],e=a.attr(s);return d=g.isFunction(d)?d(a):d,g.format(a.attr(g.attr(b+"-msg"))||a.attr("validationMessage")||a.attr("title")||d||"",e,a.attr(b))},_checkValidity:function(a){var b,c=this.options.rules;for(b in c)if(!c[b](a))return{valid:!1,key:b};return{valid:!0}},errors:function(){var a,b=[],c=this._errors;for(a in c)b.push(c[a]);return b}});g.ui.plugin(z)}(window.kendo.jQuery),function(a){function b(a,b){var c=a.x.location,d=a.y.location,e=b.x.location,f=b.y.location,g=c-e,h=d-f;return{center:{x:(c+e)/2,y:(d+f)/2},distance:Math.sqrt(g*g+h*h)}}function c(a){var b,c,d,e=[],f=a.originalEvent,h=a.currentTarget,i=0;if(a.api)e.push({id:2,event:a,target:a.target,currentTarget:a.target,location:a});else if(a.type.match(/touch/))for(c=f?f.changedTouches:[],b=c.length;b>i;i++)d=c[i],e.push({location:d,event:a,target:d.target,currentTarget:h,id:d.identifier});else e.push(g.pointers||g.msPointers?{location:f,event:a,target:a.target,currentTarget:h,id:f.pointerId}:{id:1,event:a,target:a.target,currentTarget:h,location:a});return e}function d(b){b.preventDefault();var c=a(b.data.root),d=c.closest(".k-widget").parent();d[0]||(d=c.parent());var e=a.extend(!0,{},b,{target:c[0]});d.trigger(a.Event(b.type,e))}function e(a){for(var b=f.eventMap.up.split(" "),c=0,d=b.length;d>c;c++)a(b[c])}var f=window.kendo,g=f.support,h=window.document,i=f.Class,j=f.Observable,k=a.now,l=a.extend,m=g.mobileOS,n=m&&m.android,o=800,p=g.browser.msie?5:0,q="press",r="hold",s="select",t="start",u="move",v="end",w="cancel",x="tap",y="release",z="gesturestart",A="gesturechange",B="gestureend",C="gesturetap",D=i.extend({init:function(a,b){var c=this;c.axis=a,c._updateLocationData(b),c.startLocation=c.location,c.velocity=c.delta=0,c.timeStamp=k()},move:function(a){var b=this,c=a["page"+b.axis],d=k(),e=d-b.timeStamp||1;(c||!n)&&(b.delta=c-b.location,b._updateLocationData(a),b.initialDelta=c-b.startLocation,b.velocity=b.delta/e,b.timeStamp=d)},_updateLocationData:function(a){var b=this,c=b.axis;b.location=a["page"+c],b.client=a["client"+c],b.screen=a["screen"+c]}}),E=i.extend({init:function(a,b,c){l(this,{x:new D("X",c.location),y:new D("Y",c.location),userEvents:a,target:b,currentTarget:c.currentTarget,initialTouch:c.target,id:c.id,pressEvent:c,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout(a.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(q,this.pressEvent)},_hold:function(){this._trigger(r,this.pressEvent)},move:function(a){var b=this;if(!b._finished){if(b.x.move(a.location),b.y.move(a.location),!b._moved){if(b._withinIgnoreThreshold())return;if(F.current&&F.current!==b.userEvents)return b.dispose();b._start(a)}b._finished||b._trigger(u,a)}},end:function(a){var b=this;b.endTime=k(),b._finished||(b._finished=!0,b._moved?b._trigger(v,a):b._trigger(x,a),clearTimeout(b._holdTimeout),b._trigger(y,a),b.dispose())},dispose:function(){var b=this.userEvents,c=b.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),c.splice(a.inArray(this,c),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(a){clearTimeout(this._holdTimeout),this.startTime=k(),this._moved=!0,this._trigger(t,a)},_trigger:function(a,b){var c=this,d=b.event,e={touch:c,x:c.x,y:c.y,target:c.target,event:d};c.userEvents.notify(a,e)&&d.preventDefault()},_withinIgnoreThreshold:function(){var a=this.x.initialDelta,b=this.y.initialDelta;return Math.sqrt(a*a+b*b)<=this.userEvents.threshold}}),F=j.extend({init:function(b,c){var d,i=this,k=f.guid();if(c=c||{},d=i.filter=c.filter,i.threshold=c.threshold||p,i.minHold=c.minHold||o,i.touches=[],i._maxTouches=c.multiTouch?2:1,i.allowSelection=c.allowSelection,i.captureUpIfMoved=c.captureUpIfMoved,i.eventNS=k,b=a(b).handler(i),j.fn.init.call(i),l(i,{element:b,surface:a(c.global?h.documentElement:c.surface||b),stopPropagation:c.stopPropagation,pressed:!1}),i.surface.handler(i).on(f.applyEventMap("move",k),"_move").on(f.applyEventMap("up cancel",k),"_end"),b.on(f.applyEventMap("down",k),d,"_start"),(g.pointers||g.msPointers)&&b.css("-ms-touch-action","pinch-zoom double-tap-zoom"),c.preventDragEvent&&b.on(f.applyEventMap("dragstart",k),f.preventDefault),b.on(f.applyEventMap("mousedown selectstart",k),d,{root:b},"_select"),i.captureUpIfMoved&&g.eventCapture){var m=i.surface[0],n=a.proxy(i.preventIfMoving,i);e(function(a){m.addEventListener(a,n,!0)})}i.bind([q,r,x,t,u,v,y,w,z,A,B,C,s],c)},preventIfMoving:function(a){this._isMoved()&&a.preventDefault()},destroy:function(){var a=this;if(!a._destroyed){if(a._destroyed=!0,a.captureUpIfMoved&&g.eventCapture){var b=a.surface[0];e(function(c){b.removeEventListener(c,a.preventIfMoving)})}a.element.kendoDestroy(a.eventNS),a.surface.kendoDestroy(a.eventNS),a.element.removeData("handler"),a.surface.removeData("handler"),a._disposeAll(),a.unbind(),delete a.surface,delete a.element,delete a.currentTarget}},capture:function(){F.current=this},cancel:function(){this._disposeAll(),this.trigger(w)},notify:function(a,c){var d=this,e=d.touches;if(this._isMultiTouch()){switch(a){case u:a=A;break;case v:a=B;break;case x:a=C}l(c,{touches:e},b(e[0],e[1]))}return this.trigger(a,c)},press:function(a,b,c){this._apiCall("_start",a,b,c)},move:function(a,b){this._apiCall("_move",a,b)},end:function(a,b){this._apiCall("_end",a,b)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var a=this.touches;a.length>0;)a.pop().dispose()},_isMoved:function(){return a.grep(this.touches,function(a){return a.isMoved()}).length},_select:function(a){(!this.allowSelection||this.trigger(s,{event:a}))&&d(a)},_start:function(b){var d,e,f=this,g=0,h=f.filter,i=c(b),j=i.length,k=b.which;if(!(k&&k>1||f._maxTouchesReached()))for(F.current=null,f.currentTarget=b.currentTarget,f.stopPropagation&&b.stopPropagation();j>g&&!f._maxTouchesReached();g++)e=i[g],d=h?a(e.currentTarget):f.element,d.length&&(e=new E(f,d,e),f.touches.push(e),e.press(),f._isMultiTouch()&&f.notify("gesturestart",{}))},_move:function(a){this._eachTouch("move",a)},_end:function(a){this._eachTouch("end",a)},_eachTouch:function(a,b){var d,e,f,g,h=this,i={},j=c(b),k=h.touches;for(d=0;d<k.length;d++)e=k[d],i[e.id]=e;for(d=0;d<j.length;d++)f=j[d],g=i[f.id],g&&g[a](f)},_apiCall:function(b,c,d,e){this[b]({api:!0,pageX:c,pageY:d,clientX:c,clientY:d,target:a(e||this.element)[0],stopPropagation:a.noop,preventDefault:a.noop})}});F.minHold=function(a){o=a},f.getTouches=c,f.touchDelta=b,f.UserEvents=F}(window.kendo.jQuery),function(a,b){function c(b,c){try{return a.contains(b,c)||b==c}catch(d){return!1}}function d(a,b){return parseInt(a.css(b),10)||0}function e(a,b){return Math.min(Math.max(a,b.min),b.max)}function f(a,b){var c=s(a),e=c.left+d(a,"borderLeftWidth")+d(a,"paddingLeft"),f=c.top+d(a,"borderTopWidth")+d(a,"paddingTop"),g=e+a.width()-b.outerWidth(!0),h=f+a.height()-b.outerHeight(!0);return{x:{min:e,max:g},y:{min:f,max:h}}}function g(a,c,d){for(var e,f,g=0,h=c&&c.length,i=d&&d.length;a&&a.parentNode;){for(g=0;h>g;g++)if(e=c[g],e.element[0]===a)return{target:e,targetElement:a};for(g=0;i>g;g++)if(f=d[g],k.matchesSelector.call(a,f.options.filter))return{target:f,targetElement:a};a=a.parentNode}return b}var h,i,j=window.kendo,k=j.support,l=window.document,m=j.Class,n=j.ui.Widget,o=j.Observable,p=j.UserEvents,q=a.proxy,r=a.extend,s=j.getOffset,t={},u={},v={},w=j.elementUnderCursor,x="keyup",y="change",z="dragstart",A="hold",B="drag",C="dragend",D="dragcancel",E="dragenter",F="dragleave",G="drop",H=o.extend({init:function(b,c){var d=this,e=b[0];d.capture=!1,e.addEventListener?(a.each(j.eventMap.down.split(" "),function(){e.addEventListener(this,q(d._press,d),!0)}),a.each(j.eventMap.up.split(" "),function(){e.addEventListener(this,q(d._release,d),!0)})):(a.each(j.eventMap.down.split(" "),function(){e.attachEvent(this,q(d._press,d))}),a.each(j.eventMap.up.split(" "),function(){e.attachEvent(this,q(d._release,d))})),o.fn.init.call(d),d.bind(["press","release"],c||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(a){var b=this;b.trigger("press"),b.capture&&a.preventDefault()},_release:function(a){var b=this;b.trigger("release"),b.capture&&(a.preventDefault(),b.cancelCapture())}}),I=o.extend({init:function(b){var c=this;o.fn.init.call(c),c.forcedEnabled=!1,a.extend(c,b),c.scale=1,c.horizontal?(c.measure="offsetWidth",c.scrollSize="scrollWidth",c.axis="x"):(c.measure="offsetHeight",c.scrollSize="scrollHeight",c.axis="y")},makeVirtual:function(){a.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(a,b){(this._virtualMin!==a||this._virtualMax!==b)&&(this._virtualMin=a,this._virtualMax=b,this.update())},outOfBounds:function(a){return a>this.max||a<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(a){this.scale=a},update:function(a){var b=this,c=b.virtual?b._virtualMax:b.getTotal(),d=c*b.scale,e=b.getSize();b.max=b.virtual?-b._virtualMin:0,b.size=e,b.total=d,b.min=Math.min(b.max,e-d),b.minScale=e/c,b.centerOffset=(d-e)/2,b.enabled=b.forcedEnabled||d>e,a||b.trigger(y,b)}}),J=o.extend({init:function(a){var b=this;o.fn.init.call(b),b.x=new I(r({horizontal:!0},a)),b.y=new I(r({horizontal:!1},a)),b.container=a.container,b.forcedMinScale=a.minScale,b.maxScale=a.maxScale||100,b.bind(y,a)},rescale:function(a){this.x.rescale(a),this.y.rescale(a),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var a=this;a.x.update(),a.y.update(),a.enabled=a.x.enabled||a.y.enabled,a.minScale=a.forcedMinScale||Math.min(a.x.minScale,a.y.minScale),a.fitScale=Math.max(a.x.minScale,a.y.minScale),a.trigger(y)}}),K=o.extend({init:function(a){var b=this;r(b,a),o.fn.init.call(b)},dragMove:function(a){var b=this,c=b.dimension,d=b.axis,e=b.movable,f=e[d]+a;c.enabled&&((f<c.min&&0>a||f>c.max&&a>0)&&(a*=b.resistance),e.translateAxis(d,a),b.trigger(y,b))}}),L=m.extend({init:function(a){var b,c,d,e,f=this;r(f,{elastic:!0},a),d=f.elastic?.5:0,e=f.movable,f.x=b=new K({axis:"x",dimension:f.dimensions.x,resistance:d,movable:e}),f.y=c=new K({axis:"y",dimension:f.dimensions.y,resistance:d,movable:e}),f.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(a){f.gesture=a,f.offset=f.dimensions.container.offset()},gesturechange:function(a){var d,g=f.gesture,h=g.center,i=a.center,j=a.distance/g.distance,k=f.dimensions.minScale,l=f.dimensions.maxScale;e.scale<=k&&1>j&&(j+=.8*(1-j)),e.scale*j>=l&&(j=l/e.scale);var m=e.x+f.offset.left,n=e.y+f.offset.top;d={x:(m-h.x)*j+i.x-m,y:(n-h.y)*j+i.y-n},e.scaleWith(j),b.dragMove(d.x),c.dragMove(d.y),f.dimensions.rescale(e.scale),f.gesture=a,a.preventDefault()},move:function(a){a.event.target.tagName.match(/textarea|input/i)||(b.dimension.enabled||c.dimension.enabled?(b.dragMove(a.x.delta),c.dragMove(a.y.delta),a.preventDefault()):a.touch.skip())},end:function(a){a.preventDefault()}})}}),M=k.transitions.prefix+"Transform";i=k.hasHW3D?function(a,b,c){return"translate3d("+a+"px,"+b+"px,0) scale("+c+")"}:function(a,b,c){return"translate("+a+"px,"+b+"px) scale("+c+")"};var N=o.extend({init:function(b){var c=this;o.fn.init.call(c),c.element=a(b),c.element[0].style.webkitTransformOrigin="left top",c.x=0,c.y=0,c.scale=1,c._saveCoordinates(i(c.x,c.y,c.scale))},translateAxis:function(a,b){this[a]+=b,this.refresh()},scaleTo:function(a){this.scale=a,this.refresh()},scaleWith:function(a){this.scale*=a,this.refresh()},translate:function(a){this.x+=a.x,this.y+=a.y,this.refresh()},moveAxis:function(a,b){this[a]=b,this.refresh()},moveTo:function(a){r(this,a),this.refresh()},refresh:function(){var a,b=this,c=b.x,d=b.y;b.round&&(c=Math.round(c),d=Math.round(d)),a=i(c,d,b.scale),a!=b.coordinates&&(j.support.browser.msie&&j.support.browser.version<10?(b.element[0].style.position="absolute",b.element[0].style.left=b.x+"px",b.element[0].style.top=b.y+"px"):b.element[0].style[M]=a,b._saveCoordinates(a),b.trigger(y))},_saveCoordinates:function(a){this.coordinates=a}}),O=n.extend({init:function(a,b){var c=this;n.fn.init.call(c,a,b);var d=c.options.group;d in u?u[d].push(c):u[d]=[c]},events:[E,F,G],options:{name:"DropTarget",group:"default"},destroy:function(){var a,b=this.options.group,c=u[b]||v[b];if(c.length>1){for(n.fn.destroy.call(this),a=0;a<c.length;a++)if(c[a]==this){c.splice(a,1);break}}else O.destroyGroup(b)},_trigger:function(a,b){var c=this,d=t[c.options.group];return d?c.trigger(a,r({},b.event,{draggable:d,dropTarget:b.dropTarget})):void 0},_over:function(a){this._trigger(E,a)},_out:function(a){this._trigger(F,a)},_drop:function(a){var b=this,c=t[b.options.group];c&&(c.dropped=!b._trigger(G,a))}});O.destroyGroup=function(a){var b,c=u[a]||v[a];if(c){for(b=0;b<c.length;b++)n.fn.destroy.call(c[b]);c.length=0,delete u[a],delete v[a]}},O._cache=u;var P=O.extend({init:function(a,b){var c=this;n.fn.init.call(c,a,b);var d=c.options.group;d in v?v[d].push(c):v[d]=[c]},options:{name:"DropTargetArea",group:"default",filter:null}}),Q=n.extend({init:function(a,b){var c=this;n.fn.init.call(c,a,b),c._activated=!1,c.userEvents=new p(c.element,{global:!0,stopPropagation:!0,filter:c.options.filter,threshold:c.options.distance,start:q(c._start,c),hold:q(c._hold,c),move:q(c._drag,c),end:q(c._end,c),cancel:q(c._cancel,c)}),c._afterEndHandler=q(c._afterEnd,c),c.captureEscape=function(a){a.keyCode===j.keys.ESC&&(c._trigger(D,{event:a}),c.userEvents.cancel())}},events:[A,z,B,C,D],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,dropped:!1},cancelHold:function(){this._activated=!1},_updateHint:function(b){var c,d=this,f=d.options,g=d.boundaries,h=f.axis,i=d.options.cursorOffset;i?c={left:b.x.location+i.left,top:b.y.location+i.top}:(d.hintOffset.left+=b.x.delta,d.hintOffset.top+=b.y.delta,c=a.extend({},d.hintOffset)),g&&(c.top=e(c.top,g.y),c.left=e(c.left,g.x)),"x"===h?delete c.top:"y"===h&&delete c.left,d.hint.css(c)},_start:function(b){var c=this,d=c.options,e=d.ignore,g=e&&a(b.touch.initialTouch).is(e),h=d.container,i=d.hint;if(g||d.holdToDrag&&!c._activated)return void c.userEvents.cancel();if(c.currentTarget=b.target,c.currentTargetOffset=s(c.currentTarget),i){c.hint&&c.hint.stop(!0,!0).remove(),c.hint=j.isFunction(i)?a(i.call(c,c.currentTarget)):i;var k=s(c.currentTarget);c.hintOffset=k,c.hint.css({position:"absolute",zIndex:2e4,left:k.left,top:k.top}).appendTo(l.body)}t[d.group]=c,c.dropped=!1,h&&(c.boundaries=f(h,c.hint)),c._trigger(z,b)&&(c.userEvents.cancel(),c._afterEnd()),a(l).on(x,c.captureEscape)},_hold:function(a){this.currentTarget=a.target,this._trigger(A,a)?this.userEvents.cancel():this._activated=!0},_drag:function(b){var c=this;b.preventDefault(),c._withDropTarget(b,function(c,d){if(!c)return void(h&&(h._trigger(F,r(b,{dropTarget:a(h.targetElement)})),h=null));if(h){if(d===h.targetElement)return;h._trigger(F,r(b,{dropTarget:a(h.targetElement)}))}c._trigger(E,r(b,{dropTarget:a(d)})),h=r(c,{targetElement:d})}),c._trigger(B,b),c.hint&&c._updateHint(b)},_end:function(b){var c=this;c._withDropTarget(b,function(c,d){c&&(c._drop(r({},b,{dropTarget:a(d)})),h=null)}),c._trigger(C,b),c._cancel(b.event)},_cancel:function(){var a=this;a._activated=!1,a.hint&&!a.dropped?setTimeout(function(){a.hint.stop(!0,!0).animate(a.currentTargetOffset,"fast",a._afterEndHandler)},0):a._afterEnd()},_trigger:function(a,b){var c=this;return c.trigger(a,r({},b.event,{x:b.x,y:b.y,currentTarget:c.currentTarget,dropTarget:b.dropTarget}))},_withDropTarget:function(a,b){var d,e,f=this,h=f.options,i=u[h.group],j=v[h.group];(i&&i.length||j&&j.length)&&(d=w(a),f.hint&&c(f.hint[0],d)&&(f.hint.hide(),d=w(a),d||(d=w(a)),f.hint.show()),e=g(d,i,j),e?b(e.target,e.targetElement):b())},destroy:function(){var a=this;n.fn.destroy.call(a),a._afterEnd(),a.userEvents.destroy(),a.currentTarget=null},_afterEnd:function(){var b=this;b.hint&&b.hint.remove(),delete t[b.options.group],b.trigger("destroy"),a(l).off(x,b.captureEscape)}});j.ui.plugin(O),j.ui.plugin(P),j.ui.plugin(Q),j.TapCapture=H,j.containerBoundaries=f,r(j.ui,{Pane:L,PaneDimensions:J,Movable:N})}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.mobile,d=b.effects,e=c.ui,f=a.proxy,g=a.extend,h=e.Widget,i=b.Class,j=b.ui.Movable,k=b.ui.Pane,l=b.ui.PaneDimensions,m=d.Transition,n=d.Animation,o=Math.abs,p=500,q=.7,r=.96,s=10,t=55,u=.5,v=5,w="km-scroller-release",x="km-scroller-refresh",y="pull",z="change",A="resize",B="scroll",C=2,D=n.extend({init:function(a){var b=this;n.fn.init.call(b),g(b,a),b.userEvents.bind("gestureend",f(b.start,b)),b.tapCapture.bind("press",f(b.cancel,b))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var a=this.movable;a.scaleWith(1.1),this.dimensions.rescale(a.scale)},onEnd:function(){var a=this.movable;a.scaleTo(this.dimensions.minScale),this.dimensions.rescale(a.scale)}}),E=n.extend({init:function(a){var b=this;n.fn.init.call(b),g(b,a,{transition:new m({axis:a.axis,movable:a.movable,onEnd:function(){b._end()}})}),b.tapCapture.bind("press",function(){b.cancel()}),b.userEvents.bind("end",f(b.start,b)),b.userEvents.bind("gestureend",f(b.start,b)),b.userEvents.bind("tap",f(b.onEnd,b))},onCancel:function(){this.transition.cancel()},freeze:function(a){var b=this;
b.cancel(),b._moveTo(a)},onEnd:function(){var a=this;a._outOfBounds()?a._snapBack():a._end()},done:function(){return o(this.velocity)<1},start:function(a){var b,c=this;c.dimension.enabled&&(c._outOfBounds()?c._snapBack():(b=a.touch.id===C?0:a.touch[c.axis].velocity,c.velocity=Math.max(Math.min(b*c.velocityMultiplier,t),-t),c.tapCapture.captureNext(),n.fn.start.call(c)))},tick:function(){var a=this,b=a.dimension,c=a._outOfBounds()?u:a.friction,d=a.velocity*=c,e=a.movable[a.axis]+d;!a.elastic&&b.outOfBounds(e)&&(e=Math.max(Math.min(e,b.max),b.min),a.velocity=0),a.movable.moveAxis(a.axis,e)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},_snapBack:function(){var a=this,b=a.dimension,c=a.movable[a.axis]>b.max?b.max:b.min;a._moveTo(c)},_moveTo:function(a){this.transition.moveTo({location:a,duration:p,ease:m.easeOutExpo})}}),F=n.extend({init:function(a){var c=this;b.effects.Animation.fn.init.call(this),g(c,a,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return o(this.offset.y)<v&&o(this.offset.x)<v},onEnd:function(){this.moveTo(this.destination)},setCoordinates:function(a,b){this.offset={},this.origin=a,this.destination=b},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),G=i.extend({init:function(b){var c=this,d="x"===b.axis,e=a('<div class="km-touch-scrollbar km-'+(d?"horizontal":"vertical")+'-scrollbar" />');g(c,b,{element:e,elementSize:0,movable:new j(e),scrollMovable:b.movable,size:d?"width":"height"}),c.scrollMovable.bind(z,f(c._move,c)),c.container.append(e)},_move:function(){var a=this,b=a.axis,c=a.dimension,d=c.size,e=a.scrollMovable,f=d/c.total,g=Math.round(-e[b]*f),h=Math.round(d*f);g+h>d?h=d-g:0>g&&(h+=g,g=0),a.elementSize!=h&&(a.element.css(a.size,h+"px"),a.elementSize=h),a.movable.moveAxis(b,g)},show:function(){this.element.css({opacity:q,visibility:"visible"})},hide:function(){this.element.css({opacity:0})}}),H=h.extend({init:function(c,d){var e=this;if(h.fn.init.call(e,c,d),c=e.element,e._native=e.options.useNative&&b.support.hasNativeScrolling,e._native)return c.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),void g(e,{scrollElement:c,fixedContainer:c.children().first()});c.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var i=c.children().eq(1),m=new b.TapCapture(c),n=new j(i),p=new l({element:i,container:c,forcedEnabled:e.options.zoom}),q=this.options.avoidScrolling,r=new b.UserEvents(c,{allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:e.options.zoom,start:function(b){p.refresh();var c=o(b.x.velocity),d=o(b.y.velocity),f=2*c>=d,g=a.contains(e.fixedContainer[0],b.event.target),h=2*d>=c;!g&&!q(b)&&e.enabled&&(p.x.enabled&&f||p.y.enabled&&h)?r.capture():r.cancel()}}),s=new k({movable:n,dimensions:p,userEvents:r,elastic:e.options.elastic}),t=new D({movable:n,dimensions:p,userEvents:r,tapCapture:m}),u=new F({moveTo:function(a){e.scrollTo(a.x,a.y)}});n.bind(z,function(){e.scrollTop=-n.y,e.scrollLeft=-n.x,e.trigger(B,{scrollTop:e.scrollTop,scrollLeft:e.scrollLeft})}),e.options.mousewheelScrolling&&c.on("DOMMouseScroll mousewheel",f(this,"_wheelScroll")),g(e,{movable:n,dimensions:p,zoomSnapBack:t,animatedScroller:u,userEvents:r,pane:s,tapCapture:m,pulled:!1,enabled:!0,scrollElement:i,scrollTop:0,scrollLeft:0,fixedContainer:c.children().first()}),e._initAxis("x"),e._initAxis("y"),e._wheelEnd=function(){e._wheel=!1,e.userEvents.end(0,e._wheelY)},p.refresh(),e.options.pullToRefresh&&e._initPullToRefresh()},_wheelScroll:function(a){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var c=b.wheelDeltaY(a);c&&(this._wheelY+=c,this.userEvents.move(0,this._wheelY)),a.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(a,b){this.dimensions.y.virtualSize(a,b)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"},events:[y,B,A],_resize:function(){this._native||this.dimensions.refresh(),this.reset()},setOptions:function(a){var b=this;h.fn.setOptions.call(b,a),a.pullToRefresh&&b._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},zoomOut:function(){var a=this.dimensions;a.refresh(),this._scale(a.fitScale),this.movable.moveTo(a.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(a,b){this._native?(this.scrollElement.scrollLeft(o(a)),this.scrollElement.scrollTop(o(b))):(this.dimensions.refresh(),this.movable.moveTo({x:a,y:b}))},animatedScrollTo:function(a,b){var c,d;this._native?this.scrollTo(a,b):(c={x:this.movable.x,y:this.movable.y},d={x:a,y:b},this.animatedScroller.setCoordinates(c,d),this.animatedScroller.start())},pullHandled:function(){var a=this;a.refreshHint.removeClass(x),a.hintContainer.html(a.pullTemplate({})),a.yinertia.onEnd(),a.xinertia.onEnd(),a.userEvents.cancel()},destroy:function(){h.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(a){this.dimensions.rescale(a),this.movable.scaleTo(a)},_initPullToRefresh:function(){var a=this;a.dimensions.y.forceEnabled(),a.pullTemplate=b.template(a.options.pullTemplate),a.releaseTemplate=b.template(a.options.releaseTemplate),a.refreshTemplate=b.template(a.options.refreshTemplate),a.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+a.pullTemplate({})+"</span></span>"),a.refreshHint=a.scrollElement.children().first(),a.hintContainer=a.refreshHint.children(".km-template"),a.pane.y.bind("change",f(a._paneChange,a)),a.userEvents.bind("end",f(a._dragEnd,a))},_dragEnd:function(){var a=this;a.pulled&&(a.pulled=!1,a.refreshHint.removeClass(w).addClass(x),a.hintContainer.html(a.refreshTemplate({})),a.yinertia.freeze(a.options.pullOffset/2),a.trigger("pull"))},_paneChange:function(){var a=this;a.movable.y/u>a.options.pullOffset?a.pulled||(a.pulled=!0,a.refreshHint.removeClass(x).addClass(w),a.hintContainer.html(a.releaseTemplate({}))):a.pulled&&(a.pulled=!1,a.refreshHint.removeClass(w),a.hintContainer.html(a.pullTemplate({})))},_initAxis:function(a){var b=this,c=b.movable,d=b.dimensions[a],e=b.tapCapture,f=new G({axis:a,movable:c,dimension:d,container:b.element});b.pane[a].bind(z,function(){f.show()}),b[a+"inertia"]=new E({axis:a,movable:c,tapCapture:e,userEvents:b.userEvents,dimension:d,elastic:b.options.elastic,friction:b.options.friction||r,velocityMultiplier:b.options.velocityMultiplier||s,end:function(){f.hide(),b.trigger("scrollEnd",{axis:a,scrollTop:b.scrollTop,scrollLeft:b.scrollLeft})}})}});e.plugin(H)}(window.kendo.jQuery),function(a){function b(a){return a.position().top+3}var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=!1,g=".kendoGroupable",h="change",i=c.template('<div class="k-group-indicator" data-#=data.ns#field="${data.field}" data-#=data.ns#title="${data.title || ""}" data-#=data.ns#dir="${data.dir || "asc"}"><a href="\\#" class="k-link"><span class="k-icon k-si-arrow-${(data.dir || "asc") == "asc" ? "n" : "s"}">(sorted ${(data.dir || "asc") == "asc" ? "ascending": "descending"})</span>${data.title ? data.title: data.field}</a><a class="k-button k-button-icon k-button-bare"><span class="k-icon k-group-delete"></span></a></div>',{useWithBlock:!1}),j=function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(c.attr("title"))||b.attr(c.attr("field"))).prepend('<span class="k-icon k-drag-status k-denied" />')},k=a('<div class="k-grouping-dropclue"/>'),l=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,m=d.extend({init:function(i,l){var m,n,o=this,p=c.guid(),q=e(o._intializePositions,o),r=o._dropCuePositions=[];d.fn.init.call(o,i,l),f=c.support.isRtl(i),n=f?"right":"left",o.draggable=m=o.options.draggable||new c.ui.Draggable(o.element,{filter:o.options.draggableElements,hint:j,group:p}),o.groupContainer=a(o.options.groupContainer,o.element).kendoDropTarget({group:m.options.group,dragenter:function(a){o._canDrag(a.draggable.currentTarget)&&(a.draggable.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add"),k.css("top",b(o.groupContainer)).css(n,0).appendTo(o.groupContainer))},dragleave:function(a){a.draggable.hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"),k.remove()},drop:function(b){var d,e=b.draggable.currentTarget,g=e.attr(c.attr("field")),h=e.attr(c.attr("title")),i=o.indicator(g),j=o._dropCuePositions,l=j[j.length-1];(e.hasClass("k-group-indicator")||o._canDrag(e))&&(l?(d=o._dropCuePosition(c.getOffset(k).left+parseInt(l.element.css("marginLeft"),10)*(f?-1:1)+parseInt(l.element.css("marginRight"),10)),d&&o._canDrop(a(i),d.element,d.left)&&(d.before?d.element.before(i||o.buildIndicator(g,h)):d.element.after(i||o.buildIndicator(g,h)),o._change())):(o.groupContainer.append(o.buildIndicator(g,h)),o._change()))}}).kendoDraggable({filter:"div.k-group-indicator",hint:j,group:m.options.group,dragcancel:e(o._dragCancel,o),dragstart:function(a){var c=a.currentTarget,d=parseInt(c.css("marginLeft"),10),e=c.position(),g=f?e.left-d:e.left+c.outerWidth();q(),k.css({top:b(o.groupContainer),left:g}).appendTo(o.groupContainer),this.hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")},dragend:function(){o._dragEnd(this)},drag:e(o._drag,o)}).on("click"+g,".k-button",function(b){b.preventDefault(),o._removeIndicator(a(this).parent())}).on("click"+g,".k-link",function(b){var d=a(this).parent(),e=o.buildIndicator(d.attr(c.attr("field")),d.attr(c.attr("title")),"asc"==d.attr(c.attr("dir"))?"desc":"asc");d.before(e).remove(),o._change(),b.preventDefault()}),m.bind(["dragend","dragcancel","dragstart","drag"],{dragend:function(){o._dragEnd(this)},dragcancel:e(o._dragCancel,o),dragstart:function(a){var b,c,d;return o.options.allowDrag||o._canDrag(a.currentTarget)?(q(),void(r.length?(b=r[r.length-1].element,c=parseInt(b.css("marginRight"),10),d=b.position().left+b.outerWidth()+c):d=0)):void a.preventDefault()},drag:e(o._drag,o)}),o.dataSource=o.options.dataSource,o.dataSource&&o._refreshHandler?o.dataSource.unbind(h,o._refreshHandler):o._refreshHandler=e(o.refresh,o),o.dataSource&&(o.dataSource.bind("change",o._refreshHandler),o.refresh())},refresh:function(){var b=this,d=b.dataSource;b.groupContainer&&b.groupContainer.empty().append(a.map(d.group()||[],function(a){var d=a.field.replace(l,"\\$1"),e=b.element.find(b.options.filter).filter("["+c.attr("field")+"="+d+"]");return b.buildIndicator(a.field,e.attr(c.attr("title")),a.dir)}).join("")),b._invalidateGroupContainer()},destroy:function(){var a=this;d.fn.destroy.call(a),a.groupContainer.off(g),a.groupContainer.data("kendoDropTarget")&&a.groupContainer.data("kendoDropTarget").destroy(),a.groupContainer.data("kendoDraggable")&&a.groupContainer.data("kendoDraggable").destroy(),a.options.draggable||a.draggable.destroy(),a.dataSource&&a._refreshHandler&&(a.dataSource.unbind("change",a._refreshHandler),a._refreshHandler=null),a.groupContainer=a.element=a.draggable=null},options:{name:"Groupable",filter:"th",draggableElements:"th",messages:{empty:"Drag a column header and drop it here to group by that column"}},indicator:function(b){var d=a(".k-group-indicator",this.groupContainer);return a.grep(d,function(d){return a(d).attr(c.attr("field"))===b})[0]},buildIndicator:function(a,b,d){return i({field:a.replace(/"/g,"'"),dir:d,title:b,ns:c.ns})},descriptors:function(){var b,d,e,f,g,h=this,i=a(".k-group-indicator",h.groupContainer);return b=h.element.find(h.options.filter).map(function(){var b=a(this),e=b.attr(c.attr("aggregates")),h=b.attr(c.attr("field"));if(e&&""!==e)for(d=e.split(","),e=[],f=0,g=d.length;g>f;f++)e.push({field:h,aggregate:d[f]});return e}).toArray(),a.map(i,function(d){return d=a(d),e=d.attr(c.attr("field")),{field:e,dir:d.attr(c.attr("dir")),aggregates:b||[]}})},_removeIndicator:function(a){var b=this;a.remove(),b._invalidateGroupContainer(),b._change()},_change:function(){var a=this;a.dataSource&&a.dataSource.group(a.descriptors())},_dropCuePosition:function(b){var c=this._dropCuePositions;if(k.is(":visible")&&0!==c.length){b=Math.ceil(b);var d=c[c.length-1],e=d.left,g=d.right,h=parseInt(d.element.css("marginLeft"),10),i=parseInt(d.element.css("marginRight"),10);return b>=g&&!f||e>b&&f?b={left:d.element.position().left+(f?-h:d.element.outerWidth()+i),element:d.element,before:!1}:(b=a.grep(c,function(a){return a.left<=b&&b<=a.right||f&&b>a.right})[0],b&&(b={left:f?b.element.position().left+b.element.outerWidth()+i:b.element.position().left-h,element:b.element,before:!0})),b}},_drag:function(a){var b=this._dropCuePosition(a.x.location);b&&k.css({left:b.left,right:"auto"})},_canDrag:function(a){var b=a.attr(c.attr("field"));return"false"!=a.attr(c.attr("groupable"))&&b&&(a.hasClass("k-group-indicator")||!this.indicator(b))},_canDrop:function(a,b,c){var d=a.next(),e=a[0]!==b[0]&&(!d[0]||b[0]!==d[0]||!f&&c>d.position().left||f&&c<d.position().left);return e},_dragEnd:function(b){var d=this,e=b.currentTarget.attr(c.attr("field")),f=d.indicator(e);b!==d.options.draggable&&!b.dropped&&f&&d._removeIndicator(a(f)),d._dragCancel()},_dragCancel:function(){k.remove(),this._dropCuePositions=[]},_intializePositions:function(){var b,d=this,e=a(".k-group-indicator",d.groupContainer);d._dropCuePositions=a.map(e,function(d){return d=a(d),b=c.getOffset(d).left,{left:parseInt(b,10),right:parseInt(b+d.outerWidth(),10),element:d}})},_invalidateGroupContainer:function(){var a=this.groupContainer;a&&a.is(":empty")&&a.html(this.options.messages.empty)}});c.ui.plugin(m)}(window.kendo.jQuery),function(a){function b(b,c){b=a(b),c?b.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):b.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var c=window.kendo,d=c.getOffset,e=c.ui.Widget,f="change",g="k-reorderable",h=e.extend({init:function(h,i){var j,k=this,l=c.guid()+"-reorderable";e.fn.init.call(k,h,i),h=k.element.addClass(g),i=k.options,k.draggable=j=i.draggable||new c.ui.Draggable(h,{group:l,filter:i.filter,hint:i.hint}),k.reorderDropCue=a('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),h.find(j.options.filter).kendoDropTarget({group:j.options.group,dragenter:function(a){if(k._draggable){var c,e=this.element,f=!k._dropTargetAllowed(e)||k._isLastDraggable();if(b(a.draggable.hint,f),!f){c=d(e);var g=c.left;i.inSameContainer&&!i.inSameContainer(e,k._draggable)?k._dropTarget=e:k._elements.index(e)>k._elements.index(k._draggable)&&(g+=e.outerWidth()),k.reorderDropCue.css({height:e.outerHeight(),top:c.top,left:g}).appendTo(document.body)}}},dragleave:function(a){b(a.draggable.hint,!0),k.reorderDropCue.remove(),k._dropTarget=null},drop:function(){if(k._dropTarget=null,k._draggable){var a=this.element,b=k._draggable;k._dropTargetAllowed(a)&&!k._isLastDraggable()&&k.trigger(f,{element:k._draggable,oldIndex:k._elements.index(b),newIndex:k._elements.index(a),position:d(k.reorderDropCue).left>d(a).left?"after":"before"})}}}),j.bind(["dragcancel","dragend","dragstart","drag"],{dragcancel:function(){k.reorderDropCue.remove(),k._draggable=null,k._elements=null},dragend:function(){k.reorderDropCue.remove(),k._draggable=null,k._elements=null},dragstart:function(a){k._draggable=a.currentTarget,k._elements=k.element.find(k.draggable.options.filter)},drag:function(a){if(k._dropTarget&&!this.hint.find(".k-drag-status").hasClass("k-denied")){var b=d(k._dropTarget).left,c=k._dropTarget.outerWidth();k.reorderDropCue.css(a.pageX>b+c/2?{left:b+c}:{left:b})}}})},options:{name:"Reorderable",filter:"*"},events:[f],_isLastDraggable:function(){var a,b=this.options.inSameContainer,c=this._draggable[0],d=this._elements.get(),e=!1;if(!b)return!1;for(;!e&&d.length>0;)a=d.pop(),e=c!==a&&b(c,a);return!e},_dropTargetAllowed:function(a){var b=this.options.inSameContainer,c=this.options.dragOverContainers,d=this._draggable;return d[0]===a[0]?!1:b&&c?b(d,a)?!0:c(this._elements.index(d)):!0},destroy:function(){var b=this;e.fn.destroy.call(b),b.element.find(b.draggable.options.filter).each(function(){var b=a(this);b.data("kendoDropTarget")&&b.data("kendoDropTarget").destroy()}),b.draggable&&(b.draggable.destroy(),b.draggable.element=b.draggable=null),b.elements=b.reorderDropCue=b._elements=b._draggable=null}});c.ui.plugin(h)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f=a.proxy,g=c.isFunction,h=a.extend,i="horizontal",j="vertical",k="start",l="resize",m="resizeend",n=e.extend({init:function(a,b){var c=this;e.fn.init.call(c,a,b),c.orientation=c.options.orientation.toLowerCase()!=j?i:j,c._positionMouse=c.orientation==i?"x":"y",c._position=c.orientation==i?"left":"top",c._sizingDom=c.orientation==i?"outerWidth":"outerHeight",c.draggable=new d.Draggable(a,{distance:0,filter:b.handle,drag:f(c._resize,c),dragcancel:f(c._cancel,c),dragstart:f(c._start,c),dragend:f(c._stop,c)}),c.userEvents=c.draggable.userEvents},events:[l,m,k],options:{name:"Resizable",orientation:i},resize:function(){},_max:function(a){var c=this,d=c.hint?c.hint[c._sizingDom]():0,e=c.options.max;return g(e)?e(a):e!==b?c._initialElementPosition+e-d:e},_min:function(a){var c=this,d=c.options.min;return g(d)?d(a):d!==b?c._initialElementPosition+d:d},_start:function(b){var c=this,d=c.options.hint,e=a(b.currentTarget);c._initialElementPosition=e.position()[c._position],c._initialMousePosition=b[c._positionMouse].startLocation,d&&(c.hint=g(d)?a(d(e)):d,c.hint.css({position:"absolute"}).css(c._position,c._initialElementPosition).appendTo(c.element)),c.trigger(k,b),c._maxPosition=c._max(b),c._minPosition=c._min(b),a(document.body).css("cursor",e.css("cursor"))},_resize:function(a){var c,d=this,e=d._maxPosition,f=d._minPosition,g=d._initialElementPosition+(a[d._positionMouse].location-d._initialMousePosition);c=f!==b?Math.max(f,g):g,d.position=c=e!==b?Math.min(e,c):c,d.hint&&d.hint.toggleClass(d.options.invalidClass||"",c==e||c==f).css(d._position,c),d.resizing=!0,d.trigger(l,h(a,{position:c}))},_stop:function(b){var c=this;c.hint&&c.hint.remove(),c.resizing=!1,c.trigger(m,h(b,{position:c.position})),a(document.body).css("cursor","")},_cancel:function(a){var c=this;c.hint&&(c.position=b,c.hint.css(c._position,c._initialElementPosition),c._stop(a))},destroy:function(){var a=this;e.fn.destroy.call(a),a.draggable&&a.draggable.destroy()},press:function(a){if(a){var b=a.position(),c=this;c.userEvents.press(b.left,b.top,a[0]),c.targetPosition=b,c.target=a}},move:function(a){var c=this,d=c._position,e=c.targetPosition,f=c.position;f===b&&(f=e[d]),e[d]=f+a,c.userEvents.move(e.left,e.top)},end:function(){this.userEvents.end(),this.target=this.position=b}});c.ui.plugin(n)}(window.kendo.jQuery),function(a){function b(b,c){try{return a.contains(b,c)||b==c}catch(d){return!1}}function c(a){return a.clone()}function d(a){return a.clone().removeAttr("id").css("visibility","hidden")}var e=window.kendo,f=e.ui.Widget,g="start",h="beforeMove",i="move",j="end",k="change",l="cancel",m="sort",n="remove",o="receive",p=">*",q=-1,r=f.extend({init:function(a,b){var e=this;f.fn.init.call(e,a,b),e.options.placeholder||(e.options.placeholder=d),e.options.hint||(e.options.hint=c),e._draggable=e._createDraggable(),e.floating=!1},events:[g,h,i,j,k,l],options:{name:"Sortable",hint:null,placeholder:null,filter:p,holdToDrag:!1,disabled:null,container:null,connectWith:null,handler:null,cursorOffset:null,axis:null,cursor:"auto"},destroy:function(){this._draggable.destroy(),f.fn.destroy.call(this)},_createDraggable:function(){var b=this,c=b.element,d=b.options;return new e.ui.Draggable(c,{filter:d.filter,hint:e.isFunction(d.hint)?d.hint:a(d.hint),holdToDrag:d.holdToDrag,container:d.container?a(d.container):null,cursorOffset:d.cursorOffset,axis:d.axis,dragstart:a.proxy(b._dragstart,b),dragcancel:a.proxy(b._dragcancel,b),drag:a.proxy(b._drag,b),dragend:a.proxy(b._dragend,b)})},_dragstart:function(b){var c=this.draggedElement=b.currentTarget,d=b.target||e.elementUnderCursor(b),f=this.options.disabled,h=this.options.handler,i=this.options.placeholder,j=this.placeholder=a(e.isFunction(i)?i.call(this,c):i);f&&c.is(f)?b.preventDefault():h&&!a(d).is(h)?b.preventDefault():this.trigger(g,{item:c,draggableEvent:b})?b.preventDefault():(this.floating=this._isFloating(c),c.css("display","none"),c.before(j),this._setCursor())},_dragcancel:function(){this._cancel(),this.trigger(l,{item:this.draggedElement}),this._resetCursor()},_drag:function(b){var c,d,e,f,g,h=this.draggedElement,i=this._findTarget(b),j={left:b.x.location,top:b.y.location},k={x:b.x.delta,y:b.y.delta},l=this.options.axis,m={item:h,list:this,draggableEvent:b};if("x"===l||"y"===l)return void this._movementByAxis(l,j,k[l],m);if(i){if(c=this._getElementCenter(i.element),d={left:Math.round(j.left-c.left),top:Math.round(j.top-c.top)},a.extend(m,{target:i.element}),i.appendToBottom)return void this._movePlaceholder(i,null,m);if(this.floating?k.x<0&&d.left<0?e="prev":k.x>0&&d.left>0&&(e="next"):k.y<0&&d.top<0?e="prev":k.y>0&&d.top>0&&(e="next"),e){for(g="prev"===e?jQuery.fn.prev:jQuery.fn.next,f=g.call(i.element);f.length&&!f.is(":visible");)f=g.call(f);f[0]!=this.placeholder[0]&&this._movePlaceholder(i,e,m)}}},_dragend:function(b){var c,d,e,f,g=this.placeholder,h=this.draggedElement,i=this.indexOf(h),l=this.indexOf(g),p=this.options.connectWith;return this._resetCursor(),e={action:m,item:h,oldIndex:i,newIndex:l,draggableEvent:b},l>=0?d=this.trigger(j,e):(c=g.parents(p).getKendoSortable(),e.action=n,f=a.extend({},e,{action:o,oldIndex:q,newIndex:c.indexOf(g)}),d=!(!this.trigger(j,e)&&!c.trigger(j,f))),d||l===i?void this._cancel():(g.replaceWith(h),h.show(),this._draggable.dropped=!0,e={action:this.indexOf(h)!=q?m:n,item:h,oldIndex:i,newIndex:this.indexOf(h),draggableEvent:b},this.trigger(k,e),void(c&&(f=a.extend({},e,{action:o,oldIndex:q,newIndex:c.indexOf(h)}),c.trigger(k,f))))},_findTarget:function(b){var c,d,e=this._findElementUnderCursor(b),f=this.options.connectWith;return a.contains(this.element[0],e)?(c=this.items(),d=c.filter(e)[0]||c.has(e)[0],d?{element:a(d),sortable:this}:null):this.element[0]==e&&this.isEmpty()?{element:this.element,sortable:this,appendToBottom:!0}:f?this._searchConnectedTargets(e,b):void 0},_findElementUnderCursor:function(a){{var c=e.elementUnderCursor(a),d=a.sender;this.options.disabled,this.options.filter,this.items()}return b(d.hint[0],c)&&(d.hint.hide(),c=e.elementUnderCursor(a),c||(c=e.elementUnderCursor(a)),d.hint.show()),c},_searchConnectedTargets:function(b,c){for(var d,e,f,g=a(this.options.connectWith),h=0;h<g.length;h++)if(d=g.eq(h).getKendoSortable(),a.contains(g[h],b)){if(d)return e=d.items(),f=e.filter(b)[0]||e.has(b)[0],f?(d.placeholder=this.placeholder,{element:a(f),sortable:d}):null}else if(g[h]==b&&(d&&d.isEmpty()||this._isCursorAfterLast(d,c)))return{element:g.eq(h),sortable:d,appendToBottom:!0}},_isCursorAfterLast:function(a,b){var c,d,f=a.items().last(),g={left:b.x.location,top:b.y.location};return c=e.getOffset(f),c.top+=f.outerHeight(),c.left+=f.outerWidth(),d=this.floating?c.left-g.left:c.top-g.top,0>d?!0:!1},_movementByAxis:function(b,c,d,e){var f,g="x"===b?c.left:c.top,h=0>d?this.placeholder.prev():this.placeholder.next();h.length&&!h.is(":visible")&&(h=0>d?h.prev():h.next()),a.extend(e,{target:h}),f=this._getElementCenter(h),f&&(f="x"===b?f.left:f.top),h.length&&0>d&&0>g-f?this._movePlaceholder({element:h,sortable:this},"prev",e):h.length&&d>0&&g-f>0&&this._movePlaceholder({element:h,sortable:this},"next",e)},_movePlaceholder:function(a,b,c){var d=this.placeholder;a.sortable.trigger(h,c)||(b?"prev"===b?a.element.before(d):"next"===b&&a.element.after(d):a.element.append(d),a.sortable.trigger(i,c))},_setCursor:function(){var b,c=this.options.cursor;c&&"auto"!==c&&(b=a(document.body),this._originalCursorType=b.css("cursor"),b.css({cursor:c}),this._cursorStylesheet||(this._cursorStylesheet=a("<style>* { cursor: "+c+" !important; }</style>")),this._cursorStylesheet.appendTo(b))},_resetCursor:function(){this._originalCursorType&&(a(document.body).css("cursor",this._originalCursorType),this._originalCursorType=null,this._cursorStylesheet.remove())},_getElementCenter:function(a){var b=a.length?e.getOffset(a):null;return b&&(b.top+=a.outerHeight()/2,b.left+=a.outerWidth()/2),b},_isFloating:function(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))},_cancel:function(){this.draggedElement.show(),this.placeholder.remove()},_items:function(){var a,b=this.options.filter;return a=b?this.element.find(b):this.element.children()},indexOf:function(a){var b=this._items(),c=this.placeholder,d=this.draggedElement;return c&&a[0]==c[0]?b.not(d).index(a):b.not(c).index(a)},items:function(){var a=this.placeholder,b=this._items();return a&&(b=b.not(a)),b},isEmpty:function(){return!this.items().not(":hidden").length}});e.ui.plugin(r)}(window.kendo.jQuery),function(a){function b(a,b){var d=c.getOffset(a),e=b.left+b.width,f=b.top+b.height;return d.right=d.left+a.outerWidth(),d.bottom=d.top+a.outerHeight(),!(d.left>e||d.right<b.left||d.top>f||d.bottom<b.top)}var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=Math.abs,g=(Array.prototype.shift,"aria-selected"),h="k-state-selected",i="k-state-selecting",j="k-selectable",k="change",l=".kendoSelectable",m="k-state-unselecting",n=!1;!function(a){!function(){a('<div class="parent"><span /></div>').on("click",">*",function(){n=!0}).find("span").click().end().off()}()}(a);var o=d.extend({init:function(b,f){var g,h=this;d.fn.init.call(h,b,f),h._marquee=a("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),h._lastActive=null,h.element.addClass(j),h.relatedTarget=h.options.relatedTarget,g=h.options.multiple,h.userEvents=new c.UserEvents(h.element,{global:!0,allowSelection:!0,filter:(n?"":"."+j+" ")+h.options.filter,tap:e(h._tap,h)}),g&&h.userEvents.bind("start",e(h._start,h)).bind("move",e(h._move,h)).bind("end",e(h._end,h)).bind("select",e(h._select,h))},events:[k],options:{name:"Selectable",filter:">*",multiple:!1,relatedTarget:a.noop},_isElement:function(a){var b,c=this.element,d=c.length,e=!1;for(a=a[0],b=0;d>b;b++)if(c[b]===a){e=!0;break}return e},_tap:function(b){var c,d=a(b.target),e=this,f=b.event.ctrlKey||b.event.metaKey,g=e.options.multiple,i=g&&b.event.shiftKey,l=b.event.which,m=b.event.button;!e._isElement(d.closest("."+j))||l&&3==l||m&&2==m||(c=d.hasClass(h),g&&f||e.clear(),d=d.add(e.relatedTarget(d)),i?e.selectRange(e._firstSelectee(),d):(c&&f?(e._unselect(d),e._notify(k)):e.value(d),e._lastActive=e._downTarget=d))},_start:function(b){var c,d=this,e=a(b.target),f=e.hasClass(h),g=b.event.ctrlKey||b.event.metaKey;return d._downTarget=e,d._isElement(e.closest("."+j))?(d.options.useAllItems?d._items=d.element.find(d.options.filter):(c=e.closest(d.element),d._items=c.find(d.options.filter)),d._marquee.appendTo(document.body).css({left:b.x.client+1,top:b.y.client+1,width:0,height:0}),g||d.clear(),e=e.add(d.relatedTarget(e)),void(f&&(d._selectElement(e,!0),g&&e.addClass(m)))):void d.userEvents.cancel()},_move:function(a){var b=this,c={left:a.x.startLocation>a.x.location?a.x.location:a.x.startLocation,top:a.y.startLocation>a.y.location?a.y.location:a.y.startLocation,width:f(a.x.initialDelta),height:f(a.y.initialDelta)};b._marquee.css(c),b._invalidateSelectables(c,a.event.ctrlKey||a.event.metaKey),a.preventDefault()},_end:function(){var a=this;a._marquee.remove(),a._unselect(a.element.find(a.options.filter+"."+m)).removeClass(m);var b=a.element.find(a.options.filter+"."+i);b=b.add(a.relatedTarget(b)),a.value(b),a._lastActive=a._downTarget,a._items=null},_invalidateSelectables:function(a,c){var d,e,f,g,j=this._downTarget[0],k=this._items;for(d=0,e=k.length;e>d;d++)g=k.eq(d),f=g.add(this.relatedTarget(g)),b(g,a)?g.hasClass(h)?c&&j!==g[0]&&f.removeClass(h).addClass(m):g.hasClass(i)||g.hasClass(m)||f.addClass(i):g.hasClass(i)?f.removeClass(i):c&&g.hasClass(m)&&f.removeClass(m).addClass(h)},value:function(a){var b=this,c=e(b._selectElement,b);return a?(a.each(function(){c(this)}),void b._notify(k)):b.element.find(b.options.filter+"."+h)},_firstSelectee:function(){var a,b=this;return null!==b._lastActive?b._lastActive:(a=b.value(),a.length>0?a[0]:b.element.find(b.options.filter)[0])},_selectElement:function(b,c){var d=a(b),e=!c&&this._notify("select",{element:b});d.removeClass(i),e||(d.addClass(h),this.options.aria&&d.attr(g,!0))},_notify:function(a,b){return b=b||{},this.trigger(a,b)},_unselect:function(a){return a.removeClass(h),this.options.aria&&a.attr(g,!1),a},_select:function(b){var d="input,a,textarea,.k-multiselect-wrap,select",e=c.support.browser.msie;a(b.event.target).is(d)?(this.userEvents.cancel(),this._downTarget=null):(!e||e&&!a(c._activeElement()).is(d))&&b.preventDefault()},clear:function(){var a=this.element.find(this.options.filter+"."+h);this._unselect(a)},selectRange:function(b,c){var d,e,f,g=this;for(g.clear(),g.element.length>1&&(f=g.options.continuousItems()),f&&f.length||(f=g.element.find(g.options.filter)),b=a.inArray(a(b)[0],f),c=a.inArray(a(c)[0],f),b>c&&(e=b,b=c,c=e),g.options.useAllItems||(c+=g.element.length-1),d=b;c>=d;d++)g._selectElement(f[d]);g._notify(k)},destroy:function(){var a=this;d.fn.destroy.call(a),a.element.off(l),a.userEvents.destroy(),a._marquee=a._lastActive=a.element=a.userEvents=null}});c.ui.plugin(o)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=c.keys,g="click",h="k-button",i="k-button-icon",j="k-button-icontext",k=".kendoButton",l="disabled",m="k-state-disabled",n="k-state-focused",o="k-state-selected",p=d.extend({init:function(a,b){var f=this;d.fn.init.call(f,a,b),a=f.wrapper=f.element,b=f.options,a.addClass(h).attr("role","button"),b.enable=b.enable&&!a.attr(l),f.enable(b.enable),f._tabindex(),f._graphics(),a.on(g+k,e(f._click,f)).on("focus"+k,e(f._focus,f)).on("blur"+k,e(f._blur,f)).on("keydown"+k,e(f._keydown,f)).on("keyup"+k,e(f._keyup,f)),c.notify(f)},events:[g],options:{name:"Button",icon:"",spriteCssClass:"",imageUrl:"",enable:!0},_isNativeButton:function(){return"button"==this.element.prop("tagName").toLowerCase()},_click:function(a){this.options.enable&&this.trigger(g,{event:a})},_focus:function(){this.options.enable&&this.element.addClass(n)},_blur:function(){this.element.removeClass(n)},_keydown:function(a){var b=this;b._isNativeButton()||(a.keyCode==f.ENTER||a.keyCode==f.SPACEBAR)&&(a.keyCode==f.SPACEBAR&&(a.preventDefault(),b.options.enable&&b.element.addClass(o)),b._click(a))},_keyup:function(){this.element.removeClass(o)},_graphics:function(){var b,c,d,e=this,f=e.element,g=e.options,h=g.icon,k=g.spriteCssClass,l=g.imageUrl;(k||l||h)&&(d=!0,f.contents().not("span.k-sprite").not("span.k-icon").not("img.k-image").each(function(b,c){(1==c.nodeType||3==c.nodeType&&a.trim(c.nodeValue).length>0)&&(d=!1)}),f.addClass(d?i:j)),h?(b=f.children("span.k-icon").first(),b[0]||(b=a('<span class="k-icon"></span>').prependTo(f)),b.addClass("k-i-"+h)):k?(b=f.children("span.k-sprite").first(),b[0]||(b=a('<span class="k-sprite"></span>').prependTo(f)),b.addClass(k)):l&&(c=f.children("img.k-image").first(),c[0]||(c=a('<img alt="icon" class="k-image" />').prependTo(f)),c.attr("src",l))
},enable:function(a){var c=this,d=c.element;a===b&&(a=!0),a=!!a,c.options.enable=a,d.toggleClass(m,!a).attr("aria-disabled",!a).attr(l,!a)}});c.ui.plugin(p)}(window.kendo.jQuery),function(a,b){function c(a,b,c,d,e){return a({idx:b,text:c,ns:j.ns,numeric:d,title:e||""})}function d(a,b,c){return w({className:a.substring(1),text:b,wrapClassName:c||""})}function e(a,b,c,d){a.find(b).parent().attr(j.attr("page"),c).attr("tabindex",-1).toggleClass("k-state-disabled",d)}function f(a,b){e(a,n,1,1>=b)}function g(a,b){e(a,p,Math.max(1,b-1),1>=b)}function h(a,b,c){e(a,q,Math.min(c,b+1),b>=c)}function i(a,b,c){e(a,o,c,b>=c)}var j=window.kendo,k=j.ui,l=k.Widget,m=a.proxy,n=".k-i-seek-w",o=".k-i-seek-e",p=".k-i-arrow-w",q=".k-i-arrow-e",r="change",s=".kendoPager",t="click",u="keydown",v="disabled",w=j.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>'),x=l.extend({init:function(b,c){var e,k,v=this;l.fn.init.call(v,b,c),c=v.options,v.dataSource=j.data.DataSource.create(c.dataSource),v.linkTemplate=j.template(v.options.linkTemplate),v.selectTemplate=j.template(v.options.selectTemplate),e=v.page(),k=v.totalPages(),v._refreshHandler=m(v.refresh,v),v.dataSource.bind(r,v._refreshHandler),c.previousNext&&(v.element.find(n).length||(v.element.append(d(n,c.messages.first,"k-pager-first")),f(v.element,e,k)),v.element.find(p).length||(v.element.append(d(p,c.messages.previous)),g(v.element,e,k))),c.numeric&&(v.list=v.element.find(".k-pager-numbers"),v.list.length||(v.list=a('<ul class="k-pager-numbers k-reset" />').appendTo(v.element))),c.input&&(v.element.find(".k-pager-input").length||v.element.append('<span class="k-pager-input k-label">'+c.messages.page+'<input class="k-textbox">'+j.format(c.messages.of,k)+"</span>"),v.element.on(u+s,".k-pager-input input",m(v._keydown,v))),c.previousNext&&(v.element.find(q).length||(v.element.append(d(q,c.messages.next)),h(v.element,e,k)),v.element.find(o).length||(v.element.append(d(o,c.messages.last,"k-pager-last")),i(v.element,e,k))),c.pageSizes&&(v.element.find(".k-pager-sizes").length||a('<span class="k-pager-sizes k-label"><select/>'+c.messages.itemsPerPage+"</span>").appendTo(v.element).find("select").html(a.map(a.isArray(c.pageSizes)?c.pageSizes:[5,10,20],function(a){return"<option>"+a+"</option>"}).join("")).end().appendTo(v.element),v.element.find(".k-pager-sizes select").val(v.pageSize()),j.ui.DropDownList&&v.element.find(".k-pager-sizes select").show().kendoDropDownList(),v.element.on(r+s,".k-pager-sizes select",m(v._change,v))),c.refresh&&(v.element.find(".k-pager-refresh").length||v.element.append('<a href="#" class="k-pager-refresh k-link" title="'+c.messages.refresh+'"><span class="k-icon k-i-refresh">'+c.messages.refresh+"</span></a>"),v.element.on(t+s,".k-pager-refresh",m(v._refreshClick,v))),c.info&&(v.element.find(".k-pager-info").length||v.element.append('<span class="k-pager-info k-label" />')),v.element.on(t+s,"a",m(v._click,v)).addClass("k-pager-wrap k-widget"),c.autoBind&&v.refresh(),j.notify(v)},destroy:function(){var a=this;l.fn.destroy.call(a),a.element.off(s),a.dataSource.unbind(r,a._refreshHandler),a._refreshHandler=null,j.destroy(a.element),a.element=a.list=null},events:[r],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#" #if (title !== "") {# title="#=title#" #}#>#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh",morePages:"More pages"}},setDataSource:function(a){var b=this;b.dataSource.unbind(r,b._refreshHandler),b.dataSource=b.options.dataSource=a,a.bind(r,b._refreshHandler),b.options.autoBind&&a.fetch()},refresh:function(a){var b,d,e,k=this,l=1,m="",n=k.page(),o=k.options,p=k.pageSize(),q=k.dataSource.total(),r=k.totalPages(),s=k.linkTemplate,t=o.buttonCount;if(!a||"itemchange"!=a.action){if(o.numeric){for(n>t&&(e=n%t,l=0===e?n-t+1:n-e+1),d=Math.min(l+t-1,r),l>1&&(m+=c(s,l-1,"...",!1,o.messages.morePages)),b=l;d>=b;b++)m+=c(b==n?k.selectTemplate:s,b,b,!0);r>d&&(m+=c(s,b,"...",!1,o.messages.morePages)),""===m&&(m=k.selectTemplate({text:0})),k.list.html(m)}o.info&&(m=q>0?j.format(o.messages.display,(n-1)*p+1,Math.min(n*p,q),q):o.messages.empty,k.element.find(".k-pager-info").html(m)),o.input&&k.element.find(".k-pager-input").html(k.options.messages.page+'<input class="k-textbox">'+j.format(o.messages.of,r)).find("input").val(n).attr(v,1>q).toggleClass("k-state-disabled",1>q),o.previousNext&&(f(k.element,n,r),g(k.element,n,r),h(k.element,n,r),i(k.element,n,r)),o.pageSizes&&k.element.find(".k-pager-sizes select").val(p).filter("["+j.attr("role")+"=dropdownlist]").kendoDropDownList("value",p).kendoDropDownList("text",p)}},_keydown:function(a){if(a.keyCode===j.keys.ENTER){var b=this.element.find(".k-pager-input").find("input"),c=parseInt(b.val(),10);(isNaN(c)||1>c||c>this.totalPages())&&(c=this.page()),b.val(c),this.page(c)}},_refreshClick:function(a){a.preventDefault(),this.dataSource.read()},_change:function(a){var b=parseInt(a.currentTarget.value,10);isNaN(b)||this.dataSource.pageSize(b)},_click:function(b){var c=a(b.currentTarget);b.preventDefault(),c.is(".k-state-disabled")||this.page(c.attr(j.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(a){return a===b?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(a),void this.trigger(r,{index:a}))}});k.plugin(x)}(window.kendo.jQuery),function(a){function b(b,c){return b===c||a.contains(b,c)}var c=window.kendo,d=c.ui,e=d.Widget,f=c.support,g=c.getOffset,h=c._activeElement,i="open",j="close",k="deactivate",l="activate",m="center",n="left",o="right",p="top",q="bottom",r="absolute",s="hidden",t="body",u="location",v="position",w="visible",x="effects",y="k-state-active",z="k-state-border",A=/k-state-border-(\w+)/,B=".k-picker-wrap, .k-dropdown-wrap, .k-link",C="down",D=a(window),E=a(document.documentElement),F="resize scroll",G=f.transitions.css,H=G+"transform",I=a.extend,J=".kendoPopup",K=["font-size","font-family","font-stretch","font-style","font-weight","line-height"],L=e.extend({init:function(b,d){var f,g=this;d=d||{},d.isRtl&&(d.origin=d.origin||q+" "+o,d.position=d.position||p+" "+o),e.fn.init.call(g,b,d),b=g.element,d=g.options,g.collisions=d.collision?d.collision.split(" "):[],1===g.collisions.length&&g.collisions.push(g.collisions[0]),f=a(g.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),d.appendTo=a(a(d.appendTo)[0]||f[0]||t),g.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!d.isRtl).css({position:r}).appendTo(d.appendTo).on("mouseenter"+J,function(){g._hovered=!0}).on("mouseleave"+J,function(){g._hovered=!1}),g.wrapper=a(),d.animation===!1&&(d.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),I(d.animation.open,{complete:function(){g.wrapper.css({overflow:w}),g.trigger(l)}}),I(d.animation.close,{complete:function(){g.wrapper.hide();var e,f,h=g.wrapper.data(u),i=a(d.anchor);h&&g.wrapper.css(h),d.anchor!=t&&(e=(i[0].className.match(A)||["","down"])[1],f=z+"-"+e,i.removeClass(f).children(B).removeClass(y).removeClass(f),b.removeClass(z+"-"+c.directions[e].reverse)),g._closing=!1,g.trigger(k)}}),g._mousedownProxy=function(a){g._mousedown(a)},g._resizeProxy=function(a){g._resize(a)},d.toggleTarget&&a(d.toggleTarget).on(d.toggleEvent+J,a.proxy(g.toggle,g))},events:[i,l,j,k],options:{name:"Popup",toggleEvent:"click",origin:q+" "+n,position:p+" "+n,anchor:t,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var b,d=this,f=d.options,g=d.element.off(J);e.fn.destroy.call(d),f.toggleTarget&&a(f.toggleTarget).off(J),f.modal||(E.unbind(C,d._mousedownProxy),D.unbind(F,d._resizeProxy)),c.destroy(d.element.children()),g.removeData(),f.appendTo[0]===document.body&&(b=g.parent(".k-animation-container"),b[0]?b.remove():g.remove())},open:function(b,d){var e,g,h=this,j={isFixed:!isNaN(parseInt(d,10)),x:b,y:d},k=h.element,l=h.options,m="down",n=a(l.anchor),o=k[0]&&k.hasClass("km-widget");if(!h.visible()){if(l.copyAnchorStyles&&(o&&"font-size"==K[0]&&K.shift(),k.css(c.getComputedStyles(n[0],K))),k.data("animating")||h.trigger(i))return;if(l.modal||(E.unbind(C,h._mousedownProxy).bind(C,h._mousedownProxy),f.mobileOS.ios||f.mobileOS.android||D.unbind(F,h._resizeProxy).bind(F,h._resizeProxy)),h.wrapper=g=c.wrap(k,l.autosize).css({overflow:s,display:"block",position:r}),f.mobileOS.android&&g.add(n).css(H,"translatez(0)"),g.css(v),a(l.appendTo)[0]==document.body&&g.css(p,"-10000px"),e=I(!0,{},l.animation.open),h.flipped=h._position(j),e.effects=c.parseEffects(e.effects,h.flipped),m=e.effects.slideIn?e.effects.slideIn.direction:m,l.anchor!=t){var q=z+"-"+m;k.addClass(z+"-"+c.directions[m].reverse),n.addClass(q).children(B).addClass(y).addClass(q)}k.data(x,e.effects).kendoStop(!0).kendoAnimate(e)}},toggle:function(){var a=this;a[a.visible()?j:i]()},visible:function(){return this.element.is(":"+w)},close:function(){var b,d,e,f,g=this,h=g.options;if(g.visible()){if(b=g.wrapper[0]?g.wrapper:c.wrap(g.element).hide(),g._closing||g.trigger(j))return;g.element.find(".k-popup").each(function(){var b=a(this),c=b.data("kendoPopup");c&&c.close()}),E.unbind(C,g._mousedownProxy),D.unbind(F,g._resizeProxy),d=I(!0,{},h.animation.close),e=g.element.data(x),f=d.effects,!f&&!c.size(f)&&e&&c.size(e)&&(d.effects=e,d.reverse=!0),g._closing=!0,g.element.kendoStop(!0),b.css({overflow:s}),g.element.kendoAnimate(d)}},_resize:function(a){var c=this;"resize"===a.type?(clearTimeout(c._resizeTimeout),c._resizeTimeout=setTimeout(function(){c._position(),c._resizeTimeout=null},50)):c._hovered||b(c.element[0],h())||c.close()},_mousedown:function(d){var e=this,f=e.element[0],g=e.options,h=a(g.anchor)[0],i=g.toggleTarget,j=c.eventTarget(d),k=a(j).closest(".k-popup"),l=k.parent().parent(".km-shim").length;k=k[0],(l||!k||k===e.element[0])&&"popover"!==a(d.target).closest("a").data("rel")&&(b(f,j)||b(h,j)||i&&b(a(i)[0],j)||e.close())},_fit:function(a,b,c){var d=0;return a+b>c&&(d=c-(a+b)),0>a&&(d=-a),d},_flip:function(a,b,c,d,e,f,g){var h=0;return g=g||b,f!==e&&f!==m&&e!==m&&(a+g>d&&(h+=-(c+b)),0>a+h&&(h+=c+b)),h},_position:function(b){var c,d,e,h,i,j,k=this,l=a(document.documentElement),m=k.element.css(v,""),n=k.wrapper,o=k.options,p=a(o.viewport),q=p.offset(),s=a(o.anchor),t=o.origin.toLowerCase().split(" "),w=o.position.toLowerCase().split(" "),x=k.collisions,y=f.zoomLevel(),z=10002,A=0;if(l.css({overflowX:"hidden",overflowY:"hidden"}),i=p.width(),j=p.height(),l.css({overflowX:"",overflowY:""}),c=s.parents().filter(n.siblings()),c[0])if(e=Number(a(c).css("zIndex")))z=e+1;else for(d=s.parentsUntil(c),h=d.length;h>A;A++)e=Number(a(d[A]).css("zIndex")),e&&e>z&&(z=e+1);n.css("zIndex",z),n.css(b&&b.isFixed?{left:b.x,top:b.y}:k._align(t,w));var B=g(n,v,s[0]===n.offsetParent()[0]),C=g(n),D=s.offsetParent().parent(".k-animation-container,.k-popup,.k-group");D.length&&(B=g(n,v,!0),C=g(n)),p[0]===window?(C.top-=window.pageYOffset||document.documentElement.scrollTop||0,C.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(C.top-=q.top,C.left-=q.left),k.wrapper.data(u)||n.data(u,I({},B));var E=I({},C),F=I({},B);"fit"===x[0]&&(F.top+=k._fit(E.top,n.outerHeight(),j/y)),"fit"===x[1]&&(F.left+=k._fit(E.left,n.outerWidth(),i/y));var G=I({},F);return"flip"===x[0]&&(F.top+=k._flip(E.top,m.outerHeight(),s.outerHeight(),j/y,t[0],w[0],n.outerHeight())),"flip"===x[1]&&(F.left+=k._flip(E.left,m.outerWidth(),s.outerWidth(),i/y,t[1],w[1],n.outerWidth())),m.css(v,r),n.css(F),F.left!=G.left||F.top!=G.top},_align:function(b,c){var d,e=this,f=e.wrapper,h=a(e.options.anchor),i=b[0],j=b[1],k=c[0],l=c[1],n=g(h),p=a(e.options.appendTo),r=f.outerWidth(),s=f.outerHeight(),t=h.outerWidth(),u=h.outerHeight(),v=n.top,w=n.left,x=Math.round;return p[0]!=document.body&&(d=g(p),v-=d.top,w-=d.left),i===q&&(v+=u),i===m&&(v+=x(u/2)),k===q&&(v-=s),k===m&&(v-=x(s/2)),j===o&&(w+=t),j===m&&(w+=x(t/2)),l===o&&(w-=r),l===m&&(w-=x(r/2)),{top:v,left:w}}});d.plugin(L)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui.Widget,e=a.proxy,f=a.extend,g=window.setTimeout,h="click",i="show",j="hide",k="k-notification",l=".k-notification-wrap .k-i-close",m="info",n="success",o="warning",p="error",q="top",r="left",s="bottom",t="right",u="up",v=".kendoNotification",w='<div class="k-widget k-notification"></div>',x='<div class="k-notification-wrap"><span class="k-icon k-i-note">#=typeIcon#</span>#=content#<span class="k-icon k-i-close">Hide</span></div>',y=d.extend({init:function(b,e){var f=this;d.fn.init.call(f,b,e),e=f.options,e.appendTo&&a(e.appendTo).is(b)||f.element.hide(),f._compileTemplates(e.templates),f._guid="_"+c.guid(),f._isRtl=c.support.isRtl(b),f._compileStacking(e.stacking,e.position.top),c.notify(f)},events:[i,j],options:{name:"Notification",position:{pinned:!0,top:null,left:null,bottom:20,right:20},stacking:"default",hideOnClick:!0,button:!1,allowHideAfter:0,autoHideAfter:5e3,appendTo:null,width:null,height:null,templates:[],animation:{open:{effects:"fade:in",duration:300},close:{effects:"fade:out",duration:600,hide:!0}}},_compileTemplates:function(b){var d=this,e=c.template;d._compiled={},a.each(b,function(b,c){d._compiled[c.type]=e(c.template||a("#"+c.templateId).html())}),d._defaultCompiled=e(x)},_getCompiled:function(a){var b=this,c=b._defaultCompiled;return a?b._compiled[a]||c:c},_compileStacking:function(a,b){var c,d,e=this,f={paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0};switch(a){case"down":c=s+" "+r,d=q+" "+r,delete f.paddingBottom;break;case t:c=q+" "+t,d=q+" "+r,delete f.paddingRight;break;case r:c=q+" "+r,d=q+" "+t,delete f.paddingLeft;break;case u:c=q+" "+r,d=s+" "+r,delete f.paddingTop;break;default:null!==b?(c=s+" "+r,d=q+" "+r,delete f.paddingBottom):(c=q+" "+r,d=s+" "+r,delete f.paddingTop)}e._popupOrigin=c,e._popupPosition=d,e._popupPaddings=f},_attachPopupEvents:function(a,b){function c(a){a.on(h+v,function(){b.close()})}var d,e=a.allowHideAfter,f=!isNaN(e)&&e>0;a.hideOnClick?b.bind("activate",function(){f?g(function(){c(b.element)},e):c(b.element)}):a.button&&(d=b.element.find(l),f?g(function(){c(d)},e):c(d))},_showPopup:function(b,d){{var e,h,i=this,k=d.autoHideAfter,m=d.position.left,n=d.position.top;d.allowHideAfter}h=a("."+i._guid).last(),e=new c.ui.Popup(b,{anchor:h[0]?h:document.body,origin:i._popupOrigin,position:i._popupPosition,animation:d.animation,modal:!0,collision:"",isRtl:i._isRtl,close:function(){i.trigger(j,{element:this.element})},deactivate:function(a){a.sender.element.off(v),a.sender.element.find(l).off(v),a.sender.destroy()}}),i._attachPopupEvents(d,e),h[0]?e.open():(null===m&&(m=a(window).width()-b.width()-d.position.right),null===n&&(n=a(window).height()-b.height()-d.position.bottom),e.open(m,n)),e.wrapper.addClass(i._guid).css(f({margin:0},i._popupPaddings)),d.position.pinned?(e.wrapper.css("position","fixed"),h[0]&&i._togglePin(e.wrapper,!0)):h[0]||i._togglePin(e.wrapper,!1),k>0&&g(function(){e.close()},k)},_togglePin:function(b,c){var d=a(window),e=c?-1:1;b.css({top:parseInt(b.css(q),10)+e*d.scrollTop(),left:parseInt(b.css(r),10)+e*d.scrollLeft()})},_attachStaticEvents:function(a,b){function c(a){a.on(h+v,e(d._hideStatic,d,b))}var d=this,f=a.allowHideAfter,i=!isNaN(f)&&f>0;a.hideOnClick?i?g(function(){c(b)},f):c(b):a.button&&(i?g(function(){c(b.find(l))},f):c(b.find(l)))},_showStatic:function(a,b){var c=this,d=b.autoHideAfter,e=b.animation,f=b.stacking==u||b.stacking==r?"prependTo":"appendTo";a.addClass(c._guid)[f](b.appendTo).hide().kendoAnimate(e.open),c._attachStaticEvents(b,a),d>0&&g(function(){c._hideStatic(a)},d)},_hideStatic:function(a){a.kendoAnimate(f(this.options.animation.close,{complete:function(){a.off(v).find(l).off(v),a.remove()}})),this.trigger(j,{element:a})},show:function(d,e){var g,h,j=this,l=j.options,n=a(w);return e||(e=m),null!==d&&d!==b&&""!==d&&(c.isFunction(d)&&(d=d()),h={typeIcon:e,content:""},g=a.isPlainObject(d)?f(h,d):f(h,{content:d}),n.addClass(k+"-"+e).toggleClass(k+"-button",l.button).css({width:l.width,height:l.height}).append(j._getCompiled(e)(g)),a(l.appendTo)[0]?j._showStatic(n,l):j._showPopup(n,l),j.trigger(i,{element:n})),j},info:function(a){return this.show(a,m)},success:function(a){return this.show(a,n)},warning:function(a){return this.show(a,o)},error:function(a){return this.show(a,p)},hide:function(){var b=this,c=b.getNotifications();return c.each(b.options.appendTo?function(c,d){b._hideStatic(a(d))}:function(b,c){var d=a(c).data("kendoPopup");d&&d.close()}),b},getNotifications:function(){var b=this,c=a("."+b._guid);return b.options.appendTo?c:c.children("."+k)},setOptions:function(a){var c,e=this;d.fn.setOptions.call(e,a),c=e.options,a.templates!==b&&e._compileTemplates(c.templates),(a.stacking!==b||a.position!==b)&&e._compileStacking(c.stacking,c.position.top)},destroy:function(){d.fn.destroy.call(this),this.getNotifications().off(v).find(l).off(v)}});c.ui.plugin(y)}(window.kendo.jQuery),function(a){function b(a){for(;a.length;)c(a),a=a.parent()}function c(a){var b=a.data(f.ns+"title");b&&(a.attr("title",b),a.removeData(f.ns+"title"))}function d(a){var b=a.attr("title");b&&(a.data(f.ns+"title",b),a.attr("title",""))}function e(a){for(;a.length&&!a.is("body");)d(a),a=a.parent()}var f=window.kendo,g=f.ui.Widget,h=f.ui.Popup,i=f.isFunction,j=a.isPlainObject,k=a.extend,l=a.proxy,m=a(document),n=f.isLocalUrl,o="_tt_active",p="aria-describedby",q="show",r="hide",s="error",t="contentLoad",u="requestStart",v="k-content-frame",w='<div role="tooltip" class="k-widget k-tooltip#if (!autoHide) {# k-tooltip-closable#}#">#if (!autoHide) {# <div class="k-tooltip-button"><a href="\\#" class="k-icon k-i-close">close</a></div> #}#<div class="k-tooltip-content"></div>#if (callout){ #<div class="k-callout k-callout-#=dir#"></div>#}#</div>',x=f.template("<iframe frameborder='0' class='"+v+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),y=".kendoTooltip",z={bottom:{origin:"bottom center",position:"top center"},top:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"},center:{position:"center center",origin:"center center"}},A={top:"bottom",bottom:"top",left:"right",right:"left",center:"center"},B={bottom:"n",top:"s",left:"e",right:"w",center:"n"},C={horizontal:{offset:"top",size:"outerHeight"},vertical:{offset:"left",size:"outerWidth"}},D=function(a){return a.target.data(f.ns+"title")},E=g.extend({init:function(a,b){var c,d=this;g.fn.init.call(d,a,b),c=d.options.position.match(/left|right/)?"horizontal":"vertical",d.dimensions=C[c],d._documentKeyDownHandler=l(d._documentKeyDown,d),d.element.on(d.options.showOn+y,d.options.filter,l(d._showOn,d)).on("mouseenter"+y,d.options.filter,l(d._mouseenter,d)),this.options.autoHide&&d.element.on("mouseleave"+y,d.options.filter,l(d._mouseleave,d))},options:{name:"Tooltip",filter:"",content:D,showAfter:100,callout:!0,position:"bottom",showOn:"mouseenter",autoHide:!0,width:null,height:null,animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:40,hide:!0}}},events:[q,r,t,s,u],_mouseenter:function(b){e(a(b.currentTarget))},_showOn:function(b){var c=this,d=a(b.currentTarget);c.options.showOn&&c.options.showOn.match(/click|focus/)?c._show(d):(clearTimeout(c.timeout),c.timeout=setTimeout(function(){c._show(d)},c.options.showAfter))},_appendContent:function(a){var b,c=this,d=c.options.content,e=c.content,g=c.options.iframe;j(d)&&d.url?("iframe"in c.options||(g=!n(d.url)),c.trigger(u,{options:d,target:a}),g?(e.hide(),b=e.find("."+v)[0],b?b.src=d.url||b.src:e.html(x({content:d})),e.find("."+v).off("load"+y).on("load"+y,function(){c.trigger(t),e.show()})):(e.empty(),f.ui.progress(e,!0),c._ajaxRequest(d))):d&&i(d)?(d=d({sender:this,target:a}),c.content.html(d||"")):c.content.html(d)},_ajaxRequest:function(a){var b=this;jQuery.ajax(k({type:"GET",dataType:"html",cache:!1,error:function(a,c){f.ui.progress(b.content,!1),b.trigger(s,{status:c,xhr:a})},success:l(function(a){f.ui.progress(b.content,!1),b.content.html(a),b.trigger(t)},b)},a))},_documentKeyDown:function(a){a.keyCode===f.keys.ESC&&this.hide()},refresh:function(){var a=this,b=a.popup;b&&b.options.anchor&&a._appendContent(b.options.anchor)},hide:function(){this.popup&&this.popup.close()},show:function(a){a=a||this.element,e(a),this._show(a)},_show:function(a){var c=this,d=c.target();c.popup||c._initPopup(),d&&d[0]!=a[0]&&(c.popup.close(),c.popup.element.kendoStop(!0,!0)),d&&d[0]==a[0]||(c._appendContent(a),c.popup.options.anchor=a),c.popup.one("deactivate",function(){b(a),a.removeAttr(p),this.element.removeAttr("id").attr("aria-hidden",!0),m.off("keydown"+y,c._documentKeyDownHandler)}),c.popup.open()},_initPopup:function(){var b=this,c=b.options,d=a(f.template(w)({callout:c.callout&&"center"!==c.position,dir:B[c.position],autoHide:c.autoHide}));b.popup=new h(d,k({activate:function(){var a=this.options.anchor,d=a[0].id||b.element[0].id;d&&(a.attr(p,d+o),this.element.attr("id",d+o)),c.callout&&b._positionCallout(),this.element.removeAttr("aria-hidden"),m.on("keydown"+y,b._documentKeyDownHandler),b.trigger(q)},close:function(){b.trigger(r)},copyAnchorStyles:!1,animation:c.animation},z[c.position])),d.css({width:c.width,height:c.height}),b.content=d.find(".k-tooltip-content"),b.arrow=d.find(".k-callout"),c.autoHide?d.on("mouseleave"+y,l(b._mouseleave,b)):d.on("click"+y,".k-tooltip-button",l(b._closeButtonClick,b))},_closeButtonClick:function(a){a.preventDefault(),this.hide()},_mouseleave:function(c){if(this.popup){var d=a(c.currentTarget),e=d.offset(),f=c.pageX,g=c.pageY;if(e.right=e.left+d.outerWidth(),e.bottom=e.top+d.outerHeight(),f>e.left&&f<e.right&&g>e.top&&g<e.bottom)return;this.popup.close()}else b(a(c.currentTarget));clearTimeout(this.timeout)},_positionCallout:function(){var b=this,c=b.options.position,d=b.dimensions,e=d.offset,f=b.popup,g=f.options.anchor,h=a(g).offset(),i=parseInt(b.arrow.css("border-top-width"),10),j=a(f.element).offset(),k=B[f.flipped?A[c]:c],l=h[e]-j[e]+a(g)[d.size]()/2-i;b.arrow.removeClass("k-callout-n k-callout-s k-callout-w k-callout-e").addClass("k-callout-"+k).css(e,l)},target:function(){return this.popup?this.popup.options.anchor:null},destroy:function(){var a=this.popup;a&&(a.element.off(y),a.destroy()),this.element.off(y),m.off("keydown"+y,this._documentKeyDownHandler),g.fn.destroy.call(this)}});f.ui.plugin(E)}(window.kendo.jQuery),function(a,b){function c(b,d){b.filters&&(b.filters=a.grep(b.filters,function(a){return c(a,d),a.filters?a.filters.length:a.field!=d}))}var d=window.kendo,e=d.ui,f=e.Widget,g=d.keys,h=d.support,i=d.htmlEncode,j=d._activeElement,k="id",l="li",m="change",n="k-state-focused",o="k-state-hover",p="k-loading",q="open",r="close",s="select",t="selected",u="progress",v="requestEnd",w="width",x=a.extend,y=a.proxy,z=h.browser,A=z.msie&&z.version<9,B=/"/g,C={ComboBox:"DropDownList",DropDownList:"ComboBox"},D=f.extend({init:function(b,c){var d,e=this,g=e.ns;f.fn.init.call(e,b,c),b=e.element,e._isSelect=b.is(s),e._template(),e.ul=a('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:h.kineticScrollNeeded?"":"auto"}).on("mouseenter"+g,l,function(){a(this).addClass(o)}).on("mouseleave"+g,l,function(){a(this).removeClass(o)}).on("click"+g,l,y(e._click,e)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),e.list=a("<div class='k-list-container'/>").append(e.ul).on("mousedown"+g,function(a){a.preventDefault()}),d=b.attr(k),d&&(e.list.attr(k,d+"-list"),e.ul.attr(k,d+"_listbox"),e._optionID=d+"_option_selected"),e._header(),e._accessors(),e._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(a){f.fn.setOptions.call(this,a),a&&a.enable!==b&&(a.enabled=a.enable)},focus:function(){this._focused.focus()},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},_filterSource:function(a){var b=this,d=b.options,e=b.dataSource,f=e.filter()||{};c(f,d.dataTextField),a&&(f=f.filters||[],f.push(a)),e.filter(f)},_header:function(){var b,c=this.options.headerTemplate;a.isFunction(c)&&(c=c({})),c&&(this.list.prepend(c),b=this.ul.prev(),this.header=b[0]?b:null)},_initValue:function(){var a=this,b=a.options.value;null!==b?a.element.val(b):(b=a._accessor(),a.options.value=b),a._old=b},_ignoreCase:function(){var a,b=this,c=b.dataSource.reader.model;c&&c.fields&&(a=c.fields[b.options.dataTextField],a&&a.type&&"string"!==a.type&&(b.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(a){var c=this,d=c._optionID;return a===b?c._current:(c._current&&(c._current.removeClass(n).removeAttr("aria-selected").removeAttr(k),c._focused.removeAttr("aria-activedescendant")),a&&(a.addClass(n),c._scroll(a),d&&(a.attr("id",d),c._focused.attr("aria-activedescendant",d))),c._current=a,void 0)},destroy:function(){var a=this,b=a.ns;f.fn.destroy.call(a),a._unbindDataSource(),a.ul.off(b),a.list.off(b),a._touchScroller&&a._touchScroller.destroy(),a.popup.destroy(),a._form&&a._form.off("reset",a._resetHandler)},dataItem:function(a){var c=this;return a===b&&(a=c.selectedIndex),c._data()[a]},_accessors:function(){var a=this,b=a.element,c=a.options,e=d.getter,f=b.attr(d.attr("text-field")),g=b.attr(d.attr("value-field"));f&&(c.dataTextField=f),g&&(c.dataValueField=g),a._text=e(c.dataTextField),a._value=e(c.dataValueField)},_aria:function(a){var c=this,d=c.options,e=c._focused;d.suggest!==b&&e.attr("aria-autocomplete",d.suggest?"both":"list"),a=a?a+" "+c.ul[0].id:c.ul[0].id,e.attr("aria-owns",a),c.ul.attr("aria-live",d.filter&&"none"!==d.filter?"polite":"off")},_blur:function(){var a=this;a._change(),a.close()},_change:function(){var a,c=this,d=c.selectedIndex,e=c.options.value,f=c.value();c._isSelect&&!c._bound&&e&&(f=e),f!==c._old?a=!0:d!==b&&d!==c._oldIndex&&(a=!0),a&&(c._old=f,c._oldIndex=d,c.trigger(m),c.element.trigger(m))},_click:function(b){b.isDefaultPrevented()||this._accept(a(b.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var a=this,c=a.options,d=a.element.is("[disabled]");c.enable!==b&&(c.enabled=c.enable),!c.enabled||d?a.enable(!1):a.readonly(a.element.is("[readonly]"))},_focus:function(a){var b=this,c=!0;return b.popup.visible()&&a&&b.trigger(s,{item:a})?void b.close():(b._select(a),b._triggerCascade(c),void b._blur())},_index:function(a){var b,c,d=this,e=d._data();for(b=0,c=e.length;c>b;b++)if(d._dataValue(e[b])==a)return b;return-1},_dataValue:function(a){var c=this._value(a);return c===b&&(c=this._text(a)),c},_height:function(a){if(a){var b,c=this,d=c.list,e=c.popup.visible(),f=c.options.height,g=c.header;b=d.add(d.parent(".k-animation-container")).show(),f=c.ul[0].scrollHeight>f?f:"auto",b.height(f),g&&c.ul.height("auto"==f?f:d.height()-g.height()),e||b.hide()}},_adjustListWidth:function(){var a,b,c=this.list,d=c[0].style.width,e=this.wrapper;if(c.data(w)||!d)return a=window.getComputedStyle?window.getComputedStyle(e[0],null):0,b=a?parseFloat(a.width):e.outerWidth(),a&&(z.mozilla||z.msie)&&(b+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth)),d="border-box"!==c.css("box-sizing")?b-(c.outerWidth()-c.width()):b,c.css({fontFamily:e.css("font-family"),width:d}).data(w,d),!0},_popup:function(){var a=this,b=a.list,c=a._focused,f=a.options,g=a.wrapper;a.popup=new e.Popup(b,x({},f.popup,{anchor:g,open:function(b){a._adjustListWidth(),a.trigger(q)?b.preventDefault():(c.attr("aria-expanded",!0),a.ul.attr("aria-hidden",!1))},close:function(b){a.trigger(r)?b.preventDefault():(c.attr("aria-expanded",!1),a.ul.attr("aria-hidden",!0))},animation:f.animation,isRtl:h.isRtl(g)})),a.popup.one(q,function(){a._height(a._data().length)}),a._touchScroller=d.touchScroller(a.popup.element)},_makeUnselectable:function(){A&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(b){a(b.currentTarget).toggleClass(o,"mouseenter"===b.type)},_toggle:function(a){var c=this,d=h.touch&&h.MSPointers&&h.pointers;a=a!==b?a:!c.popup.visible(),d||c._focused[0]===j()||c._focused.focus(),c[a?q:r]()},_scroll:function(a){if(a){a[0]&&(a=a[0]);var b,c,d=this.ul[0],e=a.offsetTop,f=a.offsetHeight,g=d.scrollTop,h=d.clientHeight,i=e+f,j=this._touchScroller;j?(b=j.dimensions.y,b.enabled&&e>b.size&&(e=e-b.size+f+4,j.scrollTo(0,-e))):(c=this.header?this.header.outerHeight():0,d.scrollTop=g>e?e-c:i>g+h?i-h-c:g)}},_template:function(){var a=this,b=a.options,c=b.template,e=b.dataSource;a._isSelect&&a.element[0].length&&(e||(b.dataTextField=b.dataTextField||"text",b.dataValueField=b.dataValueField||"value")),c?(c=d.template(c),a.template=function(a){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+c(a)+"</li>"}):a.template=d.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+d.expr(b.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(a){var b=this,c=b.value();(!b._bound&&c||b._old!==c)&&b.trigger("cascade",{userTriggered:a})},_unbindDataSource:function(){var a=this;a.dataSource.unbind(m,a._refreshHandler).unbind(u,a._progressHandler).unbind(v,a._requestEndHandler).unbind("error",a._errorHandler)}});x(D,{inArray:function(a,b){var c,d,e=b.children;if(!a||a.parentNode!==b)return-1;for(c=0,d=e.length;d>c;c++)if(a===e[c])return c;return-1}}),d.ui.List=D,e.Select=D.extend({init:function(a,b){D.fn.init.call(this,a,b),this._initial=this.element.val()},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this._bound=!1,this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(a){var c=this;return a===b?c.selectedIndex:(c._select(a),c._triggerCascade(),c._old=c._accessor(),c._oldIndex=c.selectedIndex,void 0)},_accessor:function(a,c){var d,e=this.element[0],f=this._isSelect,g=e.selectedIndex;return a===b?(f?g>-1&&(d=e.options[g],d&&(a=d.value)):a=e.value,a):void(f?(g>-1&&e.options[g].removeAttribute(t),e.selectedIndex=c,d=e.options[c],d&&d.setAttribute(t,t)):e.value=a)},_hideBusy:function(){var a=this;clearTimeout(a._busy),a._arrow.removeClass(p),a._focused.attr("aria-busy",!1),a._busy=null},_showBusy:function(){var a=this;a._request=!0,a._busy||(a._busy=setTimeout(function(){a._focused.attr("aria-busy",!0),a._arrow.addClass(p)},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var b,c=this,e=c.element,f=c.options,g=f.dataSource||{};g=a.isArray(g)?{data:g}:g,c._isSelect&&(b=e[0].selectedIndex,b>-1&&(f.index=b),g.select=e,g.fields=[{field:f.dataTextField},{field:f.dataValueField}]),c.dataSource&&c._refreshHandler?c._unbindDataSource():(c._refreshHandler=y(c.refresh,c),c._progressHandler=y(c._showBusy,c),c._requestEndHandler=y(c._requestEnd,c),c._errorHandler=y(c._hideBusy,c)),c.dataSource=d.data.DataSource.create(g).bind(m,c._refreshHandler).bind(u,c._progressHandler).bind(v,c._requestEndHandler).bind("error",c._errorHandler)},_get:function(b){var c,d,e=this,f=e._data();if("function"==typeof b)for(c=0,d=f.length;d>c;c++)if(b(f[c])){b=c;break}if("number"==typeof b){if(0>b)return a();b=a(e.ul[0].children[b])}return b&&b.nodeType&&(b=a(b)),b},_move:function(a){var b,c,d=this,e=a.keyCode,f=d.ul[0],h=d.popup.visible()?"_select":"_accept",i=d._current,j=e===g.DOWN;if(e===g.UP||j){if(a.altKey)d.toggle(j);else{if(b=f.firstChild,!b&&!d._accessor()&&"filter"!==d._state)return d._fetch||(d.dataSource.one(m,function(){d._move(a),d._fetch=!1
}),d._fetch=!0,d._filterSource()),a.preventDefault(),!0;j?(!i||-1===d.selectedIndex&&!d.value()&&i[0]===b?i=b:(i=i[0].nextSibling,i||b!==f.lastChild||(i=b)),d[h](i)):(i=i?i[0].previousSibling:f.lastChild,i||b!==f.lastChild||(i=b),d[h](i))}a.preventDefault(),c=!0}else e===g.ENTER||e===g.TAB?(d.popup.visible()&&a.preventDefault(),!d._typing&&(d.popup.visible()||i&&i.hasClass("k-state-selected"))||(i=null),d._accept(i),c=!0):e===g.ESC&&(d.popup.visible()&&a.preventDefault(),d.close(),c=!0);return c},_selectItem:function(){var a,c,d=this,e=d._bound===b,f=d.options;a=d._isSelect&&!d._initial&&!f.value&&f.index&&!d._bound,a||(c=d._selectedValue||e&&f.value||d._accessor()),c?d.value(c):e&&d.select(f.index)},_fetchItems:function(a){var c=this,d=c.ul[0].firstChild;return c._request?!0:c._fetch||d?void 0:c.options.cascadeFrom?!d:(c.dataSource.one(m,function(){c._old=b,c.value(a),c._fetch=!1}),c._fetch=!0,c.dataSource.fetch(),!0)},_options:function(a,c){var d,e,f,g,h=this,j=h.element,k=a.length,l="",m=0;for(c&&(m=1,l=c);k>m;m++)d="<option",e=a[m],f=h._text(e),g=h._value(e),g!==b&&(g+="",-1!==g.indexOf('"')&&(g=g.replace(B,"&quot;")),d+=' value="'+g+'"'),d+=">",f!==b&&(d+=i(f)),d+="</option>",l+=d;j.html(l)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(b._initial)})},b._form=e.on("reset",b._resetHandler))},_cascade:function(){var b,d,e,f,g,h=this,i=h.options,j=i.cascadeFrom;if(j){if(h._selectedValue=i.value||h._accessor(),d=a("#"+j),b=d.data("kendo"+i.name),b||(b=d.data("kendo"+C[i.name])),!b)return;i.autoBind=!1,f=i.cascadeFromField||b.options.dataValueField,g=function(){h.dataSource.unbind(m,g);var a=h._selectedValue||h.value();h._userTriggered?h._clearSelection(b,!0):a?(h.value(a),h.dataSource.view()[0]&&-1!==h.selectedIndex||h._clearSelection(b,!0)):h.select(i.index),h.enable(),h._triggerCascade(h._userTriggered),h._userTriggered=!1},e=function(){var a,d,e=b.dataItem(),i=e?b._value(e):null;if(i||0===i){a=h.dataSource.filter()||{},c(a,f),d=a.filters||[],d.push({field:f,operator:"eq",value:i});var j=function(){h.dataSource.unbind(m,j),g.apply(h,arguments)};h.first("dataBound",j),h.dataSource.filter(d)}else h.enable(!1),h._clearSelection(b),h._triggerCascade(h._userTriggered),h._userTriggered=!1},b.first("cascade",function(a){h._userTriggered=a.userTriggered,e()}),b._bound?e():b.value()||h.enable(!1)}}})}(window.kendo.jQuery),function(a,b){function c(a,b,c,d){var e,f=a.getFullYear(),g=b.getFullYear(),h=c.getFullYear();return f-=f%d,e=f+(d-1),g>f&&(f=g),e>h&&(e=h),f+"-"+e}function d(a){for(var b,c=0,d=a.min,e=a.max,f=a.start,g=a.setter,i=a.build,j=a.cells||12,k=a.perRow||4,l=a.content||E,m=a.empty||F,n=a.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';j>c;c++)c>0&&c%k===0&&(n+='</tr><tr role="row">'),b=i(f,c),n+=h(f,d,e)?l(b):m(b),g(f,1);return n+"</tr></tbody></table>"}function e(a,b,c){var d=a.getFullYear(),e=b.getFullYear(),f=e,g=0;return c&&(e-=e%c,f=e-e%c+c-1),d>f?g=1:e>d&&(g=-1),g}function f(){var a=new nb;return new nb(a.getFullYear(),a.getMonth(),a.getDate())}function g(a,b,c){var d=f();return a&&(d=new nb(+a)),b>d?d=new nb(+b):d>c&&(d=new nb(+c)),d}function h(a,b,c){return+a>=+b&&+c>=+a}function i(a,b){return a.slice(b).concat(a.slice(0,b))}function j(a,b,c){b=b instanceof nb?b.getFullYear():a.getFullYear()+c*b,a.setFullYear(b)}function k(b){a(this).toggleClass(U,cb.indexOf(b.type)>-1||b.type==ab)}function l(a){a.preventDefault()}function m(a){return B(a).calendars.standard}function n(a){var c=ob[a.start],d=ob[a.depth],e=B(a.culture);a.format=z(a.format||e.calendars.standard.patterns.d),isNaN(c)&&(c=0,a.start=P),(d===b||d>c)&&(a.depth=P),a.dates||(a.dates=[])}function o(a){H&&a.find("*").attr("unselectable","on")}function p(a,b){for(var c=0,d=b.length;d>c;c++)if(a===+b[c])return!0;return!1}function q(a,b){return a?a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth()&&a.getDate()===b.getDate():!1}function r(a,b){return a?a.getFullYear()===b.getFullYear()&&a.getMonth()===b.getMonth():!1}var s=window.kendo,t=s.support,u=s.ui,v=u.Widget,w=s.keys,x=s.parseDate,y=s.date.adjustDST,z=s._extractFormat,A=s.template,B=s.getCulture,C=s.support.transitions,D=C?C.css+"transform-origin":"",E=A('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),F=A('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),G=s.support.browser,H=G.msie&&G.version<9,I=".kendoCalendar",J="click"+I,K="keydown"+I,L="id",M="min",N="left",O="slideIn",P="month",Q="century",R="change",S="navigate",T="value",U="k-state-hover",V="k-state-disabled",W="k-state-focused",X="k-other-month",Y=' class="'+X+'"',Z="k-nav-today",$="td:has(.k-link)",_="blur"+I,ab="focus",bb=ab+I,cb=t.touch?"touchstart":"mouseenter",db=t.touch?"touchstart"+I:"mouseenter"+I,eb=t.touch?"touchend"+I+" touchmove"+I:"mouseleave"+I,fb=6e4,gb=864e5,hb="_prevArrow",ib="_nextArrow",jb="aria-disabled",kb="aria-selected",lb=a.proxy,mb=a.extend,nb=Date,ob={month:0,year:1,decade:2,century:3},pb=v.extend({init:function(b,c){var d,e,f=this;v.fn.init.call(f,b,c),b=f.wrapper=f.element,c=f.options,c.url=window.unescape(c.url),f._templates(),f._header(),f._footer(f.footer),e=b.addClass("k-widget k-calendar").on(db+" "+eb,$,k).on(K,"table.k-content",lb(f._move,f)).on(J,$,function(b){var c=b.currentTarget.firstChild;-1!=c.href.indexOf("#")&&b.preventDefault(),f._click(a(c))}).on("mouseup"+I,function(){f._focusView(f.options.focusOnNav!==!1)}).attr(L),e&&(f._cellID=e+"_cell_selected"),n(c),d=x(c.value,c.format,c.culture),f._index=ob[c.start],f._current=new nb(+g(d,c.min,c.max)),f._addClassProxy=function(){f._active=!0,f._cell.addClass(W)},f._removeClassProxy=function(){f._active=!1,f._cell.removeClass(W)},f.value(d),s.notify(f)},options:{name:"Calendar",value:null,min:new nb(1900,0,1),max:new nb(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},start:P,depth:P,animation:{horizontal:{effects:O,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}}},events:[R,S],setOptions:function(a){var b=this;n(a),v.fn.setOptions.call(b,a),b._templates(),b._footer(b.footer),b._index=ob[b.options.start],b.navigate()},destroy:function(){var a=this,b=a._today;a.element.off(I),a._title.off(I),a[hb].off(I),a[ib].off(I),s.destroy(a._table),b&&s.destroy(b.off(I)),v.fn.destroy.call(a)},current:function(){return this._current},view:function(){return this._view},focus:function(a){a=a||this._table,this._bindTable(a),a.focus()},min:function(a){return this._option(M,a)},max:function(a){return this._option("max",a)},navigateToPast:function(){this._navigate(hb,-1)},navigateToFuture:function(){this._navigate(ib,1)},navigateUp:function(){var a=this,b=a._index;a._title.hasClass(V)||a.navigate(a._current,++b)},navigateDown:function(a){var b=this,c=b._index,d=b.options.depth;if(a)return c===ob[d]?void(+b._value!=+a&&(b.value(a),b.trigger(R))):void b.navigate(a,--c)},navigate:function(c,d){d=isNaN(d)?ob[d]:d;var e,f,h,i,j=this,k=j.options,l=k.culture,m=k.min,n=k.max,p=j._title,q=j._table,r=j._oldTable,s=j._value,t=j._current,u=c&&+c>+t,v=d!==b&&d!==j._index;c||(c=t),j._current=c=new nb(+g(c,m,n)),d===b?d=j._index:j._index=d,j._view=f=qb.views[d],h=f.compare,i=d===ob[Q],p.toggleClass(V,i).attr(jb,i),i=h(c,m)<1,j[hb].toggleClass(V,i).attr(jb,i),i=h(c,n)>-1,j[ib].toggleClass(V,i).attr(jb,i),q&&r&&r.data("animating")&&(r.kendoStop(!0,!0),q.kendoStop(!0,!0)),j._oldTable=q,(!q||j._changeView)&&(p.html(f.title(c,m,n,l)),j._table=e=a(f.content(mb({min:m,max:n,date:c,url:k.url,dates:k.dates,format:k.format,culture:l},j[f.name]))),o(e),j._animate({from:q,to:e,vertical:v,future:u}),j._focus(c),j.trigger(S)),d===ob[k.depth]&&s&&j._class("k-state-selected",f.toDateString(s)),j._class(W,f.toDateString(c)),!q&&j._cell&&j._cell.removeClass(W),j._changeView=!0},value:function(a){var c=this,d=c._view,e=c.options,f=c._view,g=e.min,i=e.max;return a===b?c._value:(a=x(a,e.format,e.culture),null!==a&&(a=new nb(+a),h(a,g,i)||(a=null)),c._value=a,void(f&&null===a&&c._cell?c._cell.removeClass("k-state-selected"):(c._changeView=!a||d&&0!==d.compare(a,c._current),c.navigate(a))))},_move:function(b){var c,d,e,f,h=this,i=h.options,j=b.keyCode,k=h._view,l=h._index,m=new nb(+h._current),n=s.support.isRtl(h.wrapper);return b.target===h._table[0]&&(h._active=!0),b.ctrlKey?j==w.RIGHT&&!n||j==w.LEFT&&n?(h.navigateToFuture(),d=!0):j==w.LEFT&&!n||j==w.RIGHT&&n?(h.navigateToPast(),d=!0):j==w.UP?(h.navigateUp(),d=!0):j==w.DOWN&&(h._click(a(h._cell[0].firstChild)),d=!0):(j==w.RIGHT&&!n||j==w.LEFT&&n?(c=1,d=!0):j==w.LEFT&&!n||j==w.RIGHT&&n?(c=-1,d=!0):j==w.UP?(c=0===l?-7:-4,d=!0):j==w.DOWN?(c=0===l?7:4,d=!0):j==w.ENTER?(h._click(a(h._cell[0].firstChild)),d=!0):j==w.HOME||j==w.END?(e=j==w.HOME?"first":"last",f=k[e](m),m=new nb(f.getFullYear(),f.getMonth(),f.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()),d=!0):j==w.PAGEUP?(d=!0,h.navigateToPast()):j==w.PAGEDOWN&&(d=!0,h.navigateToFuture()),(c||e)&&(e||k.setDate(m,c),h._focus(g(m,i.min,i.max)))),d&&b.preventDefault(),h._current},_animate:function(a){var b=this,c=a.from,d=a.to,e=b._active;c?c.parent().data("animating")?(c.parent().kendoStop(!0,!0).remove(),c.remove(),d.insertAfter(b.element[0].firstChild),b._focusView(e)):c.is(":visible")&&b.options.animation!==!1?b[a.vertical?"_vertical":"_horizontal"](c,d,a.future):(d.insertAfter(c),c.remove(),b._focusView(e)):(d.insertAfter(b.element[0].firstChild),b._bindTable(d))},_horizontal:function(a,c,d){var e=this,f=e._active,g=e.options.animation.horizontal,h=g.effects,i=a.outerWidth();h&&-1!=h.indexOf(O)&&(a.add(c).css({width:i}),a.wrap("<div/>"),e._focusView(f,a),a.parent().css({position:"relative",width:2*i,"float":N,"margin-left":d?0:-i}),c[d?"insertAfter":"insertBefore"](a),mb(g,{effects:O+":"+(d?"right":N),complete:function(){a.remove(),c.unwrap(),e._focusView(f),e._oldTable=b}}),a.parent().kendoStop(!0,!0).kendoAnimate(g))},_vertical:function(a,c){var d,e,f=this,g=f.options.animation.vertical,h=g.effects,i=f._active;h&&-1!=h.indexOf("zoom")&&(c.css({position:"absolute",top:a.prev().outerHeight(),left:0}).insertBefore(a),D&&(d=f._cellByDate(f._view.toDateString(f._current)),e=d.position(),e=e.left+parseInt(d.width()/2,10)+"px "+(e.top+parseInt(d.height()/2,10)+"px"),c.css(D,e)),a.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){a.remove(),c.css({position:"static",top:0,left:0}),f._focusView(i),f._oldTable=b}}),c.kendoStop(!0,!0).kendoAnimate(g))},_cellByDate:function(b){return this._table.find("td:not(."+X+")").filter(function(){return a(this.firstChild).attr(s.attr(T))===b})},_class:function(b,c){var d=this,e=d._cellID,f=d._cell;f&&f.removeAttr(kb).removeAttr("aria-label").removeAttr(L),f=d._table.find("td:not(."+X+")").removeClass(b).filter(function(){return a(this.firstChild).attr(s.attr(T))===c}).attr(kb,!0),b!==W||d._active||d.options.focusOnNav===!1||(b=""),f.addClass(b),f[0]&&(d._cell=f),e&&(f.attr(L,e),d._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",e))},_bindTable:function(a){a.on(bb,this._addClassProxy).on(_,this._removeClassProxy)},_click:function(a){var b=this,c=b.options,d=new Date(+b._current),e=a.attr(s.attr(T)).split("/");e=new nb(e[0],e[1],e[2]),y(e,0),b._view.setDate(d,e),b.navigateDown(g(d,c.min,c.max))},_focus:function(a){var b=this,c=b._view;0!==c.compare(a,b._current)?b.navigate(a):(b._current=a,b._class(W,c.toDateString(a)))},_focusView:function(a,b){a&&this.focus(b)},_footer:function(b){var c=this,d=f(),e=c.element,g=e.find(".k-footer");return b?(g[0]||(g=a('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(e)),c._today=g.show().find(".k-link").html(b(d)).attr("title",s.toString(d,"D",c.options.culture)),void c._toggle()):(c._toggle(!1),void g.hide())},_header:function(){var a,b=this,c=b.element;c.find(".k-header")[0]||c.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev"><span class="k-icon k-i-arrow-w"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next"><span class="k-icon k-i-arrow-e"></span></a></div>'),a=c.find(".k-link").on(db+" "+eb+" "+bb+" "+_,k).click(!1),b._title=a.eq(1).on(J,function(){b._focusView(b.options.focusOnNav!==!1),b.navigateUp()}),b[hb]=a.eq(0).on(J,function(){b._focusView(b.options.focusOnNav!==!1),b.navigateToPast()}),b[ib]=a.eq(2).on(J,function(){b._focusView(b.options.focusOnNav!==!1),b.navigateToFuture()})},_navigate:function(a,b){var c=this,d=c._index+1,e=new nb(+c._current);a=c[a],a.hasClass(V)||(d>3?e.setFullYear(e.getFullYear()+100*b):qb.views[d].setDate(e,b),c.navigate(e))},_option:function(a,c){var d,e=this,f=e.options,g=e._value||e._current;return c===b?f[a]:(c=x(c,f.format,f.culture),void(c&&(f[a]=new nb(+c),d=a===M?c>g:g>c,(d||r(g,c))&&(d&&(e._value=null),e._changeView=!0),e._changeView||(e._changeView=!(!f.month.content&&!f.month.empty)),e.navigate(e._value),e._toggle())))},_toggle:function(a){var c=this,d=c.options,e=c._today;a===b&&(a=h(f(),d.min,d.max)),e&&(e.off(J),a?e.addClass(Z).removeClass(V).on(J,lb(c._todayClick,c)):e.removeClass(Z).addClass(V).on(J,l))},_todayClick:function(a){var b=this,c=ob[b.options.depth],d=f();a.preventDefault(),0===b._view.compare(b._current,d)&&b._index==c&&(b._changeView=!1),b._value=d,b.navigate(d,c),b.trigger(R)},_templates:function(){var a=this,b=a.options,c=b.footer,d=b.month,e=d.content,f=d.empty;a.month={content:A('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+s.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(e||"#=data.value#")+"</a></td>",{useWithBlock:!!e}),empty:A('<td role="gridcell">'+(f||"&nbsp;")+"</td>",{useWithBlock:!!f})},a.footer=c!==!1?A(c||'#= kendo.toString(data,"D","'+b.culture+'") #',{useWithBlock:!1}):null}});u.plugin(pb);var qb={firstDayOfMonth:function(a){return new nb(a.getFullYear(),a.getMonth(),1)},firstVisibleDay:function(a,b){b=b||s.culture().calendar;for(var c=b.firstDay,d=new nb(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());d.getDay()!=c;)qb.setTime(d,-1*gb);return d},setTime:function(a,b){var c=a.getTimezoneOffset(),d=new nb(a.getTime()+b),e=d.getTimezoneOffset()-c;a.setTime(d.getTime()+e*fb)},views:[{name:P,title:function(a,b,c,d){return m(d).months.names[a.getMonth()]+" "+a.getFullYear()},content:function(a){for(var b=this,c=0,e=a.min,f=a.max,g=a.date,h=a.dates,j=a.format,k=a.culture,l=a.url,n=l&&h[0],o=m(k),q=o.firstDay,r=o.days,t=i(r.names,q),u=i(r.namesShort,q),v=qb.firstVisibleDay(g,o),w=b.first(g),x=b.last(g),z=b.toDateString,A=new nb,B='<table tabindex="0" role="grid" class="k-content" cellspacing="0"><thead><tr role="row">';7>c;c++)B+='<th scope="col" title="'+t[c]+'">'+u[c]+"</th>";return A=new nb(A.getFullYear(),A.getMonth(),A.getDate()),y(A,0),A=+A,d({cells:42,perRow:7,html:B+='</tr></thead><tbody><tr role="row">',start:new nb(v.getFullYear(),v.getMonth(),v.getDate()),min:new nb(e.getFullYear(),e.getMonth(),e.getDate()),max:new nb(f.getFullYear(),f.getMonth(),f.getDate()),content:a.content,empty:a.empty,setter:b.setDate,build:function(a){var b=[],c=a.getDay(),d="",e="#";return(w>a||a>x)&&b.push(X),+a===A&&b.push("k-today"),(0===c||6===c)&&b.push("k-weekend"),n&&p(+a,h)&&(e=l.replace("{0}",s.toString(a,j,k)),d=" k-action-link"),{date:a,dates:h,ns:s.ns,title:s.toString(a,"D",k),value:a.getDate(),dateString:z(a),cssClass:b[0]?' class="'+b.join(" ")+'"':"",linkClass:d,url:e}}})},first:function(a){return qb.firstDayOfMonth(a)},last:function(a){var b=new nb(a.getFullYear(),a.getMonth()+1,0),c=qb.firstDayOfMonth(a),d=Math.abs(b.getTimezoneOffset()-c.getTimezoneOffset());return d&&b.setHours(c.getHours()+d/60),b},compare:function(a,b){var c,d=a.getMonth(),e=a.getFullYear(),f=b.getMonth(),g=b.getFullYear();return c=e>g?1:g>e?-1:d==f?0:d>f?1:-1},setDate:function(a,b){var c=a.getHours();b instanceof nb?a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()):qb.setTime(a,b*gb),y(a,c)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/"+a.getDate()}},{name:"year",title:function(a){return a.getFullYear()},content:function(a){var b=m(a.culture).months.namesAbbr,c=this.toDateString,e=a.min,f=a.max;return d({min:new nb(e.getFullYear(),e.getMonth(),1),max:new nb(f.getFullYear(),f.getMonth(),1),start:new nb(a.date.getFullYear(),0,1),setter:this.setDate,build:function(a){return{value:b[a.getMonth()],ns:s.ns,dateString:c(a),cssClass:""}}})},first:function(a){return new nb(a.getFullYear(),0,a.getDate())},last:function(a){return new nb(a.getFullYear(),11,a.getDate())},compare:function(a,b){return e(a,b)},setDate:function(a,b){var c,d=a.getHours();b instanceof nb?(c=b.getMonth(),a.setFullYear(b.getFullYear(),c,a.getDate()),c!==a.getMonth()&&a.setDate(0)):(c=a.getMonth()+b,a.setMonth(c),c>11&&(c-=12),c>0&&a.getMonth()!=c&&a.setDate(0)),y(a,d)},toDateString:function(a){return a.getFullYear()+"/"+a.getMonth()+"/1"}},{name:"decade",title:function(a,b,d){return c(a,b,d,10)},content:function(a){var b=a.date.getFullYear(),c=this.toDateString;return d({start:new nb(b-b%10-1,0,1),min:new nb(a.min.getFullYear(),0,1),max:new nb(a.max.getFullYear(),0,1),setter:this.setDate,build:function(a,b){return{value:a.getFullYear(),ns:s.ns,dateString:c(a),cssClass:0===b||11==b?Y:""}}})},first:function(a){var b=a.getFullYear();return new nb(b-b%10,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return new nb(b-b%10+9,a.getMonth(),a.getDate())},compare:function(a,b){return e(a,b,10)},setDate:function(a,b){j(a,b,1)},toDateString:function(a){return a.getFullYear()+"/0/1"}},{name:Q,title:function(a,b,d){return c(a,b,d,100)},content:function(a){var b=a.date.getFullYear(),c=a.min.getFullYear(),e=a.max.getFullYear(),f=this.toDateString,g=c,h=e;return g-=g%10,h-=h%10,10>h-g&&(h=g+9),d({start:new nb(b-b%100-10,0,1),min:new nb(g,0,1),max:new nb(h,0,1),setter:this.setDate,build:function(a,b){var d=a.getFullYear(),g=d+9;return c>d&&(d=c),g>e&&(g=e),{ns:s.ns,value:d+" - "+g,dateString:f(a),cssClass:0===b||11==b?Y:""}}})},first:function(a){var b=a.getFullYear();return new nb(b-b%100,a.getMonth(),a.getDate())},last:function(a){var b=a.getFullYear();return new nb(b-b%100+99,a.getMonth(),a.getDate())},compare:function(a,b){return e(a,b,100)},setDate:function(a,b){j(a,b,10)},toDateString:function(a){var b=a.getFullYear();return b-b%10+"/0/1"}}]};qb.isEqualDatePart=q,qb.makeUnselectable=o,qb.restrictValue=g,qb.isInRange=h,qb.normalize=n,qb.viewsEnum=ob,s.calendar=qb}(window.kendo.jQuery),function(a,b){function c(b){var c=b.parseFormats,d=b.format;J.normalize(b),c=a.isArray(c)?c:[c],-1===a.inArray(d,c)&&c.splice(0,0,b.format),b.parseFormats=c}function d(a){a.preventDefault()}var e=window.kendo,f=e.ui,g=f.Widget,h=e.parseDate,i=e.keys,j=e.template,k=e._activeElement,l="<div />",m="<span />",n=".kendoDatePicker",o="click"+n,p="open",q="close",r="change",s="disabled",t="readonly",u="k-state-default",v="k-state-focused",w="k-state-selected",x="k-state-disabled",y="k-state-hover",z="mouseenter"+n+" mouseleave"+n,A="mousedown"+n,B="id",C="min",D="max",E="month",F="aria-disabled",G="aria-expanded",H="aria-hidden",I="aria-readonly",J=e.calendar,K=J.isInRange,L=J.restrictValue,M=J.isEqualDatePart,N=a.extend,O=a.proxy,P=Date,Q=function(b){var c,d=this,g=document.body,h=a(l).attr(H,"true").addClass("k-calendar-container").appendTo(g);d.options=b=b||{},c=b.id,c&&(c+="_dateview",h.attr(B,c),d._dateViewID=c),d.popup=new f.Popup(h,N(b.popup,b,{name:"Popup",isRtl:e.support.isRtl(b.anchor)})),d.div=h,d.value(b.value)};Q.prototype={_calendar:function(){var b,c=this,g=c.calendar,h=c.options;g||(b=a(l).attr(B,e.guid()).appendTo(c.popup.element).on(A,d).on(o,"td:has(.k-link)",O(c._click,c)),c.calendar=g=new f.Calendar(b),c._setOptions(h),e.calendar.makeUnselectable(g.element),g.navigate(c._value||c._current,h.start),c.value(c._value))},_setOptions:function(a){this.calendar.setOptions({focusOnNav:!1,change:a.change,culture:a.culture,dates:a.dates,depth:a.depth,footer:a.footer,format:a.format,max:a.max,min:a.min,month:a.month,start:a.start})},setOptions:function(a){var b=this.options;this.options=N(b,a,{change:b.change,close:b.close,open:b.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var a=this;a._calendar(),a.popup.open()},close:function(){this.popup.close()},min:function(a){this._option(C,a)},max:function(a){this._option(D,a)},toggle:function(){var a=this;a[a.popup.visible()?q:p]()},move:function(a){var b=this,c=a.keyCode,d=b.calendar,e=a.ctrlKey&&c==i.DOWN||c==i.ENTER;if(c==i.ESC)return void b.close();if(a.altKey)return void(c==i.DOWN?(b.open(),a.preventDefault()):c==i.UP&&(b.close(),a.preventDefault()));if(b.popup.visible())return e&&d._cell.hasClass(w)?(b.close(),void a.preventDefault()):void(b._current=d._move(a))},current:function(a){this._current=a,this.calendar._focus(a)},value:function(a){var b=this,c=b.calendar,d=b.options;b._value=a,b._current=new P(+L(a,d.min,d.max)),c&&c.value(a)},_click:function(a){-1!==a.currentTarget.className.indexOf(w)&&this.close()},_option:function(a,b){var c=this,d=c.calendar;c.options[a]=b,d&&d[a](b)}},Q.normalize=c,e.DateView=Q;var R=g.extend({init:function(a,b){var d,f,i=this;g.fn.init.call(i,a,b),a=i.element,b=i.options,b.min=h(a.attr("min"))||h(b.min),b.max=h(a.attr("max"))||h(b.max),c(b),i._wrapper(),i.dateView=new Q(N({},b,{id:a.attr(B),anchor:i.wrapper,change:function(){i._change(this.value()),i.close()},close:function(b){i.trigger(q)?b.preventDefault():(a.attr(G,!1),f.attr(H,!0))},open:function(b){var c,d=i.options;i.trigger(p)?b.preventDefault():(i.element.val()!==i._oldText&&(c=h(a.val(),d.parseFormats,d.culture),i.dateView[c?"current":"value"](c)),a.attr(G,!0),f.attr(H,!1),i._updateARIA(c))}})),f=i.dateView.div,i._icon();try{a[0].setAttribute("type","text")}catch(j){a[0].type="text"}a.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":i.dateView._dateViewID}),i._reset(),i._template(),d=a.is("[disabled]"),d?i.enable(!1):i.readonly(a.is("[readonly]")),i._old=i._update(b.value||i.element.val()),i._oldText=a.val(),e.notify(i)},events:[p,q,r],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:E,depth:E,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#'},setOptions:function(a){var b=this,d=b._value;g.fn.setOptions.call(b,a),a=b.options,a.min=h(a.min),a.max=h(a.max),c(a),b.dateView.setOptions(a),d&&(b.element.val(e.toString(d,a.format,a.culture)),b._updateARIA(d))},_editable:function(a){var b=this,c=b._dateIcon.off(n),e=b.element.off(n),f=b._inputWrapper.off(n),g=a.readonly,h=a.disable;g||h?(f.addClass(h?x:u).removeClass(h?u:x),e.attr(s,h).attr(t,g).attr(F,h).attr(I,g)):(f.addClass(u).removeClass(x).on(z,b._toggleHover),e.removeAttr(s).removeAttr(t).attr(F,!1).attr(I,!1).on("keydown"+n,O(b._keydown,b)).on("blur"+n,O(b._blur,b)).on("focus"+n,function(){b._inputWrapper.addClass(v)}),c.on(o,O(b._click,b)).on(A,d))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;g.fn.destroy.call(a),a.dateView.destroy(),a.element.off(n),a._dateIcon.off(n),a._inputWrapper.off(n),a._form&&a._form.off("reset",a._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(a){return this._option(C,a)},max:function(a){return this._option(D,a)},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),void(c._oldText=c.element.val()))},_toggleHover:function(b){a(b.currentTarget).toggleClass(y,"mouseenter"===b.type)},_blur:function(){var a=this,b=a.element.val();a.close(),b!==a._oldText&&a._change(b),a._inputWrapper.removeClass(v)},_click:function(){var a=this,b=a.element;a.dateView.toggle(),e.support.touch||b[0]===k()||b.focus()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(r),b.element.trigger(r))},_keydown:function(a){var b=this,c=b.dateView,d=b.element.val();c.popup.visible()||a.keyCode!=i.ENTER||d===b._oldText?(c.move(a),b._updateARIA(c._current)):b._change(d)},_icon:function(){var b,c=this,d=c.element;b=d.next("span.k-select"),b[0]||(b=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span></span>').insertAfter(d)),c._dateIcon=b.attr({role:"button","aria-controls":c.dateView._dateViewID})},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=h(c,e.parseFormats,e.culture),void(c&&(e[a]=new P(+c),d.dateView[a](c))))},_update:function(a){var b,c=this,d=c.options,f=d.min,g=d.max,i=h(a,d.parseFormats,d.culture);return+i===+c._value?(b=e.toString(i,d.format,d.culture),b!==a&&c.element.val(null===i?a:b),i):(null!==i&&M(i,f)?i=L(i,f,g):K(i,f,g)||(i=null),c._value=i,c.dateView.value(i),c.element.val(i?e.toString(i,d.format,d.culture):a),c._updateARIA(i),i)},_wrapper:function(){var b,c=this,d=c.element;b=d.parents(".k-datepicker"),b[0]||(b=d.wrap(m).parent().addClass("k-picker-wrap k-state-default"),b=b.wrap(m).parent()),b[0].style.cssText=d[0].style.cssText,d.css({width:"100%",height:d[0].style.height}),c.wrapper=b.addClass("k-widget k-datepicker k-header").addClass(d[0].className),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue)},b._form=e.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=j(this.options.ARIATemplate)},_updateARIA:function(a){var b,c=this,d=c.dateView.calendar;c.element.removeAttr("aria-activedescendant"),d&&(b=d._cell,b.attr("aria-label",c._ariaTemplate({current:a||d.current()})),c.element.attr("aria-activedescendant",b.attr("id")))}});f.plugin(R)}(window.kendo.jQuery),function(a,b){function c(a,b,c){return c?b.substring(0,a).split(c).length-1:0}function d(a,b,d){return b.split(d)[c(a,b,d)]}function e(a,b,d,e){var f=b.split(e);return f.splice(c(a,b,e),1,d),e&&""!==f[f.length-1]&&f.push(""),f.join(e)}var f=window.kendo,g=f.support,h=f.caret,i=f._activeElement,j=g.placeholder,k=f.ui,l=k.List,m=f.keys,n=f.data.DataSource,o="aria-disabled",p="aria-readonly",q="k-state-default",r="disabled",s="readonly",t="k-state-focused",u="k-state-selected",v="k-state-disabled",w="k-state-hover",x=".kendoAutoComplete",y="mouseenter"+x+" mouseleave"+x,z=a.proxy,A=l.extend({init:function(b,c){var d,e=this;e.ns=x,c=a.isArray(c)?{dataSource:c}:c,l.fn.init.call(e,b,c),b=e.element,c=e.options,c.placeholder=c.placeholder||b.attr("placeholder"),j&&b.attr("placeholder",c.placeholder),e._wrapper(),e._loader(),e._dataSource(),e._ignoreCase(),b[0].type="text",d=e.wrapper,e._popup(),b.addClass("k-input").on("keydown"+x,z(e._keydown,e)).on("paste"+x,z(e._search,e)).on("focus"+x,function(){e._prev=e._accessor(),e._placeholder(!1),d.addClass(t)}).on("blur"+x,function(){e._change(),e._placeholder(),d.removeClass(t)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),e._enable(),e._old=e._accessor(),b[0].id&&b.attr("aria-owns",e.ul[0].id),e._aria(),e._placeholder(),f.notify(e)},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",dataTextField:"",minLength:1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},value:null},_dataSource:function(){var a=this;a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=z(a.refresh,a),a._progressHandler=z(a._showBusy,a)),a.dataSource=n.create(a.options.dataSource).bind("change",a._refreshHandler).bind("progress",a._progressHandler)},setDataSource:function(a){this.options.dataSource=a,this._dataSource()},events:["open","close","change","select","dataBinding","dataBound"],setOptions:function(a){l.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria()},_editable:function(a){var b=this,c=b.element,d=b.wrapper.off(x),e=a.readonly,f=a.disable;e||f?(d.addClass(f?v:q).removeClass(f?q:v),c.attr(r,f).attr(s,e).attr(o,f).attr(p,e)):(d.addClass(q).removeClass(v).on(y,b._toggleHover),c.removeAttr(r).removeAttr(s).attr(o,!1).attr(p,!1))},close:function(){var a=this,b=a._current;b&&b.removeClass(u),a.current(null),a.popup.close()},destroy:function(){var a=this;a.element.off(x),a.wrapper.off(x),l.fn.destroy.call(a)},refresh:function(){var c,d=this,e=d.ul[0],g=d.popup,h=d.options,j=d._data(),k=j.length;d.trigger("dataBinding"),e.innerHTML=f.render(d.template,j),d._height(k),g.visible()&&g._position(),k&&(h.highlightFirst&&d.current(a(e.firstChild)),h.suggest&&d.suggest(a(e.firstChild))),d._open&&(d._open=!1,c=k?"open":"close",d._typing&&d.element[0]!==i()&&(c="close"),g[c](),d._typing=b),d._touchScroller&&d._touchScroller.reset(),d._makeUnselectable(),d._hideBusy(),d.trigger("dataBound")},select:function(a){this._select(a)},search:function(a){var b,c=this,e=c.options,f=e.ignoreCase,g=e.separator;a=a||c._accessor(),c._current=null,clearTimeout(c._typing),g&&(a=d(h(c.element)[0],a,g)),b=a.length,b?b>=c.options.minLength&&(c._open=!0,c._filterSource({value:f?a.toLowerCase():a,operator:e.filter,field:e.dataTextField,ignoreCase:f})):c.popup.close()},suggest:function(a){var d,e=this,f=e._last,g=e._accessor(),j=e.element[0],k=h(j)[0],n=e.options.separator,o=g.split(n),p=c(k,g,n),q=k;return f==m.BACKSPACE||f==m.DELETE?void(e._last=b):(a=a||"","string"!=typeof a&&(d=l.inArray(a[0],e.ul[0]),a=d>-1?e._text(e._data()[d]):""),0>=k&&(k=g.toLowerCase().indexOf(a.toLowerCase())+1),d=g.substring(0,k).lastIndexOf(n),d=d>-1?k-(d+n.length):k,g=o[p].substring(0,d),a&&(d=a.toLowerCase().indexOf(g.toLowerCase()),d>-1&&(a=a.substring(d+g.length),q=k+a.length,g+=a),n&&""!==o[o.length-1]&&o.push("")),o[p]=g,e._accessor(o.join(n||"")),void(j===i()&&h(j,k,q)))},value:function(a){return a===b?this._accessor():(this._accessor(a),void(this._old=a))},_accessor:function(a){var c=this,d=c.element[0];return a===b?(a=d.value,d.className.indexOf("k-readonly")>-1&&a===c.options.placeholder?"":a):(d.value=null===a?"":a,void c._placeholder())},_accept:function(a){var b=this.element;this._focus(a),h(b,b.val().length)},_keydown:function(b){var c=this,d=c.ul[0],e=b.keyCode,f=c._current,g=c.popup.visible();c._last=e,e===m.DOWN?(g&&c._move(f?f.next():a(d.firstChild)),b.preventDefault()):e===m.UP?(g&&c._move(f?f.prev():a(d.lastChild)),b.preventDefault()):e===m.ENTER||e===m.TAB?(e===m.ENTER&&c.popup.visible()&&b.preventDefault(),c._accept(f)):e===m.ESC?(c.popup.visible()&&b.preventDefault(),c.close()):c._search()},_move:function(a){var b=this;a=a[0]?a:null,b.current(a),b.options.suggest&&b.suggest(a)},_hideBusy:function(){var a=this;clearTimeout(a._busy),a._loading.hide(),a.element.attr("aria-busy",!1),a._busy=null},_showBusy:function(){var a=this;a._busy||(a._busy=setTimeout(function(){a.element.attr("aria-busy",!0),a._loading.show()},100))},_placeholder:function(a){if(!j){var c,d=this,e=d.element,f=d.options.placeholder;if(f){if(c=e.val(),a===b&&(a=!c),a||(f=c!==f?c:""),c===d._old&&!a)return;e.toggleClass("k-readonly",a).val(f),f||e[0]!==document.activeElement||h(e[0],0,0)}}},_search:function(){var a=this;clearTimeout(a._typing),a._typing=setTimeout(function(){a._prev!==a._accessor()&&(a._prev=a._accessor(),a.search())},a.options.delay)},_select:function(b){var c,d,f=this,g=f.options.separator,i=f._data();b=a(b),b[0]&&!b.hasClass(u)&&(d=l.inArray(b[0],f.ul[0]),d>-1&&(i=i[d],c=f._text(i),g&&(c=e(h(f.element)[0],f._accessor(),c,g)),f._accessor(c),f._prev=f._accessor(),f.current(b.addClass(u))))},_loader:function(){this._loading=a('<span class="k-icon k-loading" style="display:none"></span>').insertAfter(this.element)
},_toggleHover:function(b){a(b.currentTarget).toggleClass(w,"mouseenter"===b.type)},_wrapper:function(){var a,b=this,c=b.element,d=c[0];a=c.parent(),a.is("span.k-widget")||(a=c.wrap("<span />").parent()),a.attr("tabindex",-1),a.attr("role","presentation"),a[0].style.cssText=d.style.cssText,c.css({width:"100%",height:d.style.height}),b._focused=b.element,b.wrapper=a.addClass("k-widget k-autocomplete k-header").addClass(d.className)}});k.plugin(A)}(window.kendo.jQuery),function(a,b){function c(a,b,c){for(var d,e=0,f=b.length-1;f>e;++e)d=b[e],d in a||(a[d]={}),a=a[d];a[b[f]]=c}var d=window.kendo,e=d.ui,f=e.Select,g=d.support.mobileOS,h=".kendoDropDownList",i="disabled",j="readonly",k="change",l="k-state-focused",m="k-state-default",n="k-state-disabled",o="aria-disabled",p="aria-readonly",q="k-state-selected",r="mouseenter"+h+" mouseleave"+h,s="tabindex",t=a.proxy,u=f.extend({init:function(c,e){var g,i,j,k=this,l=e&&e.index;k.ns=h,e=a.isArray(e)?{dataSource:e}:e,f.fn.init.call(k,c,e),k._focusHandler=function(){k.wrapper.focus()},e=k.options,c=k.element.on("focus"+h,k._focusHandler),this._inputTemplate(),k._reset(),k._word="",k._wrapper(),k._tabindex(),k.wrapper.data(s,k.wrapper.attr(s)),k._aria(),k._span(),k._popup(),k._mobile(),k._dataSource(),k._ignoreCase(),k._enable(),k._oldIndex=k.selectedIndex=-1,k._cascade(),l!==b&&(e.index=l),e.autoBind?k.dataSource.fetch():-1===k.selectedIndex&&(j=e.text||"",j||(g=e.optionLabel,i=g&&0===e.index,k._isSelect?j=i?g:c.children(":selected").text():!c[0].value&&i&&(j=g)),k._textAccessor(j)),d.notify(k)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",valueTemplate:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{}},events:["open","close",k,"select","dataBinding","dataBound","cascade"],setOptions:function(a){f.fn.setOptions.call(this,a),this._template(),this._inputTemplate(),this._accessors(),this._aria()},destroy:function(){var a=this;a.wrapper.off(h),a.element.off(h),a._inputWrapper.off(h),f.fn.destroy.call(a)},open:function(){var a=this;a.ul[0].firstChild?(a.popup.open(),a._scroll(a._current)):(a._open=!0,a._request||a.dataSource.fetch())},toggle:function(a){this._toggle(a)},refresh:function(){var a,b=this,c=b._data(),e=c.length,f=b.options.optionLabel,g=b.element[0];b.trigger("dataBinding"),b._current&&b.current(null),b.ul[0].innerHTML=d.render(b.template,c),b._height(e),b.popup.visible()&&b.popup._position(),b._isSelect&&(a=g.selectedIndex,f&&e&&(f='<option value="">'+b._optionLabelText(f)+"</option>"),b._options(c,f),g.selectedIndex=-1===a?0:a),b._open&&(b._open=!1,b.toggle(!!e)),b._hideBusy(),b._makeUnselectable(),b._fetch||(e?b._selectItem():b._textAccessor()!==f&&(b.element.val(""),b._textAccessor(""))),b._bound=!!e,b.trigger("dataBound")},search:function(a){if(a){var c=this,d=c.options.ignoreCase;d&&(a=a.toLowerCase()),c._select(function(e){var f=c._text(e);return f!==b?(f+="",d&&(f=f.toLowerCase()),0===f.indexOf(a)):void 0})}},text:function(a){var c,d,e=this,f=e.options.ignoreCase;return a=null===a?"":a,a===b?e._textAccessor():("string"==typeof a&&(d=f?a.toLowerCase():a,c=e._select(function(a){return a=e._text(a),f&&(a=(a+"").toLowerCase()),a===d}),c&&(a=c)),void e._textAccessor(a))},value:function(a){var c,d,e=this;return a===b?e._accessor():(null!==a&&(a=a.toString()),e._selectedValue=a,d=a||e.options.optionLabel&&!e.element[0].disabled&&""===a,d&&e._fetchItems(a)||(c=e._index(a),e.select(c>-1?c:0)),void 0)},_editable:function(a){var b=this,c=b.element,e=a.disable,f=a.readonly,g=b.wrapper.off(h),k=b._inputWrapper.off(r),q=function(){k.addClass(l),b._blured=!1},u=function(){if(!b._blured){b._triggerCascade();var a=window.self!==window.top;d.support.mobileOS.ios&&a?b._change():b._blur(),k.removeClass(l),b._blured=!0,c.blur()}};f||e?(e?(g.removeAttr(s),k.addClass(n).removeClass(m)):(k.addClass(m).removeClass(n),g.on("focusin"+h,q).on("focusout"+h,u)),c.attr(i,e).attr(j,f),g.attr(o,e).attr(p,f)):(c.removeAttr(i).removeAttr(j),k.addClass(m).removeClass(n).on(r,b._toggleHover),g.attr(s,g.data(s)).attr(o,!1).attr(p,!1).on("click"+h,function(a){b._blured=!1,a.preventDefault(),b.toggle()}).on("keydown"+h,t(b._keydown,b)).on("keypress"+h,t(b._keypress,b)).on("focusin"+h,q).on("focusout"+h,u))},_accept:function(a){this._focus(a)},_optionLabelText:function(){var a=this.options,b=a.dataTextField,c=a.optionLabel;return c&&b&&"object"==typeof c?this._text(c):c},_data:function(){var a=this,b=a.options,e=b.optionLabel,f=b.dataTextField,g=b.dataValueField,h=a.dataSource.view(),i=h.length,j=e,k=0;if(e&&i){for("object"==typeof e?j=e:f&&(j={},f=f.split("."),g=g.split("."),c(j,g,""),c(j,f,e)),j=new d.data.ObservableArray([j]);i>k;k++)j.push(h[k]);h=j}return h},_selectItem:function(){f.fn._selectItem.call(this),this.current()||this.select(0)},_keydown:function(a){var b=this,c=a.keyCode,e=d.keys,f=b.ul[0];c===e.LEFT?c=e.UP:c===e.RIGHT&&(c=e.DOWN),a.keyCode=c,b._move(a),c===e.HOME?(a.preventDefault(),b._select(f.firstChild)):c===e.END&&(a.preventDefault(),b._select(f.lastChild))},_selectNext:function(a,b){for(var c,d=this,e=b,f=d._data(),g=f.length,h=d.options.ignoreCase,i=function(b,c){return b+="",h&&(b=b.toLowerCase()),0===b.indexOf(a)?(d._select(c),d._triggerEvents(),!0):void 0};g>b;b++)if(c=d._text(f[b]),c&&i(c,b))return!0;if(e>0)for(console.log(e),b=0;e>=b;b++)if(c=d._text(f[b]),c&&i(c,b))return!0;return!1},_keypress:function(a){if(0!==a.which&&a.keyCode!==d.keys.ENTER){var b=this,c=String.fromCharCode(a.charCode||a.keyCode),e=b.selectedIndex,f=b._word;b.options.ignoreCase&&(c=c.toLowerCase())," "===c&&a.preventDefault(),b._last===c&&f.length<=1&&e>-1&&(f||(f=c),b._selectNext(f,e+1))||(b._word=f+c,b._last=c,b._search())}},_popup:function(){f.fn._popup.call(this),this.popup.one("open",t(function(){var a=this.popup;a.wrapper=d.wrap(a.element),a.element.closest(".km-root")[0]&&(a.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},this))},_search:function(){var a=this,b=a.dataSource,c=a.selectedIndex,d=a._word;return clearTimeout(a._typing),a._typing=setTimeout(function(){a._word=""},a.options.delay),-1===c&&(c=0),a.ul[0].firstChild?(a._selectNext(d,c),void a._triggerEvents()):void b.one(k,function(){b.data()[0]&&c>-1&&a._selectNext(d,c)}).fetch()},_select:function(a){var c,d,f=this,g=f._current,h=null;return a=f._get(a),a&&a[0]&&!a.hasClass(q)&&(g&&g.removeClass(q),d=e.List.inArray(a[0],f.ul[0]),d>-1&&(h=f._data()[d],c=f._value(h),f.selectedIndex=d,f._textAccessor(h),f._accessor(c!==b?c:f._text(h),d),f._selectedValue=f._accessor(),f.current(a.addClass(q)),f._optionID&&f._current.attr("aria-selected",!0))),h},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var a=this,b=a.popup,c=b.element.parents(".km-root").eq(0);c.length&&g&&(b.options.animation.open.effects=g.android||g.meego?"fadeIn":g.ios||g.wp?"slideIn:up":b.options.animation.open.effects)},_span:function(){var b,c=this,d=c.wrapper,e="span.k-input";b=d.find(e),b[0]||(d.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(c.element),b=d.find(e)),c.span=b,c._inputWrapper=a(d[0].firstChild),c._arrow=d.find(".k-icon").mousedown(function(a){a.preventDefault()})},_wrapper:function(){var a,b=this,c=b.element,d=c[0];a=c.parent(),a.is("span.k-widget")||(a=c.wrap("<span />").parent(),a[0].style.cssText=d.style.cssText),c.hide(),b._focused=b.wrapper=a.addClass("k-widget k-dropdown k-header").addClass(d.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var a=this,b=a.options.optionLabel;return a.options.value="",a._selectedValue="",a.dataSource.view()[0]&&(b||a._userTriggered)?void a.select(0):(a.selectedIndex=-1,a.element.val(""),void a._textAccessor(a.options.optionLabel))},_inputTemplate:function(){var b=this,c=b.options.valueTemplate;c=c?d.template(c):a.proxy(d.template("#:this._text(data)#",{useWithBlock:!1}),b),b.valueTemplate=c},_textAccessor:function(e){var f=this.dataItem(),g=this.options,h=this.span;return e===b?h.text():(a.isPlainObject(e)||e instanceof d.data.ObservableObject?f=e:f&&this._text(f)===e||(g.dataTextField?(f={},c(f,g.dataTextField.split("."),e),c(f,g.dataValueField.split("."),this._accessor())):f=e),void h.html(this.valueTemplate(f)))}});e.plugin(u)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui,e=d.List,f=d.Select,g=c.caret,h=c.support,i=h.placeholder,j=c._activeElement,k=c.keys,l=".kendoComboBox",m="click"+l,n="mousedown"+l,o="disabled",p="readonly",q="change",r="k-state-default",s="k-state-focused",t="k-state-disabled",u="aria-disabled",v="aria-readonly",w="k-state-selected",x="filter",y="accept",z="rebind",A="mouseenter"+l+" mouseleave"+l,B=null,C=a.proxy,D=f.extend({init:function(b,d){var e,g=this;g.ns=l,d=a.isArray(d)?{dataSource:d}:d,f.fn.init.call(g,b,d),g._focusHandler=function(){g.input.focus()},d=g.options,b=g.element.on("focus"+l,g._focusHandler),d.placeholder=d.placeholder||b.attr("placeholder"),g._reset(),g._wrapper(),g._input(),g._tabindex(g.input),g._popup(),g._dataSource(),g._ignoreCase(),g._enable(),g._cascade(),g._aria(),g._oldIndex=g.selectedIndex=-1,d.autoBind?g._filterSource():(e=d.text,!e&&g._isSelect&&(e=b.children(":selected").text()),e&&(g.input.val(e),g._prev=e)),e||g._placeholder(),c.notify(g)},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:0,height:200,highlightFirst:!0,template:"",filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{}},events:["open","close",q,"select","dataBinding","dataBound","cascade"],setOptions:function(a){f.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria()},current:function(a){var c=this,d=c._current;return a===b?d:(d&&d.removeClass(w),void f.fn.current.call(c,a))},destroy:function(){var a=this;a.input.off(l),a.element.off(l),a._inputWrapper.off(l),f.fn.destroy.call(a)},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._inputWrapper.off(l),f=b.element.add(b.input.off(l)),g=b._arrow.parent().off(m+" "+n);d||c?(e.addClass(c?t:r).removeClass(c?r:t),f.attr(o,c).attr(p,d).attr(u,c).attr(v,d)):(e.addClass(r).removeClass(t).on(A,b._toggleHover),f.removeAttr(o).removeAttr(p).attr(u,!1).attr(v,!1),g.on(m,function(){b.toggle()}).on(n,function(a){a.preventDefault()}),b.input.on("keydown"+l,C(b._keydown,b)).on("focus"+l,function(){e.addClass(s),b._placeholder(!1)}).on("blur"+l,function(){e.removeClass(s),clearTimeout(b._typing),b.options.text!==b.input.val()&&b.text(b.text()),b._placeholder(),b._blur(),b.element.blur()}))},open:function(){var a=this,b=a.dataSource.options.serverFiltering;a.popup.visible()||(!a.ul[0].firstChild||a._state===y&&!b?(a._open=!0,a._state=z,a._filterSource()):(a.popup.open(),a._scroll(a._current)))},refresh:function(){var d,e,f,g=this,h=g.ul[0],i=g.options,k=g._state,l=g._data(),m=l.length,n=!0;g.trigger("dataBinding"),h.innerHTML=c.render(g.template,l),g._height(m),g.popup.visible()&&g.popup._position(),g._isSelect&&(d=g.element[0].children[0],k===z&&(g._state=""),f=g._option,g._option=b,g._options(l),f&&f[0].selected?g._custom(f.val(),n):g._bound||d||g._custom("",n)),m&&(i.highlightFirst&&g.current(a(h.firstChild)),i.suggest&&g.input.val()&&g._request!==b&&g.suggest(a(h.firstChild))),k===x||g._fetch||g._selectItem(),g._open&&(g._open=!1,e=!!m,g._typing&&g.input[0]!==j()&&(e=!1),g.toggle(e),g._typing=b),g._touchScroller&&g._touchScroller.reset(),g._makeUnselectable(),g._hideBusy(),g._bound=!0,g.trigger("dataBound")},search:function(a){a="string"==typeof a?a:this.text();var b=this,c=a.length,d=b.options,e=d.ignoreCase,f=d.filter,g=d.dataTextField;clearTimeout(b._typing),c>=d.minLength&&(b._state=x,"none"===f?b._filter(a):(b._open=!0,b._filterSource({value:e?a.toLowerCase():a,field:g,operator:f,ignoreCase:e})))},suggest:function(a){var c,d=this,f=d.input[0],h=d.text(),i=g(f)[0],l=d._last;return l==k.BACKSPACE||l==k.DELETE?void(d._last=b):(a=a||"","string"!=typeof a&&(c=e.inArray(a[0],d.ul[0]),a=c>-1?d._text(d.dataSource.view()[c]):""),0>=i&&(i=h.toLowerCase().indexOf(a.toLowerCase())+1),a?(c=a.toLowerCase().indexOf(h.toLowerCase()),c>-1&&(h+=a.substring(c+h.length))):h=h.substring(0,i),void(h.length===i&&a||(f.value=h,f===j()&&g(f,i,h.length))))},text:function(a){a=null===a?"":a;var c,d,e=this,f=e.input[0],g=e.options.ignoreCase,h=a;return a===b?f.value:(c=e.dataItem(),c&&e._text(c)===a&&(d=e._value(c),null===d?d="":d+="",d===e._old)?void e._triggerCascade():(g&&(h=h.toLowerCase()),e._select(function(a){return a=e._text(a),g&&(a=(a+"").toLowerCase()),a===h}),e.selectedIndex<0&&(e._custom(a),f.value=a),e._prev=f.value,void e._triggerCascade()))},toggle:function(a){var b=this;b._toggle(a)},value:function(a){var c,d=this,e=d.options;return a===b?d._accessor():(null!==a&&(a=a.toString()),d._selectedValue=a,!d._open&&a&&d._fetchItems(a)||(c=d._index(a),c>-1?d.select(c):(d.current(B),d._custom(a),(e.value!==a||e.text!==d.input.val())&&(d.text(a),d._placeholder())),d._old=d._accessor(),d._oldIndex=d.selectedIndex),void 0)},_accept:function(a){var b=this;a?b._focus(a):(b.text(b.text()),b._change())},_custom:function(b,c){var d=this,e=d.element,f=d._option;d._state!==x||c||(d._state=y),d._isSelect?(f||(f=d._option=a("<option/>"),e.append(f)),f.text(b),f[0].selected=!0):e.val(b),d._selectedValue=b},_filter:function(a){var c=this,d=c.options,e=c.dataSource,f=d.ignoreCase,g=function(d){var e=c._text(d);return e!==b?(e+="",""!==e&&""===a?!1:(f&&(e=e.toLowerCase()),0===e.indexOf(a))):void 0};return f&&(a=a.toLowerCase()),c.ul[0].firstChild?(-1!==c._highlight(g)&&(d.suggest&&c._current&&c.suggest(c._current),c.open()),void c._hideBusy()):void e.one(q,function(){e.data()[0]&&c.search(a)}).fetch()},_highlight:function(c){var d,f=this;return c===b||null===c?-1:(c=f._get(c),d=e.inArray(c[0],f.ul[0]),-1==d&&(f.options.highlightFirst&&!f.text()?(c=f.ul[0].firstChild,c&&(c=a(c))):c=B),f.current(c),d)},_input:function(){var b,c=this,d=c.element.removeClass("k-input")[0],e=d.accessKey,f=c.wrapper,g="input.k-input",h=d.name||"";h&&(h='name="'+h+'_input" '),b=f.find(g),b[0]||(f.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+h+'class="k-input" type="text" autocomplete="off"/><span tabindex="-1" unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(c.element),b=f.find(g)),b[0].style.cssText=d.style.cssText,d.maxLength>-1&&(b[0].maxLength=d.maxLength),b.addClass(d.className).val(this.options.text||d.value).css({width:"100%",height:d.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),i&&b.attr("placeholder",c.options.placeholder),e&&(d.accessKey="",b[0].accessKey=e),c._focused=c.input=b,c._inputWrapper=a(f[0].firstChild),c._arrow=f.find(".k-icon").attr({role:"button",tabIndex:-1}),d.id&&c._arrow.attr("aria-controls",c.ul[0].id)},_keydown:function(a){var b=this,c=a.keyCode;b._last=c,clearTimeout(b._typing),c==k.TAB||b._move(a)||b._search()},_placeholder:function(a){if(!i){var c,d=this,e=d.input,f=d.options.placeholder;if(f){if(c=d.value(),a===b&&(a=!c),e.toggleClass("k-readonly",a),!a){if(c)return;f=""}e.val(f),f||e[0]!==j()||g(e[0],0,0)}}},_search:function(){var a=this;a._typing=setTimeout(function(){var b=a.text();a._prev!==b&&(a._prev=b,a.search(b)),a._typing=null},a.options.delay)},_select:function(a){var c,d,e=this,f=e._data(),g=e._highlight(a);e.selectedIndex=g,-1!==g&&(e._state===x&&(e._state=y),e._current.addClass(w),f=f[g],c=e._text(f),d=e._value(f),e._prev=e.input[0].value=c,e._accessor(d!==b?d:c,g),e._selectedValue=e._accessor(),e._placeholder(),e._optionID&&e._current.attr("aria-selected",!0))},_wrapper:function(){var a=this,b=a.element,c=b.parent();c.is("span.k-widget")||(c=b.hide().wrap("<span />").parent(),c[0].style.cssText=b[0].style.cssText),a.wrapper=c.addClass("k-widget k-combobox k-header").addClass(b[0].className).css("display","")},_clearSelection:function(a,b){var c=this,d=a._selectedValue||a.value(),e=d&&-1===a.selectedIndex;(b||!d||e)&&(c.value(""),c.options.value="")}});d.plugin(D)}(window.kendo.jQuery),function(a,b){function c(a,b){var c;if(null===a&&null!==b||null!==a&&null===b)return!1;if(c=a.length,c!==b.length)return!1;for(;c--;)if(a[c]!==b[c])return!1;return!0}function d(b){var c=b.firstChild;return c&&"none"===c.style.display&&(c=f(c,w)),c?a(c):c}function e(b){var c=b.lastChild;return c&&"none"===c.style.display&&(c=f(c,x)),c?a(c):c}function f(a,b){return a=a[b],a&&"none"===a.style.display&&(a=f(a,b)),a}var g=window.kendo,h=g.ui,i=h.List,j=g.keys,k=g._activeElement,l=g.data.ObservableArray,m=a.proxy,n="id",o="li",p="accept",q="filter",r="open",s="close",t="change",u="progress",v="select",w="nextSibling",x="previousSibling",y=' style="display:none"',z="aria-disabled",A="aria-readonly",B="k-state-focused",C="k-loading-hidden",D="k-state-hover",E="k-state-disabled",F="disabled",G="readonly",H=".kendoMultiSelect",I="click"+H,J="keydown"+H,K="mouseenter"+H,L="mouseleave"+H,M=K+" "+L,N=/"/g,O=a.isArray,P=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],Q=i.extend({init:function(b,c){var d,e,f=this;f.ns=H,i.fn.init.call(f,b,c),f._wrapper(),f._tagList(),f._input(),f._textContainer(),f._loader(),f._tabindex(f.input),b=f.element.attr("multiple","multiple").hide(),c=f.options,e=c.value,c.placeholder||(c.placeholder=b.data("placeholder")),d=b.attr(n),d&&(f._tagID=d+"_tag_active",d+="_taglist",f.tagList.attr(n,d)),f._aria(d),f._dataSource(),f._ignoreCase(),f._popup(),f._values=[],f._dataItems=[],f._reset(),f._enable(),f._placeholder(),c.autoBind?f.dataSource.fetch():e&&(O(e)||(e=[e]),(a.isPlainObject(e[0])||!c.dataValueField)&&(f._retrieveData=!0,f.dataSource.data(e),f.value(f._initialValues))),g.notify(f)},options:{name:"MultiSelect",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:0,delay:100,value:null,maxSelectedItems:null,itemTemplate:"",tagTemplate:"",placeholder:"",height:200,animation:{}},events:[r,s,t,v,"dataBinding","dataBound"],setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(a){i.fn.setOptions.call(this,a),this._template(),this._accessors(),this._aria(this.tagList.attr(n))},current:function(a){return this.currentTag(null),i.fn.current.call(this,a)},currentTag:function(a){var c=this;return a===b?c._currentTag:(c._currentTag&&(c._currentTag.removeClass(B).removeAttr(n),c.input.removeAttr("aria-activedescendant")),a&&(a.addClass(B).attr(n,c._tagID),c.input.attr("aria-activedescendant",c._tagID)),c._currentTag=a,void 0)},dataItems:function(){return this._dataItems},destroy:function(){var a=this,b=a.ns;a.wrapper.off(b),a.tagList.off(b),a.input.off(b),i.fn.destroy.call(a)},_editable:function(b){var c=this,d=b.disable,e=b.readonly,f=c.wrapper.off(H),g=c.tagList.off(H),h=c.element.add(c.input.off(H));e||d?(d?f.addClass(E):f.removeClass(E),h.attr(F,d).attr(G,e).attr(z,d).attr(A,e)):(f.removeClass(E).on(M,c._toggleHover).on("mousedown"+H,function(a){var b="input"!==a.target.nodeName.toLowerCase();b&&a.preventDefault(),-1===a.target.className.indexOf("k-delete")&&(c.input[0]!==k()&&b&&c.input.focus(),0===c.options.minLength&&c.open())}),c.input.on(J,m(c._keydown,c)).on("paste"+H,m(c._search,c)).on("focus"+H,function(){c._placeholder(!1)}).on("blur"+H,function(){clearTimeout(c._typing),c._placeholder(),c.close(),c._state===q&&(c._state=p),c.element.blur()}),h.removeAttr(F).removeAttr(G).attr(z,!1).attr(A,!1),g.on(K,o,function(){a(this).addClass(D)}).on(L,o,function(){a(this).removeClass(D)}).on(I,".k-delete",function(b){c._unselect(a(b.target).closest(o)),c._change(),c.close()}))},_close:function(){var a=this;a.options.autoClose||!a._visibleItems?a.close():(a.current(a.options.highlightFirst?d(a.ul[0]):null),a.popup._position())},close:function(){this.popup.close(),this.current(null)},open:function(){var a=this;!a.ul[0].firstChild||a._state===p||a._retrieveData?(a._state="",a._open=!0,a._retrieveData=!1,a._filterSource()):a._visibleItems&&a._allowSelection()&&(a.popup.open(),a.current(a.options.highlightFirst?d(a.ul[0]):null))},toggle:function(a){a=a!==b?a:!this.popup.visible(),this[a?r:s]()},refresh:function(){var a,b=this,c=null;b.trigger("dataBinding"),a=b._render(b.dataSource.view()),b._height(a),b._setInitialValues&&(b._setInitialValues=!1,b.value(b._initialValues)),b._open&&(b._open=!1,b.toggle(a)),b.popup.visible()&&(b.popup._position(),b.options.highlightFirst&&(c=d(b.ul[0]))),b.current(c),b._touchScroller&&b._touchScroller.reset(),b._makeUnselectable(),b._hideBusy(),b.trigger("dataBound")},search:function(a){var b=this,c=b.options,d=c.ignoreCase,e=c.filter,f=c.dataTextField,g=b.input.val();c.placeholder===g&&(g=""),clearTimeout(b._typing),a="string"==typeof a?a:g,a.length>=c.minLength&&(b._state=q,b._open=!0,b._filterSource({value:d?a.toLowerCase():a,field:f,operator:e,ignoreCase:d}))},value:function(c){var d,e=this,f=a(e.tagList[0].children),g=f.length,h=0;if(c===b)return e._values;if(!e._fetchItems(c)){for(;g>h;h++)e._unselect(f.eq(h));if(null!==c){for(c=O(c)||c instanceof l?c:[c],h=0,g=c.length;g>h;h++)d=e._index(c[h]),d>-1&&e._select(d);e._old=e._values.slice()}}},_dataSource:function(){var a=this,b=a.element,c=a.options,d=c.dataSource||{};d=O(d)?{data:d}:d,d.select=b,d.fields=[{field:c.dataTextField},{field:c.dataValueField}],a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=m(a.refresh,a),a._progressHandler=m(a._showBusy,a)),a.dataSource=g.data.DataSource.create(d).bind(t,a._refreshHandler).bind(u,a._progressHandler)},_fetchItems:function(b){var c=this,d=a.isArray(b)&&0===b.length;return!d&&b?c._fetch||c.ul[0].firstChild?void 0:(c.dataSource.one(t,function(){c.value(b),c._fetch=!1}),c._fetch=!0,c.dataSource.fetch(),!0):void 0},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(b._initialValues)})},b._form=e.on("reset",b._resetHandler))},_initValue:function(){var a=this,c=a.options.value||a.element.val();null===c?c=[]:(O(c)||(c=[c]),c=a._mapValues(c)),a._old=a._initialValues=c,a._setInitialValues=c[0]!==b},_mapValues:function(b){var c=this;return b&&a.isPlainObject(b[0])&&(b=a.map(b,function(a){return c._value(a)})),b},_change:function(){var a=this,b=a.value();c(b,a._old)||(a._old=b.slice(),a.trigger(t),a.element.trigger(t))},_click:function(b){var c=this,d=a(b.currentTarget);if(!b.isDefaultPrevented()){if(c.trigger(v,{item:d}))return void c._close();c._select(d),c._change(),c._close()}},_item:function(a,b){return a=a[b](),a[0]&&!a.is(":visible")&&(a=this._item(a,b)),a},_keydown:function(b){var c=this,h=b.keyCode,i=c._currentTag,k=c._current,l=c.input.val(),m=g.support.isRtl(c.wrapper),n=c.popup.visible();if(h===j.DOWN){if(b.preventDefault(),!n)return void c.open();k=k?f(k[0],w):d(c.ul[0]),k&&c.current(a(k))}else if(h===j.UP)n&&(k=k?f(k[0],x):e(c.ul[0]),c.current(a(k)),c._current[0]||c.close()),b.preventDefault();else if(h===j.LEFT&&!m||h===j.RIGHT&&m)l||(i=i?i.prev():a(c.tagList[0].lastChild),i[0]&&c.currentTag(i));else if(h===j.RIGHT&&!m||h===j.LEFT&&m)!l&&i&&(i=i.next(),c.currentTag(i[0]?i:null));else if(h===j.ENTER&&n){if(k){if(c.trigger(v,{item:k}))return void c._close();c._select(k)}c._change(),c._close(),b.preventDefault()}else h===j.ESC?(n?b.preventDefault():c.currentTag(null),c.close()):h===j.HOME?n?c.current(d(c.ul[0])):l||(i=c.tagList[0].firstChild,i&&c.currentTag(a(i))):h===j.END?n?c.current(e(c.ul[0])):l||(i=c.tagList[0].lastChild,i&&c.currentTag(a(i))):h!==j.DELETE&&h!==j.BACKSPACE||l?(clearTimeout(c._typing),setTimeout(function(){c._scale()}),c._search()):(h!==j.BACKSPACE||i||(i=a(c.tagList[0].lastChild)),i&&i[0]&&(c._unselect(i),c._change(),c._close()))},_hideBusy:function(){var a=this;clearTimeout(a._busy),a.input.attr("aria-busy",!1),a._loading.addClass(C),a._busy=null},_showBusy:function(){var a=this;a._busy||(a._busy=setTimeout(function(){a.input.attr("aria-busy",!0),a._loading.removeClass(C)},100))},_placeholder:function(a){var c=this,d=c.input,e=k();a===b?(a=!1,d[0]!==e&&(a=!c._dataItems[0]),c.wrapper.removeClass(B)):c.wrapper.addClass(B),c._prev="",d.toggleClass("k-readonly",a).val(a?c.options.placeholder:""),d[0]===e&&g.caret(d[0],0,0),c._scale()},_scale:function(){var a,b=this,c=b.wrapper,d=c.width(),e=b._span.text(b.input.val());c.is(":visible")?a=e.width()+25:(e.appendTo(document.documentElement),d=a=e.width()+25,e.appendTo(c)),b.input.width(a>d?d:a)},_option:function(a,c){var d="<option",e=this._text(a),f=this._value(a);return f!==b&&(f+="",-1!==f.indexOf('"')&&(f=f.replace(N,"&quot;")),d+=' value="'+f+'"'),c&&(d+=' selected="selected"'),d+=">",e!==b&&(d+=g.htmlEncode(e)),d+="</option>"},_render:function(a){for(var b,c,d=this,e=a.length,f=d.itemTemplate,g=d._dataItems.slice(0),h=0,i=0,j="",k="";e>i;i++)b=a[i],c=d._selected(g,b),k+=f(b,i,c),j+=d._option(b,c),c||(h+=1);if(e=g.length)for(i=0;e>i;i++)j+=d._option(g[i],!0);return d.ul[0].innerHTML=k,d.element.html(j),d._visibleItems=h,h},_selected:function(a,c){var d,e=this,f=e._text,g=e._value,h=g(c),i=a.length,j=!1,k=0;for(h===b&&(h=f(c));i>k;k++)if(c=a[k],d=g(c),d===b&&(d=f(c)),d!==b&&d===h){j=!0;break}return j&&a.splice(k,1),j},_search:function(){var a=this;a._typing=setTimeout(function(){var b=a.input.val();a._prev!==b&&(a._prev=b,a.search(b))},a.options.delay)},_allowSelection:function(){var a=this.options.maxSelectedItems;return null===a||a>this._values.length},_select:function(a){var b,c,d=this,e=d._values;d._allowSelection()&&(isNaN(a)?c=a.hide().data("idx"):(c=a,d.ul[0].children[c].style.display="none"),d.element[0].children[c].selected=!0,b=d.dataSource.view()[c],d.tagList.append(d.tagTemplate(b)),d._dataItems.push(b),e.push(d._dataValue(b)),d._visibleItems-=1,d.currentTag(null),d._placeholder(),d._height(d._visibleItems),d._state===q&&(d._state=p))},_unselect:function(b){var c,d,e,f,g,h=this,i=b.index();if(b.remove(),h.currentTag(null),h._values.splice(i,1),c=h._dataItems.splice(i,1)[0],d=h._dataValue(c),i=h._index(d),-1!==i)a(h.ul[0].children[i]).show(),h.element[0].children[i].selected=!1,h._visibleItems+=1,h._height(h._visibleItems);else for(i=h.dataSource.view().length,e=h.element[0].children,g=e.length;g>i;i++)if(f=e[i],f.value==d){f.selected=!1;break}h._placeholder()},_template:function(){var a,b=this,c=b.options,d=c.itemTemplate,e=c.tagTemplate,f=c.dataSource;b.element[0].length&&!f&&(c.dataTextField=c.dataTextField||"text",c.dataValueField=c.dataValueField||"value"),a=g.template("#:"+g.expr(c.dataTextField,"data")+"#",{useWithBlock:!1}),d=d?g.template(d):a,e=e?g.template(e):a,b.itemTemplate=function(a,b,c){return'<li tabindex="-1" role="option" data-idx="'+b+'" unselectable="on" class="k-item"'+(c?y:"")+">"+d(a)+"</li>"},b.tagTemplate=function(a){return'<li class="k-button" unselectable="on"><span unselectable="on">'+e(a)+'</span><span unselectable="on" class="k-icon k-delete">delete</span></li>'}},_input:function(){var b=this,c=b.element[0].accessKey,d=b._innerWrapper.children("input.k-input");d[0]||(d=a('<input class="k-input" style="width: 25px" />').appendTo(b._innerWrapper)),b.element.removeAttr("accesskey"),b._focused=b.input=d.attr({accesskey:c,role:"listbox","aria-expanded":!1})},_tagList:function(){var b=this,c=b._innerWrapper.children("ul");c[0]||(c=a('<ul role="listbox" unselectable="on" class="k-reset"/>').appendTo(b._innerWrapper)),b.tagList=c},_loader:function(){this._loading=a('<span class="k-icon k-loading '+C+'"></span>').insertAfter(this.input)},_textContainer:function(){var b=g.getComputedStyles(this.input[0],P);b.position="absolute",b.visibility="hidden",b.top=-3333,b.left=-3333,this._span=a("<span/>").css(b).appendTo(this.wrapper)},_wrapper:function(){var b=this,c=b.element,d=c.parent("span.k-multiselect");d[0]||(d=c.wrap('<div class="k-widget k-multiselect k-header" unselectable="on" />').parent(),d[0].style.cssText=c[0].style.cssText,a('<div class="k-multiselect-wrap k-floatwrap" unselectable="on" />').insertBefore(c)),b.wrapper=d.addClass(c[0].className).css("display",""),b._innerWrapper=a(d[0].firstChild)}});h.plugin(Q)}(window.kendo.jQuery),function(a,b){function c(a,b,c){var d=c?" k-slider-horizontal":" k-slider-vertical",e=a.style?a.style:b.attr("style"),f=b.attr("class")?" "+b.attr("class"):"",g="";return"bottomRight"==a.tickPlacement?g=" k-slider-bottomright":"topLeft"==a.tickPlacement&&(g=" k-slider-topleft"),e=e?" style='"+e+"'":"","<div class='k-widget k-slider"+d+f+"'"+e+"><div class='k-slider-wrap"+(a.showButtons?" k-slider-buttons":"")+g+"'></div></div>"}function d(a,b,c){var d="";return d="increase"==b?c?"k-i-arrow-e":"k-i-arrow-n":c?"k-i-arrow-w":"k-i-arrow-s","<a class='k-button k-button-"+b+"'><span class='k-icon "+d+"' title='"+a[b+"ButtonTitle"]+"'>"+a[b+"ButtonTitle"]+"</span></a>"}function e(a,b){var c,d="<ul class='k-reset k-slider-items'>",e=u.floor(j(b/a.smallStep))+1;for(c=0;e>c;c++)d+="<li class='k-tick' role='presentation'>&nbsp;</li>";return d+="</ul>"}function f(a,b){var c=b.is("input")?1:2,d=2==c?a.leftDragHandleTitle:a.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+d+"' role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(c>1?a.selectionStart||a.min:a.value||a.min)+"'>Drag</a>"+(c>1?"<a href='#' class='k-draghandle' title='"+a.rightDragHandleTitle+"'role='slider' aria-valuemin='"+a.min+"' aria-valuemax='"+a.max+"' aria-valuenow='"+(a.selectionEnd||a.max)+"'>Drag</a>":"")+"</div>"}function g(a){return function(b){return b+a}}function h(a){return function(){return a}}function i(a){return(a+"").replace(".",m.cultures.current.numberFormat["."])}function j(a){a=parseFloat(a,10);var b=u.pow(10,S||0);return u.round(a*b)/b}function k(a,c){var d=r(a.getAttribute(c));return null===d&&(d=b),d}function l(a){return typeof a!==U}var m=window.kendo,n=m.ui.Widget,o=m.ui.Draggable,p=a.extend,q=m.format,r=m.parseFloat,s=a.proxy,t=a.isArray,u=Math,v=m.support,w=v.pointers,x=v.msPointers,y="change",z="slide",A=".slider",B="touchstart"+A+" mousedown"+A,C=w?"pointerdown"+A:x?"MSPointerDown"+A:B,D="touchend"+A+" mouseup"+A,E=w?"pointerup":x?"MSPointerUp"+A:D,F="moveSelection",G="keydown"+A,H="click"+A,I="mouseover"+A,J="focus"+A,K="blur"+A,L=".k-draghandle",M=".k-slider-track",N=".k-tick",O="k-state-selected",P="k-state-focused",Q="k-state-default",R="k-state-disabled",S=3,T="disabled",U="undefined",V="tabindex",W=m.getTouches,X=n.extend({init:function(a,b){var c=this;n.fn.init.call(c,a,b),b=c.options,c._distance=b.max-b.min,c._isHorizontal="horizontal"==b.orientation,c._isRtl=c._isHorizontal&&m.support.isRtl(a),c._position=c._isHorizontal?"left":"bottom",c._sizeFn=c._isHorizontal?"width":"height",c._outerSize=c._isHorizontal?"outerWidth":"outerHeight",b.tooltip.format=b.tooltip.enabled?b.tooltip.format||"{0}":"{0}",c._createHtml(),c.wrapper=c.element.closest(".k-slider"),c._trackDiv=c.wrapper.find(M),c._setTrackDivWidth(),c._maxSelection=c._trackDiv[c._sizeFn](),c._sliderItemsInit(),c._tabindex(c.wrapper.find(L)),c[b.enabled?"enable":"disable"]();var d=m.support.isRtl(c.wrapper)?-1:1;c._keyMap={37:g(-1*d*b.smallStep),40:g(-b.smallStep),39:g(1*d*b.smallStep),38:g(+b.smallStep),35:h(b.max),36:h(b.min),33:g(+b.largeStep),34:g(-b.largeStep)},m.notify(c)},events:[y,z],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh()
},_sliderItemsInit:function(){var a=this,b=a.options,c=a._maxSelection/((b.max-b.min)/b.smallStep),d=a._calculateItemsWidth(u.floor(a._distance/b.smallStep));"none"!=b.tickPlacement&&c>=2&&(a._trackDiv.before(e(b,a._distance)),a._setItemsWidth(d),a._setItemsTitle()),a._calculateSteps(d),"none"!=b.tickPlacement&&c>=2&&b.largeStep>=b.smallStep&&a._setItemsLargeTick()},getSize:function(){return m.dimensions(this.wrapper)},_setTrackDivWidth:function(){var a=this,b=2*parseFloat(a._trackDiv.css(a._isRtl?"right":a._position),10);a._trackDiv[a._sizeFn](a.wrapper[a._sizeFn]()-2-b)},_setItemsWidth:function(b){var c,d=this,e=d.options,f=0,g=b.length-1,h=d.wrapper.find(N),i=0,j=2,k=h.length,l=0;for(c=0;k-2>c;c++)a(h[c+1])[d._sizeFn](b[c]);if(d._isHorizontal?(a(h[f]).addClass("k-first")[d._sizeFn](b[g-1]),a(h[g]).addClass("k-last")[d._sizeFn](b[g])):(a(h[g]).addClass("k-first")[d._sizeFn](b[g]),a(h[f]).addClass("k-last")[d._sizeFn](b[g-1])),d._distance%e.smallStep!==0&&!d._isHorizontal){for(c=0;c<b.length;c++)l+=b[c];i=d._maxSelection-l,i+=parseFloat(d._trackDiv.css(d._position),10)+j,d.wrapper.find(".k-slider-items").css("padding-top",i)}},_setItemsTitle:function(){for(var b=this,c=b.options,d=b.wrapper.find(N),e=c.min,f=d.length,g=b._isHorizontal&&!b._isRtl?0:f-1,h=b._isHorizontal&&!b._isRtl?f:-1,i=b._isHorizontal&&!b._isRtl?1:-1;g-h!==0;g+=i)a(d[g]).attr("title",q(c.tooltip.format,j(e))),e+=c.smallStep},_setItemsLargeTick:function(){var b,c,d=this,e=d.options,f=d.wrapper.find(N),g=0;if(1e3*e.largeStep%(1e3*e.smallStep)===0||d._distance/e.largeStep>=3)for(d._isHorizontal&&!d._isRtl&&(f=a.makeArray(f).reverse()),g=0;g<f.length;g++)b=a(f[g]),c=d._values[g],c%e.smallStep===0&&c%e.largeStep===0&&(b.addClass("k-tick-large").html("<span class='k-label'>"+b.attr("title")+"</span>"),0!==g&&g!==f.length-1&&b.css("line-height",b[d._sizeFn]()+"px"))},_calculateItemsWidth:function(a){var b,c,d,e=this,f=e.options,g=parseFloat(e._trackDiv.css(e._sizeFn))+1,h=g/e._distance;for(e._distance/f.smallStep-u.floor(e._distance/f.smallStep)>0&&(g-=e._distance%f.smallStep*h),b=g/a,c=[],d=0;a-1>d;d++)c[d]=b;return c[a-1]=c[a]=b/2,e._roundWidths(c)},_roundWidths:function(a){var b,c=0,d=a.length;for(b=0;d>b;b++)c+=a[b]-u.floor(a[b]),a[b]=u.floor(a[b]);return c=u.round(c),this._addAdditionalSize(c,a)},_addAdditionalSize:function(a,b){if(0===a)return b;var c,d=parseFloat(b.length-1)/parseFloat(1==a?a:a-1);for(c=0;a>c;c++)b[parseInt(u.round(d*c),10)]+=1;return b},_calculateSteps:function(a){var b,c=this,d=c.options,e=d.min,f=0,g=u.ceil(c._distance/d.smallStep),h=1;if(g+=c._distance/d.smallStep%1===0?1:0,a.splice(0,0,2*a[g-2]),a.splice(g-1,1,2*a.pop()),c._pixelSteps=[f],c._values=[e],0!==g){for(;g>h;)f+=(a[h-1]+a[h])/2,c._pixelSteps[h]=f,c._values[h]=e+=d.smallStep,h++;b=c._distance%d.smallStep===0?g-1:g,c._pixelSteps[b]=c._maxSelection,c._values[b]=d.max,c._isRtl&&(c._pixelSteps.reverse(),c._values.reverse())}},_getValueFromPosition:function(a,b){var c,d=this,e=d.options,f=u.max(e.smallStep*(d._maxSelection/d._distance),0),g=0,h=f/2;if(d._isHorizontal?(g=a-b.startPoint,d._isRtl&&(g=d._maxSelection-g)):g=b.startPoint-a,d._maxSelection-(parseInt(d._maxSelection%f,10)-3)/2<g)return e.max;for(c=0;c<d._pixelSteps.length;c++)if(u.abs(d._pixelSteps[c]-g)-1<=h)return j(d._values[c])},_getFormattedValue:function(a,b){var c,d,e,f=this,g="",h=f.options.tooltip;return t(a)?(d=a[0],e=a[1]):b&&b.type&&(d=b.selectionStart,e=b.selectionEnd),b&&(c=b.tooltipTemplate),!c&&h.template&&(c=m.template(h.template)),t(a)||b&&b.type?c?g=c({selectionStart:d,selectionEnd:e}):(d=q(h.format,d),e=q(h.format,e),g=d+" - "+e):(b&&(b.val=a),g=c?c({value:a}):q(h.format,a)),g},_getDraggableArea:function(){var a=this,b=m.getOffset(a._trackDiv);return{startPoint:a._isHorizontal?b.left:b.top+a._maxSelection,endPoint:a._isHorizontal?b.left+a._maxSelection:b.top}},_createHtml:function(){var a=this,b=a.element,e=a.options,g=b.find("input");2==g.length?(g.eq(0).val(e.selectionStart),g.eq(1).val(e.selectionEnd)):b.val(e.value),b.wrap(c(e,b,a._isHorizontal)).hide(),e.showButtons&&b.before(d(e,"increase",a._isHorizontal)).before(d(e,"decrease",a._isHorizontal)),b.before(f(e,b))},_focus:function(b){var c=this,d=b.target,e=c.value(),f=c._drag;f||(d==c.wrapper.find(L).eq(0)[0]?(f=c._firstHandleDrag,c._activeHandle=0):(f=c._lastHandleDrag,c._activeHandle=1),e=e[c._activeHandle]),a(d).addClass(P+" "+O),f&&(c._activeHandleDrag=f,f.selectionStart=c.options.selectionStart,f.selectionEnd=c.options.selectionEnd,f._updateTooltip(e))},_focusWithMouse:function(b){b=a(b);var c=this,d=b.is(L)?b.index():0;window.setTimeout(function(){c.wrapper.find(L)[2==d?1:0].focus()},1),c._setTooltipTimeout()},_blur:function(b){var c=this,d=c._activeHandleDrag;a(b.target).removeClass(P+" "+O),d&&(d._removeTooltip(),delete c._activeHandleDrag,delete c._activeHandle)},_setTooltipTimeout:function(){var a=this;a._tooltipTimeout=window.setTimeout(function(){var b=a._drag||a._activeHandleDrag;b&&b._removeTooltip()},300)},_clearTooltipTimeout:function(){var a=this;window.clearTimeout(this._tooltipTimeout);var b=a._drag||a._activeHandleDrag;b&&b.tooltipDiv&&b.tooltipDiv.stop(!0,!1).css("opacity",1)}}),Y=X.extend({init:function(c,d){var e,f=this;c.type="text",d=p({},{value:k(c,"value"),min:k(c,"min"),max:k(c,"max"),smallStep:k(c,"step")},d),c=a(c),d&&d.enabled===b&&(d.enabled=!c.is("[disabled]")),X.fn.init.call(f,c,d),d=f.options,l(d.value)&&null!==d.value||(d.value=d.min,c.val(d.min)),d.value=u.max(u.min(d.value,d.max),d.min),e=f.wrapper.find(L),new Y.Selection(e,f,d),f._drag=new Y.Drag(e,"",f,d)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(b){var c,d,e=this,f=e.options;if(e.disable(),b!==!1){if(e.wrapper.removeClass(R).addClass(Q),e.wrapper.find("input").removeAttr(T),c=function(b){var c=W(b)[0];if(c){var d=e._isHorizontal?c.location.pageX:c.location.pageY,f=e._getDraggableArea(),g=a(b.target);if(g.hasClass("k-draghandle"))return void g.addClass(P+" "+O);e._update(e._getValueFromPosition(d,f)),e._focusWithMouse(b.target),e._drag.dragstart(b),b.preventDefault()}},e.wrapper.find(N+", "+M).on(C,c).end().on(C,function(){a(document.documentElement).one("selectstart",m.preventDefault)}).on(E,function(){e._drag._end()}),e.wrapper.find(L).attr(V,0).on(D,function(){e._setTooltipTimeout()}).on(H,function(a){e._focusWithMouse(a.target),a.preventDefault()}).on(J,s(e._focus,e)).on(K,s(e._blur,e)),d=s(function(a){var b=e._nextValueByIndex(e._valueIndex+1*a);e._setValueInRange(b),e._drag._updateTooltip(b)},e),f.showButtons){var g=s(function(a,b){this._clearTooltipTimeout(),(1===a.which||v.touch&&0===a.which)&&(d(b),this.timeout=setTimeout(s(function(){this.timer=setInterval(function(){d(b)},60)},this),200))},e);e.wrapper.find(".k-button").on(D,s(function(a){this._clearTimer(),e._focusWithMouse(a.target)},e)).on(I,function(b){a(b.currentTarget).addClass("k-state-hover")}).on("mouseout"+A,s(function(b){a(b.currentTarget).removeClass("k-state-hover"),this._clearTimer()},e)).eq(0).on(B,s(function(a){g(a,1)},e)).click(!1).end().eq(1).on(B,s(function(a){g(a,-1)},e)).click(m.preventDefault)}e.wrapper.find(L).off(G,!1).on(G,s(this._keydown,e)),f.enabled=!0}},disable:function(){var b=this;b.wrapper.removeClass(Q).addClass(R),a(b.element).prop(T,T),b.wrapper.find(".k-button").off(B).on(B,m.preventDefault).off(D).on(D,m.preventDefault).off("mouseleave"+A).on("mouseleave"+A,m.preventDefault).off(I).on(I,m.preventDefault),b.wrapper.find(N+", "+M).off(C).off(E),b.wrapper.find(L).attr(V,-1).off(D).off(G).off(H).off(J).off(K),b.options.enabled=!1},_update:function(a){var b=this,c=b.value()!=a;b.value(a),c&&b.trigger(y,{value:b.options.value})},value:function(a){var b=this,c=b.options;return a=j(a),isNaN(a)?c.value:void(a>=c.min&&a<=c.max&&c.value!=a&&(b.element.prop("value",i(a)),c.value=a,b._refreshAriaAttr(a),b._refresh()))},_refresh:function(){this.trigger(F,{value:this.options.value})},_refreshAriaAttr:function(a){var b,c=this,d=c._drag;b=d&&d._tooltipDiv?d._tooltipDiv.text():c._getFormattedValue(a,null),this.wrapper.find(L).attr("aria-valuenow",a).attr("aria-valuetext",b)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(a){var b=this;a.keyCode in b._keyMap&&(b._clearTooltipTimeout(),b._setValueInRange(b._keyMap[a.keyCode](b.options.value)),b._drag._updateTooltip(b.value()),a.preventDefault())},_setValueInRange:function(a){var b=this,c=b.options;return a=j(a),isNaN(a)?void b._update(c.min):(a=u.max(u.min(a,c.max),c.min),void b._update(a))},_nextValueByIndex:function(a){var b=this._values.length;return this._isRtl&&(a=b-1-a),this._values[u.max(0,u.min(a,b-1))]},destroy:function(){var a=this;n.fn.destroy.call(a),a.wrapper.off(A).find(".k-button").off(A).end().find(L).off(A).end().find(N+", "+M).off(A).end(),a._drag.draggable.destroy(),a._drag._removeTooltip(!0)}});Y.Selection=function(a,b,c){function d(d){var e=d-c.min,f=b._valueIndex=u.ceil(j(e/c.smallStep)),g=parseInt(b._pixelSteps[f],10),h=b._trackDiv.find(".k-slider-selection"),i=parseInt(a[b._outerSize]()/2,10),k=b._isRtl?2:0;h[b._sizeFn](b._isRtl?b._maxSelection-g:g),a.css(b._position,g-i-k)}d(c.value),b.bind([y,z,F],function(a){d(parseFloat(a.value,10))})},Y.Drag=function(a,b,c,d){var e=this;e.owner=c,e.options=d,e.element=a,e.type=b,e.draggable=new o(a,{distance:0,dragstart:s(e._dragstart,e),drag:s(e.drag,e),dragend:s(e.dragend,e),dragcancel:s(e.dragcancel,e)}),a.click(!1)},Y.Drag.prototype={dragstart:function(a){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this.draggable.userEvents._start(a)},_dragstart:function(b){var c=this,d=c.owner,e=c.options;return e.enabled?(this.owner._activeDragHandle=this,d.element.off(I),c.element.addClass(P+" "+O),a(document.documentElement).css("cursor","pointer"),c.dragableArea=d._getDraggableArea(),c.step=u.max(e.smallStep*(d._maxSelection/d._distance),0),c.type?(c.selectionStart=e.selectionStart,c.selectionEnd=e.selectionEnd,d._setZIndex(c.type)):c.oldVal=c.val=e.value,c._removeTooltip(!0),void c._createTooltip()):void b.preventDefault()},_createTooltip:function(){var b,c,d=this,e=d.owner,f=d.options.tooltip,g="",h=a(window);f.enabled&&(f.template&&(b=d.tooltipTemplate=m.template(f.template)),a(".k-slider-tooltip").remove(),d.tooltipDiv=a("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body),g=e._getFormattedValue(d.val||e.value(),d),d.type||(c="k-callout-"+(e._isHorizontal?"s":"e"),d.tooltipInnerDiv="<div class='k-callout "+c+"'><!-- --></div>",g+=d.tooltipInnerDiv),d.tooltipDiv.html(g),d._scrollOffset={top:h.scrollTop(),left:h.scrollLeft()},d.moveTooltip())},drag:function(a){var b,c=this,d=c.owner,e=a.x.location,f=a.y.location,g=c.dragableArea.startPoint,h=c.dragableArea.endPoint;a.preventDefault(),c.val=d._isHorizontal?d._isRtl?c.constrainValue(e,g,h,h>e):c.constrainValue(e,g,h,e>=h):c.constrainValue(f,h,g,h>=f),c.oldVal!=c.val&&(c.oldVal=c.val,c.type?("firstHandle"==c.type?c.selectionStart=c.val<c.selectionEnd?c.val:c.selectionEnd=c.val:c.val>c.selectionStart?c.selectionEnd=c.val:c.selectionStart=c.selectionEnd=c.val,b={values:[c.selectionStart,c.selectionEnd],value:[c.selectionStart,c.selectionEnd]}):b={value:c.val},d.trigger(z,b)),c._updateTooltip(c.val)},_updateTooltip:function(a){var b=this,c=b.options,d=c.tooltip,e="";d.enabled&&(b.tooltipDiv||b._createTooltip(),e=b.owner._getFormattedValue(j(a),b),b.type||(e+=b.tooltipInnerDiv),b.tooltipDiv.html(e),b.moveTooltip())},dragcancel:function(){return this.owner._refresh(),a(document.documentElement).css("cursor",""),this._end()},dragend:function(){var b=this,c=b.owner;return a(document.documentElement).css("cursor",""),b.type?c._update(b.selectionStart,b.selectionEnd):(c._update(b.val),b.draggable.userEvents._disposeAll()),b._end()},_end:function(){var a=this,b=a.owner;return b._focusWithMouse(a.element),b.element.on(I),!1},_removeTooltip:function(b){var c=this,d=c.owner;c.tooltipDiv&&d.options.tooltip.enabled&&d.options.enabled&&(b?(c.tooltipDiv.remove(),c.tooltipDiv=null):c.tooltipDiv.fadeOut("slow",function(){a(this).remove(),c.tooltipDiv=null}))},moveTooltip:function(){var b,c,d,e,f=this,g=f.owner,h=0,i=0,j=f.element,k=m.getOffset(j),l=8,n=a(window),o=f.tooltipDiv.find(".k-callout"),p=f.tooltipDiv.outerWidth(),q=f.tooltipDiv.outerHeight();f.type?(b=g.wrapper.find(L),k=m.getOffset(b.eq(0)),c=m.getOffset(b.eq(1)),g._isHorizontal?(h=c.top,i=k.left+(c.left-k.left)/2):(h=k.top+(c.top-k.top)/2,i=c.left),e=b.eq(0).outerWidth()+2*l):(h=k.top,i=k.left,e=j.outerWidth()+2*l),g._isHorizontal?(i-=parseInt((p-j[g._outerSize]())/2,10),h-=q+o.height()+l):(h-=parseInt((q-j[g._outerSize]())/2,10),i-=p+o.width()+l),g._isHorizontal?(d=f._flip(h,q,e,n.outerHeight()+f._scrollOffset.top),h+=d,i+=f._fit(i,p,n.outerWidth()+f._scrollOffset.left)):(d=f._flip(i,p,e,n.outerWidth()+f._scrollOffset.left),h+=f._fit(h,q,n.outerHeight()+f._scrollOffset.top),i+=d),d>0&&o&&(o.removeClass(),o.addClass("k-callout k-callout-"+(g._isHorizontal?"n":"w"))),f.tooltipDiv.css({top:h,left:i})},_fit:function(a,b,c){var d=0;return a+b>c&&(d=c-(a+b)),0>a&&(d=-a),d},_flip:function(a,b,c,d){var e=0;return a+b>d&&(e+=-(c+b)),0>a+e&&(e+=c+b),e},constrainValue:function(a,b,c,d){var e=this,f=0;return f=a>b&&c>a?e.owner._getValueFromPosition(a,e.dragableArea):d?e.options.max:e.options.min}},m.ui.plugin(Y);var Z=X.extend({init:function(c,d){var e=this,f=a(c).find("input"),g=f.eq(0)[0],h=f.eq(1)[0];g.type="text",h.type="text",d=p({},{selectionStart:k(g,"value"),min:k(g,"min"),max:k(g,"max"),smallStep:k(g,"step")},{selectionEnd:k(h,"value"),min:k(h,"min"),max:k(h,"max"),smallStep:k(h,"step")},d),d&&d.enabled===b&&(d.enabled=!f.is("[disabled]")),X.fn.init.call(e,c,d),d=e.options,l(d.selectionStart)&&null!==d.selectionStart||(d.selectionStart=d.min,f.eq(0).val(d.min)),l(d.selectionEnd)&&null!==d.selectionEnd||(d.selectionEnd=d.max,f.eq(1).val(d.max));var i=e.wrapper.find(L);new Z.Selection(i,e,d),e._firstHandleDrag=new Y.Drag(i.eq(0),"firstHandle",e,d),e._lastHandleDrag=new Y.Drag(i.eq(1),"lastHandle",e,d)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(b){var c,d=this,e=d.options;d.disable(),b!==!1&&(d.wrapper.removeClass(R).addClass(Q),d.wrapper.find("input").removeAttr(T),c=function(b){var c=W(b)[0];if(c){var f,g,h,i=d._isHorizontal?c.location.pageX:c.location.pageY,j=d._getDraggableArea(),k=d._getValueFromPosition(i,j),l=a(b.target);if(l.hasClass("k-draghandle"))return void l.addClass(P+" "+O);k<e.selectionStart?(f=k,g=e.selectionEnd,h=d._firstHandleDrag):k>d.selectionEnd?(f=e.selectionStart,g=k,h=d._lastHandleDrag):k-e.selectionStart<=e.selectionEnd-k?(f=k,g=e.selectionEnd,h=d._firstHandleDrag):(f=e.selectionStart,g=k,h=d._lastHandleDrag),h.dragstart(b),d._setValueInRange(f,g),d._focusWithMouse(h.element)}},d.wrapper.find(N+", "+M).on(C,c).end().on(C,function(){a(document.documentElement).one("selectstart",m.preventDefault)}).on(E,function(){d._activeDragHandle&&d._activeDragHandle._end()}),d.wrapper.find(L).attr(V,0).on(D,function(){d._setTooltipTimeout()}).on(H,function(a){d._focusWithMouse(a.target),a.preventDefault()}).on(J,s(d._focus,d)).on(K,s(d._blur,d)),d.wrapper.find(L).off(G,m.preventDefault).eq(0).on(G,s(function(a){this._keydown(a,"firstHandle")},d)).end().eq(1).on(G,s(function(a){this._keydown(a,"lastHandle")},d)),d.options.enabled=!0)},disable:function(){var a=this;a.wrapper.removeClass(Q).addClass(R),a.wrapper.find("input").prop(T,T),a.wrapper.find(N+", "+M).off(C).off(E),a.wrapper.find(L).attr(V,-1).off(D).off(G).off(H).off(J).off(K),a.options.enabled=!1},_keydown:function(a,b){var c,d,e,f=this,g=f.options.selectionStart,h=f.options.selectionEnd;a.keyCode in f._keyMap&&(f._clearTooltipTimeout(),"firstHandle"==b?(e=f._activeHandleDrag=f._firstHandleDrag,g=f._keyMap[a.keyCode](g),g>h&&(h=g)):(e=f._activeHandleDrag=f._lastHandleDrag,h=f._keyMap[a.keyCode](h),g>h&&(g=h)),f._setValueInRange(g,h),c=Math.max(g,f.options.selectionStart),d=Math.min(h,f.options.selectionEnd),e.selectionEnd=Math.max(d,f.options.selectionStart),e.selectionStart=Math.min(c,f.options.selectionEnd),e._updateTooltip(f.value()[f._activeHandle]),a.preventDefault())},_update:function(a,b){var c=this,d=c.value(),e=d[0]!=a||d[1]!=b;c.value([a,b]),e&&c.trigger(y,{values:[a,b],value:[a,b]})},value:function(a){return a&&a.length?this._value(a[0],a[1]):this._value()},_value:function(a,b){var c=this,d=c.options,e=d.selectionStart,f=d.selectionEnd;return isNaN(a)&&isNaN(b)?[e,f]:(a=j(a),b=j(b),void(a>=d.min&&a<=d.max&&b>=d.min&&b<=d.max&&b>=a&&(e!=a||f!=b)&&(c.element.find("input").eq(0).prop("value",i(a)).end().eq(1).prop("value",i(b)),d.selectionStart=a,d.selectionEnd=b,c._refresh(),c._refreshAriaAttr(a,b))))},values:function(a,b){return t(a)?this._value(a[0],a[1]):this._value(a,b)},_refresh:function(){var a=this,b=a.options;a.trigger(F,{values:[b.selectionStart,b.selectionEnd],value:[b.selectionStart,b.selectionEnd]}),b.selectionStart==b.max&&b.selectionEnd==b.max&&a._setZIndex("firstHandle")},_refreshAriaAttr:function(a,b){var c,d=this,e=d.wrapper.find(L),f=d._activeHandleDrag;c=d._getFormattedValue([a,b],f),e.eq(0).attr("aria-valuenow",a),e.eq(1).attr("aria-valuenow",b),e.attr("aria-valuetext",c)},_setValueInRange:function(a,b){var c=this.options;a=u.max(u.min(a,c.max),c.min),b=u.max(u.min(b,c.max),c.min),a==c.max&&b==c.max&&this._setZIndex("firstHandle"),this._update(u.min(a,b),u.max(a,b))},_setZIndex:function(b){this.wrapper.find(L).each(function(c){a(this).css("z-index","firstHandle"==b?1-c:c)})},destroy:function(){var a=this;n.fn.destroy.call(a),a.wrapper.off(A).find(N+", "+M).off(A).end().find(L).off(A),a._firstHandleDrag.draggable.destroy(),a._lastHandleDrag.draggable.destroy()}});Z.Selection=function(a,b,c){function d(d){d=d||[];var f=d[0]-c.min,g=d[1]-c.min,h=u.ceil(j(f/c.smallStep)),i=u.ceil(j(g/c.smallStep)),k=b._pixelSteps[h],l=b._pixelSteps[i],m=parseInt(a.eq(0)[b._outerSize]()/2,10),n=b._isRtl?2:0;a.eq(0).css(b._position,k-m-n).end().eq(1).css(b._position,l-m-n),e(k,l)}function e(a,c){var d,e,f=b._trackDiv.find(".k-slider-selection");d=u.abs(a-c),f[b._sizeFn](d),b._isRtl?(e=u.max(a,c),f.css("right",b._maxSelection-e-1)):(e=u.min(a,c),f.css(b._position,e-1))}d(b.value()),b.bind([y,z,F],function(a){d(a.values)})},m.ui.plugin(Z)}(window.kendo.jQuery),function(a,b,c){function d(a,b,c){c=g(c),c&&!c.equals(a.color())&&("change"==b&&(a._value=c),c=1!=c.a?c.toCssRgba():c.toCss(),a.trigger(b,{value:c}))}function e(a,b,c){for(c||(c="0"),a=a.toString(16);b>a.length;)a="0"+a;return a}function f(a){return parseFloat((+a).toFixed(3))}function g(a,d){if(null==a||"transparent"==a)return null;if(a instanceof C)return a;var e=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a);if(e)return new E(b(e[1],16),b(e[2],16),b(e[3],16),1);if(e=/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a))return new E(b(e[1]+e[1],16),b(e[2]+e[2],16),b(e[3]+e[3],16),1);if(e=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(a))return new E(b(e[1],10),b(e[2],10),b(e[3],10),1);if(e=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(a))return new E(b(e[1],10),b(e[2],10),b(e[3],10),parseFloat(e[4]));if(e=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(a))return new D(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,1);if(e=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(a))return new D(parseFloat(e[1])/100,parseFloat(e[2])/100,parseFloat(e[3])/100,parseFloat(e[4]));if(!d)throw new Error("Cannot parse color: "+a);return c}function h(a,b,c){a=Array.prototype.slice.call(a);var d=a.length,e=a.indexOf(b);return 0>e?0>c?a[d-1]:a[0]:(e+=c,0>e?e+=d:e%=d,a[e])}function i(a){a.preventDefault()}function j(a,b){return function(){return a.apply(b,arguments)}}var k=window.kendo,l=k.Class,m=k.ui,n=m.Widget,o=k.keys,p="background-color",q="k-state-selected",r="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",s="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",t={apply:"Apply",cancel:"Cancel"},u=".kendoColorTools",v="click"+u,w="keydown"+u,x=k.support.browser,y=x.msie&&x.version<9,z=n.extend({init:function(a,b){var c,d=this;n.fn.init.call(d,a,b),a=d.element,b=d.options,d._value=b.value=g(b.value),c=d._ariaId=b.ariaId,c&&a.attr("aria-labelledby",c),b._standalone&&(d._triggerSelect=d._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(a){return a!==c&&(this._value=g(a),this._updateUI(this._value)),this._value},value:function(a){return a=this.color(a),a&&(a=this.options.opacity?a.toCssRgba():a.toCss()),a||null},enable:function(b){0===arguments.length&&(b=!0),b?a(".k-disabled-overlay",this.wrapper).remove():this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(b)},_select:function(a,b){var c=this._value;a=this.color(a),b||(this.element.trigger("blur"),a.equals(c)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(a){d(this,"select",a)},_triggerChange:function(a){d(this,"change",a)},destroy:function(){this.element&&this.element.off(u),this.wrapper&&this.wrapper.off(u).find("*").off(u),this.wrapper=null,n.fn.destroy.call(this)},_updateUI:a.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}}),A=z.extend({init:function(b,c){var d=this;z.fn.init.call(d,b,c),b=d.wrapper=d.element,c=d.options;var e=c.palette;"websafe"==e?(e=s,c.columns=18):"basic"==e&&(e=r),"string"==typeof e&&(e=e.split(",")),a.isArray(e)&&(e=a.map(e,function(a){return g(a)})),this._selectedID=(c.ariaId||k.guid())+"_selected",b.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append(a(d._template({colors:e,columns:c.columns,tileSize:c.tileSize,value:d._value,id:c.ariaId}))).on(v,".k-item",function(b){d._select(a(b.currentTarget).css(p))}).attr("tabIndex",0).on(w,j(d._keydown,d));var f,h,i=c.tileSize;if(i){if(/number|string/.test(typeof i))f=h=parseFloat(i);else{if("object"!=typeof i)throw new Error("Unsupported value for the 'tileSize' argument");f=parseFloat(i.width),h=parseFloat(i.height)}b.find(".k-item").css({width:f,height:h})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(a){a?this.wrapper.removeAttr("tabIndex"):this.wrapper.attr("tabIndex",0)},_keydown:function(b){var c,d=this.wrapper,e=d.find(".k-item"),f=e.filter("."+q).get(0),j=b.keyCode;if(j==o.LEFT?c=h(e,f,-1):j==o.RIGHT?c=h(e,f,1):j==o.DOWN?c=h(e,f,this.options.columns):j==o.UP?c=h(e,f,-this.options.columns):j==o.ENTER?(i(b),f&&this._select(a(f).css(p))):j==o.ESC&&this._cancel(),c){i(b),this._current(c);try{var k=g(c.css(p));this._triggerSelect(k)}catch(l){}}},_current:function(b){this.wrapper.find("."+q).removeClass(q).attr("aria-selected",!1).removeAttr("id"),a(b).addClass(q).attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(b){var c=null;this.wrapper.find(".k-item").each(function(){var d=g(a(this).css(p));return d&&d.equals(b)?(c=this,!1):void 0}),this._current(c)},_template:k.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " '+q+'" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')}),B=z.extend({init:function(b,c){var d=this;z.fn.init.call(d,b,c),c=d.options,b=d.element,d.wrapper=b.addClass("k-widget k-flatcolorpicker").append(d._template(c)),d._hueElements=a(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",b),d._selectedColor=a(".k-selected-color-display",b),d._colorAsText=a("input.k-color-value",b),d._sliders(),d._hsvArea(),d._updateUI(d._value||new D(1,0,0,1)),b.find("input.k-color-value").on(w,function(b){var c=this;if(b.keyCode==o.ENTER)try{var e=g(c.value),f=d.color();d._select(e,e.equals(f))}catch(h){a(c).addClass("k-state-error")}else d.options.autoupdate&&setTimeout(function(){var a=g(c.value,!0);a&&d._updateUI(a,!0)},10)}).end().on(v,".k-controls button.apply",function(){d._select(d._getHSV())}).on(v,".k-controls button.cancel",function(){d._updateUI(d.color()),d._cancel()}),y&&d._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,z.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,autoupdate:!0,messages:t},_applyIEFilter:function(){var a=this.element.find(".k-hue-slider .k-slider-track")[0],b=a.currentStyle.backgroundImage;b=b.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),a.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+b+"', sizingMethod='scale')"},_sliders:function(){function a(a){c._updateUI(c._getHSV(a.value,null,null,null))}function b(a){c._updateUI(c._getHSV(null,null,null,a.value/100))}var c=this,d=c.element;c._hueSlider=d.find(".k-hue-slider").kendoSlider({min:0,max:359,tickPlacement:"none",showButtons:!1,slide:a,change:a}).data("kendoSlider"),c._opacitySlider=d.find(".k-transparency-slider").kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:b,change:b}).data("kendoSlider")},_hsvArea:function(){function a(a,c){var d=this.offset,e=a-d.left,f=c-d.top,g=this.width,h=this.height;e=0>e?0:e>g?g:e,f=0>f?0:f>h?h:f,b._svChange(e/g,1-f/h)}var b=this,c=b.element,d=c.find(".k-hsv-rectangle"),e=d.find(".k-draghandle").attr("tabIndex",0).on(w,j(b._keydown,b));b._hsvEvents=new k.UserEvents(d,{global:!0,press:function(b){this.offset=k.getOffset(d),this.width=d.width(),this.height=d.height(),e.focus(),a.call(this,b.x.location,b.y.location)},start:function(){d.addClass("k-dragging"),e.focus()},move:function(b){b.preventDefault(),a.call(this,b.x.location,b.y.location)},end:function(){d.removeClass("k-dragging")}}),b._hsvRect=d,b._hsvHandle=e},_onEnable:function(a){this._hueSlider.enable(a),this._opacitySlider&&this._opacitySlider.enable(a),this.wrapper.find("input").attr("disabled",!a);var b=this._hsvRect.find(".k-draghandle");a?b.attr("tabIndex",0):b.removeAttr("tabIndex")},_keydown:function(a){function b(b,c){var e=d._getHSV();e[b]+=c*(a.shiftKey?.01:.05),e[b]<0&&(e[b]=0),e[b]>1&&(e[b]=1),d._updateUI(e),i(a)}function c(b){var c=d._getHSV();c.h+=b*(a.shiftKey?1:5),c.h<0&&(c.h=0),c.h>359&&(c.h=359),d._updateUI(c),i(a)}var d=this;switch(a.keyCode){case o.LEFT:a.ctrlKey?c(-1):b("s",-1);break;case o.RIGHT:a.ctrlKey?c(1):b("s",1);break;case o.UP:b(a.ctrlKey&&d._opacitySlider?"a":"v",1);break;case o.DOWN:b(a.ctrlKey&&d._opacitySlider?"a":"v",-1);break;case o.ENTER:d._select(d._getHSV());break;case o.F2:d.wrapper.find("input.k-color-value").focus().select();break;case o.ESC:d._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(a,b,c,d){var e=this._hsvRect,f=e.width(),g=e.height(),h=this._hsvHandle.position();return null==a&&(a=this._hueSlider.value()),null==b&&(b=h.left/f),null==c&&(c=1-h.top/g),null==d&&(d=this._opacitySlider?this._opacitySlider.value()/100:1),new F(a,b,c,d)},_svChange:function(a,b){var c=this._getHSV(null,a,b,null);this._updateUI(c)},_updateUI:function(a,b){var c=this,d=c._hsvRect;a&&(this._colorAsText.removeClass("k-state-error"),c._selectedColor.css(p,a.toDisplay()),b||c._colorAsText.val(c._opacitySlider?a.toCssRgba():a.toCss()),c._triggerSelect(a),a=a.toHSV(),c._hsvHandle.css({left:a.s*d.width()+"px",top:(1-a.v)*d.height()+"px"}),c._hueElements.css(p,new F(a.h,1,1,1).toCss()),c._hueSlider.value(a.h),c._opacitySlider&&c._opacitySlider.value(100*a.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:k.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><input class="k-color-value" #= !data.input ? \'style="visibility: hidden;"\' : "" #></div></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')}),C=l.extend({toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var a=this.toBytes();return"rgba("+a.r+", "+a.g+", "+a.b+", "+f(this.a)+")"},toDisplay:function(){return y?this.toCss():this.toCssRgba()},equals:function(a){return a===this||null!==a&&this.toCssRgba()==g(a).toCssRgba()},diff:function(a){if(null==a)return 0/0;var b=this.toBytes();return a=a.toBytes(),Math.sqrt(Math.pow(.3*(b.r-a.r),2)+Math.pow(.59*(b.g-a.g),2)+Math.pow(.11*(b.b-a.b),2))},clone:function(){var a=this.toBytes();return a===this&&(a=new E(a.r,a.g,a.b,a.a)),a}}),D=C.extend({init:function(a,b,c,d){this.r=a,this.g=b,this.b=c,this.a=d},toHSV:function(){var a,b,c,d,e,f,g=this.r,h=this.g,i=this.b;return a=Math.min(g,h,i),b=Math.max(g,h,i),f=b,c=b-a,0===c?new F(0,0,f,this.a):(0!==b?(e=c/b,d=g==b?(h-i)/c:h==b?2+(i-g)/c:4+(g-h)/c,d*=60,0>d&&(d+=360)):(e=0,d=-1),new F(d,e,f,this.a))},toBytes:function(){return new E(255*this.r,255*this.g,255*this.b,this.a)}}),E=D.extend({init:function(a,b,c,d){this.r=Math.round(a),this.g=Math.round(b),this.b=Math.round(c),this.a=d},toRGB:function(){return new D(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHex:function(){return e(this.r,2)+e(this.g,2)+e(this.b,2)},toBytes:function(){return this}}),F=C.extend({init:function(a,b,c,d){this.h=a,this.s=b,this.v=c,this.a=d},toRGB:function(){var a,b,c,d,e,f,g,h,i=this.h,j=this.s,k=this.v;if(0===j)b=c=d=k;
else switch(i/=60,a=Math.floor(i),e=i-a,f=k*(1-j),g=k*(1-j*e),h=k*(1-j*(1-e)),a){case 0:b=k,c=h,d=f;break;case 1:b=g,c=k,d=f;break;case 2:b=f,c=k,d=h;break;case 3:b=f,c=g,d=k;break;case 4:b=h,c=f,d=k;break;default:b=k,c=f,d=g}return new D(b,c,d,this.a)},toBytes:function(){return this.toRGB().toBytes()}}),G=n.extend({init:function(b,c){var d=this;n.fn.init.call(d,b,c),c=d.options,b=d.element;var e=b.attr("value")||b.val();e=e?g(e,!0):g(c.value,!0),d._value=c.value=e;var f=d.wrapper=a(d._template(c));b.hide().after(f),b.is("input")&&b.appendTo(f),d.enable(!b.attr("disabled"));var h=b.attr("accesskey");h&&(b.attr("accesskey",null),f.attr("accesskey",h)),d.bind("activate",function(a){a.isDefaultPrevented()||d.toggle()}),d._updateUI(e)},destroy:function(){this.wrapper.off(u).find("*").off(u),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,n.fn.destroy.call(this)},enable:function(a){var b=this,c=b.wrapper,d=c.children(".k-picker-wrap"),e=d.find(".k-select");0===arguments.length&&(a=!0),b.element.attr("disabled",!a),c.attr("aria-disabled",!a),e.off(u).on("mousedown"+u,i),c.addClass("k-state-disabled").removeAttr("tabIndex").add("*",c).off(u),a&&c.removeClass("k-state-disabled").attr("tabIndex",0).on("mouseenter"+u,function(){d.addClass("k-state-hover")}).on("mouseleave"+u,function(){d.removeClass("k-state-hover")}).on("focus"+u,function(){d.addClass("k-state-focused")}).on("blur"+u,function(){d.removeClass("k-state-focused")}).on(w,j(b._keydown,b)).on(v,".k-icon",j(b.toggle,b)).on(v,b.options.toolIcon?".k-tool-icon":".k-selected-color",function(){b.trigger("activate")})},_template:k.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"></span># } #<span class="k-select" unselectable="on"><span class="k-icon k-i-arrow-s" unselectable="on"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:t,opacity:!1,buttons:!0,preview:!0,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this._getPopup().open()},close:function(){this._getPopup().close()},toggle:function(){this._getPopup().toggle()},color:z.fn.color,value:z.fn.value,_select:z.fn._select,_triggerSelect:z.fn._triggerSelect,_isInputTypeColor:function(){var a=this.element[0];return/^input$/i.test(a.tagName)&&/^color$/i.test(a.type)},_updateUI:function(a){var b="";a&&(b=this._isInputTypeColor()||1==a.a?a.toCss():a.toCssRgba(),this.element.val(b)),this._ariaTemplate||(this._ariaTemplate=k.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(b)),this._triggerSelect(a),this.wrapper.find(".k-selected-color").css(p,a?a.toDisplay():"transparent")},_keydown:function(a){var b=a.keyCode;this._getPopup().visible()?(b==o.ESC?this._selector._cancel():this._selector._keydown(a),i(a)):(b==o.ENTER||b==o.DOWN)&&(this.open(),i(a))},_getPopup:function(){var b=this,c=b._popup;if(!c){var d,e=b.options;d=e.palette?A:B,e._standalone=!1,delete e.select,delete e.change,delete e.cancel;var f=k.guid(),h=b._selector=new d(a('<div id="'+f+'"/>').appendTo(document.body),e);b.wrapper.attr("aria-owns",f),b._popup=c=h.wrapper.kendoPopup({anchor:b.wrapper}).data("kendoPopup"),h.bind({select:function(a){b._updateUI(g(a.value))},change:function(){b._select(h.color()),b.close()},cancel:function(){b.close()}}),c.bind({close:function(a){if(b.trigger("close"))return void a.preventDefault();b.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var c=h._selectOnHide();c?b._select(c):(b.wrapper.focus(),b._updateUI(b.color()))},open:function(a){b.trigger("open")?a.preventDefault():b.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){h._select(b.color(),!0),h.focus(),b.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return c}});m.plugin(A),m.plugin(B),m.plugin(G),k.parseColor=g,k.Color={fromBytes:function(a,b,c,d){return new E(a,b,c,null!=d?d:1)},fromRGB:function(a,b,c,d){return new D(a,b,c,null!=d?d:1)},fromHSV:function(a,b,c,d){return new F(a,b,c,null!=d?d:1)}}}(jQuery,parseInt),function(a,b){function c(a,b){return'<span unselectable="on" class="k-link"><span unselectable="on" class="k-icon k-i-arrow-'+a+'" title="'+b+'">'+b+"</span></span>"}var d=window.kendo,e=d.caret,f=d.keys,g=d.ui,h=g.Widget,i=d._activeElement,j=d._extractFormat,k=d.parseFloat,l=d.support.placeholder,m=d.getCulture,n=d._round,o="change",p="disabled",q="readonly",r="k-input",s="spin",t=".kendoNumericTextBox",u="touchend",v="mouseleave"+t,w="mouseenter"+t+" "+v,x="k-state-default",y="k-state-focused",z="k-state-hover",A="focus",B=".",C="k-state-selected",D="k-state-disabled",E="aria-disabled",F="aria-readonly",G=/^(-)?(\d*)$/,H=null,I=a.proxy,J=h.extend({init:function(a,c){var e,f,g,i,k,l=this,m=c&&c.step!==b;h.fn.init.call(l,a,c),c=l.options,a=l.element.on("blur"+t,I(l._focusout,l)).attr("role","spinbutton"),c.placeholder=c.placeholder||a.attr("placeholder"),l._reset(),l._wrapper(),l._arrows(),l._input(),d.support.mobileOS?l._text.on(u+t+" "+A+t,function(b){l._toggleText(!1),b.type===A&&a.focus()}):l._text.on(A+t,I(l._click,l)),e=l.min(a.attr("min")),f=l.max(a.attr("max")),g=l._parse(a.attr("step")),c.min===H&&e!==H&&(c.min=e),c.max===H&&f!==H&&(c.max=f),m||g===H||(c.step=g),a.attr("aria-valuemin",c.min).attr("aria-valuemax",c.max),c.format=j(c.format),i=c.value,l.value(i!==H?i:a.val()),k=a.is("[disabled]"),k?l.enable(!1):l.readonly(a.is("[readonly]")),d.notify(l)},options:{name:"NumericTextBox",decimals:H,min:H,max:H,value:H,step:1,culture:"",format:"n",spinners:!0,placeholder:"",upArrowText:"Increase value",downArrowText:"Decrease value"},events:[o,s],_editable:function(a){var b=this,c=b.element,d=a.disable,e=a.readonly,f=b._text.add(c),g=b._inputWrapper.off(w);b._toggleText(!0),b._upArrowEventHandler.unbind("press"),b._downArrowEventHandler.unbind("press"),c.off("keydown"+t).off("keypress"+t).off("paste"+t),e||d?(g.addClass(d?D:x).removeClass(d?x:D),f.attr(p,d).attr(q,e).attr(E,d).attr(F,e)):(g.addClass(x).removeClass(D).on(w,b._toggleHover),f.removeAttr(p).removeAttr(q).attr(E,!1).attr(F,!1),b._upArrowEventHandler.bind("press",function(a){a.preventDefault(),b._spin(1),b._upArrow.addClass(C)}),b._downArrowEventHandler.bind("press",function(a){a.preventDefault(),b._spin(-1),b._downArrow.addClass(C)}),b.element.on("keydown"+t,I(b._keydown,b)).on("keypress"+t,I(b._keypress,b)).on("paste"+t,I(b._paste,b)))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;a.element.add(a._text).add(a._upArrow).add(a._downArrow).add(a._inputWrapper).off(t),a._upArrowEventHandler.destroy(),a._downArrowEventHandler.destroy(),a._form&&a._form.off("reset",a._resetHandler),h.fn.destroy.call(a)},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},step:function(a){return this._option("step",a)},value:function(a){var c,d=this;return a===b?d._value:(a=d._parse(a),c=d._adjust(a),void(a===c&&(d._update(a),d._old=d._value)))},focus:function(){this._focusin()},_adjust:function(a){var b=this,c=b.options,d=c.min,e=c.max;return a===H?a:(d!==H&&d>a?a=d:e!==H&&a>e&&(a=e),a)},_arrows:function(){var b,e=this,f=function(){clearTimeout(e._spinning),b.removeClass(C)},g=e.options,h=g.spinners,i=e.element;b=i.siblings(".k-icon"),b[0]||(b=a(c("n",g.upArrowText)+c("s",g.downArrowText)).insertAfter(i),b.wrapAll('<span class="k-select"/>')),h||(b.parent().toggle(h),e._inputWrapper.addClass("k-expand-padding")),e._upArrow=b.eq(0),e._upArrowEventHandler=new d.UserEvents(e._upArrow,{release:f}),e._downArrow=b.eq(1),e._downArrowEventHandler=new d.UserEvents(e._downArrow,{release:f})},_blur:function(){var a=this;a._toggleText(!0),a._change(a.element.val())},_click:function(a){var b=this;clearTimeout(b._focusing),b._focusing=setTimeout(function(){var c,d,f,g=a.target,h=e(g)[0],i=g.value.substring(0,h),j=b._format(b.options.format),k=j[","],l=0;k&&(d=new RegExp("\\"+k,"g"),f=new RegExp("([\\d\\"+k+"]+)(\\"+j[B]+")?(\\d+)?")),f&&(c=f.exec(i)),c&&(l=c[0].replace(d,"").length,-1!=i.indexOf("(")&&b._value<0&&l++),b._focusin(),e(b.element[0],l)})},_change:function(a){var b=this;b._update(a),a=b._value,b._old!=a&&(b._old=a,b.trigger(o),b.element.trigger(o))},_culture:function(a){return a||m(this.options.culture)},_focusin:function(){var a=this;a._inputWrapper.addClass(y),a._toggleText(!1),a.element[0].focus()},_focusout:function(){var a=this;clearTimeout(a._focusing),a._inputWrapper.removeClass(y).removeClass(z),a._blur()},_format:function(a,b){var c=this._culture(b).numberFormat;return a=a.toLowerCase(),a.indexOf("c")>-1?c=c.currency:a.indexOf("p")>-1&&(c=c.percent),c},_input:function(){var b,c=this,d="k-formatted-value",e=c.element.addClass(r).show()[0],f=e.accessKey,g=c.wrapper;b=g.find(B+d),b[0]||(b=a('<input type="text"/>').insertBefore(e).addClass(d));try{e.setAttribute("type","text")}catch(h){e.type="text"}b[0].tabIndex=e.tabIndex,b[0].style.cssText=e.style.cssText,b.prop("placeholder",c.options.placeholder),f&&(b.attr("accesskey",f),e.accessKey=""),c._text=b.addClass(e.className)},_keydown:function(a){var b=this,c=a.keyCode;b._key=c,c==f.DOWN?b._step(-1):c==f.UP?b._step(1):c==f.ENTER&&b._change(b.element.val())},_keypress:function(a){if(0!==a.which&&a.keyCode!==f.BACKSPACE&&a.keyCode!==f.ENTER){var b,c=this,d=c.options.min,g=c.element,h=e(g),i=h[0],j=h[1],k=String.fromCharCode(a.which),l=c._format(c.options.format),m=c._key===f.NUMPAD_DOT,n=g.val();m&&(k=l[B]),n=n.substring(0,i)+k+n.substring(j),b=c._numericRegex(l).test(n),b&&m?(g.val(n),e(g,i+k.length),a.preventDefault()):(null!==d&&d>=0&&"-"===n.charAt(0)||!b)&&a.preventDefault(),c._key=0}},_numericRegex:function(a){var b=this,c=a[B],d=b.options.decimals;return c===B&&(c="\\"+c),d===H&&(d=a.decimals),0===d?G:(b._separator!==c&&(b._separator=c,b._floatRegExp=new RegExp("^(-)?(((\\d+("+c+"\\d*)?)|("+c+"\\d*)))?$")),b._floatRegExp)},_paste:function(a){var b=this,c=a.target,d=c.value;setTimeout(function(){b._parse(c.value)===H&&b._update(d)})},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=d._parse(c),void((c||"step"!==a)&&(e[a]=c,d.element.attr("aria-value"+a,c).attr(a,c))))},_spin:function(a,b){var c=this;b=b||500,clearTimeout(c._spinning),c._spinning=setTimeout(function(){c._spin(a,50)},b),c._step(a)},_step:function(a){var b=this,c=b.element,d=b._parse(c.val())||0;i()!=c[0]&&b._focusin(),d+=b.options.step*a,b._update(b._adjust(d)),b.trigger(s)},_toggleHover:function(b){a(b.currentTarget).toggleClass(z,"mouseenter"===b.type)},_toggleText:function(a){var b=this;b._text.toggle(a),b.element.toggle(!a)},_parse:function(a,b){return k(a,this._culture(b),this.options.format)},_update:function(a){var b,c=this,e=c.options,f=e.format,g=e.decimals,h=c._culture(),i=c._format(f,h);g===H&&(g=i.decimals),a=c._parse(a,h),b=a!==H,b&&(a=parseFloat(n(a,g))),c._value=a=c._adjust(a),c._placeholder(d.toString(a,f,h)),b?(a=a.toString(),-1!==a.indexOf("e")&&(a=n(+a,g)),a=a.replace(B,i[B])):a="",c.element.val(a).attr("aria-valuenow",a)},_placeholder:function(a){this._text.val(a),l||a||this._text.val(this.options.placeholder)},_wrapper:function(){var b,c=this,d=c.element,e=d[0];b=d.parents(".k-numerictextbox"),b.is("span.k-numerictextbox")||(b=d.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent(),b=b.wrap("<span/>").parent()),b[0].style.cssText=e.style.cssText,e.style.width="",c.wrapper=b.addClass("k-widget k-numerictextbox").addClass(e.className).css("display",""),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(c[0].value)})},b._form=e.on("reset",b._resetHandler))}});g.plugin(J)}(window.kendo.jQuery),function(a){function b(c,d){c.filters&&(c.filters=a.grep(c.filters,function(a){return b(a,d),a.filters?a.filters.length:a.field!=d}))}function c(a){var b,c,d,e,f,g;if(a&&a.length)for(g=[],b=0,c=a.length;c>b;b++)d=a[b],f=d.text||d.value||d,e=null==d.value?d.text||d:d.value,g[b]={text:f,value:e};return g}function d(b,c){return a.grep(b,function(b){return b.filters?(b.filters=a.grep(b.filters,function(a){return a.field!=c}),b.filters.length):b.field!=c})}var e=window.kendo,f=e.ui,g=a.proxy,h="kendoPopup",i="init",j=".kendoFilterMenu",k="Is equal to",l="Is not equal to",m={number:"numerictextbox",date:"datepicker"},n={string:"text",number:"number",date:"date"},o=e.isFunction,p=f.Widget,q='<div><div class="k-filter-help-text">#=messages.info#</div><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label><label><input type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label><div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',r='<div><div class="k-filter-help-text">#=messages.info#</div><select data-#=ns#bind="value: filters[0].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[0].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}##if(extra){#<select class="k-filter-and" data-#=ns#bind="value: logic" data-#=ns#role="dropdownlist"><option value="and">#=messages.and#</option><option value="or">#=messages.or#</option></select><select data-#=ns#bind="value: filters[1].operator" data-#=ns#role="dropdownlist">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select>#if(values){#<select data-#=ns#bind="value:filters[1].value" data-#=ns#text-field="text" data-#=ns#value-field="value" data-#=ns#source=\'#=kendo.stringify(values).replace(/\'/g,"&\\#39;")#\' data-#=ns#role="dropdownlist" data-#=ns#option-label="#=messages.selectValue#"></select>#}else{#<input data-#=ns#bind="value: filters[1].value" class="k-textbox" type="text" #=role ? "data-" + ns + "role=\'" + role + "\'" : ""#/>#}##}#<div><button type="submit" class="k-button">#=messages.filter#</button><button type="reset" class="k-button">#=messages.clear#</button></div></div>',s='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[0].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[0].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[0].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#if(extra){#</ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="and" />#=messages.and#</label></li><li class="k-item"><label class="k-label"><input type="radio" name="logic" class="k-check" data-#=ns#bind="checked: logic" value="or" />#=messages.or#</label></li></ul><ul class="k-filter-help-text"><li><span class="k-link"></span><li class="k-item"><label class="k-label">#=messages.operator#<select data-#=ns#bind="value: filters[1].operator">#for(var op in operators){#<option value="#=op#">#=operators[op]#</option>#}#</select></label></li><li class="k-item"><label class="k-label">#=messages.value##if(values){#<select data-#=ns#bind="value:filters[1].value"><option value="">#=messages.selectValue#</option>#for(var val in values){#<option value="#=values[val].value#">#=values[val].text#</option>#}#</select>#}else{#<input data-#=ns#bind="value:filters[1].value" class="k-textbox" type="#=inputType#" #=useRole ? "data-" + ns + "role=\'" + role + "\'" : ""# />#}#</label></li>#}#</ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></div></form></div>',t='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-filter-menu"><div data-#=ns#role="header" class="k-header"><button class="k-button k-cancel">#=messages.cancel#</button>#=field#<button type="submit" class="k-button k-submit">#=messages.filter#</button></div><form class="k-filter-menu k-mobile-list"><ul class="k-filter-help-text"><li><span class="k-link">#=messages.info#</span><ul><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="true" name="filters[0].value"/>#=messages.isTrue#</label></li><li class="k-item"><label class="k-label"><input class="k-check" type="radio" data-#=ns#bind="checked: filters[0].value" value="false" name="filters[0].value"/>#=messages.isFalse#</label></li></ul></li><li class="k-button-container"><button type="reset" class="k-button">#=messages.clear#</button></li></ul></form></div>',u=p.extend({init:function(b,c){var d,f,h,i,k=this,l="string";p.fn.init.call(k,b,c),d=k.operators=c.operators||{},b=k.element,c=k.options,c.appendToElement||(h=b.addClass("k-with-icon k-filterable").find(".k-grid-filter"),h[0]||(h=b.prepend('<a class="k-grid-filter" href="#"><span class="k-icon k-filter"/></a>').find(".k-grid-filter")),h.attr("tabindex",-1).on("click"+j,g(k._click,k))),k.link=h||a(),k.dataSource=c.dataSource,k.field=c.field||b.attr(e.attr("field")),k.model=k.dataSource.reader.model,k._parse=function(a){return a+""},k.model&&k.model.fields&&(i=k.model.fields[k.field],i&&(l=i.type||"string",i.parse&&(k._parse=g(i.parse,i)))),c.values&&(l="enums"),k.type=l,d=d[l]||c.operators[l];for(f in d)break;k._defaultFilter=function(){return{field:k.field,operator:f||"eq",value:""}},k._refreshHandler=g(k.refresh,k),k.dataSource.bind("change",k._refreshHandler),c.appendToElement?k._init():k.refresh()},_init:function(){var b,c=this,d=c.options.ui,f=o(d);c.pane=c.options.pane,c.pane&&(c._isMobile=!0),f||(b=d||m[c.type]),c._isMobile?c._createMobileForm(b):c._createForm(b),c.form.on("submit"+j,g(c._submit,c)).on("reset"+j,g(c._reset,c)),f&&c.form.find(".k-textbox").removeClass("k-textbox").each(function(){d(a(this))}),c.form.find("["+e.attr("role")+"=numerictextbox]").removeClass("k-textbox").end().find("["+e.attr("role")+"=datetimepicker]").removeClass("k-textbox").end().find("["+e.attr("role")+"=timepicker]").removeClass("k-textbox").end().find("["+e.attr("role")+"=datepicker]").removeClass("k-textbox"),c.refresh(),c.trigger(i,{field:c.field,container:c.form})},_createForm:function(b){var d=this,f=d.options,i=d.operators||{},k=d.type;i=i[k]||f.operators[k],d.form=a('<form class="k-filter-menu"/>').html(e.template("boolean"===k?q:r)({field:d.field,format:f.format,ns:e.ns,messages:f.messages,extra:f.extra,operators:i,type:k,role:b,values:c(f.values)})),f.appendToElement?(d.element.append(d.form),d.popup=d.element.closest(".k-popup").data(h)):d.popup=d.form[h]({anchor:d.link,open:g(d._open,d),activate:g(d._activate,d),close:function(){d.options.closeCallback&&d.options.closeCallback(d.element)}}).data(h),d.form.on("keydown"+j,g(d._keydown,d))},_createMobileForm:function(b){var d=this,f=d.options,g=d.operators||{},h=d.type;g=g[h]||f.operators[h],d.form=a("<div />").html(e.template("boolean"===h?t:s)({field:d.field,format:f.format,ns:e.ns,messages:f.messages,extra:f.extra,operators:g,type:h,role:b,useRole:!e.support.input.date&&"date"===h||"number"===h,inputType:n[h],values:c(f.values)})),d.view=d.pane.append(d.form.html()),d.form=d.view.element.find("form"),d.view.element.on("click",".k-submit",function(a){d.form.submit(),a.preventDefault()}).on("click",".k-cancel",function(a){d._closeForm(),a.preventDefault()})},refresh:function(){var a=this,b=a.dataSource.filter()||{filters:[],logic:"and"};a.filterModel=e.observable({logic:"and",filters:[a._defaultFilter(),a._defaultFilter()]}),a.form&&e.bind(a.form.children().first(),a.filterModel),a._bind(b)?a.link.addClass("k-state-active"):a.link.removeClass("k-state-active")},destroy:function(){var a=this;p.fn.destroy.call(a),a.form&&(e.unbind(a.form),e.destroy(a.form),a.form.unbind(j),a.popup&&(a.popup.destroy(),a.popup=null),a.form=null),a.view&&(a.view.purge(),a.view=null),a.link.unbind(j),a._refreshHandler&&(a.dataSource.unbind("change",a._refreshHandler),a.dataSource=null),a.element=a.link=a._refreshHandler=a.filterModel=null},_bind:function(a){var b,c,d,e,f=this,g=a.filters,h=!1,i=0,j=f.filterModel;for(b=0,c=g.length;c>b;b++)e=g[b],e.field==f.field?(j.set("logic",a.logic),d=j.filters[i],d||(j.filters.push({field:f.field}),d=j.filters[i]),d.set("value",f._parse(e.value)),d.set("operator",e.operator),i++,h=!0):e.filters&&(h=h||f._bind(e));return h},_merge:function(c){var d,e,f,g=this,h=c.logic||"and",i=c.filters,j=g.dataSource.filter()||{filters:[],logic:"and"};for(b(j,g.field),i=a.grep(i,function(a){return""!==a.value&&null!=a.value}),e=0,f=i.length;f>e;e++)d=i[e],d.value=g._parse(d.value);return i.length&&(j.filters.length?(c.filters=i,"and"!==j.logic&&(j.filters=[{logic:j.logic,filters:j.filters}],j.logic="and"),j.filters.push(i.length>1?c:i[0])):(j.filters=i,j.logic=h)),j},filter:function(a){a=this._merge(a),a.filters.length&&this.dataSource.filter(a)},clear:function(){var b=this,c=b.dataSource.filter()||{filters:[]};c.filters=a.grep(c.filters,function(a){return a.filters?(a.filters=d(a.filters,b.field),a.filters.length):a.field!=b.field}),c.filters.length||(c=null),b.dataSource.filter(c)},_submit:function(a){a.preventDefault(),a.stopPropagation(),this.filter(this.filterModel.toJSON()),this._closeForm()},_reset:function(){this.clear(),this._closeForm()},_closeForm:function(){this._isMobile?this.pane.navigate("",this.options.animations.right):this.popup.close()},_click:function(a){a.preventDefault(),a.stopPropagation(),this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle()},_open:function(){var b;a(".k-filter-menu").not(this.form).each(function(){b=a(this).data(h),b&&b.close()})},_activate:function(){this.form.find(":kendoFocusable:first").focus()},_keydown:function(a){a.keyCode==e.keys.ESC&&this.popup.close()},events:[i],options:{name:"FilterMenu",extra:!0,appendToElement:!1,type:"string",operators:{string:{eq:k,neq:l,startswith:"Starts with",contains:"Contains",doesnotcontain:"Does not contain",endswith:"Ends with"},number:{eq:k,neq:l,gte:"Is greater than or equal to",gt:"Is greater than",lte:"Is less than or equal to",lt:"Is less than"},date:{eq:k,neq:l,gte:"Is after or equal to",gt:"Is after",lte:"Is before or equal to",lt:"Is before"},enums:{eq:k,neq:l}},messages:{info:"Show items with value that:",isTrue:"is true",isFalse:"is false",filter:"Filter",clear:"Clear",and:"And",or:"Or",selectValue:"-Select value-",operator:"Operator",value:"Value",cancel:"Cancel"},animations:{left:"slide",right:"slide:right"}}});f.plugin(u)}(window.kendo.jQuery),function(a,b){function c(a,b){return a=a.split(" ")[!b+0]||a,a.replace("top","up").replace("bottom","down")}function d(a,b,c){a=a.split(" ")[!b+0]||a;var d={origin:["bottom",c?"right":"left"],position:["top",c?"right":"left"]},e=/left|right/.test(a);return e?(d.origin=["top",a],d.position[1]=i.directions[a].reverse):(d.origin[0]=a,d.position[0]=i.directions[a].reverse),d.origin=d.origin.join(" "),d.position=d.position.join(" "),d}function e(b,c){try{return a.contains(b,c)}catch(d){return!1}}function f(b){b=a(b),b.addClass("k-item").children(w).addClass(E),b.children("a").addClass(z).children(w).addClass(E),b.filter(":not([disabled])").addClass(Q),b.filter(".k-separator:empty").append("&nbsp;"),b.filter("li[disabled]").addClass(T).removeAttr("disabled").attr("aria-disabled",!0),b.filter("[role]").length||b.attr("role","menuitem"),b.children("."+z).length||b.contents().filter(function(){return!(this.nodeName.match(u)||3==this.nodeType&&!a.trim(this.nodeValue))}).wrapAll("<span class='"+z+"'/>"),g(b),h(b)}function g(b){b=a(b),b.find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove(),b.filter(":has(.k-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var b=a(this),c=b.parent().parent();b.append("<span class='k-icon "+(c.hasClass(y+"-horizontal")?"k-i-arrow-s":"k-i-arrow-e")+"'/>")})}function h(b){b=a(b),b.filter(".k-first:not(:first-child)").removeClass(D),b.filter(".k-last:not(:last-child)").removeClass(A),b.filter(":first-child").addClass(D),b.filter(":last-child").addClass(A)}var i=window.kendo,j=i.ui,k=i._activeElement,l=i.support.touch&&i.support.mobileOS,m="mousedown",n="click",o=a.extend,p=a.proxy,q=a.each,r=i.template,s=i.keys,t=j.Widget,u=/^(ul|a|div)$/i,v=".kendoMenu",w="img",x="open",y="k-menu",z="k-link",A="k-last",B="close",C="timer",D="k-first",E="k-image",F="select",G="zIndex",H="activate",I="deactivate",J="touchstart"+v+" MSPointerDown"+v+" pointerdown"+v,K=i.support.pointers,L=i.support.msPointers,M=K?"pointerover":L?"MSPointerOver":"mouseenter",N=K?"pointerout":L?"MSPointerOut":"mouseleave",O=l||L||K,P="kendoPopup",Q="k-state-default",R="k-state-hover",S="k-state-focused",T="k-state-disabled",U=".k-group",V=U+",.k-animation-container",W=":not(.k-list) > .k-item",X=".k-item.k-state-disabled",Y=".k-item:not(.k-state-disabled)",Z=".k-item:not(.k-state-disabled) > .k-link",$=":not(.k-item.k-separator)",_=$+":eq(0)",ab=$+":last",bb="div:not(.k-animation-container,.k-list-container)",cb={content:r("<div class='k-content k-group' tabindex='-1'>#= content(item) #</div>"),group:r("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:r("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:r("<li class='#= wrapperCssClass(group, item) #' role='menuitem' #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:r("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:r("<span class='#= arrowClass(item, group) #'></span>"),sprite:r("<span class='k-sprite #= spriteCssClass #'></span>"),empty:r("")},db={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" k-state-disabled":" k-state-default",a.firstLevel&&0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),b.cssClass&&(c+=" "+b.cssClass),c},textClass:function(){return z},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a,b){var c="k-icon";return c+=b.horizontal?" k-i-arrow-s":" k-i-arrow-e"},text:function(a){return a.encoded===!1?a.text:i.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group"},content:function(a){return a.content?a.content:"&nbsp;"}},eb=t.extend({init:function(b,c){var d=this;t.fn.init.call(d,b,c),b=d.wrapper=d.element,c=d.options,d._initData(c),d._updateClasses(),d._animations(c),d.nextItemZIndex=100,d._tabindex(),d._focusProxy=p(d._focusHandler,d),b.on(J,d._focusProxy).on(n+v,X,!1).on(n+v,Y,p(d._click,d)).on("keydown"+v,p(d._keydown,d)).on("focus"+v,p(d._focus,d)).on("focus"+v,".k-content",p(d._focus,d)).on(J+" "+m+v,".k-content",p(d._preventClose,d)).on("blur"+v,p(d._removeHoverItem,d)).on("blur"+v,"[tabindex]",p(d._checkActiveElement,d)).on(M+v,Y,p(d._mouseenter,d)).on(N+v,Y,p(d._mouseleave,d)).on(M+v+" "+N+v+" "+m+v+" "+n+v,Z,p(d._toggleHover,d)),c.openOnClick&&(d.clicked=!1,d._documentClickHandler=p(d._documentClick,d),a(document).click(d._documentClickHandler)),b.attr("role","menubar"),b[0].id&&(d._ariaId=i.format("{0}_mn_active",b[0].id)),i.notify(d)},events:[x,B,H,I,F],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100},_initData:function(a){var b=this;a.dataSource&&(b.element.empty(),b.append(a.dataSource,b.element))},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=o(!0,b,a.animation),"dataSource"in a&&this._initData(a),t.fn.setOptions.call(this,a)},destroy:function(){var b=this;t.fn.destroy.call(b),b.element.off(v),b._documentClickHandler&&a(document).unbind("click",b._documentClickHandler),i.destroy(b.element)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.length?b.find("> .k-group, > .k-animation-container > .k-group"):null);return q(c.items,function(){c.group.append(this),g(this)}),g(b),h(c.group.find(".k-first, .k-last").add(c.items)),this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return q(c.items,function(){b.before(this),g(this),h(this)}),h(b),this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return q(c.items,function(){b.after(this),g(this),h(this)}),h(b),this},_insert:function(b,c,d){var e,g,h=this;c&&c.length||(d=h.element);var i=a.isPlainObject(b),j={firstLevel:d.hasClass(y),horizontal:d.hasClass(y+"-horizontal"),expanded:!0,length:d.children().length};return c&&!d.length&&(d=a(eb.renderGroup({group:j})).appendTo(c)),i||a.isArray(b)?e=a(a.map(i?[b]:b,function(b,c){return"string"==typeof b?a(b).get():a(eb.renderItem({group:j,item:o(b,{index:c})})).get()})):(e="string"==typeof b&&"<"!=b[0]?h.element.find(b):a(b),g=e.find("> ul").addClass("k-group").attr("role","menu"),e=e.filter("li"),e.add(g.find("> li")).each(function(){f(this)})),{items:e,group:d}},remove:function(a){a=this.element.find(a);var b=this,c=a.parentsUntil(b.element,W),d=a.parent("ul:not(.k-menu)");if(a.remove(),d&&!d.children(W).length){var e=d.parent(".k-animation-container");e.length?e.remove():d.remove()}return c.length&&(c=c.eq(0),g(c),h(c)),b},open:function(e){var f=this,g=f.options,h="horizontal"==g.orientation,j=g.direction,k=i.support.isRtl(f.wrapper);return e=f.element.find(e),/^(top|bottom|default)$/.test(j)&&(j=k?h?(j+" left").replace("default","bottom"):"left":h?(j+" right").replace("default","bottom"):"right"),e.siblings().find(">.k-popup:visible,>.k-animation-container>.k-popup:visible").each(function(){var b=a(this).data("kendoPopup");b&&b.close()}),e.each(function(){var e=a(this);clearTimeout(e.data(C)),e.data(C,setTimeout(function(){var l,m=e.find(".k-group:first:hidden");if(m[0]&&f.trigger(x,{item:e[0]})===!1){if(!m.find(".k-group")[0]&&m.children(".k-item").length>1){var n=a(window).height(),p=function(){m.css({maxHeight:n-(m.outerHeight()-m.height())-i.getShadows(m).bottom,overflow:"auto"})
};i.support.browser.msie&&i.support.browser.version<=7?setTimeout(p,0):p()}else m.css({maxHeight:"",overflow:""});e.data(G,e.css(G)),e.css(G,f.nextItemZIndex++),l=m.data(P);var q=e.parent().hasClass(y),r=q&&h,s=d(j,q,k),t=g.animation.open.effects,u=t!==b?t:"slideIn:"+c(j,q);l?(l=m.data(P),l.options.origin=s.origin,l.options.position=s.position,l.options.animation.open.effects=u):l=m.kendoPopup({activate:function(){f.trigger(H,{item:this.wrapper.parent()})},deactivate:function(){f.trigger(I,{item:this.wrapper.parent()})},origin:s.origin,position:s.position,collision:g.popupCollision!==b?g.popupCollision:r?"fit":"fit flip",anchor:e,appendTo:e,animation:{open:o(!0,{effects:u},g.animation.open),close:g.animation.close},close:function(a){var b=a.sender.wrapper.parent();f.trigger(B,{item:b[0]})?a.preventDefault():(b.css(G,b.data(G)),b.removeData(G),O&&(b.removeClass(R),f._removeHoverItem()))}}).data(P),m.removeAttr("aria-hidden"),l.open()}},f.options.hoverDelay))}),f},close:function(b,c){var d=this,e=d.element;return b=e.find(b),b.length||(b=e.find(">.k-item")),b.each(function(){var b=a(this);!c&&d._isRootItem(b)&&(d.clicked=!1),clearTimeout(b.data(C)),b.data(C,setTimeout(function(){var a=b.find(".k-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(P);a&&(a.close(),a.element.attr("aria-hidden",!0))},d.options.hoverDelay))}),d},_toggleDisabled:function(b,c){this.element.find(b).each(function(){a(this).toggleClass(Q,c).toggleClass(T,!c).attr("aria-disabled",!c)})},_toggleHover:function(b){var c=a(i.eventTarget(b)||b.target).closest(W),d=b.type==M||-1!==m.indexOf(b.type);c.parents("li."+T).length||c.toggleClass(R,d||"mousedown"==b.type||"click"==b.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(b){var c=this,d=a(b?b.currentTarget:this._hoverItem()),f=c._findRootParent(d)[0];this._closurePrevented||setTimeout(function(){(!document.hasFocus()||!e(f,i._activeElement())&&b&&!e(f,b.currentTarget))&&c.close(f)},0),this._closurePrevented=!1},_removeHoverItem:function(){var a=this._hoverItem();a&&a.hasClass(S)&&(a.removeClass(S),this._oldHoverItem=null)},_updateClasses:function(){var a,b=this.element;b.addClass("k-widget k-reset k-header "+y).addClass(y+"-"+this.options.orientation),b.find("li > ul").addClass("k-group").attr("role","menu").attr("aria-hidden",b.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),a=b.find("> li,.k-group > li"),a.each(function(){f(this)})},_mouseenter:function(b){var c=this,d=a(b.currentTarget),f=d.children(".k-animation-container").length||d.children(U).length;b.delegateTarget==d.parents(".k-menu")[0]&&(c.options.openOnClick&&!c.clicked||l||!e(b.currentTarget,b.relatedTarget)&&f&&c.open(d),(c.options.openOnClick&&c.clicked||O)&&d.siblings().each(p(function(a,b){c.close(b,!0)},c)))},_mouseleave:function(b){var c=this,d=a(b.currentTarget),f=d.children(".k-animation-container").length||d.children(U).length;return d.parentsUntil(".k-animation-container",".k-list-container,.k-calendar-container")[0]?void b.stopImmediatePropagation():void(c.options.openOnClick||l||(K||L)&&b.originalEvent.pointerType==b.originalEvent.MSPOINTER_TYPE_TOUCH||e(b.currentTarget,b.relatedTarget||b.target)||!f||c.close(d))},_click:function(b){var c,d,e,f=this,g=f.options,h=a(i.eventTarget(b)),j=h[0]?h[0].nodeName.toUpperCase():"",k="INPUT"==j||"SELECT"==j||"BUTTON"==j||"LABEL"==j,l=h.closest("."+z),m=h.closest(W),n=l.attr("href"),o=!!n&&n!==a("<a href='#' />").attr("href");if(g.openOnClick||!m.children(bb)[0]){if(m.hasClass(T))return void b.preventDefault();if(b.handled||!f.trigger(F,{item:m[0]})||k||b.preventDefault(),b.handled=!0,d=m.children(V),e=d.is(":visible"),g.closeOnClick&&!o&&(!d.length||g.openOnClick&&e))return m.removeClass(R).css("height"),f._oldHoverItem=f._findRootParent(m),f.close(l.parentsUntil(f.element,W)),f.clicked=!1,void(-1!="MSPointerUp".indexOf(b.type)&&b.preventDefault());o&&b.enterKey&&l[0].click(),(m.parent().hasClass(y)&&g.openOnClick||i.support.touch)&&(o||k||b.preventDefault(),f.clicked=!0,c=d.is(":visible")?B:x,(g.closeOnClick||c!=B)&&f[c](m))}},_documentClick:function(a){e(this.element[0],a.target)||(this.clicked=!1)},_focus:function(b){var c=this,d=b.target,e=c._hoverItem(),f=k();return d==c.wrapper[0]||a(d).is(":kendoFocusable")?void(f===b.currentTarget&&(e.length?c._moveHover([],e):c._oldHoverItem||c._moveHover([],c.wrapper.children().first()))):(b.stopPropagation(),a(d).closest(".k-content").closest(".k-group").closest(".k-item").addClass(S),void c.wrapper.focus())},_keydown:function(a){var b,c,d,e=this,f=a.keyCode,g=e._oldHoverItem,h=i.support.isRtl(e.wrapper);if(a.target==a.currentTarget||f==s.ESC){if(g||(g=e._oldHoverItem=e._hoverItem()),c=e._itemBelongsToVertival(g),d=e._itemHasChildren(g),f==s.RIGHT)b=e[h?"_itemLeft":"_itemRight"](g,c,d);else if(f==s.LEFT)b=e[h?"_itemRight":"_itemLeft"](g,c,d);else if(f==s.DOWN)b=e._itemDown(g,c,d);else if(f==s.UP)b=e._itemUp(g,c,d);else if(f==s.ESC)b=e._itemEsc(g,c);else if(f==s.ENTER||f==s.SPACEBAR)b=g.children(".k-link"),b.length>0&&(e._click({target:b[0],preventDefault:function(){},enterKey:!0}),e._moveHover(g,e._findRootParent(g)));else if(f==s.TAB)return b=e._findRootParent(g),e._moveHover(g,b),void e._checkActiveElement();b&&b[0]&&(a.preventDefault(),a.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(a){var b=this.wrapper.hasClass("k-menu-vertical");return a.length?a.parent().hasClass("k-group")||b:b},_itemHasChildren:function(a){return a.length?a.children("ul.k-group, div.k-animation-container").length>0:!1},_moveHover:function(b,c){var d=this,e=d._ariaId;b.length&&c.length&&b.removeClass(S),c.length&&(c[0].id&&(e=c[0].id),c.addClass(S),d._oldHoverItem=c,e&&(d.element.removeAttr("aria-activedescendant"),a("#"+e).removeAttr("id"),c.attr("id",e),d.element.attr("aria-activedescendant",e)))},_findRootParent:function(a){return a.parent().hasClass("k-menu")?a:a.parentsUntil(".k-menu","li.k-item").last()},_isRootItem:function(a){return a.parent().hasClass("k-menu")},_itemRight:function(a,b,c){var d,e,f=this;if(!a.hasClass(T))return b?c?(f.open(a),d=a.find(".k-group").children().first()):"horizontal"==f.options.orientation&&(e=f._findRootParent(a),f.close(e),d=e.nextAll(_)):(d=a.nextAll(_),d.length||(d=a.prevAll(ab))),d&&!d.length?d=f.wrapper.children(".k-item").first():d||(d=[]),f._moveHover(a,d),d},_itemLeft:function(a,b){var c,d=this;return b?(c=a.parent().closest(".k-item"),d.close(c),d._isRootItem(c)&&"horizontal"==d.options.orientation&&(c=c.prevAll(_))):(c=a.prevAll(_),c.length||(c=a.nextAll(ab))),c.length||(c=d.wrapper.children(".k-item").last()),d._moveHover(a,c),c},_itemDown:function(a,b,c){var d,e=this;if(b)d=a.nextAll(_);else{if(!c||a.hasClass(T))return;e.open(a),d=a.find(".k-group").children().first()}return!d.length&&a.length?d=a.parent().children().first():a.length||(d=e.wrapper.children(".k-item").first()),e._moveHover(a,d),d},_itemUp:function(a,b){var c,d=this;if(b)return c=a.prevAll(_),!c.length&&a.length?c=a.parent().children().last():a.length||(c=d.wrapper.children(".k-item").last()),d._moveHover(a,c),c},_itemEsc:function(a,b){var c,d=this;return b?(c=a.parent().closest(".k-item"),d.close(c),d._moveHover(a,c),c):a},_focusHandler:function(b){var c=this,d=a(i.eventTarget(b)).closest(W);setTimeout(function(){c._moveHover([],d),d.children(".k-content")[0]&&d.parent().closest(".k-item").removeClass(S)},200)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});o(eb,{renderItem:function(a){a=o({menu:{},group:{}},a);var b=cb.empty,c=a.item;return cb.item(o(a,{image:c.imageUrl?cb.image:b,sprite:c.spriteCssClass?cb.sprite:b,itemWrapper:cb.itemWrapper,renderContent:eb.renderContent,arrow:c.items||c.content?cb.arrow:b,subGroup:eb.renderGroup},db))},renderGroup:function(a){return cb.group(o({renderItems:function(a){for(var b="",c=0,d=a.items,e=d?d.length:0,f=o({length:e},a.group);e>c;c++)b+=eb.renderItem(o(a,{group:f,item:o({index:c},d[c])}));return b}},a,db))},renderContent:function(a){return cb.content(o(a,db))}}),i.ui.plugin(eb)}(window.kendo.jQuery),function(a,b){function c(b){return a.trim(b).replace(/&nbsp;/gi,"")}function d(a,b){var c,d,e,f={};for(c=0,d=a.length;d>c;c++)e=a[c],f[e[b]]=e;return f}var e=window.kendo,f=e.ui,g=a.proxy,h=a.extend,i=a.grep,j=a.map,k=a.inArray,l="k-state-selected",m="asc",n="desc",o="change",p="init",q="select",r="kendoPopup",s="kendoFilterMenu",t="kendoMenu",u=".kendoColumnMenu",v=f.Widget,w=v.extend({init:function(b,c){var d,f=this;v.fn.init.call(f,b,c),b=f.element,c=f.options,f.owner=c.owner,f.dataSource=c.dataSource,f.field=b.attr(e.attr("field")),d=b.find(".k-header-column-menu"),d[0]||(d=b.addClass("k-with-icon").prepend('<a class="k-header-column-menu" href="#"><span class="k-icon k-i-arrowhead-s"/></a>').find(".k-header-column-menu")),f.link=d.attr("tabindex",-1).on("click"+u,g(f._click,f)),f.wrapper=a('<div class="k-column-menu"/>')},_init:function(){var a=this;a.pane=a.options.pane,a.pane&&(a._isMobile=!0),a._isMobile?a._createMobileMenu():a._createMenu(),a._sort(),a._columns(),a._filter(),a._lockColumns(),a.trigger(p,{field:a.field,container:a.wrapper})},events:[p],options:{name:"ColumnMenu",messages:{sortAscending:"Sort Ascending",sortDescending:"Sort Descending",filter:"Filter",columns:"Columns",done:"Done",settings:"Column Settings",lock:"Lock",unlock:"Unlock"},filter:"",columns:!0,sortable:!0,filterable:!0,animations:{left:"slide"}},_createMenu:function(){var a=this,b=a.options;a.wrapper.html(e.template(x)({ns:e.ns,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns,lockedColumns:b.lockedColumns})),a.popup=a.wrapper[r]({anchor:a.link,open:g(a._open,a),activate:g(a._activate,a),close:function(){a.options.closeCallback&&a.options.closeCallback(a.element)}}).data(r),a.menu=a.wrapper.children()[t]({orientation:"vertical",closeOnClick:!1}).data(t)},_createMobileMenu:function(){var a=this,b=a.options,c=e.template(y)({ns:e.ns,field:a.field,messages:b.messages,sortable:b.sortable,filterable:b.filterable,columns:a._ownerColumns(),showColumns:b.columns,lockedColumns:b.lockedColumns});a.view=a.pane.append(c),a.wrapper=a.view.element.find(".k-column-menu"),a.menu=new z(a.wrapper.children(),{pane:a.pane}),a.view.element.on("click",".k-done",function(b){a.close(),b.preventDefault()}),a.options.lockedColumns&&a.view.bind("show",function(){a._updateLockedColumns()})},destroy:function(){var a=this;v.fn.destroy.call(a),a.filterMenu&&a.filterMenu.destroy(),a._refreshHandler&&a.dataSource.unbind(o,a._refreshHandler),a.options.columns&&a.owner&&(a.owner.unbind("columnShow",a._updateColumnsMenuHandler),a.owner.unbind("columnHide",a._updateColumnsMenuHandler)),a.menu&&(a.menu.element.off(u),a.menu.destroy()),a.wrapper.off(u),a.popup&&a.popup.destroy(),a.view&&a.view.purge(),a.link.off(u),a.owner=null,a.wrapper=null,a.element=null},close:function(){this.menu.close(),this.popup&&(this.popup.close(),this.popup.element.off("keydown"+u))},_click:function(a){a.preventDefault(),a.stopPropagation();var b=this.options;b.filter&&this.element.is(!b.filter)||(this.popup||this.pane||this._init(),this._isMobile?this.pane.navigate(this.view,this.options.animations.left):this.popup.toggle())},_open:function(){var b=this;a(".k-column-menu").not(b.wrapper).each(function(){a(this).data(r).close()}),b.popup.element.on("keydown"+u,function(a){a.keyCode==e.keys.ESC&&b.close()}),b.options.lockedColumns&&b._updateLockedColumns()},_activate:function(){this.menu.element.focus()},_ownerColumns:function(){var a=this.owner.columns,b=i(a,function(a){var b=!0,d=c(a.title||"");return(a.menu===!1||!a.field&&!d.length)&&(b=!1),b});return j(b,function(b){return{originalField:b.field,field:b.field||b.title,title:b.title||b.field,hidden:b.hidden,index:k(b,a),locked:!!b.locked}})},_sort:function(){var b=this;b.options.sortable&&(b.refresh(),b._refreshHandler=g(b.refresh,b),b.dataSource.bind(o,b._refreshHandler),b.menu.bind(q,function(c){var d,e=a(c.item);e.hasClass("k-sort-asc")?d=m:e.hasClass("k-sort-desc")&&(d=n),d&&(e.parent().find(".k-sort-"+(d==m?n:m)).removeClass(l),b._sortDataSource(e,d),b.close())}))},_sortDataSource:function(a,c){var d,e,f=this,g=f.options.sortable,h=f.dataSource,i=h.sort()||[];if(a.hasClass(l)&&g&&g.allowUnsort!==!1?(a.removeClass(l),c=b):a.addClass(l),g===!0||"single"===g.mode)i=[{field:f.field,dir:c}];else{for(d=0,e=i.length;e>d;d++)if(i[d].field===f.field){i.splice(d,1);break}i.push({field:f.field,dir:c})}h.sort(i)},_columns:function(){var b=this;b.options.columns&&(b._updateColumnsMenu(),b._updateColumnsMenuHandler=g(b._updateColumnsMenu,b),b.owner.bind(["columnHide","columnShow"],b._updateColumnsMenuHandler),b.menu.bind(q,function(c){var d,f,g,h,j=a(c.item),l=b.owner.columns;b._isMobile&&c.preventDefault(),j.parent().closest("li.k-columns-item")[0]&&(d=j.find(":checkbox"),d.attr("disabled")||(h=d.attr(e.attr("field")),g=i(l,function(a){return a.field==h||a.title==h})[0],f=k(g,l),g.hidden===!0?b.owner.showColumn(f):b.owner.hideColumn(f)))}))},_updateColumnsMenu:function(){var a,b,c,d,f,g=e.attr("field"),h=e.attr("locked"),l=i(this._ownerColumns(),function(a){return!a.hidden}),m=i(l,function(a){return a.originalField}),n=i(m,function(a){return a.locked===!0}).length,o=i(m,function(a){return a.locked!==!0}).length;l=j(l,function(a){return a.field});var p=this.wrapper.find(".k-columns-item input["+g+"]").prop("disabled",!1).prop("checked",!1);for(a=0,b=p.length;b>a;a++)c=p.eq(a),f="true"===c.attr(h),d=!1,k(c.attr(g),l)>-1&&(d=!0,c.prop("checked",d)),d&&(1==n&&f&&c.prop("disabled",!0),1!=o||f||c.prop("disabled",!0))},_updateColumnsLockedState:function(){var a,b,c,f,g=e.attr("field"),h=e.attr("locked"),i=d(this._ownerColumns(),"field"),j=this.wrapper.find(".k-columns-item input[type=checkbox]");for(a=0,b=j.length;b>a;a++)c=j.eq(a),f=i[c.attr(g)],f&&c.attr(h,f.locked);this._updateColumnsMenu()},_filter:function(){var b=this,c=b.options;c.filterable!==!1&&(b.filterMenu=b.wrapper.find(".k-filterable")[s](h(!0,{},{appendToElement:!0,dataSource:c.dataSource,values:c.values,field:b.field},c.filterable)).data(s),b._isMobile&&b.menu.bind(q,function(c){var d=a(c.item);d.hasClass("k-filter-item")&&b.pane.navigate(b.filterMenu.view,b.options.animations.left)}))},_lockColumns:function(){var b=this;b.menu.bind(q,function(c){var d=a(c.item);d.hasClass("k-lock")?(b.owner.lockColumn(b.field),b.close()):d.hasClass("k-unlock")&&(b.owner.unlockColumn(b.field),b.close())})},_updateLockedColumns:function(){var a=this.field,b=this.owner.columns,c=i(b,function(b){return b.field==a||b.title==a})[0],d=c.locked===!0,e=i(b,function(a){return!a.hidden&&(a.locked&&d||!a.locked&&!d)}).length,f=this.wrapper.find(".k-lock").removeClass("k-state-disabled"),g=this.wrapper.find(".k-unlock").removeClass("k-state-disabled");(d||1==e)&&f.addClass("k-state-disabled"),d&&1!=e||g.addClass("k-state-disabled"),this._updateColumnsLockedState()},refresh:function(){var a,b,c,d=this,e=d.options.dataSource.sort()||[],f=d.field;for(d.wrapper.find(".k-sort-asc, .k-sort-desc").removeClass(l),b=0,c=e.length;c>b;b++)a=e[b],f==a.field&&d.wrapper.find(".k-sort-"+a.dir).addClass(l)}}),x='<ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#if(showColumns || filterable){#<li class="k-separator"></li>#}##}##if(showColumns){#<li class="k-item k-columns-item"><span class="k-link"><span class="k-sprite k-i-columns"></span>${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li><input type="checkbox" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</li>#}#</ul></li>#if(filterable || lockedColumns){#<li class="k-separator"></li>#}##}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link"><span class="k-sprite k-filter"></span>${messages.filter}</span><ul><li><div class="k-filterable"></div></li></ul></li>#if(lockedColumns){#<li class="k-separator"></li>#}##}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}#</ul>',y='<div data-#=ns#role="view" data-#=ns#init-widgets="false" class="k-grid-column-menu"><div data-#=ns#role="header" class="k-header">${messages.settings}<button class="k-button k-done">#=messages.done#</button></div><div class="k-column-menu k-mobile-list"><ul><li><span class="k-link">${field}</span><ul>#if(sortable){#<li class="k-item k-sort-asc"><span class="k-link"><span class="k-sprite k-i-sort-asc"></span>${messages.sortAscending}</span></li><li class="k-item k-sort-desc"><span class="k-link"><span class="k-sprite k-i-sort-desc"></span>${messages.sortDescending}</span></li>#}##if(lockedColumns){#<li class="k-item k-lock"><span class="k-link"><span class="k-sprite k-i-lock"></span>${messages.lock}</span></li><li class="k-item k-unlock"><span class="k-link"><span class="k-sprite k-i-unlock"></span>${messages.unlock}</span></li>#}##if(filterable){#<li class="k-item k-filter-item"><span class="k-link k-filterable"><span class="k-sprite k-filter"></span>${messages.filter}</span></li>#}#</ul></li>#if(showColumns){#<li class="k-columns-item"><span class="k-link">${messages.columns}</span><ul>#for (var idx = 0; idx < columns.length; idx++) {#<li class="k-item"><label class="k-label"><input type="checkbox" class="k-check" data-#=ns#field="#=columns[idx].field.replace(/"/g,"&\\#34;")#" data-#=ns#index="#=columns[idx].index#" data-#=ns#locked="#=columns[idx].locked#"/>#=columns[idx].title#</label></li>#}#</ul></li>#}#</ul></div></div>',z=v.extend({init:function(a,b){v.fn.init.call(this,a,b),this.element.on("click"+u,"li:not(.k-separator):not(.k-state-disabled)","_click")},events:[q],_click:function(a){a.preventDefault(),this.trigger(q,{item:a.currentTarget})},close:function(){this.options.pane.navigate("")},destroy:function(){v.fn.destroy.call(this),this.element.off(u)}});f.plugin(w)}(window.kendo.jQuery),function(a,b){function c(b){return b=null!=b?b:"",b.type||a.type(b)||"string"}function d(b){b.find(":input:not(:button, ["+h.attr("role")+"=upload], ["+h.attr("skip")+"], [type=file]), select").each(function(){var b=h.attr("bind"),c=this.getAttribute(b)||"",d="checkbox"===this.type||"radio"===this.type?"checked:":"value:",e=this.name;-1===c.indexOf(d)&&e&&(c+=(c.length?",":"")+d+e,a(this).attr(b,c))})}function e(a){var b,d,e=(a.model.fields||a.model)[a.field],f=c(e),g=e?e.validation:{},i=h.attr("type"),j=h.attr("bind"),k={name:a.field};for(b in g)d=g[b],o(b,s)>=0?k[i]=b:m(d)||(k[b]=n(d)?d.value||b:d),k[h.attr(b+"-msg")]=d.message;return o(f,s)>=0&&(k[i]=f),k[j]=("boolean"===f?"checked:":"value:")+a.field,k}function f(a){var b,c,d,e,f,g;if(a&&a.length)for(g=[],b=0,c=a.length;c>b;b++)d=a[b],f=d.text||d.value||d,e=null==d.value?d.text||d:d.value,g[b]={text:f,value:e};return g}function g(a,b){var c,d,e=a?a.validation||{}:{};for(c in e)d=e[c],n(d)&&d.value&&(d=d.value),m(d)&&(b[c]=d)}var h=window.kendo,i=h.ui,j=i.Widget,k=a.extend,l=h.support.browser.msie&&h.support.browser.version<9,m=h.isFunction,n=a.isPlainObject,o=a.inArray,p=/("|\%|'|\[|\]|\$|\.|\,|\:|\;|\+|\*|\&|\!|\#|\(|\)|<|>|\=|\?|\@|\^|\{|\}|\~|\/|\||`)/g,q='<div class="k-widget k-tooltip k-tooltip-validation" style="margin:0.5em"><span class="k-icon k-warning"> </span>#=message#<div class="k-callout k-callout-n"></div></div>',r="change",s=["url","email","number","date","boolean"],t={number:function(b,c){var d=e(c);a('<input type="text"/>').attr(d).appendTo(b).kendoNumericTextBox({format:c.format}),a("<span "+h.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},date:function(b,c){var d=e(c),f=c.format;f&&(f=h._extractFormat(f)),d[h.attr("format")]=f,a('<input type="text"/>').attr(d).appendTo(b).kendoDatePicker({format:c.format}),a("<span "+h.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},string:function(b,c){var d=e(c);a('<input type="text" class="k-input k-textbox"/>').attr(d).appendTo(b)},"boolean":function(b,c){var d=e(c);a('<input type="checkbox" />').attr(d).appendTo(b)},values:function(b,c){var d=e(c);a("<select "+h.attr("text-field")+'="text"'+h.attr("value-field")+'="value"'+h.attr("source")+"='"+h.stringify(f(c.values)).replace(/\'/g,"&apos;")+"'"+h.attr("role")+'="dropdownlist"/>').attr(d).appendTo(b),a("<span "+h.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)}},u=j.extend({init:function(b,c){var d=this;j.fn.init.call(d,b,c),d._validateProxy=a.proxy(d._validate,d),d.refresh()},events:[r],options:{name:"Editable",editors:t,clearContainer:!0,errorTemplate:q},editor:function(a,b){var d=this,e=d.options.editors,f=n(a),g=f?a.field:a,i=d.options.model||{},j=f&&a.values,l=j?"values":c(b),m=f&&a.editor,o=m?a.editor:e[l],q=d.element.find("["+h.attr("container-for")+"="+g.replace(p,"\\$1")+"]");o=o?o:e.string,m&&"string"==typeof a.editor&&(o=function(b){b.append(a.editor)}),q=q.length?q:d.element,o(q,k(!0,{},f?a:{field:g},{model:i}))},_validate:function(b){var c,d=this,e="boolean"==typeof b.value,f=d._validationEventInProgress,g={};g[b.field]=b.value,c=a(":input["+h.attr("bind")+'*="'+(e?"checked:":"value:")+b.field.replace(p,"\\$1")+'"]',d.element);try{d._validationEventInProgress=!0,(!d.validatable.validateInput(c)||!f&&d.trigger(r,{values:g}))&&b.preventDefault()}finally{d._validationEventInProgress=!1}},end:function(){return this.validatable.validate()},destroy:function(){var a=this;j.fn.destroy.call(a),a.options.model.unbind("set",a._validateProxy),h.unbind(a.element),a.validatable&&a.validatable.destroy(),h.destroy(a.element),a.element.removeData("kendoValidator")},refresh:function(){var c,e,f,i,j,k,m,o=this,p=o.options.fields||[],q=o.options.clearContainer?o.element.empty():o.element,r=o.options.model||{},s={};for(a.isArray(p)||(p=[p]),c=0,e=p.length;e>c;c++)f=p[c],i=n(f),j=i?f.field:f,k=(r.fields||r)[j],g(k,s),o.editor(f,k);if(!e){m=r.fields||r;for(j in m)g(m[j],s)}d(q),h.bind(q,o.options.model),o.options.model.bind("set",o._validateProxy),o.validatable=new h.ui.Validator(q,{validateOnBlur:!1,errorTemplate:o.options.errorTemplate||b,rules:s});var t=q.find(":kendoFocusable").eq(0).focus();l&&t.focus()}});i.plugin(u)}(window.kendo.jQuery),function(a,b){function c(a){return"undefined"!=typeof a}function d(a,b,c){return Math.max(Math.min(parseInt(a,10),1/0===c?c:parseInt(c,10)),parseInt(b,10))}function e(a,b){return function(){var c=this,d=c.wrapper,e=d[0].style,f=c.options;if(!f.isMaximized&&!f.isMinimized)return c.restoreOptions={width:e.width,height:e.height},d.children(y).hide().end().children(w).find(T).parent().hide().eq(0).before(i.action({name:"Restore"})),b.call(c),"maximize"==a?c.wrapper.children(w).find(W).parent().hide():c.wrapper.children(w).find(W).parent().show(),c}}function f(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}function g(a){this.owner=a,this._draggable=new l(a.wrapper,{filter:y,group:a.wrapper.id+"-resizing",dragstart:o(this.dragstart,this),drag:o(this.drag,this),dragend:o(this.dragend,this)})}function h(a,b){this.owner=a,this._draggable=new l(a.wrapper,{filter:b,group:a.wrapper.id+"-moving",dragstart:o(this.dragstart,this),drag:o(this.drag,this),dragend:o(this.dragend,this),dragcancel:o(this.dragcancel,this)}),this._draggable.userEvents.stopPropagation=!1}var i,j=window.kendo,k=j.ui.Widget,l=j.ui.Draggable,m=a.isPlainObject,n=j._activeElement,o=a.proxy,p=a.extend,q=a.each,r=j.template,s="body",t=".kendoWindow",u=".k-window",v=".k-window-title",w=v+"bar",x=".k-window-content",y=".k-resize-handle",z=".k-overlay",A="k-content-frame",B="k-loading",C="k-state-hover",D="k-state-focused",E="k-window-maximized",F=":visible",G="hidden",H="cursor",I="open",J="activate",K="deactivate",L="close",M="refresh",N="resize",O="dragstart",P="dragend",Q="error",R="overflow",S="zIndex",T=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",U=".k-i-pin",V=".k-i-unpin",W=U+","+V,X=".k-window-titlebar .k-window-action",Y=".k-window-titlebar .k-i-refresh",Z=j.isLocalUrl,$=k.extend({init:function(d,e){var g,h,i,l,n,p,q,r=this,s={},y=!1,z=e&&e.actions&&!e.actions.length;k.fn.init.call(r,d,e),e=r.options,l=e.position,d=r.element,n=e.content,z&&(e.actions=[]),r.appendTo=a(e.appendTo),r._animations(),n&&!m(n)&&(n=e.content={url:n}),d.find("script").filter(f).remove(),d.parent().is(r.appendTo)||l.top!==b&&l.left!==b||(d.is(F)?(s=d.offset(),y=!0):(h=d.css("visibility"),i=d.css("display"),d.css({visibility:G,display:""}),s=d.offset(),d.css({visibility:h,display:i})),l.top===b&&(l.top=s.top),l.left===b&&(l.left=s.left)),c(e.visible)&&null!==e.visible||(e.visible=d.is(F)),g=r.wrapper=d.closest(u),d.is(".k-content")&&g[0]||(d.addClass("k-window-content k-content"),r._createWindow(d,e),g=r.wrapper=d.closest(u),r._dimensions()),r._position(),e.pinned&&r.pin(!0),n&&r.refresh(n),e.visible&&r.toFront(),p=g.children(x),r._tabindex(p),e.visible&&e.modal&&r._overlay(g.is(F)).css({opacity:.5}),g.on("mouseenter"+t,X,o(r._buttonEnter,r)).on("mouseleave"+t,X,o(r._buttonLeave,r)).on("click"+t,"> "+X,o(r._windowActionHandler,r)),p.on("keydown"+t,o(r._keydown,r)).on("focus"+t,o(r._focus,r)).on("blur"+t,o(r._blur,r)),this._resizable(),this._draggable(),q=d.attr("id"),q&&(q+="_wnd_title",g.children(w).children(v).attr("id",q),p.attr({role:"dialog","aria-labelledby":q})),g.add(g.children(".k-resize-handle,"+w)).on("mousedown"+t,o(r.toFront,r)),r.touchScroller=j.touchScroller(d),r._resizeHandler=o(r._onDocumentResize,r),a(window).on("resize",r._resizeHandler),e.visible&&(r.trigger(I),r.trigger(J)),j.notify(r)},_buttonEnter:function(){a(this).addClass(C)},_buttonLeave:function(){a(this).removeClass(C)},_focus:function(){this.wrapper.addClass(D)},_blur:function(){this.wrapper.removeClass(D)},_dimensions:function(){var a=this.wrapper,b=this.options,c=b.width,e=b.height,f=b.maxHeight,g=["minWidth","minHeight","maxWidth","maxHeight"];this.title(b.title);for(var h=0;h<g.length;h++){var i=b[g[h]];i&&1/0!=i&&a.css(g[h],i)}f&&1/0!=f&&this.element.css("maxHeight",f),c&&a.width(c.toString().indexOf("%")>0?c:d(c,b.minWidth,b.maxWidth)),e&&a.height(e.toString().indexOf("%")>0?e:d(e,b.minHeight,b.maxHeight)),b.visible||a.hide()},_position:function(){var a=this.wrapper,b=this.options.position;0===b.top&&(b.top=b.top.toString()),0===b.left&&(b.left=b.left.toString()),a.css({top:b.top||"",left:b.left||""})},_animations:function(){var a=this.options;a.animation===!1&&(a.animation={open:{effects:{}},close:{hide:!0,effects:{}}})},_resize:function(){j.resize(this.element.children())},_resizable:function(){var b=this.options.resizable,c=this.wrapper;this.resizing&&(c.off("dblclick"+t).children(y).remove(),this.resizing.destroy(),this.resizing=null),b&&(c.on("dblclick"+t,w,o(function(b){a(b.target).closest(".k-window-action").length||this.toggleMaximization()},this)),q("n e s w se sw ne nw".split(" "),function(a,b){c.append(i.resizeHandle(b))}),this.resizing=new g(this)),c=null},_draggable:function(){var a=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),a&&(this.dragging=new h(this,a.dragHandle||w))},setOptions:function(a){k.fn.setOptions.call(this,a),this._animations(),this._dimensions(),this._position(),this._resizable(),this._draggable()},events:[I,J,K,L,M,N,O,P,Q],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,position:{},content:null,visible:null,height:null,width:null,appendTo:"body"},_closable:function(){return a.inArray("close",a.map(this.options.actions,function(a){return a.toLowerCase()}))>-1},_keydown:function(a){var b,c,e,f,g,h,i=this,k=i.options,l=j.keys,m=a.keyCode,n=i.wrapper,o=10,p=i.options.isMaximized;a.target!=a.currentTarget||i._closing||(m==l.ESC&&i._closable()&&i._close(!1),!k.draggable||a.ctrlKey||p||(b=j.getOffset(n),m==l.UP?c=n.css("top",b.top-o):m==l.DOWN?c=n.css("top",b.top+o):m==l.LEFT?c=n.css("left",b.left-o):m==l.RIGHT&&(c=n.css("left",b.left+o))),k.resizable&&a.ctrlKey&&!p&&(m==l.UP?(c=!0,f=n.height()-o):m==l.DOWN&&(c=!0,f=n.height()+o),m==l.LEFT?(c=!0,e=n.width()-o):m==l.RIGHT&&(c=!0,e=n.width()+o),c&&(g=d(e,k.minWidth,k.maxWidth),h=d(f,k.minHeight,k.maxHeight),isNaN(g)||(n.width(g),i.options.width=g+"px"),isNaN(h)||(n.height(h),i.options.height=h+"px"),i.resize())),c&&a.preventDefault())},_overlay:function(b){var c=this.appendTo.children(z),d=this.wrapper;return c.length||(c=a("<div class='k-overlay' />")),c.insertBefore(d[0]).toggle(b).css(S,parseInt(d.css(S),10)-1),c},_actionForIcon:function(a){var b=/\bk-i-\w+\b/.exec(a[0].className)[0];return{"k-i-close":"_close","k-i-maximize":"maximize","k-i-minimize":"minimize","k-i-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[b]},_windowActionHandler:function(b){if(!this._closing){var c=a(b.target).closest(".k-window-action").find(".k-icon"),d=this._actionForIcon(c);return d?(b.preventDefault(),this[d](),!1):void 0}},_modals:function(){var b=this,c=a(u).filter(function(){var c=a(this),d=b._object(c),e=d&&d.options;return e&&e.modal&&e.visible&&c.is(F)}).sort(function(b,c){return+a(b).css("zIndex")-+a(c).css("zIndex")});return b=null,c},_object:function(a){var b=a.children(x);return b.data("kendoWindow")||b.data("kendo"+this.options.name)},center:function(){var b,c,d=this,e=d.options.position,f=d.wrapper,g=a(window),h=0,i=0;return d.options.isMaximized?d:(d.options.pinned||(h=g.scrollTop(),i=g.scrollLeft()),c=i+Math.max(0,(g.width()-f.width())/2),b=h+Math.max(0,(g.height()-f.height())/2),f.css({left:c,top:b}),e.top=b,e.left=c,d)},title:function(a){var b=this,c=b.wrapper,d=b.options,e=c.children(w),f=e.children(v),g=e.outerHeight();return arguments.length?(a===!1?(c.addClass("k-window-titleless"),e.remove()):(e.length||c.prepend(i.titlebar(p(i,d))),c.css("padding-top",g),e.css("margin-top",-g)),f.text(a),b.options.title=a,b):f.text()},content:function(a){var b=this.wrapper.children(x),d=b.children(".km-scroll-container");return b=d[0]?d:b,c(a)?(j.destroy(this.element.children()),b.empty().html(a),this):b.html()},open:function(){var b,c=this,d=c.wrapper,e=c.options,f=e.animation.open,g=d.children(x);if(!c.trigger(I)){if(c._closing&&d.kendoStop(!0,!0),c._closing=!1,c.toFront(),e.autoFocus&&c.element.focus(),e.visible=!0,e.modal){if(b=c._overlay(!1),b.kendoStop(!0,!0),f.duration&&j.effects.Fade){var h=j.fx(b).fadeIn();h.duration(f.duration||0),h.endValue(.5),h.play()}else b.css("opacity",.5);b.show()}d.is(F)||(g.css(R,G),d.show().kendoStop().kendoAnimate({effects:f.effects,duration:f.duration,complete:o(this._activate,this)}))}return e.isMaximized&&(c._documentScrollTop=a(document).scrollTop(),a("html, body").css(R,G)),c},_activate:function(){this.options.autoFocus&&this.element.focus(),this.trigger(J),this.wrapper.children(x).css(R,"")},_removeOverlay:function(c){var d=this._modals(),e=this.options,f=e.modal&&!d.length,g=e.modal?this._overlay(!0):a(b),h=e.animation.close;if(f)if(!c&&h.duration&&j.effects.Fade){var i=j.fx(g).fadeOut();i.duration(h.duration||0),i.startValue(.5),i.play()}else this._overlay(!1).remove();else d.length&&this._object(d.last())._overlay(!0)},_close:function(b){var c=this,d=c.wrapper,e=c.options,f=e.animation.open,g=e.animation.close;
d.is(F)&&!c.trigger(L,{userTriggered:!b})&&(c._closing=!0,e.visible=!1,a(u).each(function(b,c){var e=a(c).children(x);c!=d&&e.find("> ."+A).length>0&&e.children(z).remove()}),this._removeOverlay(),d.kendoStop().kendoAnimate({effects:g.effects||f.effects,reverse:g.reverse===!0,duration:g.duration,complete:o(this._deactivate,this)})),c.options.isMaximized&&(a("html, body").css(R,""),c._documentScrollTop&&c._documentScrollTop>0&&a(document).scrollTop(c._documentScrollTop))},_deactivate:function(){this.wrapper.hide().css("opacity",""),this.trigger(K);var a=this._object(this._modals().last());a&&a.toFront()},close:function(){return this._close(!0),this},_actionable:function(b){return a(b).is(X+","+X+" .k-icon,:input,a")},_shouldFocus:function(b){var c=n(),d=this.element;return!(!this.options.autoFocus||a(c).is(d)||this._actionable(b)||d.find(c).length&&d.find(b).length)},toFront:function(b){var c=this,d=c.wrapper,e=d[0],f=+d.css(S),g=f,h=b&&b.target||null;if(a(u).each(function(b,c){var d=a(c),g=d.css(S),h=d.children(x);isNaN(g)||(f=Math.max(+g,f)),c!=e&&h.find("> ."+A).length>0&&h.append(i.overlay)}),(!d[0].style.zIndex||f>g)&&d.css(S,f+2),c.element.find("> .k-overlay").remove(),c._shouldFocus(h)){c.element.focus();var j=a(window).scrollTop(),k=parseInt(d.position().top,10);k>0&&j>k&&(j>0?a(window).scrollTop(k):d.css("top",j))}return d=null,c},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var b=this,c=b.options,d=c.minHeight,e=b.restoreOptions;return c.isMaximized||c.isMinimized?(d&&1/0!=d&&b.wrapper.css("min-height",d),b.wrapper.css({position:c.pinned?"fixed":"absolute",left:e.left,top:e.top,width:e.width,height:e.height}).removeClass(E).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(T).parent().show().end().end().find(W).parent().show(),b.options.width=e.width,b.options.height=e.height,a("html, body").css(R,""),this._documentScrollTop&&this._documentScrollTop>0&&a(document).scrollTop(this._documentScrollTop),c.isMaximized=c.isMinimized=!1,b.resize(),b):b},maximize:e("maximize",function(){var b=this,c=b.wrapper,d=c.position();p(b.restoreOptions,{left:d.left,top:d.top}),c.css({left:0,top:0,position:"fixed"}).addClass(E),this._documentScrollTop=a(document).scrollTop(),a("html, body").css(R,G),b.options.isMaximized=!0,b._onDocumentResize()}),minimize:e("minimize",function(){var a=this;a.wrapper.css({height:"",minHeight:""}),a.element.hide(),a.options.isMinimized=!0}),pin:function(b){var c=this,d=a(window),e=c.wrapper,f=parseInt(e.css("top"),10),g=parseInt(e.css("left"),10);(b||!c.options.pinned&&!c.options.isMaximized)&&(e.css({position:"fixed",top:f-d.scrollTop(),left:g-d.scrollLeft()}),e.children(w).find(U).addClass("k-i-unpin").removeClass("k-i-pin"),c.options.pinned=!0)},unpin:function(){var b=this,c=a(window),d=b.wrapper,e=parseInt(d.css("top"),10),f=parseInt(d.css("left"),10);b.options.pinned&&!b.options.isMaximized&&(d.css({position:"",top:e+c.scrollTop(),left:f+c.scrollLeft()}),d.children(w).find(V).addClass("k-i-pin").removeClass("k-i-unpin"),b.options.pinned=!1)},_onDocumentResize:function(){var b,c,d=this,e=d.wrapper,f=a(window);d.options.isMaximized&&(b=f.width(),c=f.height()-parseInt(e.css("padding-top"),10),e.css({width:b,height:c}),d.options.width=b,d.options.height=c,d.resize())},refresh:function(b){var d,e,f,g=this,h=g.options,j=a(g.element);return m(b)||(b={url:b}),b=p({},h.content,b),e=c(h.iframe)?h.iframe:b.iframe,f=b.url,f?(c(e)||(e=!Z(f)),e?(d=j.find("."+A)[0],d?d.src=f||d.src:j.html(i.contentFrame(p({},h,{content:b}))),j.find("."+A).unbind("load"+t).on("load"+t,o(this._triggerRefresh,this))):g._ajaxRequest(b)):(b.template&&g.content(r(b.template)({})),g.trigger(M)),j.toggleClass("k-window-iframecontent",e),g},_triggerRefresh:function(){this.trigger(M)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(Y).removeClass(B)},_ajaxError:function(a,b){this.trigger(Q,{status:b,xhr:a})},_ajaxSuccess:function(a){return function(b){a&&(b=r(a)(b||{})),this.content(b),this.element.prop("scrollTop",0),this.trigger(M)}},_showLoading:function(){this.wrapper.find(Y).addClass(B)},_ajaxRequest:function(b){this._loadingIconTimeout=setTimeout(o(this._showLoading,this),100),a.ajax(p({type:"GET",dataType:"html",cache:!1,error:o(this._ajaxError,this),complete:o(this._ajaxComplete,this),success:o(this._ajaxSuccess(b.template),this)},b))},destroy:function(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(t).children(x).off(t).end().find(".k-resize-handle,.k-window-titlebar").off(t),a(window).off("resize",this._resizeHandler),clearTimeout(this._loadingIconTimeout),k.fn.destroy.call(this),this.unbind(b),j.destroy(this.wrapper),this._removeOverlay(!0),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=a()},_createWindow:function(){var b,c,d=this.element,e=this.options,f=j.support.isRtl(d);e.scrollable===!1&&d.attr("style","overflow:hidden;"),c=a(i.wrapper(e)),e.title!==!1&&c.append(i.titlebar(p(i,e))),b=d.find("iframe:not(.k-content)").map(function(){var a=this.getAttribute("src");return this.src="",a}),c.toggleClass("k-rtl",f).appendTo(this.appendTo).append(d).find("iframe:not(.k-content)").each(function(a){this.src=b[a]}),c.find(".k-window-title").css(f?"left":"right",c.find(".k-window-actions").outerWidth()+10),d.show(),d.find("[data-role=editor]").each(function(){var b=a(this).data("kendoEditor");b&&b.refresh()}),c=d=null}});i={wrapper:r("<div class='k-widget k-window' />"),action:r("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:r("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:r("<iframe frameborder='0' title='#= title #' class='"+A+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:r("<div class='k-resize-handle k-resize-#= data #'></div>")},g.prototype={dragstart:function(b){var c=this.owner,d=c.wrapper;this.elementPadding=parseInt(c.wrapper.css("padding-top"),10),this.initialCursorPosition=j.getOffset(d,"position"),this.resizeDirection=b.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),this.initialSize={width:d.width(),height:d.height()},this.containerOffset=j.getOffset(c.appendTo),d.append(i.overlay).children(y).not(b.currentTarget).hide(),a(s).css(H,b.currentTarget.css(H))},drag:function(a){var b,c,e,f,g=this,h=g.owner,i=h.wrapper,j=h.options,k=g.resizeDirection,l=g.containerOffset,m=g.initialCursorPosition,n=g.initialSize,o=Math.max(a.x.location,l.left),p=Math.max(a.y.location,l.top);k.indexOf("e")>=0?(b=o-m.left,i.width(d(b,j.minWidth,j.maxWidth))):k.indexOf("w")>=0&&(f=m.left+n.width,b=d(f-o,j.minWidth,j.maxWidth),i.css({left:f-b-l.left,width:b})),k.indexOf("s")>=0?(c=p-m.top-g.elementPadding,i.height(d(c,j.minHeight,j.maxHeight))):k.indexOf("n")>=0&&(e=m.top+n.height,c=d(e-p,j.minHeight,j.maxHeight),i.css({top:e-c-l.top,height:c})),b&&(h.options.width=b+"px"),c&&(h.options.height=c+"px"),h.resize()},dragend:function(b){var c=this,d=c.owner,e=d.wrapper;return e.find(z).remove().end().children(y).not(b.currentTarget).show(),a(s).css(H,""),d.touchScroller&&d.touchScroller.reset(),27==b.keyCode&&e.css(c.initialCursorPosition).css(c.initialSize),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},h.prototype={dragstart:function(b){var c=this.owner,d=c.element,e=d.find(".k-window-actions"),f=j.getOffset(c.appendTo);c.trigger(O),c.initialWindowPosition=j.getOffset(c.wrapper,"position"),c.startPosition={left:b.x.client-c.initialWindowPosition.left,top:b.y.client-c.initialWindowPosition.top},c.minLeftPosition=e.length>0?e.outerWidth()+parseInt(e.css("right"),10)-d.outerWidth():20-d.outerWidth(),c.minLeftPosition-=f.left,c.minTopPosition=-f.top,c.wrapper.append(i.overlay).children(y).hide(),a(s).css(H,b.currentTarget.css(H))},drag:function(b){var c=this.owner,d=c.options.position,e=Math.max(b.y.client-c.startPosition.top,c.minTopPosition),f=Math.max(b.x.client-c.startPosition.left,c.minLeftPosition),g={left:f,top:e};a(c.wrapper).css(g),d.top=e,d.left=f},_finishDrag:function(){var b=this.owner;b.wrapper.children(y).toggle(!b.options.isMinimized).end().find(z).remove(),a(s).css(H,"")},dragcancel:function(a){this._finishDrag(),a.currentTarget.closest(u).css(this.owner.initialWindowPosition)},dragend:function(){return this._finishDrag(),this.owner.trigger(P),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},j.ui.plugin($)}(window.kendo.jQuery),function(a,b){function c(a){var b,c,d=a.find(t("popover")),e=h.roles;for(b=0,c=d.length;c>b;b++)f.initWidget(d[b],{},e)}function d(a){f.triggeredByInput(a)||a.preventDefault()}function e(b){b.each(function(){f.initWidget(a(this),{},h.roles)})}var f=window.kendo,g=f.mobile,h=g.ui,i=f.attr,j=(f.Class,h.Widget),k=f.ViewClone,l="init",m='<div style="height: 100%; width: 100%; position: absolute; top: 0; left: 0; z-index: 20000; display: none" />',n="beforeShow",o="show",p="afterShow",q="beforeHide",r="hide",s=f.attrValue,t=f.roleSelector,u=j.extend({init:function(b,c){j.fn.init.call(this,b,c),this.params={},a.extend(this,c),this.transition=this.transition||this.defaultTransition,this._id(),this._layout(),this._overlay(),this._scroller(),this._model()},events:[l,n,o,p,q,r],options:{name:"View",title:"",reload:!1,transition:"",defaultTransition:"",useNativeScrolling:!1,stretch:!1,zoom:!1,model:null,initWidgets:!0},enable:function(a){"undefined"==typeof a&&(a=!0),a?this.overlay.hide():this.overlay.show()},destroy:function(){this.layout&&this.layout.detach(this),j.fn.destroy.call(this),this.scroller&&this.scroller.destroy(),f.destroy(this.element)},purge:function(){this.destroy(),this.element.remove()},triggerBeforeShow:function(){return this.trigger(n,{view:this})?!1:!0},showStart:function(){var a=this;a.element.css("display",""),a.inited||(a.inited=!0,a.trigger(l,{view:a})),a.layout&&a.layout.attach(a),a._padIfNativeScrolling(),a.trigger(o,{view:a}),f.resize(a.element)},showEnd:function(){this.trigger(p,{view:this}),this._padIfNativeScrolling()},hideStart:function(){this.trigger(q,{view:this})},hideEnd:function(){var a=this;a.element.hide(),a.trigger(r,{view:a})},_padIfNativeScrolling:function(){if(g.appLevelNativeScrolling()){var a=f.support.mobileOS&&f.support.mobileOS.android,b=a?"footer":"header",c=a?"header":"footer";this.content.css({paddingTop:this[b].height(),paddingBottom:this[c].height()})}},contentElement:function(){var a=this;return a.options.stretch?a.content:a.scrollerContent},clone:function(){return new k(this)},_scroller:function(){var b=this;g.appLevelNativeScrolling()||(b.options.stretch?b.content.addClass("km-stretched-view"):(b.content.kendoMobileScroller({zoom:b.options.zoom,useNative:b.options.useNativeScrolling}),b.scroller=b.content.data("kendoMobileScroller"),b.scrollerContent=b.scroller.scrollElement),f.support.kineticScrollNeeded&&(a(b.element).on("touchmove",".km-header",d),b.options.useNativeScrolling||a(b.element).on("touchmove",".km-content",d)))},_model:function(){var a=this,b=a.element,d=a.options.model;"string"==typeof d&&(d=f.getter(d)(window)),a.model=d,c(b),a.element.css("display",""),a.options.initWidgets&&(d?f.bind(b.children(),d,h,f.ui,f.dataviz.ui):g.init(b.children())),a.element.css("display","none")},_id:function(){var a=this.element,b=a.attr("id")||"";this.id=s(a,"url")||"#"+b,"#"==this.id&&(this.id=f.guid(),a.attr("id",this.id))},_layout:function(){var a=this,b=t("content"),c=a.element;c.data("kendoView",a).addClass("km-view"),a.header=c.children(t("header")).addClass("km-header"),a.footer=c.children(t("footer")).addClass("km-footer"),c.children(b)[0]||c.wrapInner("<div "+i("role")+'="content"></div>'),a.content=c.children(t("content")).addClass("km-content"),a.element.prepend(a.header).append(a.footer),a.layout&&a.layout.setup(a)},_overlay:function(){this.overlay=a(m).appendTo(this.element)}}),v=j.extend({init:function(a,b){var d=this;j.fn.init.call(d,a,b),a=d.element,d.header=a.children(t("header")).addClass("km-header"),d.footer=a.children(t("footer")).addClass("km-footer"),d.elements=d.header.add(d.footer),c(a),f.mobile.init(d.element.children()),d.element.detach(),d.trigger(l,{layout:d})},options:{name:"Layout"},events:[l,o,r],setup:function(a){a.header[0]||(a.header=this.header),a.footer[0]||(a.footer=this.footer)},detach:function(a){var b=this;a.header===b.header&&b.header[0]&&a.element.prepend(b.header.detach()[0].cloneNode(!0)),a.footer===b.footer&&b.footer.length&&a.element.append(b.footer.detach()[0].cloneNode(!0)),b.trigger(r,{layout:b,view:a})},attach:function(a){var b=this,c=b.currentView;c&&b.detach(c),a.header===b.header&&(b.header.detach(),a.element.children(t("header")).remove(),a.element.prepend(b.header)),a.footer===b.footer&&(b.footer.detach(),a.element.children(t("footer")).remove(),a.element.append(b.footer)),b.trigger(o,{layout:b,view:a}),b.currentView=a}}),w=f.Observable,x=/<body[^>]*>(([\u000a\u000d\u2028\u2029]|.)*)<\/body>/i,y="loadStart",z="loadComplete",A="showStart",B="sameViewRequested",C="viewShow",D="after",E=w.extend({init:function(b){var c,d,g,h=this;if(w.fn.init.call(h),a.extend(h,b),h.sandbox=a("<div />"),g=h.container,c=h._hideViews(g),h.rootView=c.first(),!h.rootView[0]&&b.rootNeeded)throw d=g[0]==f.mobile.application.element[0]?'Your kendo mobile application element does not contain any direct child elements with data-role="view" attribute set. Make sure that you instantiate the mobile application using the correct container.':'Your pane element does not contain any direct child elements with data-role="view" attribute set.',new Error(d);h.layouts={},h.viewContainer=new f.ViewContainer(h.container),h.viewContainer.bind("accepted",function(a){a.view.params=h.params}),h.viewContainer.bind("complete",function(a){h.trigger(C,{view:a.view})}),h.viewContainer.bind(D,function(){h.trigger(D)}),h._setupLayouts(g),e(g.children(t("modalview drawer")))},destroy:function(){f.destroy(this.container);for(var a in this.layouts)this.layouts[a].destroy()},view:function(){return this.viewContainer.view},showView:function(a,b,c){if(a=a.replace(new RegExp("^"+this.remoteViewURLPrefix),""),""===a&&this.remoteViewURLPrefix&&(a="/"),a===this.url)return this.trigger(B),!1;this.trigger(A);var d=this,e=function(c){return d.viewContainer.show(c,b,a)},f=d._findViewElement(a),g=f.data("kendoView");return d.url=a,d.params=c,g&&g.reload&&(g.purge(),f=[]),this.trigger("viewTypeDetermined",{remote:0===f.length,url:a}),f[0]?(g||(g=d._createView(f)),e(g)):(d._loadView(a,e),!0)},append:function(a,b){var c,d,f,g=this,h=g.sandbox,j=(b||"").split("?")[0],k=g.container;return x.test(a)&&(a=RegExp.$1),h[0].innerHTML=a,k.append(h.children("script, style")),c=g._hideViews(h),f=c.first(),f.length||(c=f=h.wrapInner("<div data-role=view />").children()),j&&f.hide().attr(i("url"),j),g._setupLayouts(h),d=h.children(t("modalview drawer")),k.append(h.children(t("layout modalview drawer")).add(c)),e(d),g._createView(f)},_findViewElement:function(a){var b,c=a.split("?")[0];return c?(b=this.container.children("["+i("url")+"='"+c+"']"),b[0]||-1!==c.indexOf("/")||(b=this.container.children("#"===c.charAt(0)?c:"#"+c)),b):this.rootView},_createView:function(a){var b,c=this,d=s(a,"layout");return"undefined"==typeof d&&(d=c.layout),d&&(d=c.layouts[d]),b={defaultTransition:c.transition,loader:c.loader,container:c.container,layout:d,reload:s(a,"reload")},f.initWidget(a,b,h.roles)},_loadView:function(b,c){var d=this;return this.serverNavigation?void(location.href=b):(d._xhr&&d._xhr.abort(),d.trigger(y),void(d._xhr=a.get(f.absoluteURL(b,d.remoteViewURLPrefix),function(a){d.trigger(z),c(d.append(a,b))},"html").fail(function(a){d.trigger(z),0===a.status&&a.responseText&&c(d.append(a.responseText,b))})))},_hideViews:function(a){return a.children(t("view splitview")).hide()},_setupLayouts:function(c){var d=this;c.children(t("layout")).each(function(){var c=a(this),e=s(c,"platform");(e===b||e===g.application.os.name)&&(d.layouts[f.attrValue(c,"id")]=f.initWidget(c,{},h.roles))})}});f.mobile.ViewEngine=E,h.plugin(u),h.plugin(v)}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.mobile.ui,d=c.Widget,e=a.map(b.eventMap,function(a){return a}).join(" ").split(" "),f=d.extend({init:function(b,c){var e=this,f=a('<div class="km-loader"><span class="km-loading km-spin"></span><span class="km-loading-left"></span><span class="km-loading-right"></span></div>');d.fn.init.call(e,f,c),e.container=b,e.captureEvents=!1,e._attachCapture(),f.append(e.options.loading).hide().appendTo(b)},options:{name:"Loader",loading:"<h1>Loading...</h1>",timeout:100},show:function(){var a=this;clearTimeout(a._loading),a.options.loading!==!1&&(a.captureEvents=!0,a._loading=setTimeout(function(){a.element.show()},a.options.timeout))},hide:function(){this.captureEvents=!1,clearTimeout(this._loading),this.element.hide()},changeMessage:function(a){this.options.loading=a,this.element.find(">h1").html(a)},transition:function(){this.captureEvents=!0,this.container.css("pointer-events","none")},transitionDone:function(){this.captureEvents=!1,this.container.css("pointer-events","")},_attachCapture:function(){function a(a){b.captureEvents&&a.preventDefault()}var b=this;b.captureEvents=!1;for(var c=0;c<e.length;c++)b.container[0].addEventListener(e[c],a,!0)}});c.plugin(f)}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.mobile,d=b.roleSelector,e=c.ui,f=e.Widget,g=c.ViewEngine,h=e.View,i=c.ui.Loader,j="external",k="href",l="#!",m="navigate",n="viewShow",o="sameViewRequested",p=/popover|actionsheet|modalview|drawer/,q="#:back",r=b.attrValue,s="button backbutton detailbutton listview-link",t="tab",u=f.extend({init:function(a,c){var d=this;f.fn.init.call(d,a,c),c=d.options,a=d.element,a.addClass("km-pane"),d.options.collapsible&&a.addClass("km-collapsible-pane"),this.history=[],this.historyCallback=function(a,b){var c=d.transition;return d.transition=null,d.viewEngine.showView(a,c,b)},this._historyNavigate=function(a){var c=b.parseQueryStringParams(a);if(a===q){if(1===d.history.length)return;d.history.pop(),a=d.history[d.history.length-1]}else d.history.push(a);d.historyCallback(a,c)},this._historyReplace=function(a){var c=b.parseQueryStringParams(a);d.history[d.history.length-1]=a,d.historyCallback(a,c)},d.loader=new i(a,{loading:d.options.loading}),d.viewEngine=new g({container:a,transition:c.transition,rootNeeded:!c.initial,serverNavigation:c.serverNavigation,remoteViewURLPrefix:c.root||"",layout:c.layout,loader:d.loader}),d.viewEngine.bind("showStart",function(){d.loader.transition(),d.closeActiveDialogs()}),d.viewEngine.bind("after",function(){d.loader.transitionDone()}),d.viewEngine.bind(n,function(a){d.trigger(n,a)}),d.viewEngine.bind("loadStart",function(){d.loader.show()}),d.viewEngine.bind("loadComplete",function(){d.loader.hide()}),d.viewEngine.bind(o,function(){d.trigger(o)}),d.viewEngine.bind("viewTypeDetermined",function(a){a.remote&&d.options.serverNavigation||d.trigger(m,{url:a.url})}),this._setPortraitWidth(),b.onResize(function(){d._setPortraitWidth()}),d._setupAppLinks()},closeActiveDialogs:function(){var c=this.element.find(d("actionsheet popover modalview")).filter(":visible");c.each(function(){b.widgetInstance(a(this),e).close()})},navigateToInitial:function(){var a=this.options.initial;a&&this.navigate(a)},options:{name:"Pane",portraitWidth:"",transition:"",layout:"",collapsible:!1,initial:null,loading:"<h1>Loading...</h1>"},events:[m,n,o],append:function(a){return this.viewEngine.append(a)},destroy:function(){f.fn.destroy.call(this),this.viewEngine.destroy()},navigate:function(a,b){a instanceof h&&(a=a.id),this.transition=b,this._historyNavigate(a)},replace:function(a,b){a instanceof h&&(a=a.id),this.transition=b,this._historyReplace(a)},bindToRouter:function(a){var c=this,d=c.options,e=d.initial,f=this.viewEngine;a.bind("init",function(c){var d=c.url,g=a.pushState?d:"/";f.rootView.attr(b.attr("url"),g),"/"===d&&e&&(a.navigate(e,!0),c.preventDefault())}),a.bind("routeMissing",function(a){c.historyCallback(a.url,a.params)||a.preventDefault()}),a.bind("same",function(){c.trigger(o)}),c._historyNavigate=function(b){a.navigate(b)},c._historyReplace=function(b){a.replace(b)}},hideLoading:function(){this.loader.hide()},showLoading:function(){this.loader.show()},changeLoadingMessage:function(a){this.loader.changeMessage(a)},view:function(){return this.viewEngine.view()},_setPortraitWidth:function(){var a,c=this.options.portraitWidth;c&&(a=b.mobile.application.element.is(".km-vertical")?c:"auto",this.element.css("width",a))},_setupAppLinks:function(){this.element.handler(this).on("down",d(t),"_mouseup").on("up",d(s),"_mouseup").on("click",d(t+" "+s),"_appLinkClick")},_appLinkClick:function(b){var c=a(b.currentTarget).attr("href"),d=c&&"#"!==c[0]&&this.options.serverNavigation;d||r(a(b.currentTarget),"rel")==j||b.preventDefault()},_mouseup:function(d){if(!(d.which>1||d.isDefaultPrevented())){var f=this,g=a(d.currentTarget),h=r(g,"transition"),i=r(g,"rel")||"",m=r(g,"target"),n=g.attr(k),o=n&&"#"!==n[0]&&this.options.serverNavigation;o||i===j||"undefined"==typeof n||n===l||(g.attr(k,l),setTimeout(function(){g.attr(k,n)}),i.match(p)?(b.widgetInstance(a(n),e).openFor(g),"actionsheet"===i&&d.stopPropagation()):("_top"===m?f=c.application.pane:m&&(f=a("#"+m).data("kendoMobilePane")),f.navigate(n,h)),d.preventDefault())}}});u.wrap=function(a){a.is(d("view"))||(a=a.wrap("<div data-"+b.ns+'role="view" data-stretch="true"></div>').parent());var c=a.wrap('<div class="km-pane-wrapper"><div></div></div>').parent(),e=new u(c);return e.navigate(""),e},e.plugin(u)}(window.kendo.jQuery),function(a,b){function c(a,b){var c=[];return n&&c.push("km-on-"+n.name),c.push(a.skin?"km-"+a.skin:"ios"==a.name&&a.majorVersion>6?"km-ios7":"km-"+a.name),("ios"==a.name&&a.majorVersion<7||"ios"!=a.name)&&c.push("km-"+a.name+a.majorVersion),c.push("km-"+a.majorVersion),c.push("km-m"+(a.minorVersion?a.minorVersion[0]:0)),a.variant&&c.push("km-"+(a.skin?a.skin:a.name)+"-"+a.variant),a.cordova&&c.push("km-cordova"),c.push(a.appMode?"km-app":"km-web"),b&&b.statusBarStyle&&c.push("km-"+b.statusBarStyle+"-status-bar"),c.join(" ")}function d(){return 0===parseInt(a("<div style='background: Background' />").css("background-color").split(",")[1],10)?"dark":"light"}function e(a){return n.wp?"-kendo-landscape"==a.css("animation-name"):Math.abs(window.orientation)/90==1}function f(a){return e(a)?s:p}function g(a){a.parent().addBack().css("min-height",window.innerHeight)}function h(){a("meta[name=viewport]").remove(),H.append(u({height:", width=device-width"+(e()?", height="+window.innerHeight+"px":k.mobileOS.flatVersion>=600&&k.mobileOS.flatVersion<700?", height="+window.innerWidth+"px":", height=device-height")}))}var i=window.kendo,j=i.mobile,k=i.support,l=j.ui.Pane,m="ios7",n=k.mobileOS,o="blackberry"==n.device&&n.flatVersion>=600&&n.flatVersion<1e3&&n.appMode,p="km-vertical",q="chrome"===n.browser,r=n.ios&&n.flatVersion>=700&&(n.appMode||q),s="km-horizontal",t={ios7:{ios:!0,browser:"default",device:"iphone",flatVersion:"700",majorVersion:"7",minorVersion:"0.0",name:"ios",tablet:!1},ios:{ios:!0,browser:"default",device:"iphone",flatVersion:"612",majorVersion:"6",minorVersion:"1.2",name:"ios",tablet:!1},android:{android:!0,browser:"default",device:"android",flatVersion:"442",majorVersion:"4",minorVersion:"4.2",name:"android",tablet:!1},blackberry:{blackberry:!0,browser:"default",device:"blackberry",flatVersion:"710",majorVersion:"7",minorVersion:"1.0",name:"blackberry",tablet:!1},meego:{meego:!0,browser:"default",device:"meego",flatVersion:"850",majorVersion:"8",minorVersion:"5.0",name:"meego",tablet:!1},wp:{wp:!0,browser:"default",device:"wp",flatVersion:"800",majorVersion:"8",minorVersion:"0.0",name:"wp",tablet:!1}},u=i.template('<meta content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no#=data.height#" name="viewport" />',{usedWithBlock:!1}),v=i.template('<meta name="apple-mobile-web-app-capable" content="#= data.webAppCapable === false ? \'no\' : \'yes\' #" /> <meta name="apple-mobile-web-app-status-bar-style" content="#=data.statusBarStyle#" /> <meta name="msapplication-tap-highlight" content="no" /> ',{usedWithBlock:!1}),w=i.template("<style>.km-view { clip: rect(0 #= data.width #px #= data.height #px 0); }</style>",{usedWithBlock:!1}),x=n.android&&"chrome"!=n.browser||n.blackberry,y=u({height:""}),z=i.template('<link rel="apple-touch-icon'+(n.android?"-precomposed":"")+'" # if(data.size) { # sizes="#=data.size#" #}# href="#=data.icon#" />',{usedWithBlock:!1}),A=("iphone"==n.device||"ipod"==n.device)&&n.majorVersion<7,B=("iphone"==n.device||"ipod"==n.device)&&n.majorVersion>=7,C=B?"none":null,D="mobilesafari"==n.browser?60:0,E=20,F=a(window),G=window.screen,H=a("head"),I="init",J=a.proxy,K=i.Observable.extend({init:function(b,c){var d=this;j.application=d,d.options=a.extend({hideAddressBar:!0,useNativeScrolling:!1,statusBarStyle:"black",transition:"",historyTransition:C,updateDocumentTitle:!0},c),i.Observable.fn.init.call(d,d.options),d.bind(d.events,d.options),a(function(){b=a(b),d.element=b[0]?b:a(document.body),d._setupPlatform(),d._attachMeta(),d._setupElementClass(),d._attachHideBarHandlers(),d.pane=new l(d.element,d.options),d.pane.navigateToInitial(),d.options.updateDocumentTitle&&d._setupDocumentTitle(),d._startHistory(),d.trigger(I)})},events:[I],navigate:function(a,b){this.pane.navigate(a,b)},replace:function(a,b){this.pane.replace(a,b)},scroller:function(){return this.view().scroller},hideLoading:function(){if(!this.pane)throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.hideLoading()},showLoading:function(){if(!this.pane)throw new Error("The mobile application instance is not fully instantiated. Please consider activating loading in the application init event handler.");this.pane.showLoading()},changeLoadingMessage:function(a){if(!this.pane)throw new Error("The mobile application instance is not fully instantiated. Please consider changing the message in the application init event handler.");this.pane.changeLoadingMessage(a)},view:function(){return this.pane.view()},skin:function(a){var b=this;return arguments.length?(b.options.skin=a||"",b.element[0].className="km-pane",b._setupPlatform(),b._setupElementClass(),b.options.skin):b.options.skin},destroy:function(){this.pane.destroy(),this.router.destroy()},_setupPlatform:function(){var b=this,e=b.options.platform,f=b.options.skin,g=[],h=n||t[m];if(e&&("string"==typeof e?(g=e.split("-"),h=a.extend({variant:g[1]},h,t[g[0]])):h=e),f&&(g=f.split("-"),h=a.extend({},h,{skin:g[0],variant:g[1]})),b.os=h,b.osCssClass=c(b.os,b.options),h.wp&&(a(window).off("focusin",i),document.removeEventListener("resume",i),!h.skin)){b.element.parent().css("overflow","hidden");var i=function(){b.element.removeClass("km-wp-dark km-wp-light").addClass("km-wp-"+d())};a(window).on("focusin",i),document.addEventListener("resume",i),i()}},_startHistory:function(){this.router=new i.Router({pushState:this.options.pushState,root:this.options.root}),this.pane.bindToRouter(this.router),this.router.start()},_resizeToScreenHeight:function(){var b,c=a("meta[name=apple-mobile-web-app-status-bar-style]").attr("content").match(/black-translucent|hidden/),d=this.element;b=q?window.innerHeight:e(d)?c?G.availWidth:G.availWidth-E:c?G.availHeight+E:G.availHeight,d.height(b)},_setupElementClass:function(){var b,c=this,d=c.element;d.parent().addClass("km-root km-"+(c.os.tablet?"tablet":"phone")),d.addClass(c.osCssClass+" "+f(d)),this.options.useNativeScrolling&&d.parent().addClass("km-native-scrolling"),q&&d.addClass("km-ios-chrome"),k.wpDevicePixelRatio&&d.parent().css("font-size",k.wpDevicePixelRatio+"em"),o&&h(),c.options.useNativeScrolling?d.parent().addClass("km-native-scrolling"):x&&(b=(screen.availWidth>screen.availHeight?screen.availWidth:screen.availHeight)+200,a(w({width:b,height:b})).appendTo(H)),r&&c._resizeToScreenHeight(),i.onResize(function(){d.removeClass("km-horizontal km-vertical").addClass(f(d)),c.options.useNativeScrolling&&g(d),r&&c._resizeToScreenHeight(),o&&h(),i.resize(d)})},_clearExistingMeta:function(){H.find("meta").filter("[name|='apple-mobile-web-app'],[name|='msapplication-tap'],[name='viewport']").remove()},_attachMeta:function(){var a,b=this.options,c=b.icon;if(this._clearExistingMeta(),o||H.prepend(y),H.prepend(v(b)),c){"string"==typeof c&&(c={"":c});for(a in c)H.prepend(z({icon:c[a],size:a}))}b.useNativeScrolling&&g(this.element)},_attachHideBarHandlers:function(){var a=this,b=J(a,"_hideBar");!k.mobileOS.appMode&&a.options.hideAddressBar&&A&&!a.options.useNativeScrolling&&(a._initialHeight={},F.on("load",b),i.onResize(function(){setTimeout(window.scrollTo,0,0,1)}))},_setupDocumentTitle:function(){var a=this,c=document.title;a.pane.bind("viewShow",function(a){var d=a.view.title;document.title=d!==b?d:c})},_hideBar:function(){var b=this,c=b.element;c.height(i.support.transforms.css+"calc(100% + "+D+"px)"),a(window).trigger(i.support.resize)}});i.mobile.Application=K}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.mobile,d=c.ui,e="show",f="hide",g="open",h="close",i='<div class="km-popup-wrapper" />',j='<div class="km-popup-arrow" />',k='<div class="km-popup-overlay" />',l="km-up km-down km-left km-right",m=d.Widget,n={down:{origin:"bottom center",position:"top center"},up:{origin:"top center",position:"bottom center"},left:{origin:"center left",position:"center right",collision:"fit flip"},right:{origin:"center right",position:"center left",collision:"fit flip"}},o={animation:{open:{effects:"fade:in",duration:0},close:{effects:"fade:out",duration:400}}},p={horizontal:{offset:"top",size:"height"},vertical:{offset:"left",size:"width"}},q={up:"down",down:"up",left:"right",right:"left"},r=m.extend({init:function(c,d){var e,g,h=this,l=c.closest(".km-modalview-wrapper"),q=c.closest(".km-root").children(".km-pane").first(),r=l[0]?l:q;d.viewport?q=d.viewport:q[0]||(q=window),d.container?r=d.container:r[0]||(r=document.body),e={viewport:q,open:function(){h.overlay.show()},activate:a.proxy(h._activate,h),deactivate:function(){h.overlay.hide(),h.trigger(f)}},m.fn.init.call(h,c,d),c=h.element,d=h.options,c.wrap(i).addClass("km-popup").show(),g=h.options.direction.match(/left|right/)?"horizontal":"vertical",h.dimensions=p[g],h.wrapper=c.parent().css({width:d.width,height:d.height}).addClass("km-popup-wrapper km-"+d.direction).hide(),h.arrow=a(j).prependTo(h.wrapper).hide(),h.overlay=a(k).appendTo(r).hide(),e.appendTo=h.overlay,e.copyAnchorStyles=!1,e.autosize=!0,d.className&&h.overlay.addClass(d.className),h.popup=new b.ui.Popup(h.wrapper,a.extend(!0,e,o,n[d.direction]))},options:{name:"Popup",width:240,height:"",direction:"down",container:null,viewport:null},events:[e,f],show:function(b){var c=this,d=c.popup;d.options.anchor=a(b),d.open()},target:function(){return this.popup.options.anchor},hide:function(){this.popup.close()},destroy:function(){m.fn.destroy.call(this),this.popup.destroy(),this.overlay.remove()},_activate:function(){var b=this,c=b.options.direction,d=b.dimensions,f=d.offset,g=b.popup,h=g.options.anchor,i=a(h).offset(),j=a(g.element).offset(),k=g.flipped?q[c]:c,m=i[f]-j[f]+a(h)[d.size]()/2;b.wrapper.removeClass(l).addClass("km-"+k),b.arrow.css(f,m).show(),b.trigger(e)}}),s=m.extend({init:function(c,e){var f,i=this;i.initialOpen=!1,m.fn.init.call(i,c,e),f=a.extend({className:"km-popover-root",show:function(){i.trigger(g,{target:i.popup.target()})},hide:function(){i.trigger(h)
}},this.options.popup),i.popup=new r(i.element,f),i.pane=new d.Pane(i.element,this.options.pane),i.pane.navigateToInitial(),b.notify(i,d)},options:{name:"PopOver",popup:{},pane:{}},events:[g,h],open:function(a){this.openFor(a)},openFor:function(a){this.popup.show(a),this.initialOpen||(this.pane.navigate(""),this.popup.popup._position(),this.initialOpen=!0)},close:function(){this.popup.hide()},destroy:function(){m.fn.destroy.call(this),this.pane.destroy(),this.popup.destroy(),b.destroy(this.element)}});d.plugin(r),d.plugin(s)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.mobile.ui,e=c.ui.Popup,f='<div class="km-shim"/>',g=d.Widget,h=g.extend({init:function(b,d){var h=this,i=c.mobile.application,j=c.support.mobileOS,k=i?i.os.name:j?j.name:"ios",l="ios"===k||"wp"===k||(i?i.os.skin:!1),m="blackberry"===k,n=d.align||(l?"bottom center":m?"center right":"center center"),o=d.position||(l?"bottom center":m?"center right":"center center"),p=d.effect||(l?"slideIn:up":m?"slideIn:left":"fade:in"),q=a(f).handler(h).hide();g.fn.init.call(h,b,d),h.shim=q,b=h.element,d=h.options,d.className&&h.shim.addClass(d.className),d.modal||h.shim.on("up","hide"),(i?i.element:a(document.body)).append(q),h.popup=new e(h.element,{anchor:q,modal:!0,appendTo:q,origin:n,position:o,animation:{open:{effects:p,duration:d.duration},close:{duration:d.duration}},deactivate:function(){q.hide()},open:function(){q.show()}}),c.notify(h)},options:{name:"Shim",modal:!1,align:b,position:b,effect:b,duration:200},show:function(){this.popup.open()},hide:function(b){b&&a.contains(this.shim.children().children(".k-popup")[0],b.target)||this.popup.close()},destroy:function(){g.fn.destroy.call(this),this.shim.kendoDestroy(),this.popup.destroy(),this.shim.remove()}});d.plugin(h)}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.support,d=b.mobile.ui,e=d.Shim,f=d.Popup,g=d.Widget,h="open",i="close",j="command",k="li>a",l="actionsheetContext",m='<div class="km-actionsheet-wrapper" />',n=b.template('<li class="km-actionsheet-cancel"><a href="\\#">#:cancel#</a></li>'),o=g.extend({init:function(h,i){var j,l,o,p=this,q=c.mobileOS;g.fn.init.call(p,h,i),i=p.options,o=i.type,l="auto"===o?q&&q.tablet:"tablet"===o,j=l?f:e,h=p.element,i.cancelTemplate&&(n=b.template(i.cancelTemplate)),h.addClass("km-actionsheet").append(n({cancel:p.options.cancel})).wrap(m).on("up",k,"_click").on("click",k,b.preventDefault),p.wrapper=h.parent().addClass(o?" km-actionsheet-"+o:""),p.shim=new j(p.wrapper,a.extend({modal:q.ios&&q.majorVersion<7,className:"km-actionsheet-root"},p.options.popup)),b.notify(p,d),l&&b.onResize(a.proxy(this,"_resize"))},events:[h,i,j],options:{name:"ActionSheet",cancel:"Cancel",type:"auto",popup:{height:"auto"}},open:function(b,c){var d=this;d.target=a(b),d.context=c,d.shim.show(b)},close:function(){this.context=this.target=null,this.shim.hide()},openFor:function(a){var b=this,c=a.data(l);b.open(a,c),b.trigger(h,{target:a,context:c})},destroy:function(){g.fn.destroy.call(this),this.shim.destroy()},_click:function(c){if(!c.isDefaultPrevented()){var d=a(c.currentTarget),e=d.data("action");e&&b.getter(e)(window)({target:this.target,context:this.context}),this.trigger(j,{target:this.target,context:this.context,currentTarget:d}),c.preventDefault(),this.close(),this.trigger(i)}},_resize:function(){this.shim.hide()}});d.plugin(o)}(window.kendo.jQuery),function(a,b){function c(a){return new Array(a+1).join('<td class="k-group-cell">&nbsp;</td>')}function d(a){var b,c=" ";if(a){if(typeof a===Hb)return a;for(b in a)c+=b+'="'+a[b]+'"'}return c}function e(b){var c=0;return a("> .k-grouping-header, > .k-grid-toolbar",b).each(function(){c+=this.offsetHeight}),c}function f(b,c){a("th, th .k-grid-filter, th .k-link",b).add(document.body).css("cursor",c)}function g(a){var b,c,d={},e={};if(!bb(a))for(Y(a)||(a=[a]),b=0,c=a.length;c>b;b++)d[a[b].aggregate]=0,e[a[b].field]=d;return e}function h(a,b,c,d){b=a.eq(b),"number"==typeof c?b[d?"insertBefore":"insertAfter"](a.eq(c)):b.appendTo(c)}function i(b,c,d){return a(b).add(c).find(d)}function j(a,b,c){var d,e,f,g;for(c=Y(c)?c:[c],d=0,e=c.length;e>d;d++)f=c[d],U(f)&&f.click&&(g=f.name||f.text,b.on(Db+lb,"a.k-grid-"+(g||"").replace(/\s/g,""),{commandName:g},_(f.click,a)))}function k(a){return X(a,function(a){return!a.hidden})}function l(a){for(var b,c=0,d=0,e=a.length;e>d;d++)b=a[d].style.width,b&&-1==b.indexOf("%")&&(c+=parseInt(b,10));return c}function m(a){return X(a,function(a){return a.locked})}function n(a){return X(a,function(a){return!a.locked})}function o(a){return X(a,function(a){return!a.locked&&!a.hidden})}function p(a){return X(a,function(a){return a.locked&&!a.hidden})}function q(b,c,d){var e,f=b;return Q?b[0].innerHTML=d:(e=document.createElement("div"),e.innerHTML="<table><tbody>"+d+"</tbody></table>",b=e.firstChild.firstChild,c[0].replaceChild(b,f[0]),b=a(b)),b}function r(a){a=a||{};var b=a.style;return b?(b=b.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),b===a.style&&(b=b.replace(/(.*)?/i,"display:none;$1"))):b="display:none",V({},a,{style:b})}function s(a){a=a||{};var b=a.style;return b&&(a.style=b.replace(/(display\s*:\s*none\s*;?)*/gi,"")),a}function t(b,c,d,e){var f,g=b.find(">colgroup"),h=W(c,function(a){return f=a.width,f&&0!==parseInt(f,10)?M.format('<col style="width:{0}"/>',typeof f===Hb?f:f+"px"):"<col />"});(d||g.find(".k-hierarchy-col").length)&&h.splice(0,0,'<col class="k-hierarchy-col" />'),g.length&&g.remove(),g=a(new Array(e+1).join('<col class="k-group-col">')+h.join("")),g.is("colgroup")||(g=a("<colgroup/>").append(g)),b.prepend(g),Zb.msie&&8==Zb.version&&(b.css("display","inline-table"),window.setTimeout(function(){b.css("display","")},1))}function u(a){var b,c,d,e={};for(c=0,d=a.length;d>c;c++)b=a[c],e[b.value]=b.text;return e}function v(a,b,c){var d=c&&c.length&&U(c[0])&&"value"in c[0],e=d?u(c)[a]:a;return e=null!=e?e:"",b?M.format(b,e):e}function w(a,b,c){for(var d,e=0,f=a[e];f;){if(d=c?!0:"none"!==f.style.display,d&&!Ob.test(f.className)&&--b<0){f.style.display=c?"":"none";break}f=a[++e]}}function x(b,c){for(var d,e,f=0,g=b.length;g>f;f+=1)e=b.eq(f),e.is(".k-grouping-row,.k-detail-row")?(d=e.children(":not(.k-group-cell):first,.k-detail-cell").last(),d.attr("colspan",parseInt(d.attr("colspan"),10)-1)):(e.hasClass("k-grid-edit-row")&&(d=e.children(".k-edit-container")[0])&&(d=a(d),d.attr("colspan",parseInt(d.attr("colspan"),10)-1),d.find("col").eq(c).remove(),e=d.find("tr:first")),w(e[0].cells,c,!1))}function y(b,c){for(var d,e,f,g=0,h=b.length;h>g;g+=1)e=b.eq(g),e.is(".k-grouping-row,.k-detail-row")?(d=e.children(":not(.k-group-cell):first,.k-detail-cell").last(),d.attr("colspan",parseInt(d.attr("colspan"),10)+1)):(e.hasClass("k-grid-edit-row")&&(d=e.children(".k-edit-container")[0])&&(d=a(d),d.attr("colspan",parseInt(d.attr("colspan"),10)+1),t(d.find(">form>table"),k(f),!1,0),e=d.find("tr:first")),w(e[0].cells,c,!0))}function z(a,b){var c,d,e;for(d=0,e=a.length;e>d;d+=1)c=a.eq(d).children().last(),c.attr("colspan",parseInt(c.attr("colspan"),10)+1),c=b.eq(d).children().last(),c.attr("colspan",parseInt(c.attr("colspan"),10)-1)}function A(a){var b,c,d=0,e=a.find(">colgroup>col");for(b=0,c=e.length;c>b;b+=1)d+=parseInt(e[b].style.width,10);return d}function B(a,b){var c,d=a.clientHeight,e=b.clientHeight;d>e?c=d+"px":e>d&&(c=e+"px"),c&&(a.style.height=b.style.height=c)}function C(a,b){var c,d,e;if(typeof a===Hb&&a===b)return a;if(U(a)&&a.name===b)return a;if(Y(a))for(c=0,d=a.length;d>c;c++)if(e=a[c],typeof e===Hb&&e===b||e.name===b)return e;return null}function D(b,c){var d=Zb.msie;if(c===!0){b=a(b);var e,f,g=d&&b.parent().is(".k-grid-content,.k-grid-header-wrap");if(g&&(e=b.parent().scrollTop(),f=b.parent().scrollLeft()),d)try{b[0].setActive()}catch(h){b[0].focus()}else b[0].focus();g&&(b.parent().scrollTop(e),b.parent().scrollLeft(f))}else a(b).one("focusin",function(a){a.preventDefault()}).focus()}function E(b){var c=a(b.currentTarget),d=c.is("th"),e=this.table.add(this.lockedTable),f=this.thead.parent().add(a(">table",this.lockedHeader)),g=c.closest("table")[0];M.support.touch||(g===e[0]||g===e[1]||g===f[0]||g===f[1])&&(this.current(c),(d||!a(b.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"))&&setTimeout(function(){_b&&a(M._activeElement()).hasClass("k-widget")||D(g,!0)}),d&&b.preventDefault())}function F(b,c,d,e){if(b=a(b),e){var f=c;c=d,d=f}return c.not(b).length!=c.length?b:c.eq(b[0]==d[0]?0:1)}function G(a,b,c,d,e){var f,g,h=e?"prevAll":"nextAll";return a?(f=a.parent()[h](hb).first(),f[0]||!e&&!a.is("th")||(b=F(b,c,d,e),D(b),f=b.find((e?">thead>":">tbody>")+hb).first()),g=a.index(),a=f.children().eq(g),a[0]&&a.is(ib)||(a=f.children(ib).first())):a=c.find(jb),a}function H(a,b,c,d,e){var f=c.length>1;return a?a.prev()[0]?a=a.prevAll(fb).first():f&&(b==c[1]?(D(c[0]),a=e(a.parent()).children(fb).last()):b==d[1]&&(D(d[0]),a=d.eq(0).find("tr>"+fb).last())):a=c.find(jb),a}function I(a,b,c,d,e){var f=c.length>1;return a?a.next()[0]?a=a.nextAll(fb).first():f&&(b==c[0]?(D(c[1]),a=e(a.parent()).children(fb).first()):b==d[0]&&(D(d[1]),a=d.eq(1).find("tr>"+fb).first())):a=c.find(jb),a}function J(a,b,c,d,e){var f=2==c.length,g=!0,h=e?a.prevAll(fb+":first"):a.nextAll(":visible:first");return h.length||(h=a.parent(),f&&(g=e&&b==c[0]||!e&&b==c[1],h=d(h)),g&&(h=h[e?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first")),h=h.children(fb+(e?":last":":first"))),h}function K(a,b,d){return'<tr class="k-grouping-row">'+c(b)+'<td colspan="'+a+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+d+"</p></td></tr>"}function L(a){return'<tr class="k-grouping-row"><td colspan="'+a+'" aria-expanded="true"><p class="k-reset">&nbsp;</p></td></tr>'}var M=window.kendo,N=M.ui,O=M.data.DataSource,P=N.Groupable,Q=M.support.tbodyInnerHtml,R=M._activeElement,S=N.Widget,T=M.keys,U=a.isPlainObject,V=a.extend,W=a.map,X=a.grep,Y=a.isArray,Z=a.inArray,$=Array.prototype.push,_=a.proxy,ab=M.isFunction,bb=a.isEmptyObject,cb=Math,db="progress",eb="error",fb=":not(.k-group-cell):not(.k-hierarchy-cell):visible",gb="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",hb="tr:not(.k-footer-template):visible",ib=":not(.k-group-cell):not(.k-hierarchy-cell):visible",jb=hb+":first>"+ib+":first",kb="th.k-header:not(.k-group-cell):not(.k-hierarchy-cell)",lb=".kendoGrid",mb="edit",nb="save",ob="remove",pb="detailInit",qb="filterMenuInit",rb="columnMenuInit",sb="change",tb="columnHide",ub="columnShow",vb="saveChanges",wb="dataBound",xb="detailExpand",yb="detailCollapse",zb="k-state-focused",Ab="k-state-selected",Bb="columnResize",Cb="columnReorder",Db="click",Eb="height",Fb="tabIndex",Gb="function",Hb="string",Ib="Are you sure you want to delete this record?",Jb="Delete",Kb="Cancel",Lb=/(\}|\#)/gi,Mb=/#/gi,Nb="[\\x20\\t\\r\\n\\f]",Ob=new RegExp("(^|"+Nb+")(k-group-cell|k-hierarchy-cell)("+Nb+"|$)"),Pb='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',Qb="dir",Rb="asc",Sb="single",Tb="field",Ub="desc",Vb=".kendoSorter",Wb=".k-link",Xb="aria-sort",Yb=!1,Zb=M.support.browser,$b=Zb.msie&&7==Zb.version,_b=Zb.msie&&8==Zb.version,ac=S.extend({init:function(a,b){var c=this;S.fn.init.call(c,a,b),c._refreshHandler=_(c.refresh,c),c.setDataSource(b.dataSource),c.wrap()},setDataSource:function(a){var b=this;b.dataSource&&b.dataSource.unbind(sb,b._refreshHandler),b.dataSource=a,b.dataSource.bind(sb,b._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:a.noop},destroy:function(){var a=this;S.fn.destroy.call(a),a.dataSource.unbind(sb,a._refreshHandler),a.wrapper.add(a.verticalScrollbar).off(lb),a.drag&&(a.drag.destroy(),a.drag=null),a.wrapper=a.element=a.verticalScrollbar=null,a._refreshHandler=null},wrap:function(){var b,c=this,d=M.support.scrollbar()+1,e=c.element;e.css({width:"auto",overflow:"hidden"}).css(Yb?"padding-left":"padding-right",d),c.content=e.children().first(),b=c.wrapper=c.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+lb+" mousewheel"+lb,_(c._wheelScroll,c)),M.support.kineticScrollNeeded&&(c.drag=new M.UserEvents(c.wrapper,{global:!0,move:function(a){c.verticalScrollbar.scrollTop(c.verticalScrollbar.scrollTop()-a.y.delta),b.scrollLeft(b.scrollLeft()-a.x.delta),a.preventDefault()}})),c.verticalScrollbar=a('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:d}).appendTo(e).bind("scroll"+lb,_(c._scroll,c))},_wheelScroll:function(a){var b=this.verticalScrollbar.scrollTop(),c=M.wheelDeltaY(a);c&&(a.preventDefault(),this.verticalScrollbar.scrollTop(b+-c))},_scroll:function(a){var b=this,c=a.currentTarget.scrollTop,d=b.dataSource,e=b.itemHeight,f=d.skip()||0,g=b._rangeStart||f,h=b.element.innerHeight(),i=!!(b._scrollbarTop&&b._scrollbarTop>c),j=cb.max(cb.floor(c/e),0),k=cb.max(j+cb.floor(h/e),0);b._scrollTop=c-g*e,b._scrollbarTop=c,b._fetch(j,k,i)||(b.wrapper[0].scrollTop=b._scrollTop)},_fetch:function(a,b,c){var d=this,e=d.dataSource,f=d.itemHeight,g=e.take(),h=d._rangeStart||e.skip()||0,i=cb.floor(a/g)*g,j=!1,k=.33;return h>a?(j=!0,h=cb.max(0,b-g),d._scrollTop=(a-h)*f,d._page(h,g)):b>=h+g&&!c?(j=!0,h=a,d._scrollTop=f,d._page(h,g)):d._fetching||(i+g-g*k>a&&a>g&&e.prefetch(i-g,g),b>i+g*k&&e.prefetch(i+g,g)),j},_page:function(a,b){var c=this,d=c.dataSource;clearTimeout(c._timeout),c._fetching=!0,c._rangeStart=a,d.inRange(a,b)?d.range(a,b):(M.ui.progress(c.wrapper.parent(),!0),c._timeout=setTimeout(function(){d.range(a,b)},100))},refresh:function(){var a,b,c,d=this,e="",f=25e4,g=d.dataSource,h=d._rangeStart,i=M.support.kineticScrollNeeded?0:M.support.scrollbar(),j=d.wrapper[0];M.ui.progress(d.wrapper.parent(),!1),clearTimeout(d._timeout),c=d.itemHeight=d.options.itemHeight()||0;var k=j.scrollWidth>j.offsetWidth?i:0;for(a=g.total()*c+k,b=0;b<cb.floor(a/f);b++)e+='<div style="width:1px;height:'+f+'px"></div>';a%f&&(e+='<div style="width:1px;height:'+a%f+'px"></div>'),d.verticalScrollbar.html(e),j.scrollTop=d._scrollTop,d.drag&&d.drag.cancel(),h&&!d._fetching&&(d._rangeStart=g.skip()),d._fetching=!1}}),bc={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},cc=S.extend({init:function(b,c){var d=this;c=Y(c)?{dataSource:c}:c,S.fn.init.call(d,b,c),Yb=M.support.isRtl(b),d._element(),d._aria(),d._columns(d.options.columns),d._dataSource(),d._tbody(),d._pageable(),d._thead(),d._groupable(),d._toolbar(),d._setContentHeight(),d._templates(),d._navigatable(),d._selectable(),d._details(),d._editable(),d._attachCustomCommandsEvent(),d.options.autoBind?d.dataSource.fetch():d._footer(),d.lockedContent&&(d.wrapper.addClass("k-grid-lockedcolumns"),d._resizeHandler=function(){d.resize()},a(window).on("resize"+lb,d._resizeHandler)),M.notify(d)},events:[sb,"dataBinding","cancel",wb,xb,yb,pb,qb,rb,mb,nb,ob,vb,Bb,Cb,ub,tb],setDataSource:function(a){var b=this;b.options.dataSource=a,b._dataSource(),b._pageable(),b.options.groupable&&b._groupable(),b._thead(),b.virtualScrollable&&b.virtualScrollable.setDataSource(b.options.dataSource),b.options.autoBind&&a.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:""},destroy:function(){var b,c=this;S.fn.destroy.call(c),c._resizeHandler&&a(window).off("resize"+lb,c._resizeHandler),c.pager&&c.pager.element&&c.pager.destroy(),c.pager=null,c.groupable&&c.groupable.element&&c.groupable.element.kendoGroupable("destroy"),c.groupable=null,c.options.reorderable&&c.wrapper.data("kendoReorderable").destroy(),c.selectable&&c.selectable.destroy(),c.resizable&&(c.resizable.destroy(),c._resizeUserEvents&&(c._resizeHandleDocumentClickHandler&&a(document).off("click",c._resizeHandleDocumentClickHandler),c._resizeUserEvents.destroy(),c._resizeUserEvents=null),c.resizable=null),c.virtualScrollable&&c.virtualScrollable.element&&c.virtualScrollable.destroy(),c.virtualScrollable=null,c._destroyColumnAttachments(),c._destroyEditable(),c.dataSource&&(c.dataSource.unbind(sb,c._refreshHandler).unbind(db,c._progressHandler).unbind(eb,c._errorHandler),c._refreshHandler=c._progressHandler=c._errorHandler=null),b=c.element.add(c.wrapper).add(c.table).add(c.thead).add(c.wrapper.find(">.k-grid-toolbar")),c.content&&(b=b.add(c.content).add(c.content.find(">.k-virtual-scrollable-wrap"))),c.lockedHeader&&c._removeLockedContainers(),c.pane&&c.pane.destroy(),c._draggableInstance&&c._draggableInstance.element&&c._draggableInstance.destroy(),c._draggableInstance=null,b.off(lb),M.destroy(c.wrapper),c.scrollables=c.thead=c.tbody=c.element=c.table=c.content=c.footer=c.wrapper=c._groupableClickHandler=c._setContentWidthHandler=null},setOptions:function(a){var b=this;S.fn.setOptions.call(this,a),b._templates()},items:function(){return this.tbody.children().filter(function(){var b=a(this);return!b.hasClass("k-grouping-row")&&!b.hasClass("k-detail-row")&&!b.hasClass("k-group-footer")})},_destroyColumnAttachments:function(){var b=this;b.resizeHandle=null,b.thead&&b.thead.find("th").each(function(){var b=a(this),c=b.data("kendoFilterMenu"),d=b.data("kendoSorter"),e=b.data("kendoColumnMenu");c&&c.destroy(),d&&d.destroy(),e&&e.destroy()})},_attachCustomCommandsEvent:function(){var a,b,c,d=this,e=d.columns||[];for(b=0,c=e.length;c>b;b++)a=e[b].command,a&&j(d,d.wrapper,a)},_aria:function(){var a=this.element.attr("id")||"aria";a&&(this._cellId=a+"_active_cell")},_element:function(){var b=this,c=b.element;c.is("table")||(c=b.options.scrollable?b.element.find("> .k-grid-content > table"):b.element.children("table"),c.length||(c=a("<table />").appendTo(b.element))),$b&&c.attr("cellspacing",0),b.table=c.attr("role",b._hasDetails()?"treegrid":"grid"),b._wrapper()},_createResizeHandle:function(b,c){var d,f=this,g=f.options.columnResizeHandleWidth,h=f.options.scrollable,i=f.resizeHandle;if(i&&f.lockedContent&&i.data("th")[0]!==c[0]&&(i.remove(),i=null),i||(i=f.resizeHandle=a('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),b.append(i)),Yb){var j=c.closest(".k-grid-header-wrap, .k-grid-header-locked"),k=Zb.msie?j.scrollLeft():0,l=Zb.webkit?j[0].scrollWidth-j[0].offsetWidth-j.scrollLeft():0,m=Zb.mozilla?j[0].scrollWidth-j[0].offsetWidth-(j[0].scrollWidth-j[0].offsetWidth-j.scrollLeft()):0;d=c.position().left-l+m-k}else d=c[0].offsetWidth,c.prevAll(":visible").each(function(){d+=this.offsetWidth});i.css({top:h?0:e(f.wrapper),left:d-g,height:c.outerHeight(),width:3*g}).data("th",c).show()},_positionColumnResizeHandle:function(){var b=this,c=b.options.columnResizeHandleWidth,d=b.lockedHeader?b.lockedHeader.find("thead:first"):a();b.thead.add(d).on("mousemove"+lb,"th",function(d){var e=a(this);if(!e.hasClass("k-group-cell")&&!e.hasClass("k-hierarchy-cell")){var g=d.clientX,h=a(window).scrollLeft(),i=e.offset().left+(Yb?0:this.offsetWidth);g+h>i-c&&i+c>g+h?b._createResizeHandle(e.closest("div"),e):b.resizeHandle?b.resizeHandle.hide():f(b.wrapper,"")}})},_resizeHandleDocumentClick:function(b){a(b.target).closest(".k-column-active").length||(a(document).off(b),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.lockedContent&&!this._isMobile?(this.resizeHandle.remove(),this.resizeHandle=null):this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(){var b=this,c=b.lockedHeader?b.lockedHeader.find("thead:first"):a();b._resizeUserEvents=new M.UserEvents(c.add(b.thead),{filter:"th:not(.k-group-cell):not(.k-hierarchy-cell)",threshold:10,hold:function(c){var d=a(c.target);c.preventDefault(),d.addClass("k-column-active"),b._createResizeHandle(d.closest("div"),d),b._resizeHandleDocumentClickHandler||(b._resizeHandleDocumentClickHandler=_(b._resizeHandleDocumentClick,b)),a(document).on("click",b._resizeHandleDocumentClickHandler)}})},_resizable:function(){var b,c,d,e,g,h,i,j=this,k=j.options,l=this._isMobile,m=M.support.mobileOS?0:M.support.scrollbar();k.resizable&&(b=k.scrollable?j.wrapper.find(".k-grid-header-wrap:first"):j.wrapper,l?j._positionColumnResizeHandleTouch(b):j._positionColumnResizeHandle(b),j.resizable&&j.resizable.destroy(),j.resizable=new N.Resizable(b.add(j.lockedHeader),{handle:".k-resize-handle",hint:function(b){return a('<div class="k-grid-resize-indicator" />').css({height:b.data("th").outerHeight()+j.tbody.attr("clientHeight")})},start:function(b){i=a(b.currentTarget).data("th"),l&&j._hideResizeHandle();var m=a.inArray(i[0],i.parent().children(":visible")),n=i.closest("table");g=n.parent().hasClass("k-grid-header-locked");var o=g?j.lockedTable:j.table,p=j.footer||a();j.footer&&j.lockedContent&&(p=j.footer.children(g?".k-grid-footer-locked":".k-grid-footer-wrap")),f(j.wrapper,"col-resize"),h=k.scrollable?n.find("col:eq("+m+")").add(o.children("colgroup").find("col:eq("+m+")")).add(p.find("colgroup").find("col:eq("+m+")")):o.children("colgroup").find("col:eq("+m+")"),c=b.x.location,d=i.outerWidth(),e=g?o.children("tbody").outerWidth():j.tbody.outerWidth()},resize:function(b){var f=Yb?-1:1,l=d+b.x.location*f-c*f;if(k.scrollable){var n=(g?j.lockedFooter.children("table"):j.footer.find(">.k-grid-footer-wrap>table"))||a(),o=i.closest("table"),p=g?j.lockedTable:j.table,q=!1,r=j.wrapper.width()-m,s=l;g&&e-d+s>r&&(s=d+(r-e-2*m),0>s&&(s=l),q=!0),s>10&&(h.css("width",s),e&&(s=q?r-2*m:e+b.x.location*f-c*f,p.add(o).add(n).css("width",s),g||(j._footerWidth=s)))}else l>10&&h.css("width",l)},resizeend:function(){var a,b,c=i.outerWidth();f(j.wrapper,""),d!=c&&(b=j.lockedHeader?j.lockedHeader.find("thead:first").add(j.thead):i.parent(),a=j.columns[b.find("th:not(.k-group-cell):not(.k-hierarchy-cell)").index(i)],a.width=c,j.trigger(Bb,{column:a,oldWidth:d,newWidth:c}),j._applyLockedContainersWidth(),j._syncLockedContentHeight(),j._syncLockedHeaderHeight()),j._hideResizeHandle(),i=null}}))},_draggable:function(){var b=this;b.options.reorderable&&(b._draggableInstance&&b._draggableInstance.destroy(),b._draggableInstance=b.wrapper.kendoDraggable({group:M.guid(),filter:b.content?".k-grid-header:first "+kb:"table:first>.k-grid-header "+kb,drag:function(){b._hideResizeHandle()},hint:function(b){return a('<div class="k-header k-drag-clue" />').css({width:b.width(),paddingLeft:b.css("paddingLeft"),paddingRight:b.css("paddingRight"),lineHeight:b.height()+"px",paddingTop:b.css("paddingTop"),paddingBottom:b.css("paddingBottom")}).html(b.attr(M.attr("title"))||b.attr(M.attr("field"))||b.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var b=this;b.options.reorderable&&(b.wrapper.data("kendoReorderable")&&b.wrapper.data("kendoReorderable").destroy(),b.wrapper.kendoReorderable({draggable:b._draggableInstance,dragOverContainers:function(a){return b.columns[a].lockable!==!1},inSameContainer:function(b,c){return a(b).parent()[0]===a(c).parent()[0]},change:function(a){var c=b.columns[a.oldIndex];b.trigger(Cb,{newIndex:a.newIndex,oldIndex:Z(c,b.columns),column:c}),b.reorderColumn(a.newIndex,c,"before"===a.position)}}))},reorderColumn:function(c,d,e){var f,g,j,l=this,o=l.columns,p=Z(d,o),q=o[c],r=Z(d,k(o)),s=Z(q,k(o)),t=s,u=s,v=a(),w=!!q.locked,x=m(o).length,y=l.footer||l.wrapper.find(".k-grid-footer");if(p!==c&&!(!d.locked&&w&&1==n(o).length||d.locked&&!w&&1==x)){for(q.hidden&&(w?(s=l.lockedTable.find("colgroup"),t=l.lockedHeader.find("colgroup"),u=a(l.lockedFooter).find(">table>colgroup")):(s=l.tbody.prev(),t=l.thead.prev(),u=y.find(".k-grid-footer-wrap").find(">table>colgroup"))),d.locked=w,l._hideResizeHandle(),e===b&&(e=p>c),o.splice(e?c:c+1,0,d),o.splice(c>p?p:p+1,1),l._templates(),h(i(l.lockedHeader,l.thead.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),r,t,e),l.options.scrollable&&h(i(l.lockedTable,l.tbody.prev(),"col:not(.k-group-col,.k-hierarchy-col)"),r,s,e),h(i(l.lockedHeader,l.thead,"th.k-header:not(.k-group-cell,.k-hierarchy-cell)"),p,c,e),y&&y.length&&(h(i(l.lockedFooter,y.find(".k-grid-footer-wrap"),">table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),r,u,e),h(y.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),p,c,e)),f=l.tbody.children(":not(.k-grouping-row,.k-detail-row)"),l.lockedTable&&(x>c?p>=x&&z(l.lockedTable.find(">tbody>tr.k-grouping-row"),l.table.find(">tbody>tr.k-grouping-row")):x>p&&z(l.table.find(">tbody>tr.k-grouping-row"),l.lockedTable.find(">tbody>tr.k-grouping-row")),v=l.lockedTable.find(">tbody>tr:not(.k-grouping-row,.k-detail-row)")),g=0,j=f.length;j>g;g+=1)h(i(v[g],f[g],">td:not(.k-group-cell,.k-hierarchy-cell)"),p,c,e);l._updateTablesWidth(),l._applyLockedContainersWidth(),l._syncLockedContentHeight()}},lockColumn:function(a){var b=this.columns;if(a="number"==typeof a?b[a]:X(b,function(b){return b.field===a})[0],a&&!a.locked&&!a.hidden){var c=m(b).length-1;this.reorderColumn(c,a,!1)}},unlockColumn:function(a){var b=this.columns;if(a="number"==typeof a?b[a]:X(b,function(b){return b.field===a})[0],a&&a.locked&&!a.hidden){var c=m(b).length;this.reorderColumn(c,a,!0)}},cellIndex:function(b){var c=0;return this.lockedTable&&!a.contains(this.lockedTable[0],b[0])&&(c=m(this.columns).length),a(b).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(b)+c},_modelForContainer:function(b){b=a(b),b.is("tr")||"popup"===this._editMode()||(b=b.closest("tr"));var c=b.attr(M.attr("uid"));return this.dataSource.getByUid(c)},_editable:function(){var b=this,c=b.selectable&&b.selectable.options.multiple,d=b.options.editable,e=function(){var c=R(),d=b._editContainer;!d||a.contains(d[0],c)||d[0]===c||a(c).closest(".k-animation-container").length||b.editable.end()&&b.closeCell()};if(d){var f=b._editMode();"incell"===f?d.update!==!1&&b.wrapper.on(Db+lb,"tr:not(.k-grouping-row) > td",function(d){var e=a(this),f=b.lockedTable&&e.closest("table")[0]===b.lockedTable[0];e.hasClass("k-hierarchy-cell")||e.hasClass("k-detail-cell")||e.hasClass("k-group-cell")||e.hasClass("k-edit-cell")||e.has("a.k-grid-delete").length||e.has("button.k-grid-delete").length||e.closest("tbody")[0]!==b.tbody[0]&&!f||a(d.target).is(":input")||(b.editable?b.editable.end()&&(c&&a(R()).blur(),b.closeCell(),b.editCell(e)):b.editCell(e))}).on("focusin"+lb,function(){clearTimeout(b.timer),b.timer=null}).on("focusout"+lb,function(){b.timer=setTimeout(e,1)}):d.update!==!1&&b.wrapper.on(Db+lb,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(c){c.preventDefault(),b.editRow(a(this).closest("tr"))}),d.destroy!==!1?b.wrapper.on(Db+lb,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(c){c.preventDefault(),c.stopPropagation(),b.removeRow(a(this).closest("tr"))}):b.wrapper.on(Db+lb,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(a){a.stopPropagation(),b._confirmation()||a.preventDefault()})}},editCell:function(b){b=a(b);var c=this,d=c.columns[c.cellIndex(b)],e=c._modelForContainer(b);if(e&&(!e.editable||e.editable(d.field))&&!d.command&&d.field){c._attachModelChange(e),c._editContainer=b,c.editable=b.addClass("k-edit-cell").kendoEditable({fields:{field:d.field,format:d.format,editor:d.editor,values:d.values},model:e,change:function(a){c.trigger(nb,{values:a.values,container:b,model:e})&&a.preventDefault()}}).data("kendoEditable");var f=b.parent().addClass("k-grid-edit-row");c.lockedContent&&B(f[0],c._relatedRow(f).addClass("k-grid-edit-row")[0]),c.trigger(mb,{container:b,model:e})}},_adjustLockedHorizontalScrollBar:function(){var a=this.content,b=a[0].offsetHeight-a[0].clientHeight>0?M.support.scrollbar():0;this.lockedContent.height(a.height()-b)},_syncLockedContentHeight:function(){this.lockedTable&&(this._adjustLockedHorizontalScrollBar(),this._adjustRowsHeight(this.table,this.lockedTable))},_syncLockedHeaderHeight:function(){this.lockedHeader&&this._adjustRowsHeight(this.lockedHeader.children("table"),this.thead.parent())},_syncLockedFooterHeight:function(){this.lockedFooter&&this.footer&&this.footer.length&&this._adjustRowsHeight(this.lockedFooter.children("table"),this.footer.find(".k-grid-footer-wrap > table"))},_destroyEditable:function(){var a=this,b=function(){a.editable&&(a._detachModelChange(),a.editable.destroy(),a.editable=null,a._editContainer=null,a._destroyEditView())};a.editable&&("popup"!==a._editMode()||a._isMobile?b():a._editContainer.data("kendoWindow").bind("deactivate",b).close()),a._actionSheet&&(a._actionSheet.destroy(),a._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(a){var b=this;b._modelChangeHandler=function(a){b._modelChange({field:a.field,model:this})},a.bind("change",b._modelChangeHandler)},_detachModelChange:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b);c&&c.unbind(sb,a._modelChangeHandler)},closeCell:function(b){var c,d,e,f,g=this,h=g._editContainer;h&&(c=h.closest("tr").attr(M.attr("uid")),f=g.dataSource.getByUid(c),b&&g.trigger("cancel",{container:h,model:f})||(h.removeClass("k-edit-cell"),d=g.columns[g.cellIndex(h)],e=h.parent().removeClass("k-grid-edit-row"),g._destroyEditable(),g._displayCell(h,d,f),h.hasClass("k-dirty-cell")&&a('<span class="k-dirty"/>').prependTo(h),g.lockedContent&&B(e.css("height","")[0],g._relatedRow(e).css("height","")[0])))},_displayCell:function(a,b,c){var d=this,e={storage:{},count:0},f=V({},M.Template,d.options.templateSettings),g=M.template(d._cellTmpl(b,e),f);e.count>0&&(g=_(g,e.storage)),a.empty().html(g(c))},removeRow:function(a){this._confirmation(a)&&this._removeRow(a)},_removeRow:function(b){var c,d=this,e=d._editMode();"incell"!==e&&d.cancelRow(),b=a(b).hide(),c=d._modelForContainer(b),c&&!d.trigger(ob,{row:b,model:c})?(d.dataSource.remove(c),("inline"===e||"popup"===e)&&d.dataSource.sync()):"incell"===e&&d._destroyEditable()},_editMode:function(){var a="incell",b=this.options.editable;return b!==!0&&(a="string"==typeof b?b:b.mode||a),a},editRow:function(b){var c,d=this;b instanceof M.data.ObservableObject?c=b:(b=a(b),c=d._modelForContainer(b));var e,f=d._editMode(),g=d.options.navigatable;d.cancelRow(),c&&(d._attachModelChange(c),"popup"===f?d._createPopupEditor(c):"inline"===f?d._createInlineEditor(b,c):"incell"===f&&a(b).children(fb).each(function(){var b=a(this),e=d.columns[b.index()];return c=d._modelForContainer(b),c&&(!c.editable||c.editable(e.field))&&e.field?(d.editCell(b),!1):void 0}),e=d.editView?d.editView.element:d._editContainer,e.on(Db+lb,"a.k-grid-cancel",function(b){if(b.preventDefault(),b.stopPropagation(),!d.trigger("cancel",{container:e,model:c})){var f=d.items().index(a(d.current()).parent());d.cancelRow(),g&&(d.current(d.items().eq(f).children().filter(ib).first()),D(d.table,!0))}}),e.on(Db+lb,"a.k-grid-update",function(a){a.preventDefault(),a.stopPropagation(),d.saveRow()}))},_createPopupEditor:function(b){var c,d,e,f,g,h,i,j,k,l=this,m="<div "+M.attr("uid")+'="'+b.uid+'" class="k-popup-edit-form'+(l._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',n=[],o=l.options.editable,p=o.template,q=U(o)?o.window:{},r=V({},M.Template,l.options.templateSettings);if(q=q||{},p)for(typeof p===Hb&&(p=window.unescape(p)),m+=M.template(p,r)(b),e=0,f=l.columns.length;f>e;e++)c=l.columns[e],c.command&&(j=C(c.command,"edit"),j&&(d=j));
else for(e=0,f=l.columns.length;f>e;e++)if(c=l.columns[e],c.command)c.command&&(j=C(c.command,"edit"),j&&(d=j));else if(m+='<div class="k-edit-label"><label for="'+c.field+'">'+(c.title||c.field||"")+"</label></div>",b.editable&&!b.editable(c.field)||!c.field){var s={storage:{},count:0};g=M.template(l._cellTmpl(c,s),r),s.count>0&&(g=_(g,s.storage)),m+='<div class="k-edit-field">'+g(b)+"</div>"}else n.push({field:c.field,format:c.format,editor:c.editor,values:c.values}),m+="<div "+M.attr("container-for")+'="'+c.field+'" class="k-edit-field"></div>';d&&U(d)&&(d.text&&U(d.text)&&(h=d.text.update,i=d.text.cancel),d.attr&&(k=d.attr));var t;l._isMobile?(m+="</div></div>",l.editView=l.pane.append("<div data-"+M.ns+'role="view" data-'+M.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+M.ns+'role="header" class="k-header">'+l._createButton({name:"update",text:h,attr:k})+(q.title||"Edit")+l._createButton({name:"canceledit",text:i,attr:k})+"</div>"+m+"</div>"),t=l._editContainer=l.editView.element.find(".k-popup-edit-form")):(m+='<div class="k-edit-buttons k-state-default">',m+=l._createButton({name:"update",text:h,attr:k})+l._createButton({name:"canceledit",text:i,attr:k}),m+="</div></div></div>",t=l._editContainer=a(m).appendTo(l.wrapper).eq(0).kendoWindow(V({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(c){if(c.userTriggered){if(c.sender.element.focus(),l.trigger("cancel",{container:t,model:b}))return void c.preventDefault();var d=l.items().index(a(l.current()).parent());l.cancelRow(),l.options.navigatable&&(l.current(l.items().eq(d).children().filter(ib).first()),D(l.table,!0))}}},q))),l.editable=l._editContainer.kendoEditable({fields:n,model:b,clearContainer:!1}).data("kendoEditable"),l._isMobile&&t.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){a(this).next().children("input").click()}),l._openPopUpEditor(),l.trigger(mb,{container:t,model:b})},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(b,c){var d,e,f,g=this,h=[];g.lockedContent&&(b=b.add(g._relatedRow(b))),b.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(e=a(this),d=g.columns[g.cellIndex(e)],d.command||!d.field||c.editable&&!c.editable(d.field)){if(d.command&&(f=C(d.command,"edit"))){e.empty();var b,i,j;U(f)&&(f.text&&U(f.text)&&(b=f.text.update,i=f.text.cancel),f.attr&&(j=f.attr)),a(g._createButton({name:"update",text:b,attr:j})+g._createButton({name:"canceledit",text:i,attr:j})).appendTo(e)}}else h.push({field:d.field,format:d.format,editor:d.editor,values:d.values}),e.attr(M.attr("container-for"),d.field),e.empty()}),g._editContainer=b,g.editable=new M.ui.Editable(b.addClass("k-grid-edit-row"),{fields:h,model:c,clearContainer:!1}),b.length>1&&(B(b[0],b[1]),g._applyLockedContainersWidth()),g.trigger(mb,{container:b,model:c})},cancelRow:function(){var a,b=this,c=b._editContainer;c&&(a=b._modelForContainer(c),b._destroyEditable(),b.dataSource.cancelChanges(a),b._displayRow("popup"!==b._editMode()?c:b.items().filter("["+M.attr("uid")+"="+a.uid+"]")))},saveRow:function(){var a=this,b=a._editContainer,c=a._modelForContainer(b),d=a.editable;b&&d&&d.end()&&!a.trigger(nb,{container:b,model:c})&&a.dataSource.sync()},_displayRow:function(b){var c,d,e=this,f=e._modelForContainer(b),g=b.hasClass("k-alt");f&&(e.lockedContent&&(c=a((g?e.lockedAltRowTemplate:e.lockedRowTemplate)(f)),e._relatedRow(b.last()).replaceWith(c)),d=a((g?e.altRowTemplate:e.rowTemplate)(f)),b.replaceWith(d),c&&B(d[0],c[0]))},_showMessage:function(b,c){var d=this;if(!d._isMobile)return window.confirm(b.title);var e=M.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'),f=a(e(b)).appendTo(d.view.element),g=d._actionSheet=new M.mobile.ui.ActionSheet(f,{cancel:b.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(b){var e=a(b.currentTarget).parent();e.hasClass("km-actionsheet-cancel")||d._removeRow(c)},popup:d._actionSheetPopupOptions});return g.open(c),!1},_confirmation:function(a){var b=this,c=b.options.editable,d=c===!0||typeof c===Hb?Ib:c.confirmation;return d!==!1&&null!=d?(typeof d===Gb&&(d=d(b._modelForContainer(a))),b._showMessage({confirmDelete:c.confirmDelete||Jb,cancelDelete:c.cancelDelete||Kb,title:d===!0?Ib:d},a)):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var a=this;(a.editable&&a.editable.end()||!a.editable)&&!a.trigger(vb)&&a.dataSource.sync()},addRow:function(){var a,b=this,c=b.dataSource,d=b._editMode(),e=b.options.editable.createAt||"",f=c.pageSize(),g=c.view()||[];if(b.editable&&b.editable.end()||!b.editable){"incell"!=d&&b.cancelRow(),a=c.indexOf(g[0]),"bottom"==e.toLowerCase()&&(a+=g.length,f&&!c.options.serverPaging&&f<=g.length&&(a-=1)),0>a&&(a=c.page()>c.totalPages()?(c.page()-1)*f:0);var h=c.insert(a,{}),i=h.uid,j=b.lockedContent?b.lockedTable:b.table,k=j.find("tr["+M.attr("uid")+"="+i+"]"),l=k.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(b._firstEditableColumnIndex(k));"inline"===d&&k.length?b.editRow(k):"popup"===d?b.editRow(h):l.length&&b.editCell(l)}},_firstEditableColumnIndex:function(a){var b,c,d,e=this,f=e.columns,g=e._modelForContainer(a);for(c=0,d=f.length;d>c;c++)if(b=f[c],g&&(!g.editable||g.editable(b.field))&&!b.command&&b.field)return c;return-1},_toolbar:function(){var b,c=this,d=c.wrapper,e=c.options.toolbar,f=c.options.editable;e&&(b=c.wrapper.find(".k-grid-toolbar"),b.length||(ab(e)||(e=typeof e===Hb?e:c._toolbarTmpl(e).replace(Mb,"\\#"),e=_(M.template(e),c)),b=a('<div class="k-toolbar k-grid-toolbar" />').html(e({})).prependTo(d)),f&&f.create!==!1&&b.on(Db+lb,".k-grid-add",function(a){a.preventDefault(),c.addRow()}).on(Db+lb,".k-grid-cancel-changes",function(a){a.preventDefault(),c.cancelChanges()}).on(Db+lb,".k-grid-save-changes",function(a){a.preventDefault(),c.saveChanges()}))},_toolbarTmpl:function(a){var b,c,d=this,e="";if(Y(a))for(b=0,c=a.length;c>b;b++)e+=d._createButton(a[b]);return e},_createButton:function(a){var b=a.template||Pb,c=typeof a===Hb?a:a.name||a.text,e=bc[c]?bc[c].className:"k-grid-"+(c||"").replace(/\s/g,""),f={className:e,text:c,imageClass:"",attr:"",iconClass:""};if(!(c||U(a)&&a.template))throw new Error("Custom commands should have name specified");return U(a)?(a.className&&(a.className+=" "+f.className),"edit"===c&&U(a.text)&&(a=V(!0,{},a),a.text=a.text.edit),a.attr&&U(a.attr)&&(a.attr=d(a.attr)),f=V(!0,f,bc[c],a)):f=V(!0,f,bc[c]),M.template(b)(f)},_hasFooters:function(){return!!this.footerTemplate||!!this.groupFooterTemplate||this.footer&&this.footer.length>0||this.wrapper.find(".k-grid-footer").length>0},_groupable:function(){var b=this;b._groupableClickHandler?b.table.off(Db+lb,b._groupableClickHandler):b._groupableClickHandler=function(c){var d=a(this),e=d.closest("tr");d.hasClass("k-i-collapse")?b.collapseGroup(e):b.expandGroup(e),c.preventDefault(),c.stopPropagation()},b._isLocked()?b.lockedTable.on(Db+lb,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",b._groupableClickHandler):b.table.on(Db+lb,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",b._groupableClickHandler),b._attachGroupable()},_attachGroupable:function(){var b=this,c=b.wrapper,d=b.options.groupable,e=kb+":visible["+M.attr("field")+"]",f=kb+"["+M.attr("field")+"]";d&&(c.has("div.k-grouping-header")[0]||a("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(c),b.groupable&&b.groupable.destroy(),b.groupable=new P(c,V({},d,{draggable:b._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:b.dataSource,draggableElements:b.content?".k-grid-header:first "+e:"table:first>.k-grid-header "+e,filter:b.content?".k-grid-header:first "+f:"table:first>.k-grid-header "+f,allowDrag:b.options.reorderable})))},_continuousItems:function(b,c){if(this.lockedContent){for(var d=this,e=d.table.add(d.lockedTable),f=a(b,e[0]),g=a(b,e[1]),h=c?m(d.columns).length:1,i=c?d.columns.length-h:1,j=[],k=0;k<f.length;k+=h)$.apply(j,f.slice(k,k+h)),$.apply(j,g.splice(0,i));return j}},_selectable:function(){var b,c,d=this,e=[],f=d.options.selectable;if(f){b=typeof f===Hb&&f.toLowerCase().indexOf("multiple")>-1,c=typeof f===Hb&&f.toLowerCase().indexOf("cell")>-1,d._hasDetails()&&(e[e.length]=".k-detail-row"),(d.options.groupable||d._hasFooters())&&(e[e.length]=".k-grouping-row,.k-group-footer"),e=e.join(","),""!==e&&(e=":not("+e+")");var g=d.table;d.lockedContent&&(g=g.add(d.lockedTable));var h=">"+(c?gb:"tbody>tr"+e);d.selectable=new M.ui.Selectable(g,{filter:h,aria:!0,multiple:b,change:function(){d.trigger(sb)},useAllItems:d.lockedContent&&b&&c,relatedTarget:function(b){if(!c&&d.lockedContent){for(var e,f=a(),g=0,h=b.length;h>g;g++)e=d._relatedRow(b[g]),Z(e[0],b)<0&&(f=f.add(e));return f}},continuousItems:function(){return d._continuousItems(h,c)}}),d.options.navigatable&&d.table.on("keydown"+lb,function(a){var e=d.current();if(a.keyCode===T.SPACEBAR&&a.target==d.table[0]&&!e.is(".k-edit-cell,.k-header")&&e.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(a.preventDefault(),a.stopPropagation(),e=c?e:e.parent(),b)if(a.ctrlKey){if(e.hasClass(Ab))return e.removeClass(Ab),void d.trigger(sb)}else d.selectable.clear();else d.selectable.clear();d.selectable.value(e)}})}},_relatedRow:function(b){var c=this.lockedTable;if(b=a(b),!c)return b;var d=b.closest(this.table.add(this.lockedTable)),e=d.find(">tbody>tr").index(b);return d=d[0]===this.table[0]?c:this.table,d.find(">tbody>tr").eq(e)},clearSelection:function(){var a=this;a.selectable.clear(),a.trigger(sb)},select:function(b){var c=this,d=c.selectable;return b=a(b),b.length?(d.options.multiple||(d.clear(),b=b.first()),void d.value(b)):d.value()},current:function(a){var c=this,d=c.options.scrollable,e=c._current,f=c.table.add(c.thead.parent());if(a!==b&&a.length&&(!e||e[0]!==a[0])&&(e&&(e.removeClass(zb).removeAttr("id"),f.removeAttr("aria-activedescendant")),a.attr("id",c._cellId),c._current=a.addClass(zb),f.attr("aria-activedescendant",c._cellId),a.length&&d)){var g=a.closest("table").parent();g.is(".k-grid-content,.k-grid-content-locked")&&c._scrollTo(a.parent()[0],c.content[0]),g.is(".k-grid-content-locked,.k-grid-header-locked")||(d.virtual?c._scrollTo(a[0],c.content.find(">.k-virtual-scrollable-wrap")[0]):c._scrollTo(a[0],c.content[0]))}return c._current},_removeCurrent:function(){this._current&&(this._current.removeClass(zb),this._current=null)},_scrollTo:function(a,b){var c=a.tagName.toLowerCase(),d="td"===c||"th"===c,e=a[d?"offsetLeft":"offsetTop"],f=a[d?"offsetWidth":"offsetHeight"],g=b[d?"scrollLeft":"scrollTop"],h=b[d?"clientWidth":"clientHeight"],i=e+f,j=0;j=g>e?e:i>g+h?h>=f?i-h:e:g,b[d?"scrollLeft":"scrollTop"]=j},_navigatable:function(){var b=this,c=_(b.current,b),d=b.table.add(b.lockedTable),e=b.thead.parent().add(a(">table",b.lockedHeader)),f=(b._isLocked(),d),g=M.support.isRtl(b.element);b.options.navigatable&&(b.options.scrollable&&(f=d.add(e),e.attr(Fb,-1)),e.on("keydown"+lb,function(a){a.altKey&&a.keyCode==T.DOWN&&(c().find(".k-grid-filter, .k-header-column-menu").click(),a.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),d.attr(Fb,cb.max(d.attr(Fb)||0,0)).on("mousedown"+lb+" keydown"+lb,".k-detail-cell",function(a){a.target!==a.currentTarget&&a.stopImmediatePropagation()}),f.on(M.support.touch?"touchstart"+lb:"mousedown"+lb,hb+">"+ib,_(E,b)).on("focus"+lb,function(){if(!M.support.touch){var b=c();b&&b.is(":visible")?b.addClass(zb):c(a(this).find(jb)),d.attr(Fb,-1),e.attr(Fb,-1),a(this).attr(Fb,0)}}).on("focusout"+lb,function(){var a=c();a&&a.removeClass(zb)}).on("keydown"+lb,function(f){var h,i,j=f.keyCode,k=!1,l=!f.isDefaultPrevented()&&!a(f.target).is(":button,a,:input,a>.k-icon"),m=b.options.pageable,n=b.dataSource,o="incell"==b._editMode(),p=f.shiftKey,q=_(b._relatedRow,b),r=c();if(r&&r.is("th")&&(l=!0),l&&j==T.UP)c(G(r,f.currentTarget,d,e,!0)),k=!0;else if(l&&j==T.DOWN)c(G(r,f.currentTarget,d,e)),k=!0;else if(l&&j==(g?T.RIGHT:T.LEFT))c(H(r,f.currentTarget,d,e,q)),k=!0;else if(l&&j==(g?T.LEFT:T.RIGHT))c(I(r,f.currentTarget,d,e,q)),k=!0;else if(l&&m&&T.PAGEDOWN==j)n.page(n.page()+1),k=!0;else if(l&&m&&T.PAGEUP==j)n.page(n.page()-1),k=!0;else if(j==T.ENTER||T.F2==j)if(r=r?r:d.find(jb),r.is("th"))r.find(".k-link").click(),k=!0;else if(r.parent().is(".k-master-row,.k-grouping-row"))r.parent().find(".k-icon:first").click(),k=!0;else{var s=r.find(":kendoFocusable:first");if(!r.hasClass("k-edit-cell")&&s[0]&&r.hasClass("k-state-focused"))s.focus(),k=!0;else if(b.options.editable&&!a(f.target).is(":button,.k-button,textarea")){var t=a(f.target).closest("[role=gridcell]");t[0]||(t=r),b._handleEditing(t,!1,o?f.currentTarget:d[0]),k=!0}}else if(T.ESC==j)h=R(),r&&a.contains(r[0],h)&&!r.hasClass("k-edit-cell")&&!r.parent().hasClass("k-grid-edit-row")?(D(f.currentTarget,!0),k=!0):!b._editContainer||r&&!b._editContainer.has(r[0])&&r[0]!==b._editContainer[0]||(o?b.closeCell(!0):(i=a(r).parent().index(),h&&h.blur(),b.cancelRow(),i>=0&&b.current(d.find(">tbody>tr").eq(i).children().filter(ib).first())),Zb.msie&&Zb.version<9&&document.body.focus(),D(o?f.currentTarget:d[0],!0),k=!0);else if(T.TAB==j){var u;r=a(r),b.options.editable&&o&&(u=a(R()).closest(".k-edit-cell"),u[0]&&u[0]!==r[0]&&(r=u)),u=J(r,f.currentTarget,d,q,p),!r.is("th")&&u.length&&b.options.editable&&o&&(b._handleEditing(r,u,u.closest(d)),k=!0)}k&&(f.preventDefault(),f.stopPropagation())}))},_handleEditing:function(b,c,d){var e,f,g=this,h=a(R()),i=g._editMode(),j=Zb.msie,k=j&&Zb.version<9,l=g._editContainer;if(d=a(d),f="incell"==i?b.hasClass("k-edit-cell"):b.parent().hasClass("k-grid-edit-row"),g.editable){if(a.contains(l[0],h[0])&&(Zb.opera||k?h.change().triggerHandler("blur"):(h.blur(),j&&h.blur())),!g.editable)return void D(d);if(!g.editable.end())return g.current("incell"==i?l:l.children().filter(fb).first()),e=l.find(":kendoFocusable:first")[0],void(e&&e.focus());"incell"==i?g.closeCell():(g.saveRow(),f=!0)}c&&g.current(c),k&&document.body.focus(),D(d,!0),(!f&&!c||c)&&("incell"==i?g.editCell(g.current()):g.editRow(g.current().parent()))},_wrapper:function(){var a=this,b=a.table,c=a.options.height,d=a.element;d.is("div")||(d=d.wrap("<div/>").parent()),a.wrapper=d.addClass("k-grid k-widget"),c&&(a.wrapper.css(Eb,c),b.css(Eb,"auto")),a._initMobile()},_initMobile:function(){var b=this.options,c=this;if(this._isMobile=b.mobile===!0&&M.support.mobileOS||"phone"===b.mobile||"tablet"===b.mobile,this._isMobile){var d=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+M.ns+'role="view" data-'+M.ns+'init-widgets="false"></div>').parent();this.pane=M.mobile.ui.Pane.wrap(d),this.view=this.pane.view(),this._actionSheetPopupOptions=a(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},b.height&&this.pane.element.parent().css(Eb,b.height),this._editAnimation="slide",this.view.bind("show",function(){c._isLocked()&&(c._updateTablesWidth(),c._applyLockedContainersWidth(),c._syncLockedContentHeight(),c._syncLockedHeaderHeight(),c._syncLockedFooterHeight())})}},_tbody:function(){var b,c=this,d=c.table;b=d.find(">tbody"),b.length||(b=a("<tbody/>").appendTo(d)),c.tbody=b.attr("role","rowgroup")},_scrollable:function(){var b,c,d=this,e=d.options,f=e.scrollable,g=f!==!0&&f.virtual&&!d.virtualScrollable,h=!M.support.kineticScrollNeeded||g?M.support.scrollbar():0;if(f){b=d.wrapper.children(".k-grid-header"),b[0]||(b=a('<div class="k-grid-header" />').insertBefore(d.table)),b.css(Yb?"padding-left":"padding-right",f.virtual?h+1:h),c=a('<table role="grid" />'),$b&&c.attr("cellspacing",0),c.append(d.thead),b.empty().append(a('<div class="k-grid-header-wrap" />').append(c)),d.content=d.table.parent(),d.content.is(".k-virtual-scrollable-wrap")&&(d.content=d.content.parent()),d.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(d.content=d.table.wrap('<div class="k-grid-content" />').parent()),g&&(d.virtualScrollable=new ac(d.content,{dataSource:d.dataSource,itemHeight:function(){return d._averageRowHeight()}})),d.scrollables=b.children(".k-grid-header-wrap");var i=d.wrapper.find(".k-grid-footer"),j=Yb&&Zb.webkit?h:0;if(i.length&&(d.scrollables=d.scrollables.add(i.children(".k-grid-footer-wrap"))),f.virtual)d.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+lb,function(){d.scrollables.scrollLeft(this.scrollLeft+j),d.lockedContent&&(d.lockedContent[0].scrollTop=this.scrollTop)});else{d.content.bind("scroll"+lb,function(){d.scrollables.scrollLeft(this.scrollLeft+j),d.lockedContent&&(d.lockedContent[0].scrollTop=this.scrollTop)});var k=M.touchScroller(d.content);k&&k.movable&&k.movable.bind("change",function(a){d.scrollables.scrollLeft(-a.sender.x),d.lockedContent&&d.lockedContent.scrollTop(-a.sender.y)})}}},_setContentWidth:function(){var b,c=this,d="k-grid-content-expander",e='<div class="'+d+'"></div>',f=c.resizable;c.options.scrollable&&c.wrapper.is(":visible")&&(b=c.table.parent().children("."+d),c._setContentWidthHandler=_(c._setContentWidth,c),c.dataSource&&c.dataSource.view().length?b[0]&&(b.remove(),f&&f.unbind("resize",c._setContentWidthHandler)):(b[0]||(b=a(e).appendTo(c.table.parent()),f&&f.bind("resize",c._setContentWidthHandler)),c.thead&&b.width(c.thead.width())),c._applyLockedContainersWidth())},_applyLockedContainersWidth:function(){if(this.options.scrollable&&this.lockedHeader){var a,b=this.thead.parent(),c=b.parent(),d=this.wrapper[0].clientWidth,e=this._groups(),f=M.support.scrollbar(),g=this.lockedHeader.find(">table>colgroup>col:not(.k-group-col, .k-hierarchy-col)"),h=b.find(">colgroup>col:not(.k-group-col, .k-hierarchy-col)"),i=l(g),j=l(h);e>0&&(i+=this.lockedHeader.find(".k-group-cell:first").outerWidth()*e),i>=d&&(i=d-3*f),this.lockedHeader.add(this.lockedContent).width(i),c[0].style.width=c.parent().width()-i-2+"px",b.add(this.table).width(j),this.virtualScrollable&&(d-=f),this.content[0].style.width=d-i-2+"px",this.lockedFooter&&this.lockedFooter.length&&(this.lockedFooter.width(i),a=this.footer.find(".k-grid-footer-wrap"),a[0].style.width=c[0].clientWidth+"px",a.children().first().width(j))}},_setContentHeight:function(){var a=this,b=a.options,c=a.wrapper.innerHeight(),d=a.wrapper.children(".k-grid-header"),e=M.support.scrollbar();if(b.scrollable&&a.wrapper.is(":visible")){c-=d.outerHeight(),a.pager&&(c-=a.pager.element.outerHeight()),b.groupable&&(c-=a.wrapper.children(".k-grouping-header").outerHeight()),b.toolbar&&(c-=a.wrapper.children(".k-grid-toolbar").outerHeight()),a.footerTemplate&&(c-=a.wrapper.children(".k-grid-footer").outerHeight());var f=function(a){var b,c;return a[0].style.height?!0:(b=a.height(),a.height("auto"),c=a.height(),b!=c?(a.height(""),!0):(a.height(""),!1))};f(a.wrapper)&&(c>2*e?(a.lockedContent&&a.lockedContent.height(c-(a.content[0].offsetHeight-a.content[0].clientHeight>0?e:0)),a.content.height(c)):a.content.height(2*e+1))}},_averageRowHeight:function(){var a=this,b=a._rowHeight;a._rowHeight||(a._rowHeight=b=a.table.outerHeight()/a.items().length,a._sum=b,a._measures=1);var c=a.table.outerHeight()/a.items().length;return b!==c&&(a._measures++,a._sum+=c,a._rowHeight=a._sum/a._measures),b},_dataSource:function(){var a,c=this,d=c.options,e=d.dataSource;e=Y(e)?{data:e}:e,U(e)&&(V(e,{table:c.table,fields:c.columns}),a=d.pageable,U(a)&&a.pageSize!==b&&(e.pageSize=a.pageSize)),c.dataSource&&c._refreshHandler?c.dataSource.unbind(sb,c._refreshHandler).unbind(db,c._progressHandler).unbind(eb,c._errorHandler):(c._refreshHandler=_(c.refresh,c),c._progressHandler=_(c._requestStart,c),c._errorHandler=_(c._error,c)),c.dataSource=O.create(e).bind(sb,c._refreshHandler).bind(db,c._progressHandler).bind(eb,c._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(b){var c,d,e,f,g=this,h=b.model,i=g.tbody.find("tr["+M.attr("uid")+"="+h.uid+"]"),j=i.hasClass("k-alt"),k=g.items().index(i);if(i.children(".k-edit-cell").length&&!g.options.rowTemplate)i.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){c=a(this),d=g.columns[g.cellIndex(c)],d.field===b.field&&(c.hasClass("k-edit-cell")?c.addClass("k-dirty-cell"):(g._displayCell(c,d,h),a('<span class="k-dirty"/>').prependTo(c)))});else if(!i.hasClass("k-grid-edit-row")){if(g.lockedContent&&(e=(j?g.lockedAltRowTemplate:g.lockedRowTemplate)(h),g._relatedRow(i).replaceWith(e)),e=(j?g.altRowTemplate:g.rowTemplate)(h),i.replaceWith(e),e=g.items().eq(k),g.lockedContent){var l=g._relatedRow(e)[0];B(e[0],l),e=e.add(l)}for(k=0,f=g.columns.length;f>k;k++)d=g.columns[k],d.field===b.field&&(c=e.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(k),a('<span class="k-dirty"/>').prependTo(c));g.trigger("itemChange",{item:e,data:h,ns:N})}},_pageable:function(){var b,c=this,d=c.options.pageable;d&&(b=c.wrapper.children("div.k-grid-pager"),b.length||(b=a('<div class="k-pager-wrap k-grid-pager"/>').appendTo(c.wrapper)),c.pager&&c.pager.destroy(),c.pager="object"==typeof d&&d instanceof M.ui.Pager?d:new M.ui.Pager(b,V({},d,{dataSource:c.dataSource})))},_footer:function(){var b,c=this,d=c.dataSource.aggregates(),e="",f=c.footerTemplate,h=c.options,i=c.footer||c.wrapper.find(".k-grid-footer");if(f)if(d=bb(d)?g(c.dataSource.aggregate()):d,e=a(c._wrapFooter(f(d))),i.length){var j=e;i.replaceWith(j),i=c.footer=j}else i=c.footer=h.scrollable?h.pageable?e.insertBefore(c.wrapper.children("div.k-grid-pager")):e.appendTo(c.wrapper):e.insertBefore(c.tbody);else i&&!c.footer&&(c.footer=i);if(i.length&&(h.scrollable&&(b=i.attr("tabindex",-1).children(".k-grid-footer-wrap"),c.scrollables=c.scrollables.filter(function(){return!a(this).is(".k-grid-footer-wrap")}).add(b)),c._footerWidth&&i.find("table").css("width",c._footerWidth),b)){var k=c.content.scrollLeft(),l=h.scrollable!==!0&&h.scrollable.virtual&&!c.virtualScrollable;l&&(k=c.wrapper.find(".k-virtual-scrollable-wrap").scrollLeft()),b.scrollLeft(k)}c.lockedContent&&(c._appendLockedColumnFooter(),c._applyLockedContainersWidth(),c._syncLockedFooterHeight())},_wrapFooter:function(b){var c=this,d="",e=M.support.mobileOS?0:M.support.scrollbar();return c.options.scrollable?(d=a('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+($b?' cellspacing="0"':"")+"><tbody>"+b+"</tbody></table></div></div>"),c._appendCols(d.find("table")),d.css(Yb?"padding-left":"padding-right",e),d):'<tfoot class="k-grid-footer">'+b+"</tfoot>"},_columnMenu:function(){var a,b,c,d,e,f,g=this,h=g.columns,i=g.options,j=i.columnMenu,k=this._isMobile,l=function(a){g.trigger(rb,{field:a.field,container:a.container})},n=function(a){D(a.closest("table"),!0)};if(j){"boolean"==typeof j&&(j={}),f=g.thead.find("th:not(.k-hierarchy-cell):not(.k-group-cell)");for(var o=0,p=f.length;p>o;o++){b=h[o];var q=f.eq(o);b.command||!b.field&&!q.attr("data-"+M.ns+"field")||(a=q.data("kendoColumnMenu"),a&&a.destroy(),d=b.sortable!==!1&&j.sortable!==!1?i.sortable:!1,e=i.filterable&&b.filterable!==!1&&j.filterable!==!1?V({pane:g.pane},b.filterable,i.filterable):!1,c={dataSource:g.dataSource,values:b.values,columns:j.columns,sortable:d,filterable:e,messages:j.messages,owner:g,closeCallback:n,init:l,pane:g.pane,filter:k?":not(.k-column-active)":"",lockedColumns:b.lockable!==!1&&m(h).length>0},q.kendoColumnMenu(c))}}},_headerCells:function(){return this.thead.find("th").filter(function(){var b=a(this);return!b.hasClass("k-group-cell")&&!b.hasClass("k-hierarchy-cell")})},_filterable:function(){var a,b,c,d=this,e=d.columns,f=function(a){d.trigger(qb,{field:a.field,container:a.container})},g=function(a){D(a.closest("table"),!0)},h=d.options.filterable;if(h&&!d.options.columnMenu){b=d._headerCells();for(var i=0,j=b.length;j>i;i++)if(c=b.eq(i),e[i].filterable!==!1&&!e[i].command&&(e[i].field||c.attr("data-"+M.ns+"field"))){a=c.data("kendoFilterMenu"),a&&a.destroy();var k=e[i].filterable,l=V({},h,k,{dataSource:d.dataSource,values:e[i].values,closeCallback:g,init:f,pane:d.pane});k&&k.messages&&(l.messages=V(!0,{},h.messages,k.messages)),c.kendoFilterMenu(l)}}},_sortable:function(){var a,b,c,d=this,e=d.columns,f=d.options.sortable;if(f){for(var g=d._headerCells(),h=0,i=g.length;i>h;h++)a=e[h],a.sortable!==!1&&!a.command&&a.field&&(c=g.eq(h),b=c.data("kendoSorter"),b&&b.destroy(),c.attr("data-"+M.ns+"field",a.field).kendoSorter(V({},f,a.sortable,{dataSource:d.dataSource,aria:!0,filter:":not(.k-column-active)"})));g=null}},_columns:function(b){var c,d,e=this,f=e.table,g=f.find("col"),h=e.options.dataSource;if(b=b.length?b:W(f.find("th"),function(b,c){b=a(b);var d=b.attr(M.attr("sortable")),e=b.attr(M.attr("filterable")),f=b.attr(M.attr("type")),h=b.attr(M.attr("groupable")),i=b.attr(M.attr("field")),j=b.attr(M.attr("menu"));return i||(i=b.text().replace(/\s|[^A-z0-9]/g,"")),{field:i,type:f,sortable:"false"!==d,filterable:"false"!==e,groupable:"false"!==h,menu:j,template:b.attr(M.attr("template")),width:g.eq(c).css("width")}}),c=!(e.table.find("tbody tr").length>0&&(!h||!h.transport)),e.options.scrollable){if(d=m(b),b=n(b),d.length>0&&0===b.length)throw new Error("There should be at least one non locked columns");b=d.concat(b)}e.columns=W(b,function(a){return a=typeof a===Hb?{field:a}:a,a.hidden&&(a.attributes=r(a.attributes),a.footerAttributes=r(a.footerAttributes),a.headerAttributes=r(a.headerAttributes)),V({encoded:c},a)})},_groups:function(){var a=this.dataSource.group();return a?a.length:0},_tmpl:function(a,b,e,f){var g,h,i,j,k=this,l=V({},M.Template,k.options.templateSettings),m=b.length,n={storage:{},count:0},o=k._hasDetails(),p=[],q=k._groups();if(!a){for(a="<tr",e&&p.push("k-alt"),o&&p.push("k-master-row"),p.length&&(a+=' class="'+p.join(" ")+'"'),m&&(a+=" "+M.attr("uid")+'="#='+M.expr("uid",l.paramName)+'#"'),a+=" role='row'>",q>0&&!f&&(a+=c(q)),o&&(a+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),g=0;m>g;g++)i=b[g],h=i.template,j=typeof h,a+="<td"+d(i.attributes)+" role='gridcell'>",a+=k._cellTmpl(i,n),a+="</td>";a+="</tr>"}return a=M.template(a,l),n.count>0?_(a,n.storage):a},_headerCellText:function(a){var b=this,c=V({},M.Template,b.options.templateSettings),d=a.headerTemplate,e=typeof d,f=a.title||a.field||"";return e===Gb?f=M.template(d,c)({}):e===Hb&&(f=d),f},_cellTmpl:function(a,b){var c,d,e=this,f=V({},M.Template,e.options.templateSettings),g=a.template,h=f.paramName,i=a.field,j="",k=a.format,l=typeof g,m=a.values;if(a.command){if(Y(a.command)){for(c=0,d=a.command.length;d>c;c++)j+=e._createButton(a.command[c]);return j.replace(Mb,"\\#")}return e._createButton(a.command).replace(Mb,"\\#")}return l===Gb?(b.storage["tmpl"+b.count]=g,j+="#=this.tmpl"+b.count+"("+h+")#",b.count++):l===Hb?j+=g:m&&m.length&&U(m[0])&&"value"in m[0]&&i?(j+="#var v ="+M.stringify(u(m))+"#",j+="#var f = v[",f.useWithBlock||(j+=h+"."),j+=i+"]#",j+="${f != null ? f : ''}"):(j+=a.encoded?"#:":"#=",k&&(j+='kendo.format("'+k.replace(Lb,"\\$1")+'",'),i?(i=M.expr(i,h),j+=i+"==null?'':"+i):j+="''",k&&(j+=")"),j+="#"),j},_templates:function(){var b=this,c=b.options,d=b.dataSource,e=d.group(),f=b.footer||b.wrapper.find(".k-grid-footer"),g=d.aggregate(),h=m(b.columns),i=c.scrollable?n(b.columns):b.columns;if(c.scrollable&&h.length){if(c.rowTemplate||c.altRowTemplate)throw new Error("Having both row template and locked columns is not supported");b.rowTemplate=b._tmpl(c.rowTemplate,i,!1,!0),b.altRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,i,!0,!0),b.lockedRowTemplate=b._tmpl(c.rowTemplate,h),b.lockedAltRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,h,!0)}else b.rowTemplate=b._tmpl(c.rowTemplate,i),b.altRowTemplate=b._tmpl(c.altRowTemplate||c.rowTemplate,i,!0);b._hasDetails()&&(b.detailTemplate=b._detailTmpl(c.detailTemplate||"")),(b._group&&!bb(g)||!bb(g)&&!f.length||X(b.columns,function(a){return a.footerTemplate}).length)&&(b.footerTemplate=b._footerTmpl(b.columns,g,"footerTemplate","k-footer-template")),e&&X(b.columns,function(a){return a.groupFooterTemplate}).length&&(g=a.map(e,function(a){return a.aggregates}),b.groupFooterTemplate=b._footerTmpl(i,g,"groupFooterTemplate","k-group-footer",h.length),c.scrollable&&h.length&&(b.lockedGroupFooterTemplate=b._footerTmpl(h,g,"groupFooterTemplate","k-group-footer")))},_footerTmpl:function(a,b,e,f,h){var i,j,k,l,m,n=this,o=V({},M.Template,n.options.templateSettings),p=o.paramName,q="",r={},s=0,t={},u=n._groups(),v=g(b);for(q+='<tr class="'+f+'">',u>0&&!h&&(q+=c(u)),n._hasDetails()&&(q+='<td class="k-hierarchy-cell">&nbsp;</td>'),i=0,j=a.length;j>i;i++)m=a[i],k=m[e],l=typeof k,q+="<td"+d(m.footerAttributes)+">",k?(l!==Gb&&(t=v[m.field]?V({},o,{paramName:p+"."+m.field}):{},k=M.template(k,t)),r["tmpl"+s]=k,q+="#=this.tmpl"+s+"("+p+")#",s++):q+="&nbsp;",q+="</td>";return q+="</tr>",q=M.template(q,o),s>0?_(q,r):q},_detailTmpl:function(a){var b=this,d="",e=V({},M.Template,b.options.templateSettings),f=e.paramName,g={},h=0,i=b._groups(),j=k(b.columns).length,l=typeof a;return d+='<tr class="k-detail-row">',i>0&&(d+=c(i)),d+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(j?' colspan="'+j+'"':"")+">",l===Gb?(g["tmpl"+h]=a,d+="#=this.tmpl"+h+"("+f+")#",h++):d+=a,d+="</td></tr>",d=M.template(d,e),h>0?_(d,g):d},_hasDetails:function(){var a=this;return null!==a.options.detailTemplate||(a._events[pb]||[]).length},_details:function(){var b=this;if(b.options.scrollable&&b._hasDetails()&&m(b.columns).length)throw new Error("Having both detail template and locked columns is not supported");b.table.on(Db+lb,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(c){var d,e,f=a(this),g=f.hasClass("k-plus"),h=f.closest("tr.k-master-row"),i=b.detailTemplate,j=b._hasDetails();return f.toggleClass("k-plus",!g).toggleClass("k-minus",g),j&&!h.next().hasClass("k-detail-row")&&(e=b.dataItem(h),a(i(e)).addClass(h.hasClass("k-alt")?"k-alt":"").insertAfter(h),b.trigger(pb,{masterRow:h,detailRow:h.next(),data:e,detailCell:h.next().find(".k-detail-cell")})),d=h.next(),b.trigger(g?xb:yb,{masterRow:h,detailRow:d}),d.toggle(g),b._current&&b._current.attr("aria-expanded",g),c.preventDefault(),!1})},dataItem:function(b){if(b=a(b)[0],!b)return null;var c,d,e=this.tbody.children(),f=/k-grouping-row|k-detail-row|k-group-footer/,g=b.sectionRowIndex;for(d=g,c=0;g>c;c++)f.test(e[c].className)&&d--;return this._data[d]},expandRow:function(b){a(b).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(b){a(b).find("> td .k-minus, > td .k-i-collapse").click()},_createHeaderCells:function(a){var c,e,f,g,h=this,i="";for(c=0,g=a.length;g>c;c++)e=a[c],f=h._headerCellText(e),e.command?i+="<th"+d(e.headerAttributes)+">"+f+"</th>":(i+="<th role='columnheader' "+M.attr("field")+"='"+(e.field||"")+"' ",e.title&&(i+=M.attr("title")+'="'+e.title.replace(/'/g,"'")+'" '),e.groupable!==b&&(i+=M.attr("groupable")+"='"+e.groupable+"' "),e.aggregates&&(i+=M.attr("aggregates")+"='"+e.aggregates+"'"),i+=d(e.headerAttributes),i+=">"+f+"</th>");return i},_appendLockedColumnContent:function(){var b,c,d,e=this.columns,f=this.table.find("col:not(.k-group-col,.k-hierarchy-col)"),g=a();for(b=0,c=e.length;c>b;b++)e[b].locked&&!e[b].hidden&&(g=g.add(f.eq(b)));d=a('<div class="k-grid-content-locked"><table'+($b?' cellspacing="0"':"")+"><colgroup/><tbody></tbody></table></div>"),f=d.find("colgroup"),f.append(g),this.lockedContent=d.insertBefore(this.content),this.lockedTable=d.children("table")},_appendLockedColumnFooter:function(){var b,c,d=this,e=d.footer,f=e.find(".k-footer-template>td"),g=e.find(".k-grid-footer-wrap>table>colgroup>col"),h=a('<div class="k-grid-footer-locked"><table><colgroup /><tbody><tr class="k-footer-template"></tr></tbody></table></div>'),i=d._groups(),j=a(),k=a();for(j=j.add(f.filter(".k-group-cell")),b=0,c=m(d.columns).length;c>b;b++)j=j.add(f.eq(b+i));for(k=k.add(g.filter(".k-group-col")),b=0,c=p(d.columns).length;c>b;b++)k=k.add(g.eq(b+i));
j.appendTo(h.find("tr")),k.appendTo(h.find("colgroup")),d.lockedFooter=h.prependTo(e)},_appendLockedColumnHeader:function(b){var c,d,e,f,g,h,i,j=this,k=this.columns,l=0,m=a(),n=a();for(f=j.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),i=j.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),c=0,e=k.length;e>c;c++)k[c].locked&&(k[c].hidden||(m=m.add(f.eq(c-l))),n=n.add(i.eq(c))),k[c].hidden&&l++;n.length&&(d='<div class="k-grid-header-locked" style="width:1px"><table'+($b?' cellspacing="0"':"")+"><colgroup/><thead><tr></tr></thead></table></div>",h=a(d),f=h.find("colgroup"),g=h.find("thead tr"),f.append(m),g.append(n),this.lockedHeader=h.prependTo(b),this._syncLockedHeaderHeight())},_removeLockedContainers:function(){var a=this.lockedHeader.add(this.lockedContent).add(this.lockedFooter);a.off(lb).remove(),this.lockedHeader=this.lockedContent=this.lockedFooter=null},_thead:function(){var b,c=this,d=c.columns,e=c._hasDetails()&&d.length,f="",g=c.table.find(">thead");g.length||(g=a("<thead/>").insertBefore(c.tbody)),c.lockedHeader&&c.thead?(b=c.thead.find("tr:has(th):first").html(""),c._removeLockedContainers()):b=c.element.find("tr:has(th):first"),b.length||(b=g.children().first(),b.length||(b=a("<tr/>"))),b.children().length?e&&!b.find(".k-hierarchy-cell")[0]&&b.prepend('<th class="k-hierarchy-cell">&nbsp;</th>'):(e&&(f+='<th class="k-hierarchy-cell">&nbsp;</th>'),f+=c._createHeaderCells(c.columns),b.html(f)),b.attr("role","row").find("th").addClass("k-header"),c.options.scrollable||g.addClass("k-grid-header"),b.find("script").remove().end().appendTo(g),c.thead&&c._destroyColumnAttachments(),c.thead=g.attr("role","rowgroup"),c._sortable(),c._filterable(),c._scrollable(),c._updateCols(),c._columnMenu(),this.options.scrollable&&m(this.columns).length&&(c._appendLockedColumnHeader(c.thead.closest(".k-grid-header")),c._appendLockedColumnContent(),c._applyLockedContainersWidth()),c._resizable(),c._draggable(),c._reorderable(),c.groupable&&c._attachGroupable()},_isLocked:function(){return null!=this.lockedHeader},_updateCols:function(a){a=a||this.thead.parent().add(this.table),this._appendCols(a,this._isLocked())},_updateLockedCols:function(a){this._isLocked()&&(a=a||this.lockedHeader.find("table").add(this.lockedTable),t(a,p(this.columns),this._hasDetails(),this._groups()))},_appendCols:function(a,b){b?t(a,o(this.columns),this._hasDetails(),0):t(a,k(this.columns),this._hasDetails(),this._groups())},_autoColumns:function(a){if(a&&a.toJSON){var b,c=this;a=a.toJSON();for(b in a)c.columns.push({field:b});c._thead(),c._templates()}},_rowsHtml:function(a,b){var c,d,e=this,f="",g=b.rowTemplate,h=b.altRowTemplate;for(c=0,d=a.length;d>c;c++)f+=c%2?h(a[c]):g(a[c]),e._data.push(a[c]);return f},_groupRowHtml:function(a,b,c,d,e,f){var g,h,i=this,j="",k=a.field,l=X(i.columns,function(a){return a.field==k})[0]||{},m=l.groupHeaderTemplate,n=(l.title||k)+": "+v(a.value,l.format,l.values),o=V({},{field:a.field,value:a.value},a.aggregates[a.field]),p=i._groupAggregatesDefaultObject||{},q=(e.rowTemplate,e.altRowTemplate,e.groupFooterTemplate),r=a.items;if(m&&(n=typeof m===Gb?m(o):M.template(m)(o)),j+=d(b,c,n),a.hasSubgroups)for(g=0,h=r.length;h>g;g++)j+=i._groupRowHtml(r[g],f?b:b-1,c+1,d,e,f);else j+=i._rowsHtml(r,e);return q&&(j+=q(V(p,a.aggregates))),j},collapseGroup:function(b){b=a(b);var c,d,e,f,g,h=1,i=a();for(this._isLocked()&&(b.closest("div").hasClass("k-grid-content-locked")?i=this.tbody.children("tr:eq("+b.index()+")").nextAll("tr"):(i=b.nextAll("tr"),b=this.lockedTable.find(">tbody>tr:eq("+b.index()+")"))),c=b.find(".k-group-cell").length,b.find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse"),b.find("td:first").attr("aria-expanded",!1),b=b.nextAll("tr"),e=0,f=b.length;f>e&&(g=b.eq(e),d=g.find(".k-group-cell").length,g.hasClass("k-grouping-row")?h++:g.hasClass("k-group-footer")&&h--,!(c>=d||g.hasClass("k-group-footer")&&0>h));e++)g.hide(),i.eq(e).hide()},expandGroup:function(b){b=a(b);var c,d,e,f,g,h=this,i=a(),j=1;for(this._isLocked()&&(b.closest("div").hasClass("k-grid-content-locked")?i=this.tbody.children("tr:eq("+b.index()+")").nextAll("tr"):(i=b.nextAll("tr"),b=this.lockedTable.find(">tbody>tr:eq("+b.index()+")"))),c=b.find(".k-group-cell").length,b.find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand"),b.find("td:first").attr("aria-expanded",!0),b=b.nextAll("tr"),f=0,g=b.length;g>f&&(d=b.eq(f),e=d.find(".k-group-cell").length,!(c>=e));f++)e!=c+1||d.hasClass("k-detail-row")||(d.show(),i.eq(f).show(),d.hasClass("k-grouping-row")&&d.find(".k-icon").hasClass("k-i-collapse")&&h.expandGroup(d),d.hasClass("k-master-row")&&d.find(".k-icon").hasClass("k-minus")&&(d.next().show(),i.eq(f+1).show())),d.hasClass("k-grouping-row")&&j++,d.hasClass("k-group-footer")&&(1==j?(d.show(),i.eq(f).show()):j--)},_updateHeader:function(b){var c=this,d=c._isLocked()?c.lockedHeader:c.thead,e=d.find("th.k-group-cell"),f=e.length;b>f?a(new Array(b-f+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(d.find("tr")):f>b&&(f-=b,a(X(e,function(a,b){return f>b})).remove())},_firstDataItem:function(a,b){return a&&b&&(a=a.hasSubgroups?this._firstDataItem(a.items[0],b):a.items[0]),a},_updateTablesWidth:function(){var b,c=this;c._isLocked()&&(b=a(">.k-grid-footer>.k-grid-footer-wrap>table",c.wrapper).add(c.thead.parent()).add(c.table),c._footerWidth=A(b.eq(0)),b.width(c._footerWidth),b=a(">.k-grid-footer>.k-grid-footer-locked>table",c.wrapper).add(c.lockedHeader.find(">table")).add(c.lockedTable),b.width(A(b.eq(0))))},hideColumn:function(b){var c,d,e,f,g,h,j=this,l=0,m=j.footer||j.wrapper.find(".k-grid-footer"),n=j.columns,o=p(n).length;if(b="number"==typeof b?n[b]:X(n,function(a){return a.field===b})[0],b&&!b.hidden){if(h=Z(b,k(n)),b.hidden=!0,b.attributes=r(b.attributes),b.footerAttributes=r(b.footerAttributes),b.headerAttributes=r(b.headerAttributes),j._templates(),j._updateCols(),j._updateLockedCols(),w(i(a(">table>thead",j.lockedHeader),j.thead,">tr>th"),h,!1),m[0]&&(j._updateCols(m.find(">.k-grid-footer-wrap>table")),j._updateLockedCols(m.find(">.k-grid-footer-locked>table")),w(m.find(".k-footer-template>td"),h,!1)),j.lockedTable&&o>h?x(j.lockedTable.find(">tbody>tr"),h):x(j.tbody.children(),h-o),j.lockedTable)j._updateTablesWidth(),j._applyLockedContainersWidth(),j._syncLockedContentHeight(),j._syncLockedHeaderHeight(),j._syncLockedFooterHeight();else{for(e=j.thead.prev().find("col"),d=0,g=e.length;g>d;d+=1){if(f=e[d].style.width,!f||-1!=f.indexOf("%")){l=0;break}l+=parseInt(f,10)}c=a(">.k-grid-header table:first,>.k-grid-footer table:first",j.wrapper).add(j.table),j._footerWidth=null,l&&(c.width(l),j._footerWidth=l),Zb.msie&&8==Zb.version&&(c.css("display","inline-table"),setTimeout(function(){c.css("display","table")},1))}j.trigger(tb,{column:b})}},showColumn:function(b){var c,d,e,f,g,h,j,k=this,l=k.columns,n=k.footer||k.wrapper.find(".k-grid-footer"),o=m(l).length;if(b="number"==typeof b?l[b]:X(l,function(a){return a.field===b})[0],b&&b.hidden){if(j=Z(b,l),b.hidden=!1,b.attributes=s(b.attributes),b.footerAttributes=s(b.footerAttributes),b.headerAttributes=s(b.headerAttributes),k._templates(),k._updateCols(),k._updateLockedCols(),w(i(a(">table>thead",k.lockedHeader),k.thead,">tr>th"),j,!0),n[0]&&(k._updateCols(n.find(">.k-grid-footer-wrap>table")),k._updateLockedCols(n.find(">.k-grid-footer-locked>table")),w(n.find(".k-footer-template>td"),j,!0)),k.lockedTable&&o>j?y(k.lockedTable.find(">tbody>tr"),j):y(k.tbody.children(),j-o),k.lockedTable)k._updateTablesWidth(),k._applyLockedContainersWidth(),k._syncLockedContentHeight(),k._syncLockedHeaderHeight();else if(e=a(">.k-grid-header table:first,>.k-grid-footer table:first",k.wrapper).add(k.table),b.width){for(f=0,h=k.thead.prev().find("col"),c=0,d=h.length;d>c;c+=1){if(g=h[c].style.width,g.indexOf("%")>-1){f=0;break}f+=parseInt(g,10)}k._footerWidth=null,f&&(e.width(f),k._footerWidth=f)}else e.width("");k.trigger(ub,{column:b})}},_progress:function(a){var b=this.element;this.lockedContent?b=this.wrapper:this.element.is("table")?b=this.element.parent():this.content&&this.content.length&&(b=this.content),M.ui.progress(b,a)},_resize:function(){this.content&&(this._setContentHeight(),this._setContentWidth())},_isActiveInTable:function(){var b=R();return this.table[0]===b||a.contains(this.table[0],b)||this._isLocked()&&(this.lockedTable[0]===b||a.contains(this.lockedTable[0],b))},refresh:function(b){var c,d=this,e=d.dataSource.view(),f=d.options.navigatable,g=a(d.current()),h=!1,i=(d.dataSource.group()||[]).length,j=i+k(d.columns).length;b&&"itemchange"===b.action&&d.editable||(b=b||{},d.trigger("dataBinding",{action:b.action||"rebind",index:b.index,items:b.items})||(f&&(d._isActiveInTable()||d._editContainer&&d._editContainer.data("kendoWindow"))&&(h=g.is("th"),c=0,h&&(c=d.thead.find("th:not(.k-group-cell)").index(g))),d._destroyEditable(),d._progress(!1),d._hideResizeHandle(),d._data=[],d.columns.length||(d._autoColumns(d._firstDataItem(e[0],i)),j=i+d.columns.length),d._group=i>0||d._group,d._group&&(d._templates(),d._updateCols(),d._updateLockedCols(),d._updateHeader(i),d._group=i>0),d._renderContent(e,j,i),d._renderLockedContent(e,j,i),d._footer(),d._setContentHeight(),d._setContentWidth(),c>=0&&(d._removeCurrent(),d.current(h?d.thead.find("th:not(.k-group-cell)").eq(c):d.table.add(d.lockedTable).find(jb).first()),d._current&&D(d._current.closest("table")[0],!0)),d.trigger(wb)))},_renderContent:function(a,b,c){var d,e,f=this,h="",i=null!=f.lockedContent,j={rowTemplate:f.rowTemplate,altRowTemplate:f.altRowTemplate,groupFooterTemplate:f.groupFooterTemplate};if(b=i?b-p(f.columns).length:b,c>0)for(b=i?b-c:b,f.detailTemplate&&b++,f.groupFooterTemplate&&(f._groupAggregatesDefaultObject=g(f.dataSource.aggregate())),d=0,e=a.length;e>d;d++)h+=f._groupRowHtml(a[d],b,0,i?L:K,j,i);else h+=f._rowsHtml(a,j);f.tbody=q(f.tbody,f.table,h)},_renderLockedContent:function(a,b,c){var d,e,f="",g={rowTemplate:this.lockedRowTemplate,altRowTemplate:this.lockedAltRowTemplate,groupFooterTemplate:this.lockedGroupFooterTemplate};if(this.lockedContent){var h=this.lockedTable;if(c>0)for(b-=o(this.columns).length,d=0,e=a.length;e>d;d++)f+=this._groupRowHtml(a[d],b,0,K,g);else f=this._rowsHtml(a,g);q(h.children("tbody"),h,f),this._syncLockedContentHeight()}},_adjustRowsHeight:function(a,b){var c,d=a[0].rows,e=d.length,f=b[0].rows,g=a.add(b),h=[];for(c=0;e>c;c++){d[c].style.height&&(d[c].style.height=f[c].style.height="");var i=d[c].clientHeight,j=f[c].clientHeight,k=0;i>j?k=i:j>i&&(k=j),h.push(k)}for(c=0,e=g.length;e>c;c++)g[c].style.display="none";for(c=0;e>c;c++)h[c]&&(d[c].style.height=f[c].style.height=h[c]+"px");for(c=0,e=g.length;e>c;c++)g[c].style.display=""}}),dc=S.extend({init:function(a,b){var c,d=this;S.fn.init.call(d,a,b),d._refreshHandler=_(d.refresh,d),d.dataSource=d.options.dataSource.bind("change",d._refreshHandler),c=d.element.find(Wb),c[0]||(c=d.element.wrapInner('<a class="k-link" href="#"/>').find(Wb)),d.link=c,d.element.on("click"+Vb,_(d._click,d))},options:{name:"Sorter",mode:Sb,allowUnsort:!0,compare:null,filter:""},destroy:function(){var a=this;S.fn.destroy.call(a),a.element.off(Vb),a.dataSource.unbind("change",a._refreshHandler),a._refreshHandler=a.element=a.link=a.dataSource=null},refresh:function(){var b,c,d,e,f=this,g=f.dataSource.sort()||[],h=f.element,i=h.attr(M.attr(Tb));for(h.removeAttr(M.attr(Qb)),h.removeAttr(Xb),b=0,c=g.length;c>b;b++)d=g[b],i==d.field&&h.attr(M.attr(Qb),d.dir);e=h.attr(M.attr(Qb)),h.find(".k-i-arrow-n,.k-i-arrow-s").remove(),e===Rb?(a('<span class="k-icon k-i-arrow-n" />').appendTo(f.link),h.attr(Xb,"ascending")):e===Ub&&(a('<span class="k-icon k-i-arrow-s" />').appendTo(f.link),h.attr(Xb,"descending"))},_click:function(a){var c,d,e=this,f=e.element,g=f.attr(M.attr(Tb)),h=f.attr(M.attr(Qb)),i=e.options,j=null==e.options.compare?b:e.options.compare,k=e.dataSource.sort()||[];if(a.preventDefault(),!i.filter||f.is(i.filter)){if(h=h===Rb?Ub:h===Ub&&i.allowUnsort?b:Rb,i.mode===Sb)k=[{field:g,dir:h,compare:j}];else if("multiple"===i.mode){for(c=0,d=k.length;d>c;c++)if(k[c].field===g){k.splice(c,1);break}k.push({field:g,dir:h,compare:j})}e.dataSource.sort(k)}}});N.plugin(cc),N.plugin(ac),N.plugin(dc)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d="change",e="cancel",f="dataBound",g="dataBinding",h=c.ui.Widget,i=c.keys,j=">*",k="progress",l="error",m="k-state-focused",n="k-state-selected",o="k-edit-item",p="string",q="edit",r="remove",s="save",t="click",u=".kendoListView",v=a.proxy,w=c._activeElement,x=c.ui.progress,y=c.data.DataSource,z=h.extend({init:function(b,d){var e=this;d=a.isArray(d)?{dataSource:d}:d,h.fn.init.call(e,b,d),d=e.options,e.wrapper=b=e.element,b[0].id&&(e._itemId=b[0].id+"_lv_active"),e._element(),e._dataSource(),e._templates(),e._navigatable(),e._selectable(),e._pageable(),e._crudHandlers(),e.options.autoBind&&e.dataSource.fetch(),c.notify(e)},events:[d,e,g,f,q,r,s],options:{name:"ListView",autoBind:!0,selectable:!1,navigatable:!1,template:"",altTemplate:"",editTemplate:""},setOptions:function(a){h.fn.setOptions.call(this,a),this._templates()},_templates:function(){var a=this.options;this.template=c.template(a.template||""),this.altTemplate=c.template(a.altTemplate||a.template),this.editTemplate=c.template(a.editTemplate||"")},_item:function(a){return this.element.children()[a]()},items:function(){return this.element.children()},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&a.fetch()},_unbindDataSource:function(){var a=this;a.dataSource.unbind(d,a._refreshHandler).unbind(k,a._progressHandler).unbind(l,a._errorHandler)},_dataSource:function(){var a=this;a.dataSource&&a._refreshHandler?a._unbindDataSource():(a._refreshHandler=v(a.refresh,a),a._progressHandler=v(a._progress,a),a._errorHandler=v(a._error,a)),a.dataSource=y.create(a.options.dataSource).bind(d,a._refreshHandler).bind(k,a._progressHandler).bind(l,a._errorHandler)},_progress:function(){x(this.element,!0)},_error:function(){x(this.element,!1)},_element:function(){this.element.addClass("k-widget k-listview").attr("role","listbox")},refresh:function(a){var b,d,e,h,i,j=this,k=j.dataSource.view(),l="",m=j.template,n=j.altTemplate,o=w();if(a=a||{},"itemchange"===a.action)return void(j._hasBindingTarget()||j.editable||(b=a.items[0],e=j.items().filter("["+c.attr("uid")+"="+b.uid+"]"),e.length>0&&(h=e.index(),e.replaceWith(m(b)),e=j.items().eq(h),e.attr(c.attr("uid"),b.uid),j.trigger("itemChange",{item:e,data:b}))));if(!j.trigger(g,{action:a.action||"rebind",items:a.items,index:a.index})){for(j._destroyEditable(),h=0,i=k.length;i>h;h++)l+=h%2?n(k[h]):m(k[h]);for(j.element.html(l),d=j.items(),h=0,i=k.length;i>h;h++)d.eq(h).attr(c.attr("uid"),k[h].uid).attr("role","option").attr("aria-selected","false");j.element[0]===o&&j.options.navigatable&&j.current(d.eq(0)),j.trigger(f)}},_pageable:function(){var b,d,e=this,f=e.options.pageable;a.isPlainObject(f)&&(d=f.pagerId,b=a.extend({},f,{dataSource:e.dataSource,pagerId:null}),e.pager=new c.ui.Pager(a("#"+d),b))},_selectable:function(){var a,b,e=this,f=e.options.selectable,g=e.options.navigatable;f&&(a=typeof f===p&&f.toLowerCase().indexOf("multiple")>-1,a&&e.element.attr("aria-multiselectable",!0),e.selectable=new c.ui.Selectable(e.element,{aria:!0,multiple:a,filter:j,change:function(){e.trigger(d)}}),g&&e.element.on("keydown"+u,function(c){if(c.keyCode===i.SPACEBAR){if(b=e.current(),c.target==c.currentTarget&&c.preventDefault(),a)if(c.ctrlKey){if(b&&b.hasClass(n))return void b.removeClass(n)}else e.selectable.clear();else e.selectable.clear();e.selectable.value(b)}}))},current:function(a){var c=this,d=c.element,e=c._current,f=c._itemId;return a===b?e:(e&&e[0]&&(e[0].id===f&&e.removeAttr("id"),e.removeClass(m),d.removeAttr("aria-activedescendant")),a&&a[0]&&(f=a[0].id||f,c._scrollTo(a[0]),d.attr("aria-activedescendant",f),a.addClass(m).attr("id",f)),void(c._current=a))},_scrollTo:function(b){var c,d=this,e=!1,f="scroll";"auto"==d.wrapper.css("overflow")||d.wrapper.css("overflow")==f?c=d.wrapper[0]:(c=window,e=!0);var g=function(d,g){var h=e?a(b).offset()[d.toLowerCase()]:b["offset"+d],i=b["client"+g],j=a(c)[f+d](),k=a(c)[g.toLowerCase()]();h+i>j+k?a(c)[f+d](h+i-k):j>h&&a(c)[f+d](h)};g("Top","Height"),g("Left","Width")},_navigatable:function(){var b=this,d=b.options.navigatable,e=b.element,f=function(c){b.current(a(c.currentTarget)),a(c.target).is(":button,a,:input,a>.k-icon,textarea")||e.focus()};d&&(b._tabindex(),e.on("focus"+u,function(){var a=b._current;a&&a.is(":visible")||(a=b._item("first")),b.current(a)}).on("focusout"+u,function(){b._current&&b._current.removeClass(m)}).on("keydown"+u,function(d){var f,g=d.keyCode,h=b.current(),j=a(d.target),k=!j.is(":button,textarea,a,a>.t-icon,input"),l=j.is(":text"),m=c.preventDefault,n=e.find("."+o),p=w();if(!(!k&&!l&&i.ESC!=g||l&&i.ESC!=g&&i.ENTER!=g))if(i.UP===g||i.LEFT===g)h&&(h=h.prev()),b.current(h&&h[0]?h:b._item("last")),m(d);else if(i.DOWN===g||i.RIGHT===g)h&&(h=h.next()),b.current(h&&h[0]?h:b._item("first")),m(d);else if(i.PAGEUP===g)b.current(null),b.dataSource.page(b.dataSource.page()-1),m(d);else if(i.PAGEDOWN===g)b.current(null),b.dataSource.page(b.dataSource.page()+1),m(d);else if(i.HOME===g)b.current(b._item("first")),m(d);else if(i.END===g)b.current(b._item("last")),m(d);else if(i.ENTER===g)if(0!==n.length&&(k||l)){f=b.items().index(n),p&&p.blur(),b.save();var q=function(){b.element.trigger("focus"),b.current(b.items().eq(f))};b.one("dataBound",q)}else""!==b.options.editTemplate&&b.edit(h);else if(i.ESC===g){if(n=e.find("."+o),0===n.length)return;f=b.items().index(n),b.cancel(),b.element.trigger("focus"),b.current(b.items().eq(f))}}),e.on("mousedown"+u+" touchstart"+u,j,v(f,b)))},clearSelection:function(){var a=this;a.selectable.clear(),a.trigger(d)},select:function(b){var c=this,d=c.selectable;return b=a(b),b.length?(d.options.multiple||(d.clear(),b=b.first()),void d.value(b)):d.value()},_destroyEditable:function(){var a=this;a.editable&&(a.editable.destroy(),delete a.editable)},_modelFromElement:function(a){var b=a.attr(c.attr("uid"));return this.dataSource.getByUid(b)},_closeEditable:function(a){var b,d,e=this,f=e.editable,g=e.template,h=!0;return f&&(a&&(h=f.end()),h&&(f.element.index()%2&&(g=e.altTemplate),b=e._modelFromElement(f.element),e._destroyEditable(),d=f.element.index(),f.element.replaceWith(g(b)),e.items().eq(d).attr(c.attr("uid"),b.uid))),h},edit:function(a){var b,d,e=this,f=e._modelFromElement(a),g=f.uid;e.cancel(),a=e.items().filter("["+c.attr("uid")+"="+g+"]"),d=a.index(),a.replaceWith(e.editTemplate(f)),b=e.items().eq(d).addClass(o).attr(c.attr("uid"),f.uid),e.editable=b.kendoEditable({model:f,clearContainer:!1,errorTemplate:!1}).data("kendoEditable"),e.trigger(q,{model:f,item:b})},save:function(){var a,b=this,c=b.editable;c&&(c=c.element,a=b._modelFromElement(c),!b.trigger(s,{model:a,item:c})&&b._closeEditable(!0)&&b.dataSource.sync())},remove:function(a){var b=this,c=b.dataSource,d=b._modelFromElement(a);b.trigger(r,{model:d,item:a})||(a.hide(),c.remove(d),c.sync())},add:function(){var a=this,b=a.dataSource,c=b.indexOf((b.view()||[])[0]);0>c&&(c=0),a.cancel(),b.insert(c,{}),a.edit(a.element.children().first())},cancel:function(){var a=this,b=a.dataSource;if(a.editable){var c=a.editable.element,d=a._modelFromElement(c);a.trigger(e,{model:d,container:c})||(b.cancelChanges(d),a._closeEditable(!1))}},_crudHandlers:function(){var b=this,d=t+u;b.element.on(d,".k-edit-button",function(d){var e=a(this).closest("["+c.attr("uid")+"]");b.edit(e),d.preventDefault()}),b.element.on(d,".k-delete-button",function(d){var e=a(this).closest("["+c.attr("uid")+"]");b.remove(e),d.preventDefault()}),b.element.on(d,".k-update-button",function(a){b.save(),a.preventDefault()}),b.element.on(d,".k-cancel-button",function(a){b.cancel(),a.preventDefault()})},destroy:function(){var a=this;h.fn.destroy.call(a),a._unbindDataSource(),a._destroyEditable(),a.element.off(u),a.pager&&a.pager.destroy(),a.selectable&&a.selectable.destroy(),c.destroy(a.element)}});c.ui.plugin(z)}(window.kendo.jQuery),function(a,b){function c(b){return a.map(d(b),function(a){return a.name}).join(", ")}function d(a){var b=a[0];return b.files?e(b.files):[{name:h(b.value),extension:g(b.value),size:null}]}function e(b){return a.map(b,function(a){return f(a)})}function f(a){var b=a.name||a.fileName;return{name:q.htmlEncode(b),extension:g(b),size:a.size||a.fileSize,rawFile:a}}function g(a){var b=a.match(t);return b?b[0]:""}function h(a){var b=a.lastIndexOf("\\");return-1!=b?a.substr(b+1):a}function i(b,c,d){if(c._supportsRemove()){var e=b.data("fileNames"),f=a.map(e,function(a){return a.name});c._submitRemove(f,d,function(a,d,f){c._removeFileEntry(b),c.trigger(x,{operation:"remove",files:e,response:a,XMLHttpRequest:f})},function(a){c.trigger(y,{operation:"remove",files:e,XMLHttpRequest:a}),s("Server response: "+a.responseText)})}}function j(b,c,d){var e=!1,f="";try{f=a.parseJSON(k(b)),e=!0}catch(g){d()}e&&c(f)}function k(a){return("undefined"==typeof a||""===a)&&(a="{}"),a}function l(a){a.stopPropagation(),a.preventDefault()}function m(a,b,c,d){var e,f;a.on("dragenter"+b,function(){c(),f=new Date,e||(e=setInterval(function(){var a=new Date-f;a>100&&(d(),clearInterval(e),e=null)},100))}).on("dragover"+b,function(){f=new Date})}function n(a){return a.is(".k-file-progress, .k-file-success, .k-file-error")}function o(b){return a(b.target).closest(".k-file")}function p(){var c={},d=a("meta[name=csrf-token]").attr("content"),e=a("meta[name=csrf-param]").attr("content");return a("input[name^='__RequestVerificationToken']").each(function(){c[this.name]=this.value}),e!==b&&d!==b&&(c[e]=d),c}var q=window.kendo,r=q.ui.Widget,s=q.logToConsole,t=/\.([^\.]+)$/,u=".kendoUpload",v="select",w="upload",x="success",y="error",z="complete",A="cancel",B="progress",C="remove",D=r.extend({init:function(b,c){var d=this;r.fn.init.call(d,b,c),d.name=b.name,d.multiple=d.options.multiple,d.localization=d.options.localization;var e=d.element;d.wrapper=e.closest(".k-upload"),0===d.wrapper.length&&(d.wrapper=d._wrapInput(e)),d._activeInput(e),d.toggle(d.options.enabled);var f=d._ns=u+"-"+q.guid();if(e.closest("form").on("submit"+f,a.proxy(d._onParentFormSubmit,d)).on("reset"+f,a.proxy(d._onParentFormReset,d)),d.options.async.saveUrl){d._module=d._supportsFormData()?new G(d):new F(d),d._async=!0;var g=d.options.files;g.length>0&&d._renderInitialFiles(g)}else d._module=new E(d);d._supportsDrop()&&d._setupDropZone(),d.wrapper.on("click",".k-upload-action",a.proxy(d._onFileAction,d)).on("click",".k-upload-selected",a.proxy(d._onUploadSelected,d))},events:[v,w,x,y,z,A,B,C],options:{name:"Upload",enabled:!0,multiple:!0,showFileList:!0,template:"",files:[],async:{removeVerb:"POST",autoUpload:!0},localization:{select:"Select files...",cancel:"Cancel",retry:"Retry",remove:"Remove",uploadSelectedFiles:"Upload files",dropFilesHere:"drop files here to upload",statusUploading:"uploading",statusUploaded:"uploaded",statusWarning:"warning",statusFailed:"failed",headerStatusUploading:"Uploading...",headerStatusUploaded:"Done"}},setOptions:function(a){var b=this,c=b.element;r.fn.setOptions.call(b,a),b.multiple=b.options.multiple,c.attr("multiple",b._supportsMultiple()?b.multiple:!1),b.toggle(b.options.enabled)},enable:function(a){a="undefined"==typeof a?!0:a,this.toggle(a)},disable:function(){this.toggle(!1)},toggle:function(a){a="undefined"==typeof a?a:!a,this.wrapper.toggleClass("k-state-disabled",a),this.element.prop("disabled",a)},destroy:function(){var b=this;a(document).add(a(".k-dropzone",b.wrapper)).add(b.wrapper.closest("form")).off(b._ns),a(b.element).off(u),r.fn.destroy.call(b)},_addInput:function(b){if(b[0].nodeType){var c=this,d=b.clone().val("");d.insertAfter(c.element).data("kendoUpload",c),a(c.element).hide().removeAttr("id").off(u),c._activeInput(d)}},_activeInput:function(b){var c=this,d=c.wrapper;c.element=b,b.attr("multiple",c._supportsMultiple()?c.multiple:!1).attr("autocomplete","off").on("click"+u,function(a){d.hasClass("k-state-disabled")&&a.preventDefault()}).on("focus"+u,function(){a(this).parent().addClass("k-state-focused")}).on("blur"+u,function(){a(this).parent().removeClass("k-state-focused")}).on("change"+u,a.proxy(c._onInputChange,c))},_onInputChange:function(b){var c=this,e=a(b.target),f=c.trigger(v,{files:d(e)});f?(c._addInput(e),e.remove()):c._module.onSelect(b)},_onDrop:function(b){var c=b.originalEvent.dataTransfer,d=this,f=c.files;if(l(b),f.length>0){var g=d.trigger(v,{files:e(f)});g||d._module.onSelect({target:a(".k-dropzone",d.wrapper)},f)}},_renderInitialFiles:function(b){var c=this,d=0;for(d=0;d<b.length;d++){var e=b[d],f=c._enqueueFile(e.name,{fileNames:[e]});f.addClass("k-file-success").data("files",[b[d]]),a(".k-progress",f).width("100%"),a(".k-upload-status",f).prepend("<span class='k-upload-pct'>100%</span>"),c._fileAction(f,C)}},_prepareTemplateData:function(a,b){var c=b.fileNames,d={},e=0,f=0;for(f=0;f<c.length;f++)e+=c[f].size;return d.name=a,d.size=e,d.files=b.fileNames,d},_prepareDefaultFileEntryTemplate:function(b,c){var d="",e=a("<li class='k-file'><span class='k-progress'></span><span class='k-icon'></span><span class='k-filename' title='"+b+"'>"+b+"</span><strong class='k-upload-status'></strong></li>");return 1==c.fileNames.length&&c.fileNames[0].extension&&(d=c.fileNames[0].extension.substring(1),a(".k-icon",e).addClass("k-i-"+d)),e},_enqueueFile:function(b,c){var d,e,f,g=this,h=a(".k-upload-files",g.wrapper),i=g.options,j=i.template;return 0===h.length&&(h=a("<ul class='k-upload-files k-reset'></ul>").appendTo(g.wrapper),g.options.showFileList||h.hide(),g.wrapper.removeClass("k-upload-empty")),d=a(".k-file",h),j?(f=g._prepareTemplateData(b,c),j=q.template(j),e=a("<li class='k-file'>"+j(f)+"</li>"),e.find(".k-upload-action").addClass("k-button k-button-bare")):e=g._prepareDefaultFileEntryTemplate(b,c),e.appendTo(h).data(c),g._async||a(".k-progress",e).width("100%"),!g.multiple&&d.length>0&&g._module.onRemove({target:a(d,g.wrapper)}),e},_removeFileEntry:function(b){var c,d,e=this,f=b.closest(".k-upload-files");b.remove(),c=a(".k-file",f),d=a(".k-file-success, .k-file-error",f),d.length===c.length&&this._hideUploadButton(),0===c.length&&(f.remove(),e.wrapper.addClass("k-upload-empty"),e._hideHeaderUploadstatus())},_fileAction:function(a,b){var c={remove:"k-delete",cancel:"k-cancel",retry:"k-retry"},d={remove:"k-i-close",cancel:"k-i-close",retry:"k-i-refresh"};c.hasOwnProperty(b)&&(this._clearFileAction(a),this.options.template?a.find(".k-upload-action").addClass("k-button k-button-bare").append("<span class='k-icon "+d[b]+" "+c[b]+"' title='"+this.localization[b]+"'></span>").show():(a.find(".k-upload-status .k-upload-action").remove(),a.find(".k-upload-status").append(this._renderAction(c[b],this.localization[b],d[b]))))},_fileState:function(b,c){var d=this.localization,e={uploading:{text:d.statusUploading},uploaded:{text:d.statusUploaded},failed:{text:d.statusFailed}},f=e[c];f&&a(".k-icon:not(.k-delete, .k-cancel, .k-retry)",b).text(f.text)},_renderAction:function(b,c,d){return a(""!==b?"<button type='button' class='k-button k-button-bare k-upload-action'><span class='k-icon "+d+" "+b+"' title='"+c+"'></span></button>":"<button type='button' class='k-button'>"+c+"</button>")},_clearFileAction:function(b){a(".k-upload-action",b).empty().hide()},_onFileAction:function(b){var c=this;if(!c.wrapper.hasClass("k-state-disabled")){var d=a(b.target).closest(".k-upload-action"),e=d.find(".k-icon"),f=d.closest(".k-file"),g={files:f.data("fileNames")};e.hasClass("k-delete")?c.trigger(C,g)||c._module.onRemove({target:a(f,c.wrapper)},g.data):e.hasClass("k-cancel")?(c.trigger(A,g),c._module.onCancel({target:a(f,c.wrapper)}),this._checkAllComplete(),c._updateHeaderUploadStatus()):e.hasClass("k-retry")&&(a(".k-warning",f).remove(),c._module.onRetry({target:a(f,c.wrapper)}))}return!1},_onUploadSelected:function(){return this._module.onSaveSelected(),!1},_onFileProgress:function(b,c){var d;this.options.template?a(".k-progress",b.target).width(c+"%"):(d=a(".k-upload-pct",b.target),0===d.length&&a(".k-upload-status",b.target).prepend("<span class='k-upload-pct'></span>"),a(".k-upload-pct",b.target).text(c+"%"),a(".k-progress",b.target).width(c+"%")),this.trigger(B,{files:o(b).data("fileNames"),percentComplete:c})},_onUploadSuccess:function(a,b,c){var d=o(a);this._fileState(d,"uploaded"),d.removeClass("k-file-progress").addClass("k-file-success"),this._updateHeaderUploadStatus(),this.trigger(x,{files:d.data("fileNames"),response:b,operation:"upload",XMLHttpRequest:c}),this._supportsRemove()?this._fileAction(d,C):this._clearFileAction(d),this._checkAllComplete()},_onUploadError:function(b,c){var d=o(b),e=a(".k-upload-pct",d);this._fileState(d,"failed"),d.removeClass("k-file-progress").addClass("k-file-error"),a(".k-progress",d).width("100%"),e.length>0?e.empty().removeClass("k-upload-pct").addClass("k-icon k-warning"):a(".k-upload-status",d).prepend("<span class='k-icon k-warning'></span>"),this._updateHeaderUploadStatus(),this._fileAction(d,"retry"),this.trigger(y,{operation:"upload",files:d.data("fileNames"),XMLHttpRequest:c}),s("Server response: "+c.responseText),this._checkAllComplete()},_showUploadButton:function(){var b=a(".k-upload-selected",this.wrapper);0===b.length&&(b=this._renderAction("",this.localization.uploadSelectedFiles).addClass("k-upload-selected")),this.wrapper.append(b)},_hideUploadButton:function(){a(".k-upload-selected",this.wrapper).remove()},_showHeaderUploadStatus:function(){var b=this.localization,c=a(".k-dropzone",this.wrapper),d=a(".k-upload-status-total",this.wrapper);0!==d.length&&d.remove(),d='<strong class="k-upload-status k-upload-status-total">'+b.headerStatusUploading+'<span class="k-icon k-loading">'+b.statusUploading+"</span></strong>",c.length>0?c.append(d):a(".k-upload-button",this.wrapper).after(d)},_updateHeaderUploadStatus:function(){var b,c,d,e=this,f=e.localization,g=a(".k-file",e.wrapper).not(".k-file-success, .k-file-error");0===g.length&&(b=a(".k-file.k-file-error",e.wrapper),c=a(".k-upload-status-total",e.wrapper),d=a(".k-icon",c).removeClass("k-loading").addClass(0!==b.length?"k-warning":"k-i-tick").text(0!==b.length?f.statusWarning:f.statusUploaded),c.text(e.localization.headerStatusUploaded).append(d))},_hideHeaderUploadstatus:function(){a(".k-upload-status-total",this.wrapper).remove()},_onParentFormSubmit:function(){var b=this,c=b.element;if("undefined"!=typeof this._module.onAbort&&this._module.onAbort(),!c.value){var d=a(c);d.attr("disabled","disabled"),window.setTimeout(function(){d.removeAttr("disabled")},0)}},_onParentFormReset:function(){a(".k-upload-files",this.wrapper).remove()},_supportsFormData:function(){return"undefined"!=typeof FormData},_supportsMultiple:function(){var a=this._userAgent().indexOf("Windows")>-1;return!(q.support.browser.opera||q.support.browser.safari&&a)},_supportsDrop:function(){var a=this._userAgent().toLowerCase(),b=/chrome/.test(a),c=!b&&/safari/.test(a),d=c&&/windows/.test(a);return!d&&this._supportsFormData()&&this.options.async.saveUrl},_userAgent:function(){return navigator.userAgent},_setupDropZone:function(){var b=this;a(".k-upload-button",this.wrapper).wrap("<div class='k-dropzone'></div>");var c=b._ns,d=a(".k-dropzone",b.wrapper).append(a("<em>"+b.localization.dropFilesHere+"</em>")).on("dragenter"+c,l).on("dragover"+c,function(a){a.preventDefault()}).on("drop"+c,a.proxy(this._onDrop,this));m(d,c,function(){d.addClass("k-dropzone-hovered")},function(){d.removeClass("k-dropzone-hovered")}),m(a(document),c,function(){d.addClass("k-dropzone-active"),d.closest(".k-upload").removeClass("k-upload-empty")},function(){d.removeClass("k-dropzone-active"),0===a("li.k-file",d.closest(".k-upload")).length&&d.closest(".k-upload").addClass("k-upload-empty")})},_supportsRemove:function(){return!!this.options.async.removeUrl},_submitRemove:function(b,c,d,e){var f=this,g=f.options.async.removeField||"fileNames",h=a.extend(c,p());h[g]=b,jQuery.ajax({type:this.options.async.removeVerb,dataType:"json",dataFilter:k,url:this.options.async.removeUrl,traditional:!0,data:h,success:d,error:e})
},_wrapInput:function(a){var b=this,c=b.options;return a.wrap("<div class='k-widget k-upload k-header'><div class='k-button k-upload-button'></div></div>"),c.async.saveUrl||a.closest(".k-upload").addClass("k-upload-sync"),a.closest(".k-upload").addClass("k-upload-empty"),a.closest(".k-button").append("<span>"+this.localization.select+"</span>"),a.closest(".k-upload")},_checkAllComplete:function(){0===a(".k-file.k-file-progress",this.wrapper).length&&this.trigger(z)}}),E=function(a){this.name="syncUploadModule",this.element=a.wrapper,this.upload=a,this.element.closest("form").attr("enctype","multipart/form-data").attr("encoding","multipart/form-data")};E.prototype={onSelect:function(b){var e=this.upload,f=a(b.target);e._addInput(f);var g=e._enqueueFile(c(f),{relatedInput:f,fileNames:d(f)});e._fileAction(g,C)},onRemove:function(a){var b=o(a);b.data("relatedInput").remove(),this.upload._removeFileEntry(b)}};var F=function(a){this.name="iframeUploadModule",this.element=a.wrapper,this.upload=a,this.iframes=[]};D._frameId=0,F.prototype={onSelect:function(b){var c=this.upload,d=a(b.target),e=this.prepareUpload(d);c.options.async.autoUpload?this.performUpload(e):(c._supportsRemove()&&this.upload._fileAction(e,C),c._showUploadButton())},prepareUpload:function(b){var e=this.upload,f=a(e.element),g=e.options.async.saveField||b.attr("name");e._addInput(b),b.attr("name",g);var h=this.createFrame(e.name+"_"+D._frameId++);this.registerFrame(h);var i=this.createForm(e.options.async.saveUrl,h.attr("name")).append(f),j=e._enqueueFile(c(b),{frame:h,relatedInput:f,fileNames:d(b)});return h.data({form:i,file:j}),j},performUpload:function(b){var c={files:b.data("fileNames")},d=b.data("frame"),e=this.upload;if(e.trigger(w,c))e._removeFileEntry(d.data("file")),this.cleanupFrame(d),this.unregisterFrame(d);else{e._hideUploadButton(),e._showHeaderUploadStatus(),d.appendTo(document.body);var f=d.data("form").attr("action",e.options.async.saveUrl).appendTo(document.body);c.data=a.extend({},c.data,p());for(var g in c.data){var h=f.find("input[name='"+g+"']");0===h.length&&(h=a("<input>",{type:"hidden",name:g}).appendTo(f)),h.val(c.data[g])}e._fileAction(b,A),e._fileState(b,"uploading"),a(b).addClass("k-file-progress"),d.one("load",a.proxy(this.onIframeLoad,this)),f[0].submit()}},onSaveSelected:function(){var b=this;a(".k-file",this.element).each(function(){var c=a(this),d=n(c);d||b.performUpload(c)})},onIframeLoad:function(b){var c,d=a(b.target);try{c=d.contents().text()}catch(e){c="Error trying to get server response: "+e}this.processResponse(d,c)},processResponse:function(b,c){var d=b.data("file"),e=this,f={responseText:c};j(c,function(c){a.extend(f,{statusText:"OK",status:"200"}),e.upload._onFileProgress({target:a(d,e.upload.wrapper)},100),e.upload._onUploadSuccess({target:a(d,e.upload.wrapper)},c,f),e.cleanupFrame(b),e.unregisterFrame(b)},function(){a.extend(f,{statusText:"error",status:"500"}),e.upload._onUploadError({target:a(d,e.upload.wrapper)},f)})},onCancel:function(b){var c=a(b.target).data("frame");this.stopFrameSubmit(c),this.cleanupFrame(c),this.unregisterFrame(c),this.upload._removeFileEntry(c.data("file"))},onRetry:function(a){var b=o(a);this.performUpload(b)},onRemove:function(a,b){var c=o(a),d=c.data("frame");d?(this.unregisterFrame(d),this.upload._removeFileEntry(c),this.cleanupFrame(d)):i(c,this.upload,b)},onAbort:function(){var b=this.element,c=this;a.each(this.iframes,function(){a("input",this.data("form")).appendTo(b),c.stopFrameSubmit(this[0]),this.data("form").remove(),this.remove()}),this.iframes=[]},createFrame:function(b){return a("<iframe name='"+b+"' id='"+b+"' style='display:none;' />")},createForm:function(b,c){return a("<form enctype='multipart/form-data' method='POST' action='"+b+"' target='"+c+"'/>")},stopFrameSubmit:function(a){"undefined"!=typeof a.stop?a.stop():a.document&&a.document.execCommand("Stop")},registerFrame:function(a){this.iframes.push(a)},unregisterFrame:function(b){this.iframes=a.grep(this.iframes,function(a){return a.attr("name")!=b.attr("name")})},cleanupFrame:function(a){var b=a.data("form");a.data("file").data("frame",null),setTimeout(function(){b.remove(),a.remove()},1)}};var G=function(a){this.name="formDataUploadModule",this.element=a.wrapper,this.upload=a};G.prototype={onSelect:function(b,c){var d=this.upload,f=this,g=a(b.target),h=c?e(c):this.inputFiles(g),i=this.prepareUpload(g,h);a.each(i,function(){d.options.async.autoUpload?f.performUpload(this):(d._supportsRemove()&&d._fileAction(this,C),d._showUploadButton())})},prepareUpload:function(b,c){var d=this.enqueueFiles(c);return b.is("input")&&(a.each(d,function(){a(this).data("relatedInput",b)}),b.data("relatedFileEntries",d),this.upload._addInput(b)),d},enqueueFiles:function(b){var c,d,e,f,g=this.upload,h=b.length,i=[];if(g.options.async.batch===!0)c=a.map(b,function(a){return a.name}).join(", "),f=g._enqueueFile(c,{fileNames:b}),f.data("files",b),i.push(f);else for(d=0;h>d;d++)e=b[d],c=e.name,f=g._enqueueFile(c,{fileNames:[e]}),f.data("files",[e]),i.push(f);return i},inputFiles:function(a){return d(a)},performUpload:function(b){var c=this.upload,d=this.createFormData(b.data("files")),e=new XMLHttpRequest,f={files:b.data("fileNames"),XMLHttpRequest:e};if(c.trigger(w,f))this.removeFileEntry(b);else{c._fileAction(b,A),c._hideUploadButton(),c._showHeaderUploadStatus(),f.data=a.extend({},f.data,p());for(var g in f.data)d.append(g,f.data[g]);c._fileState(b,"uploading"),a(b).addClass("k-file-progress"),this.postFormData(c.options.async.saveUrl,d,b,e)}},onSaveSelected:function(){var b=this;a(".k-file",this.element).each(function(){var c=a(this),d=n(c);d||b.performUpload(c)})},onCancel:function(a){var b=o(a);this.stopUploadRequest(b),this.removeFileEntry(b)},onRetry:function(a){var b=o(a);this.performUpload(b)},onRemove:function(a,b){var c=o(a);c.hasClass("k-file-success")?i(c,this.upload,b):this.removeFileEntry(c)},postFormData:function(a,b,c,d){var e=this;c.data("request",d),d.addEventListener("load",function(a){e.onRequestSuccess.call(e,a,c)},!1),d.addEventListener(y,function(a){e.onRequestError.call(e,a,c)},!1),d.upload.addEventListener("progress",function(a){e.onRequestProgress.call(e,a,c)},!1),d.open("POST",a,!0),d.withCredentials="true",d.send(b)},createFormData:function(a){var b,c=new FormData,d=this.upload,e=a.length;for(b=0;e>b;b++)c.append(d.options.async.saveField||d.name,a[b].rawFile);return c},onRequestSuccess:function(b,c){function d(){f.upload._onUploadError({target:a(c,f.upload.wrapper)},e)}var e=b.target,f=this;e.status>=200&&e.status<=299?j(e.responseText,function(b){f.upload._onFileProgress({target:a(c,f.upload.wrapper)},100),f.upload._onUploadSuccess({target:a(c,f.upload.wrapper)},b,e),f.cleanupFileEntry(c)},d):d()},onRequestError:function(b,c){var d=b.target;this.upload._onUploadError({target:a(c,this.upload.wrapper)},d)},cleanupFileEntry:function(b){var c=b.data("relatedInput"),d=!0;c&&(a.each(c.data("relatedFileEntries")||[],function(){this.parent().length>0&&this[0]!=b[0]&&(d=d&&this.hasClass("k-file-success"))}),d&&c.remove())},removeFileEntry:function(a){this.cleanupFileEntry(a),this.upload._removeFileEntry(a)},onRequestProgress:function(b,c){var d=Math.round(100*b.loaded/b.total);this.upload._onFileProgress({target:a(c,this.upload.wrapper)},d)},stopUploadRequest:function(a){a.data("request").abort()}},q.ui.plugin(D)}(window.kendo.jQuery),function(a,b){function c(a,b,c){var d,e;a.on("dragenter"+t,function(){b(),e=new Date,d||(d=setInterval(function(){var a=new Date-e;a>100&&(c(),clearInterval(d),d=null)},100))}).on("dragover"+t,function(){e=new Date})}function d(a,c){return a!==b&&a.match(/\/$/)||(a=(a||"")+"/"),a+c}function e(a){if(!a)return"";var b=" bytes";return a>=1073741824?(b=" GB",a/=1073741824):a>=1048576?(b=" MB",a/=1048576):a>=1024&&(b=" KB",a/=1024),Math.round(100*a)/100+b}function f(a,b){var c=a[b];return i(c)?c.from||c.field||b:c}var g=window.kendo,h=g.ui.Widget,i=a.isPlainObject,j=a.proxy,k=a.extend,l=g.support.placeholder,m=g.support.browser,n=g.isFunction,o=/(^\/|\/$)/g,p="change",q="apply",r="error",s="click",t=".kendoImageBrowser",u=".kendoBreadcrumbs",v=".kendoSearchBox",w="name",x="size",y="type",z={field:y,dir:"asc"},A=g.template('<li class="k-tile-empty"><strong>${text}</strong></li>'),B='<div class="k-widget k-toolbar k-header k-floatwrap"><div class="k-toolbar-wrap"># if (showUpload) { # <div class="k-widget k-upload"><div class="k-button k-button-icontext k-upload-button"><span class="k-icon k-add"></span>#=messages.uploadFile#<input type="file" name="file" /></div></div># } ## if (showCreate) { #<button type="button" class="k-button k-button-icon"><span class="k-icon k-addfolder" /></button># } ## if (showDelete) { #<button type="button" class="k-button k-button-icon k-state-disabled"><span class="k-icon k-delete" /></button>&nbsp;# } #</div><div class="k-tiles-arrange"><label>#=messages.orderBy#: <select /></label></a></div></div>';k(!0,g.data,{schemas:{imagebrowser:{data:function(a){return a.items||a||[]},model:{id:"name",fields:{name:"name",size:"size",type:"type"}}}}}),k(!0,g.data,{transports:{imagebrowser:g.data.RemoteTransport.extend({init:function(b){g.data.RemoteTransport.fn.init.call(this,a.extend(!0,{},this.options,b))},_call:function(b,c){c.data=a.extend({},c.data,{path:this.options.path()}),n(this.options[b])?this.options[b].call(this,c):g.data.RemoteTransport.fn[b].call(this,c)},read:function(a){this._call("read",a)},create:function(a){this._call("create",a)},destroy:function(a){this._call("destroy",a)},update:function(){},options:{read:{type:"POST"},update:{type:"POST"},create:{type:"POST"},destroy:{type:"POST"}}})}});var C;C=m.msie&&m.version<8?function(a){return a.offsetTop}:function(b){return b.offsetTop-a(b).height()};var D=h.extend({init:function(a,b){var c=this;b=b||{},h.fn.init.call(c,a,b),c.element.addClass("k-imagebrowser"),c.element.on(s+t,".k-toolbar button:not(.k-state-disabled):has(.k-delete)",j(c._deleteClick,c)).on(s+t,".k-toolbar button:not(.k-state-disabled):has(.k-addfolder)",j(c._addClick,c)).on("keydown"+t,"li.k-state-selected input",j(c._directoryKeyDown,c)).on("blur"+t,"li.k-state-selected input",j(c._directoryBlur,c)),c._dataSource(),c.refresh(),c.path(c.options.path)},options:{name:"ImageBrowser",messages:{uploadFile:"Upload",orderBy:"Arrange by",orderByName:"Name",orderBySize:"Size",directoryNotFound:"A directory with this name was not found.",emptyFolder:"Empty Folder",deleteFile:'Are you sure you want to delete "{0}"?',invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',dropFilesHere:"drop file here to upload",search:"Search"},transport:{},path:"/",fileTypes:"*.png,*.gif,*.jpg,*.jpeg"},events:[r,p,q],destroy:function(){var a=this;h.fn.destroy.call(a),a.dataSource.unbind(r,a._errorHandler),a.element.add(a.list).add(a.toolbar).off(t),a.arrangeBy&&a.arrangeBy.destroy(),g.destroy(a.element)},value:function(){var a,b=this,c=b._selectedItem(),e=b.options.transport.imageUrl;return c&&"f"===c.get(y)?(a=d(b.path(),c.get(w)).replace(o,""),e&&(a=n(e)?e(a):g.format(e,encodeURIComponent(a))),a):void 0},_selectedItem:function(){var a=this.listView,b=a.select();return b.length?this.dataSource.getByUid(b.attr(g.attr("uid"))):void 0},_toolbar:function(){var b=this,c=g.template(B),d=b.options.messages,e=[{text:d.orderByName,value:"name"},{text:d.orderBySize,value:"size"}];b.toolbar=a(c({messages:d,showUpload:b.options.transport.uploadUrl,showCreate:b.options.transport.create,showDelete:b.options.transport.destroy})).appendTo(b.element).find(".k-upload input").kendoUpload({multiple:!1,localization:{dropFilesHere:d.dropFilesHere},async:{saveUrl:b.options.transport.uploadUrl,autoUpload:!0},upload:j(b._fileUpload,b),error:function(a){b._error({xhr:a.XMLHttpRequest,status:"error"})}}).end(),b.upload=b.toolbar.find(".k-upload input").data("kendoUpload"),b.arrangeBy=b.toolbar.find(".k-tiles-arrange select").kendoDropDownList({dataSource:e,dataTextField:"text",dataValueField:"value",change:function(){b.orderBy(this.value())}}).data("kendoDropDownList"),b._attachDropzoneEvents()},_attachDropzoneEvents:function(){var b=this;b.options.transport.uploadUrl&&(c(a(document.documentElement),a.proxy(b._dropEnter,b),a.proxy(b._dropLeave,b)),b._scrollHandler=j(b._positionDropzone,b))},_dropEnter:function(){this._positionDropzone(),a(document).on("scroll"+t,this._scrollHandler)},_dropLeave:function(){this._removeDropzone(),a(document).off("scroll"+t,this._scrollHandler)},_positionDropzone:function(){var a=this,b=a.element,c=b.offset();a.toolbar.find(".k-dropzone").addClass("k-imagebrowser-dropzone").offset(c).css({width:b[0].clientWidth,height:b[0].clientHeight,lineHeight:b[0].clientHeight+"px"})},_removeDropzone:function(){this.toolbar.find(".k-dropzone").removeClass("k-imagebrowser-dropzone").css({width:"",height:"",lineHeight:"",top:"",left:""})},_deleteClick:function(){var a=this,b=a.listView.select(),c=g.format(a.options.messages.deleteFile,b.find("strong").text());b.length&&a._showMessage(c,"confirm")&&a.listView.remove(b)},_addClick:function(){this.createDirectory()},_getFieldName:function(a){return f(this.dataSource.reader.model.fields,a)},_fileUpload:function(a){var b,c=this,d=c.options,e=d.fileTypes,f=new RegExp(("("+e.split(",").join(")|(")+")").replace(/\*\./g,".*."),"i"),h=a.files[0].name,i=w,j=x;f.test(h)?(a.data={path:c.path()},b=c._createFile(h),b?c.upload.one("success",function(a){b.set(i,a.response[c._getFieldName(i)]),b.set(j,a.response[c._getFieldName(j)]),c._tiles=c.listView.items().filter("["+g.attr("type")+"=f]"),c._scroll()}):a.preventDefault()):(a.preventDefault(),c._showMessage(g.format(d.messages.invalidFileType,h,e)))},_findFile:function(a){var b,c,d,e=this.dataSource.data(),f=y,g=w;for(a=a.toLowerCase(),b=0,d=e.length;d>b;b++)if("f"===e[b].get(f)&&e[b].get(g).toLowerCase()===a){c=e[b];break}return c},_createFile:function(a){var b,c,d=this,e=0,f={},h=y,i=d.dataSource.view(),j=d._findFile(a);if(j&&!d._showMessage(g.format(d.options.messages.overwriteFile,a),"confirm"))return null;if(j)return j;for(b=0,c=i.length;c>b;b++)if("f"===i[b].get(h)){e=b;break}return f[h]="f",f[w]=a,f[x]=0,d.dataSource.insert(++e,f)},createDirectory:function(){var a,b,c=this,d=0,e=y,f=w,h=c.dataSource.data(),i=c._nameDirectory(),j=new c.dataSource.reader.model;for(a=0,b=h.length;b>a;a++)"d"===h[a].get(e)&&(d=a);j.set(e,"d"),j.set(f,i),c.listView.one("dataBound",function(){var a=c.listView.items().filter("["+g.attr("uid")+"="+j.uid+"]"),b=a.find("input");a.length&&this.edit(a),this.element.scrollTop(a.attr("offsetTop")-this.element[0].offsetHeight),setTimeout(function(){b.select()})}).one("save",function(a){var b=a.model.get(f);b?a.model.set(f,c._nameExists(b,j.uid)?c._nameDirectory():b):a.model.set(f,i)}),c.dataSource.insert(++d,j)},_directoryKeyDown:function(a){13==a.keyCode&&a.currentTarget.blur()},_directoryBlur:function(){this.listView.save()},_nameExists:function(a,b){var c,d,e=this.dataSource.data(),f=y,g=w;for(c=0,d=e.length;d>c;c++)if("d"===e[c].get(f)&&e[c].get(g).toLowerCase()===a.toLowerCase()&&e[c].uid!==b)return!0;return!1},_nameDirectory:function(){var b,c,d,e="New folder",f=this.dataSource.data(),g=[],h=y,i=w;for(c=0,d=f.length;d>c;c++)"d"===f[c].get(h)&&f[c].get(i).toLowerCase().indexOf(e.toLowerCase())>-1&&g.push(f[c].get(i));if(a.inArray(e,g)>-1){c=2;do b=e+" ("+c+")",c++;while(a.inArray(b,g)>-1);e=b}return e},orderBy:function(a){this.dataSource.sort([{field:y,dir:"asc"},{field:a,dir:"asc"}])},search:function(a){this.dataSource.filter({field:w,operator:"contains",value:a})},_content:function(){var b=this;b.list=a('<ul class="k-reset k-floats k-tiles" />').appendTo(b.element).on("scroll"+t,j(b._scroll,b)).on("dblclick"+t,"li",j(b._dblClick,b)),b.listView=new g.ui.ListView(b.list,{dataSource:b.dataSource,template:b._itemTmpl(),editTemplate:b._editTmpl(),selectable:!0,autoBind:!1,dataBinding:function(a){b.toolbar.find(".k-delete").parent().addClass("k-state-disabled"),("remove"===a.action||"sync"===a.action)&&a.preventDefault()},dataBound:function(){b.dataSource.view().length?(b._tiles=this.items().filter("["+g.attr("type")+"=f]"),b._scroll()):this.wrapper.append(A({text:b.options.messages.emptyFolder}))},change:j(b._listViewChange,b)})},_dblClick:function(b){var c=this,e=a(b.currentTarget);if(e.hasClass("k-edit-item")&&c._directoryBlur(),e.filter("["+g.attr("type")+"=d]").length){var f=c.dataSource.getByUid(e.attr(g.attr("uid")));f&&(c.path(d(c.path(),f.get(w))),c.breadcrumbs.value(c.path()))}else e.filter("["+g.attr("type")+"=f]").length&&c.trigger(q)},_listViewChange:function(){var a=this._selectedItem();a&&(this.toolbar.find(".k-delete").parent().removeClass("k-state-disabled"),"f"===a.get(y)&&this.trigger(p))},_dataSource:function(){var a,b=this,c=b.options,d=c.transport,e=k({},z),f={field:w,dir:"asc"},h={type:d.type||"imagebrowser",sort:[e,f]};i(d)&&(d.path=j(b.path,b),h.transport=d),i(c.schema)?h.schema=c.schema:d.type&&i(g.data.schemas[d.type])&&(a=g.data.schemas[d.type]),b.dataSource&&b._errorHandler?b.dataSource.unbind(r,b._errorHandler):b._errorHandler=j(b._error,b),b.dataSource=g.data.DataSource.create(h).bind(r,b._errorHandler)},_navigation:function(){var b=this,c=a('<div class="k-floatwrap"><input/><input/></div>').appendTo(this.element);b.breadcrumbs=c.find("input:first").kendoBreadcrumbs({value:b.options.path,change:function(){b.path(this.value())}}).data("kendoBreadcrumbs"),b.searchBox=c.parent().find("input:last").kendoSearchBox({label:b.options.messages.search,change:function(){b.search(this.value())}}).data("kendoSearchBox")},_error:function(a){var b,c=this;c.trigger(r,a)||(b=a.xhr.status,"error"==a.status?"404"==b?c._showMessage(c.options.messages.directoryNotFound):"0"!=b&&c._showMessage("Error! The requested URL returned "+b+" - "+a.xhr.statusText):"timeout"==b&&c._showMessage("Error! Server timeout."))},_showMessage:function(a,b){return window[b||"alert"](a)},refresh:function(){var a=this;a._navigation(),a._toolbar(),a._content()},_loadImage:function(b){var c=this,d=a(b),e=c.dataSource.getByUid(d.attr(g.attr("uid"))),f=e.get(w),h=c.options.transport.thumbnailUrl,i=a("<img />",{alt:f}),j="?";i.hide().on("load"+t,function(){a(this).prev().remove().end().addClass("k-image").fadeIn()}),d.find(".k-loading").after(i),n(h)?h=h(c.path(),encodeURIComponent(f)):(h.indexOf("?")>=0&&(j="&"),h=h+j+"path="+c.path()+encodeURIComponent(f)),i.attr("src",h),b.loaded=!0},_scroll:function(){var a=this;a.options.transport&&a.options.transport.thumbnailUrl&&(clearTimeout(a._timeout),a._timeout=setTimeout(function(){var b=a.list.outerHeight(),c=a.list.scrollTop(),d=c+b;a._tiles.each(function(){var b=C(this),e=b+this.offsetHeight;return(b>=c&&d>b||e>=c&&d>e)&&a._loadImage(this),b>d?!1:void 0}),a._tiles=a._tiles.filter(function(){return!this.loaded})},250))},_editTmpl:function(){var a='<li class="k-tile k-state-selected" '+g.attr("uid")+'="#=uid#" ';return a+=g.attr("type")+'="${'+y+'}">',a+="#if("+y+' == "d") { #',a+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',a+="#}else{#",a+='<div class="k-thumb"><span class="k-icon k-loading"></span></div>',a+="#}#",a+="#if("+y+' == "d") { #',a+='<input class="k-input" '+g.attr("bind")+'="value:'+w+'"/>',a+="#}#",a+="</li>",j(g.template(a),{sizeFormatter:e})},_itemTmpl:function(){var a=this,b='<li class="k-tile" '+g.attr("uid")+'="#=uid#" ';return b+=g.attr("type")+'="${'+y+'}">',b+="#if("+y+' == "d") { #',b+='<div class="k-thumb"><span class="k-icon k-folder"></span></div>',b+="#}else{#",b+=a.options.transport&&a.options.transport.thumbnailUrl?'<div class="k-thumb"><span class="k-icon k-loading"></span></div>':'<div class="k-thumb"><span class="k-icon k-file"></span></div>',b+="#}#",b+="<strong>${"+w+"}</strong>",b+="#if("+y+' == "f") { # <span class="k-filesize">${this.sizeFormatter('+x+")}</span> #}#",b+="</li>",j(g.template(b),{sizeFormatter:e})},path:function(a){var c=this,d=c._path||"";return a!==b?(c._path=a.replace(o,"")+"/",void c.dataSource.read({path:c._path})):(d&&(d=d.replace(o,"")),"/"===d||""===d?"":d+"/")}}),E=h.extend({init:function(a,b){var c=this;b=b||{},h.fn.init.call(c,a,b),l&&c.element.attr("placeholder",c.options.label),c._wrapper(),c.element.on("keydown"+v,j(c._keydown,c)).on("change"+v,j(c._updateValue,c)),c.wrapper.on(s+v,"a",j(c._click,c)),l||c.element.on("focus"+v,j(c._focus,c)).on("blur"+v,j(c._blur,c))},options:{name:"SearchBox",label:"Search",value:""},events:[p],destroy:function(){var a=this;a.wrapper.add(a.element).add(a.label).off(v),h.fn.destroy.call(a)},_keydown:function(a){13===a.keyCode&&this._updateValue()},_click:function(a){a.preventDefault(),this._updateValue()},_updateValue:function(){var a=this,b=a.element.val();b!==a.value()&&(a.value(b),a.trigger(p))},_blur:function(){this._updateValue(),this._toggleLabel()},_toggleLabel:function(){l||this.label.toggle(!this.element.val())},_focus:function(){this.label.hide()},_wrapper:function(){var b=this.element,c=b.parents(".k-search-wrap");b[0].style.width="",b.addClass("k-input"),c.length||(c=b.wrap(a('<div class="k-widget k-search-wrap k-textbox"/>')).parent(),l||a('<label style="display:block">'+this.options.label+"</label>").insertBefore(b),a('<a href="#" class="k-icon k-i-search k-search"/>').appendTo(c)),this.wrapper=c,this.label=c.find(">label")},value:function(a){var c=this;return a!==b?(c.options.value=a,c.element.val(a),void c._toggleLabel()):c.options.value}}),F=h.extend({init:function(a,b){var c=this;b=b||{},h.fn.init.call(c,a,b),c._wrapper(),c.wrapper.on("focus"+u,"input",j(c._focus,c)).on("blur"+u,"input",j(c._blur,c)).on("keydown"+u,"input",j(c._keydown,c)).on(s+u,"a.k-i-arrow-n:first",j(c._rootClick,c)).on(s+u,"a:not(.k-i-arrow-n)",j(c._click,c)),c.value(c.options.value)},options:{name:"Breadcrumbs",gap:50},events:[p],destroy:function(){var a=this;h.fn.destroy.call(a),a.wrapper.add(a.wrapper.find("input")).add(a.wrapper.find("a")).off(u)},_update:function(a){a="/"===(a||"").charAt(0)?a:"/"+(a||""),a!==this.value()&&(this.value(a),this.trigger(p))},_click:function(b){b.preventDefault(),this._update(this._path(a(b.target).prevAll("a:not(.k-i-arrow-n)").addBack()))},_rootClick:function(a){a.preventDefault(),this._update("")},_focus:function(){var a=this,b=a.element;a.overlay.hide(),a.element.val(a.value()),setTimeout(function(){b.select()})},_blur:function(){if(!this.overlay.is(":visible")){var a=this,b=a.element,c=b.val().replace(/\/{2,}/g,"/");a.overlay.show(),b.val(""),a._update(c)}},_keydown:function(a){var b=this;13===a.keyCode&&(b._blur(),setTimeout(function(){b.overlay.find("a:first").focus()}))},_wrapper:function(){var b,c=this.element,d=c.parents(".k-breadcrumbs");c[0].style.width="",c.addClass("k-input"),d.length||(d=c.wrap(a('<div class="k-widget k-breadcrumbs k-textbox"/>')).parent()),b=d.find(".k-breadcrumbs-wrap"),b.length||(b=a('<div class="k-breadcrumbs-wrap"/>').appendTo(d)),this.wrapper=d,this.overlay=b},refresh:function(){var c,d,e,f,g="",h=this.value();for(h!==b&&h.match(/^\//)||(h="/"+(h||"")),c=h.split("/"),e=0,f=c.length;f>e;e++)d=c[e],d&&(g||(g+='<a href="#" class="k-icon k-i-arrow-n">root</a>'),g+='<a class="k-link" href="#">'+c[e]+"</a>",g+='<span class="k-icon k-i-arrow-e">&gt;</span>');this.overlay.empty().append(a(g)),this._adjustSectionWidth()},_adjustSectionWidth:function(){var b,c=this,d=c.wrapper,e=d.width()-c.options.gap,f=c.overlay.find("a");f.each(function(c){b=a(this),b.parent().width()>e&&(c==f.length-1?b.width(e):b.prev().addBack().hide())})},value:function(a){return a!==b?(this._value=a.replace(/\/{2,}/g,"/"),void this.refresh()):this._value},_path:function(b){return"/"+a.map(b,function(b){return a(b).text()}).join("/")}});g.ui.plugin(D),g.ui.plugin(F),g.ui.plugin(E)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.Class,e=c.ui.Widget,f=c.support.mobileOS,g=c.support.browser,h=a.extend,i=a.proxy,j=c.deepExtend,k=".kendoEditor",l=c.keys,m=d.extend({init:function(a){this.options=a},getHtml:function(){var a=this.options;return c.template(a.template,{useWithBlock:!1})(a)}}),n={editorWrapperTemplate:'<table cellspacing="4" cellpadding="0" class="k-widget k-editor k-header" role="presentation"><tbody><tr role="presentation"><td class="k-editor-toolbar-wrap" role="presentation"><ul class="k-editor-toolbar" role="toolbar" /></td></tr><tr><td class="k-editable-area" /></tr></tbody></table>',buttonTemplate:'<a href="" role="button" class="k-tool"#= data.popup ? " data-popup" : "" # unselectable="on" title="#= data.title #"><span class="k-tool-icon #= data.cssClass #">#= data.title #</span></a>',colorPickerTemplate:'<div class="k-colorpicker #= data.cssClass #" />',comboBoxTemplate:'<select title="#= data.title #" class="#= data.cssClass #" />',dropDownListTemplate:'<span class="k-editor-dropdown"><select title="#= data.title #" class="#= data.cssClass #" /></span>',separatorTemplate:'<span class="k-separator" />',formatByName:function(b,c){for(var d=0;d<c.length;d++)if(a.inArray(b,c[d].tags)>=0)return c[d]},registerTool:function(a,b){var c=b.options;c&&c.template&&(c.template.options.cssClass="k-"+a),b.name||(b.options.name=a,b.name=a.toLowerCase()),r.defaultTools[a]=b},registerFormat:function(a,b){r.fn.options.formats[a]=b}},o={bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",superscript:"Superscript",subscript:"Subscript",justifyCenter:"Center text",justifyLeft:"Align text left",justifyRight:"Align text right",justifyFull:"Justify",insertUnorderedList:"Insert unordered list",insertOrderedList:"Insert ordered list",indent:"Indent",outdent:"Outdent",createLink:"Insert hyperlink",unlink:"Remove hyperlink",insertImage:"Insert image",insertHtml:"Insert HTML",viewHtml:"View HTML",fontName:"Select font family",fontNameInherit:"(inherited font)",fontSize:"Select font size",fontSizeInherit:"(inherited size)",formatBlock:"Format",formatting:"Format",foreColor:"Color",backColor:"Background color",style:"Styles",emptyFolder:"Empty Folder",uploadFile:"Upload",orderBy:"Arrange by:",orderBySize:"Size",orderByName:"Name",invalidFileType:'The selected file "{0}" is not valid. Supported file types are {1}.',deleteFile:'Are you sure you want to delete "{0}"?',overwriteFile:'A file with name "{0}" already exists in the current directory. Do you want to overwrite it?',directoryNotFound:"A directory with this name was not found.",imageWebAddress:"Web address",imageAltText:"Alternate text",imageWidth:"Width (px)",imageHeight:"Height (px)",linkWebAddress:"Web address",linkText:"Text",linkToolTip:"ToolTip",linkOpenInNewWindow:"Open link in new window",dialogUpdate:"Update",dialogInsert:"Insert",dialogButtonSeparator:"or",dialogCancel:"Cancel",createTable:"Create table",addColumnLeft:"Add column on the left",addColumnRight:"Add column on the right",addRowAbove:"Add row above",addRowBelow:"Add row below",deleteRow:"Delete row",deleteColumn:"Delete column"},p=!f||f.ios&&f.flatVersion>=500||!f.ios&&"undefined"!=typeof document.documentElement.contentEditable,q={basic:["bold","italic","underline"],alignment:["justifyLeft","justifyCenter","justifyRight"],lists:["insertUnorderedList","insertOrderedList"],indenting:["indent","outdent"],links:["createLink","unlink"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"]},r=e.extend({init:function(b,d){var f,g,l,m,n=this,o=c.ui.editor;p&&(e.fn.init.call(n,b,d),n.options=j({},n.options,d),b=n.element,m=o.Dom.name(b[0]),b.closest("form").on("submit"+k,function(){n.update()}),l=h({},n.options),l.editor=n,"textarea"==m?(n._wrapTextarea(),g=n.wrapper.find(".k-editor-toolbar"),b[0].id&&g.attr("aria-controls",b[0].id)):(n.element.attr("contenteditable",!0).addClass("k-widget k-editor k-editor-inline"),l.popup=!0,g=a('<ul class="k-editor-toolbar" role="toolbar" />').insertBefore(b)),n.toolbar=new o.Toolbar(g[0],l),n.toolbar.bindTo(n),n._initializeContentElement(n),n.keyboard=new o.Keyboard([new o.TypingHandler(n),new o.SystemHandler(n)]),n.clipboard=new o.Clipboard(this),n.undoRedoStack=new o.UndoRedoStack,f=d&&d.value?d.value:n.textarea?b.val().replace(/[\r\n\v\f\t ]+/gi," "):b[0].innerHTML,n.value(f),a(document).on("mousedown",i(n._endTyping,n)).on("mouseup",i(n._mouseup,n)),c.notify(n))},_endTyping:function(){var a=this.keyboard;try{a.isTypingInProgress()&&(a.endTyping(!0),this.saveSelection())}catch(b){}},_selectionChange:function(){g.msie||c.ui.editor.Dom.ensureTrailingBreaks(this.body),this._selectionStarted=!1,this.saveSelection(),this.trigger("select",{})},_wrapTextarea:function(){var b=this,c=b.element,d=c[0].style.width,e=c[0].style.height,f=n.editorWrapperTemplate,g=a(f).insertBefore(c).width(d).height(e),h=g.find(".k-editable-area");c.attr("autocomplete","off").appendTo(h).addClass("k-content k-raw-content").css("display","none"),b.textarea=c,b.wrapper=g},_createContentElement:function(b){var d,e,f,g=this,h=g.textarea,i=document.domain,j='javascript:""';return i!=location.hostname&&(j="javascript:document.write('<script>document.domain=\""+i+"\"</script>')"),h.hide(),d=a("<iframe />",{frameBorder:"0"})[0],a(d).css("display","").addClass("k-content").insertBefore(h),d.src=j,e=d.contentWindow||d,f=e.document||d.contentDocument,a(d).one("load",function(){g.toolbar.decorateFrom(f.body)}),f.open(),f.write("<!DOCTYPE html><html><head><meta charset='utf-8' /><style>html,body{padding:0;margin:0;height:100%;min-height:100%;}body{font-size:12px;font-family:Verdana,Geneva,sans-serif;padding-top:1px;margin-top:-1px;word-wrap: break-word;-webkit-nbsp-mode: space;-webkit-line-break: after-white-space;"+(c.support.isRtl(h)?"direction:rtl;":"")+"}h1{font-size:2em;margin:.67em 0}h2{font-size:1.5em}h3{font-size:1.16em}h4{font-size:1em}h5{font-size:.83em}h6{font-size:.7em}p{margin:0 0 1em;padding:0 .2em}.k-marker{display:none;}.k-paste-container,.Apple-style-span{position:absolute;left:-10000px;width:1px;height:1px;overflow:hidden}ul,ol{padding-left:2.5em}span{-ms-high-contrast-adjust:none;}a{color:#00a}code{font-size:1.23em}telerik\\3Ascript{display: none;}.k-table{table-layout:fixed;width:100%;border-spacing:0;margin: 0 0 1em;}.k-table td{min-width:1px;padding:.2em .3em;}.k-table,.k-table td{outline:0;border: 1px dotted #ccc;}.k-table p{margin:0;padding:0;}</style><script>(function(d,c){d[c]('header'),d[c]('article'),d[c]('nav'),d[c]('section'),d[c]('footer');})(document, 'createElement');</script>"+a.map(b,function(a){return"<link rel='stylesheet' href='"+a+"'>"}).join("")+"</head><body autocorrect='off' contenteditable='true'></body></html>"),f.close(),e},_blur:function(){var a=this.textarea,b=a?a.val():this._oldValue,c=this.options.encoded?this.encodedValue():this.value();this.update(),a&&a.trigger("blur"),c!=b&&this.trigger("change")},_initializeContentElement:function(){var b,d,e=this;e.textarea?(e.window=e._createContentElement(e.options.stylesheets),b=e.document=e.window.contentDocument||e.window.document,e.body=b.body,d=e.window,a(b).on("mouseup"+k,i(e._mouseup,e))):(e.window=window,b=e.document=document,e.body=e.element[0],d=e.body,e.toolbar.decorateFrom(e.body)),a(d).on("blur"+k,i(this._blur,this));try{b.execCommand("enableInlineTableEditing",null,!1)}catch(f){}c.support.touch&&a(b).on("selectionchange"+k,i(this._selectionChange,this)).on("keydown"+k,function(){c._activeElement()!=b.body&&e.window.focus()}),a(e.body).on("keydown"+k,function(a){var b;if(a.keyCode===l.F10)return setTimeout(i(e.toolbar.focus,e.toolbar),100),void a.preventDefault();if(a.keyCode===l.BACKSPACE){b=e.getRange();var d,f=g.msie?"":'<br _moz_dirty="" />',h=c.ui.editor.Dom;b.deleteContents(),d=b.commonAncestorContainer,"p"===h.name(d)&&""===d.innerHTML&&(d.innerHTML=f,b.setStart(d,0),b.collapse(!0),e.selectRange(b))}else if(a.keyCode==l.LEFT||a.keyCode==l.RIGHT){b=e.getRange();var j=a.keyCode==l.LEFT,k=b[j?"startContainer":"endContainer"],m=b[j?"startOffset":"endOffset"],n=j?-1:1;j&&(m-=1),m+n>0&&3==k.nodeType&&"﻿"==k.nodeValue[m]&&(b.setStart(k,m+n),b.collapse(!0),e.selectRange(b))
}var o=e.keyboard.toolFromShortcut(e.toolbar.tools,a);return o?(a.preventDefault(),/^(undo|redo)$/.test(o)||e.keyboard.endTyping(!0),e.trigger("keydown",a),e.exec(o),!1):(e.keyboard.clearTimeout(),void e.keyboard.keydown(a))}).on("keyup"+k,function(b){var c=[8,9,33,34,35,36,37,38,39,40,40,45,46];(a.inArray(b.keyCode,c)>-1||65==b.keyCode&&b.ctrlKey&&!b.altKey&&!b.shiftKey)&&e._selectionChange(),e.keyboard.keyup(b)}).on("mousedown"+k,function(b){e._selectionStarted=!0;var c=a(b.target);!g.gecko&&2==b.which&&c.is("a[href]")&&window.open(c.attr("href"),"_new")}).on("click"+k,function(a){var b,d=c.ui.editor.Dom;"img"===d.name(a.target)&&(b=e.createRange(),b.selectNode(a.target),e.selectRange(b))}).on("cut"+k+" paste"+k,function(a){e.clipboard["on"+a.type](a)}).on("focusin"+k,function(){a(this).addClass("k-state-active"),e.toolbar.show()}).on("focusout"+k,function(){setTimeout(function(){var b=c._activeElement(),d=e.body,f=e.toolbar;b==d||a.contains(d,b)||f.focused()||(a(d).removeClass("k-state-active"),f.hide())},10)})},_mouseup:function(){var a=this;a._selectionStarted&&setTimeout(function(){a._selectionChange()},1)},refresh:function(){var a=this;a.textarea&&(a.textarea.val(a.value()),a.wrapper.find("iframe").remove(),a._initializeContentElement(a),a.value(a.textarea.val()))},events:["select","change","execute","error","paste","keydown","keyup"],options:{name:"Editor",messages:o,formats:{},encoded:!0,serialization:{entities:!0},stylesheets:[],dialogOptions:{modal:!0,resizable:!1,draggable:!0,animation:!1},fontName:[{text:"Arial",value:"Arial,Helvetica,sans-serif"},{text:"Courier New",value:"'Courier New',Courier,monospace"},{text:"Georgia",value:"Georgia,serif"},{text:"Impact",value:"Impact,Charcoal,sans-serif"},{text:"Lucida Console",value:"'Lucida Console',Monaco,monospace"},{text:"Tahoma",value:"Tahoma,Geneva,sans-serif"},{text:"Times New Roman",value:"'Times New Roman',Times,serif"},{text:"Trebuchet MS",value:"'Trebuchet MS',Helvetica,sans-serif"},{text:"Verdana",value:"Verdana,Geneva,sans-serif"}],fontSize:[{text:"1 (8pt)",value:"xx-small"},{text:"2 (10pt)",value:"x-small"},{text:"3 (12pt)",value:"small"},{text:"4 (14pt)",value:"medium"},{text:"5 (18pt)",value:"large"},{text:"6 (24pt)",value:"x-large"},{text:"7 (36pt)",value:"xx-large"}],formatBlock:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],tools:[].concat.call(["formatting"],q.basic,q.alignment,q.lists,q.indenting,q.links,["insertImage"],q.tables)},destroy:function(){var b=this;e.fn.destroy.call(b),a(b.window).add(b.document).add(b.body).add(b.wrapper).add(b.element.closest("form")).off(k),a(document).off("mousedown",i(b._endTyping,b)).off("mouseup",i(b._mouseup,b)),b.toolbar.destroy(),c.destroy(b.wrapper)},state:function(a){var b,d,e=r.defaultTools[a],f=e&&(e.options.finder||e.finder),g=c.ui.editor.RangeUtils;return f?(b=this.getRange(),d=g.textNodes(b),!d.length&&b.collapsed&&(d=[b.startContainer]),f.getFormat?f.getFormat(d):f.isFormatted(d)):!1},value:function(a){var d=this.body,e=c.ui.editor,f=(e.Dom,e.Serializer.domToXhtml(d,this.options.serialization));return a===b?f:void(a!=f&&(e.Serializer.htmlToDom(a,d),this.selectionRestorePoint=null,this.update()))},saveSelection:function(b){b=b||this.getRange();var d=b.commonAncestorContainer,e=this.body;(d==e||a.contains(e,d))&&(this.selectionRestorePoint=new c.ui.editor.RestorePoint(b))},_focusBody:function(){var a=this.body,b=this.document.documentElement;if(c._activeElement()!=a){var d=b.scrollTop;a.focus(),b.scrollTop=d}},restoreSelection:function(){this._focusBody(),this.selectionRestorePoint&&this.selectRange(this.selectionRestorePoint.toRange())},focus:function(){this.restoreSelection()},update:function(a){a=a||this.options.encoded?this.encodedValue():this.value(),this.textarea?this.textarea.val(a):this._oldValue=a},encodedValue:function(){return c.ui.editor.Dom.encode(this.value())},createRange:function(a){return c.ui.editor.RangeUtils.createRange(a||this.document)},getSelection:function(){return c.ui.editor.SelectionUtils.selectionFromDocument(this.document)},selectRange:function(a){this._focusBody();var b=this.getSelection();b.removeAllRanges(),b.addRange(a),this.saveSelection(a)},getRange:function(){var a=this.getSelection(),b=a.rangeCount>0?a.getRangeAt(0):this.createRange(),c=this.document;return b.startContainer!=c||b.endContainer!=c||b.startOffset||b.endOffset||(b.setStart(this.body,0),b.collapse(!0)),b},selectedHtml:function(){return c.ui.editor.Serializer.domToXhtml(this.getRange().cloneContents())},paste:function(a,b){this.clipboard.paste(a,b)},exec:function(a,b){var c,d,e=this,f=null;if(!a)throw new Error("kendoEditor.exec(): `name` parameter cannot be empty");if(a=a.toLowerCase(),e.keyboard.isTypingInProgress()||e.restoreSelection(),d=e.toolbar.toolById(a),!d)for(var g in r.defaultTools)if(g.toLowerCase()==a){d=r.defaultTools[g];break}if(d){if(c=e.getRange(),d.command&&(f=d.command(h({range:c},b))),e.trigger("execute",{name:a,command:f}),/^(undo|redo)$/i.test(a))e.undoRedoStack[a]();else if(f&&(f.managesUndoRedo||e.undoRedoStack.push(f),f.editor=e,f.exec(),f.async))return void(f.change=i(e._selectionChange,e));e._selectionChange()}}});r.defaultTools={undo:{options:{key:"Z",ctrl:!0}},redo:{options:{key:"Y",ctrl:!0}}},c.ui.plugin(r);var s=d.extend({init:function(a){this.options=a},initialize:function(a,b){a.attr({unselectable:"on",title:b.title})},command:function(a){return new this.options.command(a)},update:a.noop});s.exec=function(a,b,c){a.exec(b,{value:c})};var t=s.extend({init:function(a){s.fn.init.call(this,a)},command:function(a){var b=this;return new c.ui.editor.FormatCommand(h(a,{formatter:b.options.formatter}))},update:function(a,b){var c=this.options.finder.isFormatted(b);a.toggleClass("k-state-selected",c),a.attr("aria-pressed",c)}});n.registerTool("separator",new s({template:new m({template:n.separatorTemplate})}));var u=g.msie&&g.version<9?"﻿":"";h(c.ui,{editor:{ToolTemplate:m,EditorUtils:n,Tool:s,FormatTool:t,_bomFill:u,emptyElementContent:g.msie?"﻿":'<br _moz_dirty="" />'}})}(window.jQuery),function(a){function b(a){var b,c,d={};for(b=0,c=a.length;c>b;b++)d[a[b]]=!0;return d}var c=window.kendo,d=a.map,e=a.extend,f=c.support.browser,g="style",h="float",i="cssFloat",j="styleFloat",k="class",l="k-marker",m=b("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed".split(",")),n="div,p,h1,h2,h3,h4,h5,h6,address,applet,blockquote,button,center,dd,dir,dl,dt,fieldset,form,frameset,hr,iframe,isindex,map,menu,noframes,noscript,object,pre,script,table,tbody,td,tfoot,th,thead,tr,header,article,nav,footer,section,aside,main,figure,figcaption".split(","),o=n.concat(["ul","ol","li"]),p=b(o),q="span,em,a,abbr,acronym,applet,b,basefont,bdo,big,br,button,cite,code,del,dfn,font,i,iframe,img,input,ins,kbd,label,map,object,q,s,samp,script,select,small,strike,strong,sub,sup,textarea,tt,u,var,data,time,mark,ruby".split(","),r=b(q),s=b("checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected".split(",")),t=function(a){1==a.nodeType&&a.normalize()};f.msie&&f.version>=8&&(t=function(a){if(1==a.nodeType&&a.firstChild)for(var b=a.firstChild,c=b;;){if(c=c.nextSibling,!c)break;3==c.nodeType&&3==b.nodeType&&(c.nodeValue=b.nodeValue+c.nodeValue,D.remove(b)),b=c}});var u,v=/^\s+$/,w=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/i,x=/\ufeff/g,y=/^(\s+|\ufeff)$/,z="color,padding-left,padding-right,padding-top,padding-bottom,background-color,background-attachment,background-image,background-position,background-repeat,border-top-style,border-top-width,border-top-color,border-bottom-style,border-bottom-width,border-bottom-color,border-left-style,border-left-width,border-left-color,border-right-style,border-right-width,border-right-color,font-family,font-size,font-style,font-variant,font-weight,line-height".split(","),A=/[<>\&]/g,B=/[\u00A0-\u2666<>\&]/g,C={34:"quot",38:"amp",39:"apos",60:"lt",62:"gt",160:"nbsp",161:"iexcl",162:"cent",163:"pound",164:"curren",165:"yen",166:"brvbar",167:"sect",168:"uml",169:"copy",170:"ordf",171:"laquo",172:"not",173:"shy",174:"reg",175:"macr",176:"deg",177:"plusmn",178:"sup2",179:"sup3",180:"acute",181:"micro",182:"para",183:"middot",184:"cedil",185:"sup1",186:"ordm",187:"raquo",188:"frac14",189:"frac12",190:"frac34",191:"iquest",192:"Agrave",193:"Aacute",194:"Acirc",195:"Atilde",196:"Auml",197:"Aring",198:"AElig",199:"Ccedil",200:"Egrave",201:"Eacute",202:"Ecirc",203:"Euml",204:"Igrave",205:"Iacute",206:"Icirc",207:"Iuml",208:"ETH",209:"Ntilde",210:"Ograve",211:"Oacute",212:"Ocirc",213:"Otilde",214:"Ouml",215:"times",216:"Oslash",217:"Ugrave",218:"Uacute",219:"Ucirc",220:"Uuml",221:"Yacute",222:"THORN",223:"szlig",224:"agrave",225:"aacute",226:"acirc",227:"atilde",228:"auml",229:"aring",230:"aelig",231:"ccedil",232:"egrave",233:"eacute",234:"ecirc",235:"euml",236:"igrave",237:"iacute",238:"icirc",239:"iuml",240:"eth",241:"ntilde",242:"ograve",243:"oacute",244:"ocirc",245:"otilde",246:"ouml",247:"divide",248:"oslash",249:"ugrave",250:"uacute",251:"ucirc",252:"uuml",253:"yacute",254:"thorn",255:"yuml",402:"fnof",913:"Alpha",914:"Beta",915:"Gamma",916:"Delta",917:"Epsilon",918:"Zeta",919:"Eta",920:"Theta",921:"Iota",922:"Kappa",923:"Lambda",924:"Mu",925:"Nu",926:"Xi",927:"Omicron",928:"Pi",929:"Rho",931:"Sigma",932:"Tau",933:"Upsilon",934:"Phi",935:"Chi",936:"Psi",937:"Omega",945:"alpha",946:"beta",947:"gamma",948:"delta",949:"epsilon",950:"zeta",951:"eta",952:"theta",953:"iota",954:"kappa",955:"lambda",956:"mu",957:"nu",958:"xi",959:"omicron",960:"pi",961:"rho",962:"sigmaf",963:"sigma",964:"tau",965:"upsilon",966:"phi",967:"chi",968:"psi",969:"omega",977:"thetasym",978:"upsih",982:"piv",8226:"bull",8230:"hellip",8242:"prime",8243:"Prime",8254:"oline",8260:"frasl",8472:"weierp",8465:"image",8476:"real",8482:"trade",8501:"alefsym",8592:"larr",8593:"uarr",8594:"rarr",8595:"darr",8596:"harr",8629:"crarr",8656:"lArr",8657:"uArr",8658:"rArr",8659:"dArr",8660:"hArr",8704:"forall",8706:"part",8707:"exist",8709:"empty",8711:"nabla",8712:"isin",8713:"notin",8715:"ni",8719:"prod",8721:"sum",8722:"minus",8727:"lowast",8730:"radic",8733:"prop",8734:"infin",8736:"ang",8743:"and",8744:"or",8745:"cap",8746:"cup",8747:"int",8756:"there4",8764:"sim",8773:"cong",8776:"asymp",8800:"ne",8801:"equiv",8804:"le",8805:"ge",8834:"sub",8835:"sup",8836:"nsub",8838:"sube",8839:"supe",8853:"oplus",8855:"otimes",8869:"perp",8901:"sdot",8968:"lceil",8969:"rceil",8970:"lfloor",8971:"rfloor",9001:"lang",9002:"rang",9674:"loz",9824:"spades",9827:"clubs",9829:"hearts",9830:"diams",338:"OElig",339:"oelig",352:"Scaron",353:"scaron",376:"Yuml",710:"circ",732:"tilde",8194:"ensp",8195:"emsp",8201:"thinsp",8204:"zwnj",8205:"zwj",8206:"lrm",8207:"rlm",8211:"ndash",8212:"mdash",8216:"lsquo",8217:"rsquo",8218:"sbquo",8220:"ldquo",8221:"rdquo",8222:"bdquo",8224:"dagger",8225:"Dagger",8240:"permil",8249:"lsaquo",8250:"rsaquo",8364:"euro"},D={block:p,inline:r,findNodeIndex:function(a,b){for(var c=0;;){if(a=a.previousSibling,!a)break;b&&3==a.nodeType||c++}return c},isDataNode:function(a){return a&&null!==a.nodeValue&&null!==a.data},isAncestorOf:function(b,c){try{return!D.isDataNode(b)&&(a.contains(b,D.isDataNode(c)?c.parentNode:c)||c.parentNode==b)}catch(d){return!1}},isAncestorOrSelf:function(a,b){return D.isAncestorOf(a,b)||a==b},findClosestAncestor:function(a,b){if(D.isAncestorOf(a,b))for(;b&&b.parentNode!=a;)b=b.parentNode;return b},getNodeLength:function(a){return D.isDataNode(a)?a.length:a.childNodes.length},splitDataNode:function(a,b){for(var c=a.cloneNode(!1),d="",e=a;e.nextSibling&&3==e.nextSibling.nodeType&&e.nextSibling.nodeValue;)d+=e.nextSibling.nodeValue,e=e.nextSibling;a.deleteData(b,a.length),c.deleteData(0,b),c.nodeValue+=d,D.insertAfter(c,a)},attrEquals:function(a,b){for(var d in b){var e=a[d];if(d==h&&(e=a[c.support.cssFloat?i:j]),"object"==typeof e){if(!D.attrEquals(e,b[d]))return!1}else if(e!=b[d])return!1}return!0},blockParentOrBody:function(a){return D.parentOfType(a,o)||a.ownerDocument.body},blockParents:function(b){var c,d,e=[];for(c=0,d=b.length;d>c;c++){var f=D.parentOfType(b[c],D.blockElements);f&&a.inArray(f,e)<0&&e.push(f)}return e},windowFromDocument:function(a){return a.defaultView||a.parentWindow},normalize:t,blockElements:o,nonListBlockElements:n,inlineElements:q,empty:m,fillAttrs:s,toHex:function(a){var b=w.exec(a);return b?"#"+d(b.slice(1),function(a){return a=parseInt(a,10).toString(16),a.length>1?a:"0"+a}).join(""):a},encode:function(a,b){var c=!b||b.entities?B:A;return a.replace(c,function(a){var b=a.charCodeAt(0),c=C[b];return c?"&"+c+";":a})},stripBom:function(a){return(a||"").replace(x,"")},insignificant:function(a){var b=a.attributes;return"k-marker"==a.className||D.is(a,"br")&&(b._moz_dirty||b._moz_editor_bogus_node)},emptyNode:function(b){var c=a.grep(b.childNodes,function(a){return D.is(a,"br")?!1:D.insignificant(a)?!1:3==a.nodeType&&y.test(a.nodeValue)?!1:D.is(a,"p")&&D.emptyNode(a)?!1:!0});return!c.length},name:function(a){return a.nodeName.toLowerCase()},significantChildNodes:function(b){return a.grep(b.childNodes,function(a){return 3!=a.nodeType||!D.isWhitespace(a)})},lastTextNode:function(a){var b=null;if(3==a.nodeType)return a;for(var c=a.lastChild;c;c=c.previousSibling)if(b=D.lastTextNode(c))return b;return b},is:function(a,b){return D.name(a)==b},isMarker:function(a){return a.className==l},isWhitespace:function(a){return v.test(a.nodeValue)},isBlock:function(a){return p[D.name(a)]},isEmpty:function(a){return m[D.name(a)]},isInline:function(a){return r[D.name(a)]},scrollContainer:function(a){var b=D.windowFromDocument(a),d=(b.contentWindow||b).document||b.ownerDocument||b;return d=c.support.browser.webkit||"BackCompat"==d.compatMode?d.body:d.documentElement},scrollTo:function(b){var c,d,e=a(D.isDataNode(b)?b.parentNode:b),f=D.windowFromDocument(b.ownerDocument),g=f.innerHeight,h=D.scrollContainer(b.ownerDocument);"br"==D.name(e[0])&&(e=e.parent()),c=e.offset().top,d=e[0].offsetHeight,d+c>h.scrollTop+g&&(h.scrollTop=d+c-g)},persistScrollTop:function(a){u=D.scrollContainer(a).scrollTop},restoreScrollTop:function(a){D.scrollContainer(a).scrollTop=u},insertAt:function(a,b,c){a.insertBefore(b,a.childNodes[c]||null)},insertBefore:function(a,b){return b.parentNode?b.parentNode.insertBefore(a,b):b},insertAfter:function(a,b){return b.parentNode.insertBefore(a,b.nextSibling)},remove:function(a){a.parentNode.removeChild(a)},removeTextSiblings:function(a){for(var b=a.parentNode;a.nextSibling&&3==a.nextSibling.nodeType;)b.removeChild(a.nextSibling);for(;a.previousSibling&&3==a.previousSibling.nodeType;)b.removeChild(a.previousSibling)},trim:function(a){for(var b=a.childNodes.length-1;b>=0;b--){var c=a.childNodes[b];D.isDataNode(c)?(D.stripBom(c.nodeValue).length||D.remove(c),D.isWhitespace(c)&&D.insertBefore(c,a)):c.className!=l&&(D.trim(c),c.childNodes.length||D.isEmpty(c)||D.remove(c))}return a},closest:function(a,b){for(;a&&D.name(a)!=b;)a=a.parentNode;return a},sibling:function(a,b){do a=a[b];while(a&&1!=a.nodeType);return a},next:function(a){return D.sibling(a,"nextSibling")},prev:function(a){return D.sibling(a,"previousSibling")},parentOfType:function(a,b){do a=a.parentNode;while(a&&!D.ofType(a,b));return a},ofType:function(b,c){return a.inArray(D.name(b),c)>=0},changeTag:function(a,b){var c,d,e,f,h,i=D.create(a.ownerDocument,b),j=a.attributes;for(c=0,d=j.length;d>c;c++)h=j[c],h.specified&&(e=h.nodeName,f=h.nodeValue,e==k?i.className=f:e==g?i.style.cssText=a.style.cssText:i.setAttribute(e,f));for(;a.firstChild;)i.appendChild(a.firstChild);return D.insertBefore(i,a),D.remove(a),i},editableParent:function(a){for(;3==a.nodeType||"true"!==a.contentEditable;)a=a.parentNode;return a},wrap:function(a,b){return D.insertBefore(b,a),b.appendChild(a),b},unwrap:function(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)},create:function(a,b,c){return D.attr(a.createElement(b),c)},attr:function(a,b){b=e({},b),b&&g in b&&(D.style(a,b.style),delete b.style);for(var c in b)null===b[c]?(a.removeAttribute(c),delete b[c]):"className"==c&&(a[c]=b[c]);return e(a,b)},style:function(b,c){a(b).css(c||{})},unstyle:function(a,b){for(var d in b)d==h&&(d=c.support.cssFloat?i:j),a.style[d]="";""===a.style.cssText&&a.removeAttribute(g)},inlineStyle:function(b,c,e){var g,h=a(D.create(b.ownerDocument,c,e));return b.appendChild(h[0]),g=d(z,function(a){return f.msie&&"line-height"==a&&"1px"==h.css(a)?"line-height:1.5":a+":"+h.css(a)}).join(";"),h.remove(),g},getEffectiveBackground:function(a){var b=a.css("background-color");return b.indexOf("rgba(0, 0, 0, 0")<0&&"transparent"!==b?b:"html"===a[0].tagName.toLowerCase()?"Window":D.getEffectiveBackground(a.parent())},removeClass:function(b,c){var d,e,f=" "+b.className+" ",g=c.split(" ");for(d=0,e=g.length;e>d;d++)f=f.replace(" "+g[d]+" "," ");f=a.trim(f),f.length?b.className=f:b.removeAttribute(k)},commonAncestor:function(){var a,b,c,d,e,f=arguments.length,g=[],h=1/0,i=null;if(!f)return null;if(1==f)return arguments[0];for(a=0;f>a;a++){for(b=[],c=arguments[a];c;)b.push(c),c=c.parentNode;g.push(b.reverse()),h=Math.min(h,b.length)}if(1==f)return g[0][0];for(a=0;h>a;a++){for(d=g[0][a],e=1;f>e;e++)if(d!=g[e][a])return i;i=d}return i},closestSplittableParent:function(b){var c;c=1==b.length?D.parentOfType(b[0],["ul","ol"]):D.commonAncestor.apply(null,b),c||(c=D.parentOfType(b[0],["p","td"])||b[0].ownerDocument.body),D.isInline(c)&&(c=D.blockParentOrBody(c));var e=d(b,D.editableParent),f=D.commonAncestor(e)[0];return a.contains(c,f)&&(c=f),c},closestEditable:function(b,c){var d=D.parentOfType(b,c),e=D.editableParent(b);return d&&e&&a.contains(d,e)?d=e:!d&&e&&(d=e),d},closestEditableOfType:function(a,b){var c=D.closestEditable(a,b);return c&&D.ofType(c,b)?c:void 0},filter:function(a,b,c){for(var d,e=0,f=b.length,g=[];f>e;e++)d=D.name(b[e]),(!c&&d==a||c&&d!=a)&&g.push(b[e]);return g},ensureTrailingBreaks:function(b){var c=a(b).find("p,td,th"),d=c.length,e=0;if(d)for(;d>e;e++)D.ensureTrailingBreak(c[e]);else D.ensureTrailingBreak(b)},ensureTrailingBreak:function(a){var b,c=a.lastChild&&D.name(a.lastChild);(!c||"br"!=c&&"img"!=c)&&(b=a.ownerDocument.createElement("br"),b.setAttribute("_moz_dirty",!0),a.appendChild(b))}};c.ui.editor.Dom=D}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui.editor,e=d.Dom,f=a.extend,g="xx-small,x-small,small,medium,large,x-large,xx-large".split(","),h=/"/g,i=/<br[^>]*>/i,j=/^\d+(\.\d*)?(px)?$/i,k=/<p><\/p>/i,l=/([\w|\-]+)\s*:\s*([^;]+);?/i,m=/^sizzle-\d+/i,n=/\s*onerror\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/i,o=document.createElement("div");o.innerHTML=" <hr>";var p=3===o.firstChild.nodeType;o=null;var q={toEditableHtml:function(a){return a=a||"",a.replace(/<!\[CDATA\[(.*)?\]\]>/g,"<!--[CDATA[$1]]-->").replace(/<script([^>]*)>(.*)?<\/script>/gi,"<telerik:script$1>$2</telerik:script>").replace(/<img([^>]*)>/gi,function(a){return a.replace(n,"")}).replace(/(<\/?img[^>]*>)[\r\n\v\f\t ]+/gi,"$1")},_fillEmptyElements:function(b){a(b).find("p").each(function(){if(/^\s*$/g.test(a(this).text())){for(var b=this;b.firstChild&&3!=b.firstChild.nodeType;)b=b.firstChild;1!=b.nodeType||e.empty[e.name(b)]||(b.innerHTML=c.ui.editor.emptyElementContent)}})},_removeSystemElements:function(b){a(".k-paste-container",b).remove()},_resetOrderedLists:function(a){var b,c,d,e=a.getElementsByTagName("ol");for(b=0;b<e.length;b++)c=e[b],d=c.getAttribute("start"),c.setAttribute("start",1),d?c.setAttribute("start",d):c.removeAttribute(d)},htmlToDom:function(b,d){var f=c.support.browser,g=f.msie,h=g&&f.version<9;if(b=q.toEditableHtml(b),h){b="<br/>"+b;var i="originalsrc",j="originalhref";b=b.replace(/href\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,j+'="$1"'),b=b.replace(/src\s*=\s*(?:'|")?([^'">\s]*)(?:'|")?/,i+'="$1"')}return d.innerHTML=b,h?(e.remove(d.firstChild),a(d).find("telerik\\:script,script,link,img,a").each(function(){var a=this;a[j]&&(a.setAttribute("href",a[j]),a.removeAttribute(j)),a[i]&&(a.setAttribute("src",a[i]),a.removeAttribute(i))})):g&&(e.normalize(d),q._resetOrderedLists(d)),q._fillEmptyElements(d),q._removeSystemElements(d),a("table",d).addClass("k-table"),d},domToXhtml:function(c,d){function f(b){var c,d,f,g,i=a.trim,j=i(b).split(";"),k=j.length;for(c=0,k=j.length;k>c;c++)j[c].length&&(d=l.exec(j[c]),d&&(f=i(d[1].toLowerCase()),g=i(d[2]),"font-size-adjust"!=f&&"font-stretch"!=f&&(f.indexOf("color")>=0?g=e.toHex(g):f.indexOf("font")>=0?g=g.replace(h,"'"):/\burl\(/g.test(g)&&(g=g.replace(h,"")),s.push(f),s.push(":"),s.push(g),s.push(";"))))}function n(c){var d,g,h,i,k,l,n=[],o=c.attributes;if(e.is(c,"img")){var p=c.style.width,q=c.style.height,r=a(c);p&&j.test(p)&&(r.attr("width",parseInt(p,10)),e.unstyle(c,{width:b})),q&&j.test(q)&&(r.attr("height",parseInt(q,10)),e.unstyle(c,{height:b}))}for(g=0,h=o.length;h>g;g++)d=o[g],i=d.nodeName,k=d.nodeValue,l=d.specified,"value"==i&&"value"in c&&c.value?l=!0:"type"==i&&"text"==k?l=!0:"class"!=i||k?m.test(i)?l=!1:"complete"==i?l=!1:"altHtml"==i?l=!1:"start"==i&&(e.is(c,"ul")||e.is(c,"ol"))?l=!1:i.indexOf("_moz")>=0&&(l=!1):l=!1,l&&n.push(d);if(n.length)for(n.sort(function(a,b){return a.nodeName>b.nodeName?1:a.nodeName<b.nodeName?-1:0}),g=0,h=n.length;h>g;g++)d=n[g],i=d.nodeName,k=d.nodeValue,("contenteditable"!=i.toLowerCase()||!e.is(c,"table")&&!e.is(c,"td"))&&("class"!=i||"k-table"!=k)&&(s.push(" "),s.push(i),s.push('="'),"style"==i?f(k||c.style.cssText):s.push("src"==i||"href"==i?c.getAttribute(i,2):e.fillAttrs[i]?i:k),s.push('"'))}function o(a,b,c){for(var d=a.firstChild;d;d=d.nextSibling)r(d,b,c)}function q(a){return a.nodeValue.replace(/\ufeff/g,"")}function r(a,b,c){var f,g,h,i,j,k=a.nodeType;if(1==k){if(f=e.name(a),!f||e.insignificant(a))return;if(e.isInline(a)&&1==a.childNodes.length&&3==a.firstChild.nodeType&&!q(a.firstChild))return;if(g=t[f])return g.start(a),o(a,!1,g.skipEncoding),void g.end(a);s.push("<"),s.push(f),n(a),e.empty[f]?s.push(" />"):(s.push(">"),o(a,b||e.is(a,"pre")),s.push("</"),s.push(f),s.push(">"))}else 3==k?(i=q(a),!b&&p&&(h=a.parentNode,j=a.previousSibling,j||(j=(e.isInline(h)?h:a).previousSibling),(!j||""===j.innerHTML||e.isBlock(j))&&(i=i.replace(/^[\r\n\v\f\t ]+/,"")),i=i.replace(/ +/," ")),s.push(c?i:e.encode(i,d))):4==k?(s.push("<![CDATA["),s.push(a.data),s.push("]]>")):8==k&&(a.data.indexOf("[CDATA[")<0?(s.push("<!--"),s.push(a.data),s.push("-->")):(s.push("<!"),s.push(a.data),s.push(">")))}var s=[],t={"telerik:script":{start:function(a){s.push("<script"),n(a),s.push(">")},end:function(){s.push("</script>")},skipEncoding:!0},b:{start:function(){s.push("<strong>")},end:function(){s.push("</strong>")}},i:{start:function(){s.push("<em>")},end:function(){s.push("</em>")}},u:{start:function(){s.push('<span style="text-decoration:underline;">')},end:function(){s.push("</span>")}},iframe:{start:function(a){s.push("<iframe"),n(a),s.push(">")},end:function(){s.push("</iframe>")}},font:{start:function(a){s.push('<span style="');var b=a.getAttribute("color"),c=g[a.getAttribute("size")],d=a.getAttribute("face");b&&(s.push("color:"),s.push(e.toHex(b)),s.push(";")),d&&(s.push("font-face:"),s.push(d),s.push(";")),c&&(s.push("font-size:"),s.push(c),s.push(";")),s.push('">')},end:function(){s.push("</span>")}}};return 1==c.childNodes.length&&3==c.firstChild.nodeType?e.encode(q(c.firstChild).replace(/[\r\n\v\f\t ]+/," "),d):(o(c),s=s.join(""),""===s.replace(i,"").replace(k,"")?"":s)}};f(d,{Serializer:q})}(window.kendo.jQuery),function(a){function b(a,b,c,d){if(a==b)return d-c;for(var e=b;e&&e.parentNode!=a;)e=e.parentNode;if(e)return n(e)-c;for(e=a;e&&e.parentNode!=b;)e=e.parentNode;if(e)return d-n(e)-1;for(var f=m.commonAncestor(a,b),g=a;g&&g.parentNode!=f;)g=g.parentNode;g||(g=f);for(var h=b;h&&h.parentNode!=f;)h=h.parentNode;return h||(h=f),g==h?0:n(h)-n(g)}function c(a,c){function d(a){try{return b(a.startContainer,a.endContainer,a.startOffset,a.endOffset)<0}catch(c){return!0}}d(a)&&(c?(a.commonAncestorContainer=a.endContainer=a.startContainer,a.endOffset=a.startOffset):(a.commonAncestorContainer=a.startContainer=a.endContainer,a.startOffset=a.endOffset),a.collapsed=!0)}function d(a){a.collapsed=a.startContainer==a.endContainer&&a.startOffset==a.endOffset;for(var b=a.startContainer;b&&b!=a.endContainer&&!m.isAncestorOf(b,a.endContainer);)b=b.parentNode;a.commonAncestorContainer=b}function e(a){var b=a.duplicate(),c=a.duplicate();return b.collapse(!0),c.collapse(!1),m.commonAncestor(a.parentElement(),b.parentElement(),c.parentElement())}function f(a,b,c){var d,e=b[c?"startContainer":"endContainer"],f=b[c?"startOffset":"endOffset"],g=0,h=o(e),i=h?e:e.childNodes[f]||null,j=h?e.parentNode:e,k=b.ownerDocument,l=k.body.createTextRange();(3==e.nodeType||4==e.nodeType)&&(g=f),j||(j=k.body),"img"==j.nodeName.toLowerCase()?(l.moveToElementText(j),l.collapse(!1),a.setEndPoint(c?"StartToStart":"EndToStart",l)):(d=j.insertBefore(m.create(k,"a"),i),l.moveToElementText(d),m.remove(d),l[c?"moveStart":"moveEnd"]("character",g),l.collapse(!1),a.setEndPoint(c?"StartToStart":"EndToStart",l))}function g(a,b,c,d){var e,f,g,h,i,j,k,l=m.create(b.ownerDocument,"a"),p=a.duplicate(),q=d?"StartToStart":"StartToEnd";l.innerHTML="﻿",p.collapse(d),f=p.parentElement(),m.isAncestorOrSelf(c,f)||(f=c);do f.insertBefore(l,l.previousSibling),p.moveToElementText(l);while((e=p.compareEndPoints(q,a))>0&&l.previousSibling);g=l.nextSibling,-1==e&&o(g)?(p.setEndPoint(d?"EndToStart":"EndToEnd",a),m.remove(l),j=[g,p.text.length]):(h=!d&&l.previousSibling,i=d&&l.nextSibling,o(i)?j=[i,0]:o(h)?j=[h,h.length]:(k=n(l),j=f.nextSibling&&k==f.childNodes.length-1?[f.nextSibling,0]:[f,k]),m.remove(l)),b[d?"setStart":"setEnd"].apply(b,j)}var h=window.kendo,i=h.Class,j=a.extend,k=h.ui.editor,l=h.support.browser,m=k.Dom,n=m.findNodeIndex,o=m.isDataNode,p=m.findClosestAncestor,q=m.getNodeLength,r=m.normalize,s={selectionFromWindow:function(a){return"getSelection"in a?a.getSelection():new v(a.document)},selectionFromRange:function(a){var b=A.documentFromRange(a);return s.selectionFromDocument(b)},selectionFromDocument:function(a){return s.selectionFromWindow(m.windowFromDocument(a))}},t=i.extend({init:function(b){a.extend(this,{ownerDocument:b,startContainer:b,endContainer:b,commonAncestorContainer:b,startOffset:0,endOffset:0,collapsed:!0})},setStart:function(a,b){this.startContainer=a,this.startOffset=b,d(this),c(this,!0)},setEnd:function(a,b){this.endContainer=a,this.endOffset=b,d(this),c(this,!1)},setStartBefore:function(a){this.setStart(a.parentNode,n(a))},setStartAfter:function(a){this.setStart(a.parentNode,n(a)+1)},setEndBefore:function(a){this.setEnd(a.parentNode,n(a))},setEndAfter:function(a){this.setEnd(a.parentNode,n(a)+1)},selectNode:function(a){this.setStartBefore(a),this.setEndAfter(a)},selectNodeContents:function(a){this.setStart(a,0),this.setEnd(a,a[1===a.nodeType?"childNodes":"nodeValue"].length)},collapse:function(a){var b=this;a?b.setEnd(b.startContainer,b.startOffset):b.setStart(b.endContainer,b.endOffset)},deleteContents:function(){var a=this,b=a.cloneRange();a.startContainer!=a.commonAncestorContainer&&a.setStartAfter(p(a.commonAncestorContainer,a.startContainer)),a.collapse(!0),function c(a){for(;a.next();)a.hasPartialSubtree()?c(a.getSubtreeIterator()):a.remove()}(new u(b))},cloneContents:function(){var a=A.documentFromRange(this);return function b(c){for(var d,e=a.createDocumentFragment();d=c.next();)d=d.cloneNode(!c.hasPartialSubtree()),c.hasPartialSubtree()&&d.appendChild(b(c.getSubtreeIterator())),e.appendChild(d);return e}(new u(this))},extractContents:function(){var a=this,b=a.cloneRange();a.startContainer!=a.commonAncestorContainer&&a.setStartAfter(p(a.commonAncestorContainer,a.startContainer)),a.collapse(!0);var c=A.documentFromRange(a);return function d(b){for(var e,f=c.createDocumentFragment();e=b.next();)b.hasPartialSubtree()?(e=e.cloneNode(!1),e.appendChild(d(b.getSubtreeIterator()))):b.remove(a.originalRange),f.appendChild(e);return f}(new u(b))},insertNode:function(a){var b=this;o(b.startContainer)?(b.startOffset!=b.startContainer.nodeValue.length&&m.splitDataNode(b.startContainer,b.startOffset),m.insertAfter(a,b.startContainer)):m.insertAt(b.startContainer,a,b.startOffset),b.setStart(b.startContainer,b.startOffset)},cloneRange:function(){return a.extend(new t(this.ownerDocument),{startContainer:this.startContainer,endContainer:this.endContainer,commonAncestorContainer:this.commonAncestorContainer,startOffset:this.startOffset,endOffset:this.endOffset,collapsed:this.collapsed,originalRange:this})},toString:function(){var a=this.startContainer.nodeName,b=this.endContainer.nodeName;return["#text"==a?this.startContainer.nodeValue:a,"(",this.startOffset,") : ","#text"==b?this.endContainer.nodeValue:b,"(",this.endOffset,")"].join("")}}),u=i.extend({init:function(b){if(a.extend(this,{range:b,_current:null,_next:null,_end:null}),!b.collapsed){var c=b.commonAncestorContainer;this._next=b.startContainer!=c||o(b.startContainer)?p(c,b.startContainer):b.startContainer.childNodes[b.startOffset],this._end=b.endContainer!=c||o(b.endContainer)?p(c,b.endContainer).nextSibling:b.endContainer.childNodes[b.endOffset]}},hasNext:function(){return!!this._next},next:function(){var a=this,b=a._current=a._next;return a._next=a._current&&a._current.nextSibling!=a._end?a._current.nextSibling:null,o(a._current)&&(a.range.endContainer==a._current&&(b=b.cloneNode(!0),b.deleteData(a.range.endOffset,b.length-a.range.endOffset)),a.range.startContainer==a._current&&(b=b.cloneNode(!0),b.deleteData(0,a.range.startOffset))),b},traverse:function(a){function b(){return d._current=d._next,d._next=d._current&&d._current.nextSibling!=d._end?d._current.nextSibling:null,d._current}for(var c,d=this;c=b();)d.hasPartialSubtree()?d.getSubtreeIterator().traverse(a):a(c);return c},remove:function(a){var b,c,d,e=this,f=e.range.startContainer==e._current,g=e.range.endContainer==e._current;if(o(e._current)&&(f||g))b=f?e.range.startOffset:0,c=g?e.range.endOffset:e._current.length,d=c-b,a&&(f||g)&&(e._current==a.startContainer&&b<=a.startOffset&&(a.startOffset-=d),e._current==a.endContainer&&c<=a.endOffset&&(a.endOffset-=d)),e._current.deleteData(b,d);else{var h=e._current.parentNode;if(a&&(e.range.startContainer==h||e.range.endContainer==h)){var i=n(e._current);h==a.startContainer&&i<=a.startOffset&&(a.startOffset-=1),h==a.endContainer&&i<a.endOffset&&(a.endOffset-=1)}m.remove(e._current)}},hasPartialSubtree:function(){return!o(this._current)&&(m.isAncestorOrSelf(this._current,this.range.startContainer)||m.isAncestorOrSelf(this._current,this.range.endContainer))},getSubtreeIterator:function(){var a=this,b=a.range.cloneRange();return b.selectNodeContents(a._current),m.isAncestorOrSelf(a._current,a.range.startContainer)&&b.setStart(a.range.startContainer,a.range.startOffset),m.isAncestorOrSelf(a._current,a.range.endContainer)&&b.setEnd(a.range.endContainer,a.range.endOffset),new u(b)}}),v=i.extend({init:function(a){this.ownerDocument=a,this.rangeCount=1},addRange:function(a){var b=this.ownerDocument.body.createTextRange();f(b,a,!1),f(b,a,!0),b.select()},removeAllRanges:function(){var a=this.ownerDocument.selection;"None"!=a.type&&a.empty()},getRangeAt:function(){var a,b,c,d=new t(this.ownerDocument),f=this.ownerDocument.selection;try{if(a=f.createRange(),b=a.item?a.item(0):a.parentElement(),b.ownerDocument!=this.ownerDocument)return d}catch(h){return d}if("Control"==f.type)d.selectNode(a.item(0));else{c=e(a),g(a,d,c,!0),g(a,d,c,!1),9==d.startContainer.nodeType&&d.setStart(d.endContainer,d.startOffset),9==d.endContainer.nodeType&&d.setEnd(d.startContainer,d.endOffset),0===a.compareEndPoints("StartToEnd",a)&&d.collapse(!1);var i=d.startContainer,j=d.endContainer,k=this.ownerDocument.body;if(!(d.collapsed||0!==d.startOffset||d.endOffset!=q(d.endContainer)||i==j&&o(i)&&i.parentNode==k)){for(var l=!1,m=!1;0===n(i)&&i==i.parentNode.firstChild&&i!=k;)i=i.parentNode,l=!0;
for(;n(j)==q(j.parentNode)-1&&j==j.parentNode.lastChild&&j!=k;)j=j.parentNode,m=!0;i==k&&j==k&&l&&m&&(d.setStart(i,0),d.setEnd(j,q(k)))}}return d}}),w=i.extend({init:function(a){this.enumerate=function(){function b(a){if(m.is(a,"img")||3==a.nodeType&&(!m.isWhitespace(a)||"﻿"==a.nodeValue))c.push(a);else for(a=a.firstChild;a;)b(a),a=a.nextSibling}var c=[];return new u(a).traverse(b),c}}}),x=i.extend({init:function(a,b){var c=this;c.range=a,c.rootNode=A.documentFromRange(a),c.body=b||c.getEditable(a),"body"!=m.name(c.body)&&(c.rootNode=c.body),c.html=c.body.innerHTML,c.startContainer=c.nodeToPath(a.startContainer),c.endContainer=c.nodeToPath(a.endContainer),c.startOffset=c.offset(a.startContainer,a.startOffset),c.endOffset=c.offset(a.endContainer,a.endOffset)},index:function(a){for(var b=0,c=a.nodeType;a=a.previousSibling;){var d=a.nodeType;(3!=d||c!=d)&&b++,c=d}return b},getEditable:function(a){for(var b=a.commonAncestorContainer;b&&(3==b.nodeType||b.attributes&&!b.attributes.contentEditable);)b=b.parentNode;return b},restoreHtml:function(){this.body.innerHTML=this.html},offset:function(a,b){if(3==a.nodeType)for(;(a=a.previousSibling)&&3==a.nodeType;)b+=a.nodeValue.length;return b},nodeToPath:function(a){for(var b=[];a!=this.rootNode;)b.push(this.index(a)),a=a.parentNode;return b},toRangePoint:function(a,b,c,d){for(var e=this.rootNode,f=c.length,g=d;f--;)e=e.childNodes[c[f]];for(;3==e.nodeType&&e.nodeValue.length<g;)g-=e.nodeValue.length,e=e.nextSibling;a[b?"setStart":"setEnd"](e,g)},toRange:function(){var a=this,b=a.range.cloneRange();return a.toRangePoint(b,!0,a.startContainer,a.startOffset),a.toRangePoint(b,!1,a.endContainer,a.endOffset),b}}),y=i.extend({init:function(){this.caret=null},addCaret:function(a){var b=this;return b.caret=m.create(A.documentFromRange(a),"span",{className:"k-marker"}),a.insertNode(b.caret),a.selectNode(b.caret),b.caret},removeCaret:function(a){var b=this,c=b.caret.previousSibling,d=0;c&&(d=o(c)?c.nodeValue.length:n(c));var e=b.caret.parentNode,f=c?n(c):0;m.remove(b.caret),r(e);var g=e.childNodes[f];if(o(g))a.setStart(g,d);else if(g){var h=m.lastTextNode(g);h?a.setStart(h,h.nodeValue.length):a[c?"setStartAfter":"setStartBefore"](g)}else l.msie||e.innerHTML||(e.innerHTML='<br _moz_dirty="" />'),a.selectNodeContents(e);a.collapse(!0)},add:function(a,b){var c=this,d=a.collapsed&&!A.isExpandable(a),e=A.documentFromRange(a);b&&a.collapsed&&(c.addCaret(a),a=A.expand(a));var f=a.cloneRange();if(f.collapse(!1),c.end=m.create(e,"span",{className:"k-marker"}),f.insertNode(c.end),f=a.cloneRange(),f.collapse(!0),c.start=c.end.cloneNode(!0),f.insertNode(c.start),c._removeDeadMarkers(c.start,c.end),d){var g=e.createTextNode("﻿");m.insertAfter(g.cloneNode(),c.start),m.insertBefore(g,c.end)}return a.setStartBefore(c.start),a.setEndAfter(c.end),r(a.commonAncestorContainer),a},_removeDeadMarkers:function(a,b){a.previousSibling&&"﻿"==a.previousSibling.nodeValue&&m.remove(a.previousSibling),b.nextSibling&&"﻿"==b.nextSibling.nodeValue&&m.remove(b.nextSibling)},remove:function(a){var b,c,d,e=this,f=e.start,g=e.end;for(r(a.commonAncestorContainer);!f.nextSibling&&f.parentNode;)f=f.parentNode;for(;!g.previousSibling&&g.parentNode;)g=g.parentNode;b=f.previousSibling&&3==f.previousSibling.nodeType&&f.nextSibling&&3==f.nextSibling.nodeType,c=g.previousSibling&&3==g.previousSibling.nodeType&&g.nextSibling&&3==g.nextSibling.nodeType,d=b&&c,f=f.nextSibling,g=g.previousSibling;var h=!1,i=!1;if(f==e.end&&(i=!!e.start.previousSibling,f=g=e.start.previousSibling||e.end.nextSibling,h=!0),m.remove(e.start),m.remove(e.end),!f||!g)return a.selectNodeContents(a.commonAncestorContainer),void a.collapse(!0);var j=h?o(f)?f.nodeValue.length:f.childNodes.length:0,k=o(g)?g.nodeValue.length:g.childNodes.length;if(3==f.nodeType)for(;f.previousSibling&&3==f.previousSibling.nodeType;)f=f.previousSibling,j+=f.nodeValue.length;if(3==g.nodeType)for(;g.previousSibling&&3==g.previousSibling.nodeType;)g=g.previousSibling,k+=g.nodeValue.length;for(var l=n(f),p=f.parentNode,q=n(g),s=g.parentNode,t=f;t.previousSibling;t=t.previousSibling)3==t.nodeType&&3==t.previousSibling.nodeType&&l--;for(var u=g;u.previousSibling;u=u.previousSibling)3==u.nodeType&&3==u.previousSibling.nodeType&&q--;r(p),3==f.nodeType&&(f=p.childNodes[l]),r(s),3==g.nodeType&&(g=s.childNodes[q]),h?(3==f.nodeType?a.setStart(f,j):a[i?"setStartAfter":"setStartBefore"](f),a.collapse(!0)):(3==f.nodeType?a.setStart(f,j):a.setStartBefore(f),3==g.nodeType?a.setEnd(g,k):a.setEndAfter(g)),e.caret&&e.removeCaret(a)}}),z=/[\u0009-\u000d]|\u0020|\u00a0|\ufeff|\.|,|;|:|!|\(|\)|\?/,A={nodes:function(a){var b=A.textNodes(a);return b.length||(a.selectNodeContents(a.commonAncestorContainer),b=A.textNodes(a),b.length||(b=m.significantChildNodes(a.commonAncestorContainer))),b},textNodes:function(a){return new w(a).enumerate()},documentFromRange:function(a){var b=a.startContainer;return 9==b.nodeType?b:b.ownerDocument},createRange:function(a){return l.msie&&l.version<9?new t(a):a.createRange()},selectRange:function(a){var b=A.image(a);b&&(a.setStartAfter(b),a.setEndAfter(b));var c=s.selectionFromRange(a);c.removeAllRanges(),c.addRange(a)},stringify:function(a){return h.format("{0}:{1} - {2}:{3}",m.name(a.startContainer),a.startOffset,m.name(a.endContainer),a.endOffset)},split:function(a,b,c){function d(d){var e=a.cloneRange();e.collapse(d),e[d?"setStartBefore":"setEndAfter"](b);var f=e.extractContents();c&&(f=m.trim(f)),m[d?"insertBefore":"insertAfter"](f,b)}d(!0),d(!1)},getMarkers:function(a){var b=[];return new u(a).traverse(function(a){"k-marker"==a.className&&b.push(a)}),b},image:function(a){var b=[];return new u(a).traverse(function(a){m.is(a,"img")&&b.push(a)}),1==b.length?b[0]:void 0},expand:function(a){var b=a.cloneRange(),c=b.startContainer.childNodes[0===b.startOffset?0:b.startOffset-1],d=b.endContainer.childNodes[b.endOffset];if(!o(c)||!o(d))return b;var e=c.nodeValue,f=d.nodeValue;if(!e||!f)return b;var g=e.split("").reverse().join("").search(z),h=f.search(z);return g&&h?(h=-1==h?f.length:h,g=-1==g?0:e.length-g,b.setStart(c,g),b.setEnd(d,h),b):b},isExpandable:function(a){var b=a.startContainer,c=A.documentFromRange(a);if(b==c||b==c.body)return!1;var d=a.cloneRange(),e=b.nodeValue;if(!e)return!1;var f=e.substring(0,d.startOffset),g=e.substring(d.startOffset),h=0,i=0;return f&&(h=f.split("").reverse().join("").search(z)),g&&(i=g.search(z)),h&&i}};j(k,{SelectionUtils:s,W3CRange:t,RangeIterator:u,W3CSelection:v,RangeEnumerator:w,RestorePoint:x,Marker:y,RangeUtils:A})}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=b.ui.editor,e=d.EditorUtils,f=e.registerTool,g=d.Dom,h=d.Tool,i=d.ToolTemplate,j=d.RestorePoint,k=d.Marker,l=a.extend,m=c.extend({init:function(a){this.options=a,this.restorePoint=new j(a.range),this.marker=new k,this.formatter=a.formatter},getRange:function(){return this.restorePoint.toRange()},lockRange:function(a){return this.marker.add(this.getRange(),a)},releaseRange:function(a){this.marker.remove(a),this.editor.selectRange(a)},undo:function(){var a=this.restorePoint;a.restoreHtml(),this.editor.selectRange(a.toRange())},redo:function(){this.exec()},createDialog:function(c,d){var e=this.editor;return a(c).appendTo(document.body).kendoWindow(l({},e.options.dialogOptions,d)).closest(".k-window").toggleClass("k-rtl",b.support.isRtl(e.wrapper)).end()},exec:function(){var a=this.lockRange(!0);this.formatter.editor=this.editor,this.formatter.toggle(a),this.releaseRange(a)}}),n=c.extend({init:function(a,b){this.body=a.body,this.startRestorePoint=a,this.endRestorePoint=b},redo:function(){this.body.innerHTML=this.endRestorePoint.html,this.editor.selectRange(this.endRestorePoint.toRange())},undo:function(){this.body.innerHTML=this.startRestorePoint.html,this.editor.selectRange(this.startRestorePoint.toRange())}}),o=m.extend({init:function(a){m.fn.init.call(this,a),this.managesUndoRedo=!0},exec:function(){var a=this.editor,b=this.options,c=b.range,d=a.body,e=new j(c,d),f=b.html||b.value||"";a.selectRange(c),a.clipboard.paste(f,b),b.postProcess&&b.postProcess(a,a.getRange());var g=new n(e,new j(a.getRange(),d));g.editor=a,a.undoRedoStack.push(g),a.focus()}}),p=h.extend({initialize:function(a,b){var c=b.editor,e=this.options,f=e.items?e.items:c.options.insertHtml;new d.SelectBox(a,{dataSource:f,dataTextField:"text",dataValueField:"value",change:function(){h.exec(c,"insertHtml",this.value())},title:c.options.messages.insertHtml,highlightFirst:!1})},command:function(a){return new o(a)},update:function(a){var b=a.data("kendoSelectBox")||a.find("select").data("kendoSelectBox");b.close(),b.value(b.options.title)}}),q=c.extend({init:function(){this.stack=[],this.currentCommandIndex=-1},push:function(a){this.stack=this.stack.slice(0,this.currentCommandIndex+1),this.currentCommandIndex=this.stack.push(a)-1},undo:function(){this.canUndo()&&this.stack[this.currentCommandIndex--].undo()},redo:function(){this.canRedo()&&this.stack[++this.currentCommandIndex].redo()},canUndo:function(){return this.currentCommandIndex>=0},canRedo:function(){return this.currentCommandIndex!=this.stack.length-1}}),r=c.extend({init:function(a){this.editor=a},keydown:function(b){var c=this,d=c.editor,e=d.keyboard,f=e.isTypingKey(b),g=l(a.Event(),b);if(c.editor.trigger("keydown",g),g.isDefaultPrevented()&&b.preventDefault(),!g.isDefaultPrevented()&&f&&!e.isTypingInProgress()){var h=d.getRange();return c.startRestorePoint=new j(h),e.startTyping(function(){d.selectionRestorePoint=c.endRestorePoint=new j(d.getRange());var a=new n(c.startRestorePoint,c.endRestorePoint);a.editor=d,d.undoRedoStack.push(a)}),!0}return!1},keyup:function(a){var b=this.editor.keyboard;return this.editor.trigger("keyup",a),b.isTypingInProgress()?(b.endTyping(),!0):!1}}),s=c.extend({init:function(a){this.editor=a,this.systemCommandIsInProgress=!1},createUndoCommand:function(){var a=this;a.endRestorePoint=new j(a.editor.getRange());var b=new n(a.startRestorePoint,a.endRestorePoint);b.editor=a.editor,a.editor.undoRedoStack.push(b),a.startRestorePoint=a.endRestorePoint},changed:function(){return this.startRestorePoint?this.startRestorePoint.html!=this.editor.body.innerHTML:!1},keydown:function(a){var b=this,c=b.editor,d=c.keyboard;return d.isModifierKey(a)?(d.isTypingInProgress()&&d.endTyping(!0),b.startRestorePoint=new j(c.getRange()),!0):d.isSystem(a)?(b.systemCommandIsInProgress=!0,b.changed()&&(b.systemCommandIsInProgress=!1,b.createUndoCommand()),!0):!1},keyup:function(a){var b=this;return b.systemCommandIsInProgress&&b.changed()?(b.systemCommandIsInProgress=!1,b.createUndoCommand(a),!0):!1}}),t=c.extend({init:function(a){this.handlers=a,this.typingInProgress=!1},isCharacter:function(a){return a>=48&&90>=a||a>=96&&111>=a||a>=186&&192>=a||a>=219&&222>=a||229==a},toolFromShortcut:function(b,c){var d,e,f=String.fromCharCode(c.keyCode);for(d in b)if(e=a.extend({ctrl:!1,alt:!1,shift:!1},b[d].options),(e.key==f||e.key==c.keyCode)&&e.ctrl==c.ctrlKey&&e.alt==c.altKey&&e.shift==c.shiftKey)return d},isTypingKey:function(a){var b=a.keyCode;return this.isCharacter(b)&&!a.ctrlKey&&!a.altKey||32==b||13==b||8==b||46==b&&!a.shiftKey&&!a.ctrlKey&&!a.altKey},isModifierKey:function(a){var b=a.keyCode;return 17==b&&!a.shiftKey&&!a.altKey||16==b&&!a.ctrlKey&&!a.altKey||18==b&&!a.ctrlKey&&!a.shiftKey},isSystem:function(a){return 46==a.keyCode&&a.ctrlKey&&!a.altKey&&!a.shiftKey},startTyping:function(a){this.onEndTyping=a,this.typingInProgress=!0},stopTyping:function(){this.typingInProgress=!1,this.onEndTyping&&this.onEndTyping()},endTyping:function(b){var c=this;c.clearTimeout(),b?c.stopTyping():c.timeout=window.setTimeout(a.proxy(c.stopTyping,c),1e3)},isTypingInProgress:function(){return this.typingInProgress},clearTimeout:function(){window.clearTimeout(this.timeout)},notify:function(a,b){var c,d=this.handlers;for(c=0;c<d.length&&!d[c][b](a);c++);},keydown:function(a){this.notify(a,"keydown")},keyup:function(a){this.notify(a,"keyup")}}),u=c.extend({init:function(a){this.editor=a,this.cleaners=[new w,new x,new y]},htmlToFragment:function(a){var b=this.editor,c=b.document,d=g.create(c,"div"),e=c.createDocumentFragment();for(d.innerHTML=a;d.firstChild;)e.appendChild(d.firstChild);return e},isBlock:function(a){return/<(div|p|ul|ol|table|h[1-6])/i.test(a)},_contentModification:function(a,b){var c,d,e=this,f=e.editor;e._inProgress||(e._inProgress=!0,c=f.getRange(),d=new j(c),g.persistScrollTop(f.document),a.call(e,f,c),setTimeout(function(){b.call(e,f,c);var a=new j(f.getRange()),g=new n(d,a);g.editor=f,f.undoRedoStack.push(g),f._selectionChange(),e._inProgress=!1}))},oncut:function(){this._contentModification(a.noop,a.noop)},onpaste:function(c){this._contentModification(function(b,d){var e=g.create(b.document,"div",{className:"k-paste-container",innerHTML:"﻿"});if(b.body.appendChild(e),b.body.createTextRange){c.preventDefault();var f=b.createRange();f.selectNodeContents(e),b.selectRange(f);var h=b.body.createTextRange();h.moveToElementText(e),a(b.body).unbind("paste"),h.execCommand("Paste"),a(b.body).bind("paste",a.proxy(this.onpaste,this))}else{var i=b.createRange();i.selectNodeContents(e),b.selectRange(i)}d.deleteContents()},function(c,d){{var e,f="",h={html:""};b.support.browser}c.selectRange(d),e=a(c.body).children(".k-paste-container"),e.each(function(){var a=this.lastChild;a&&g.is(a,"br")&&g.remove(a),f+=this.innerHTML}),e.remove(),f=f.replace(/\ufeff/g,""),h.html=f,c.trigger("paste",h),c.clipboard.paste(h.html,{clean:!0})})},splittableParent:function(a,b){var c,d;if(a)return g.closestEditableOfType(b,["p","ul","ol"])||b.parentNode;if(c=b.parentNode,d=b.ownerDocument.body,g.isInline(c))for(;c.parentNode!=d&&!g.isBlock(c.parentNode);)c=c.parentNode;return c},paste:function(b,c){var e,f,h=this.editor;for(c=l({clean:!1,split:!0},c),e=0,f=this.cleaners.length;f>e;e++)this.cleaners[e].applicable(b)&&(b=this.cleaners[e].clean(b));c.clean&&(b=b.replace(/(<br>(\s|&nbsp;)*)+(<\/?(div|p|li|col|t))/gi,"$3"),b=b.replace(/<(a|span)[^>]*><\/\1>/gi,"")),b=b.replace(/^<li/i,"<ul><li").replace(/li>$/g,"li></ul>");var i=this.isBlock(b);h.focus();var j=h.getRange();j.deleteContents(),j.startContainer==h.document&&j.selectNodeContents(h.body);var m=new k,n=m.addCaret(j),o=this.splittableParent(i,n),p=!1,q=o!=h.body&&!g.is(o,"td");c.split&&q&&(i||g.isInline(o))&&(j.selectNode(n),d.RangeUtils.split(j,o,!0),p=!0);var r=this.htmlToFragment(b);if(r.firstChild&&"k-paste-container"===r.firstChild.className){var s=[];for(e=0,f=r.childNodes.length;f>e;e++)s.push(r.childNodes[e].innerHTML);r=this.htmlToFragment(s.join("<br />"))}if(a(r.childNodes).filter("table").addClass("k-table").end().find("table").addClass("k-table"),j.insertNode(r),o=this.splittableParent(i,n),p){for(;n.parentNode!=o;)g.unwrap(n.parentNode);g.unwrap(n.parentNode)}g.normalize(j.commonAncestorContainer),n.style.display="inline",g.restoreScrollTop(h.document),g.scrollTo(n),m.removeCaret(j),h.selectRange(j)}}),v=c.extend({clean:function(a){var b,c,d=this,e=d.replacements;for(b=0,c=e.length;c>b;b+=2)a=a.replace(e[b],e[b+1]);return a}}),w=v.extend({init:function(){this.replacements=[/<(\/?)script([^>]*)>/i,"<$1telerik:script$2>"]},applicable:function(a){return/<script[^>]*>/i.test(a)}}),x=v.extend({init:function(){this.replacements=[/<\?xml[^>]*>/gi,"",/<!--(.|\n)*?-->/g,"",/&quot;/g,"'",/(?:<br>&nbsp;[\s\r\n]+|<br>)*(<\/?(h[1-6]|hr|p|div|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|caption|address|pre|form|blockquote|dl|dt|dd|dir|fieldset)[^>]*>)(?:<br>&nbsp;[\s\r\n]+|<br>)*/g,"$1",/<br><br>/g,"<BR><BR>",/<br>(?!\n)/g," ",/<table([^>]*)>(\s|&nbsp;)+<t/gi,"<table$1><t",/<tr[^>]*>(\s|&nbsp;)*<\/tr>/gi,"",/<tbody[^>]*>(\s|&nbsp;)*<\/tbody>/gi,"",/<table[^>]*>(\s|&nbsp;)*<\/table>/gi,"",/<BR><BR>/g,"<br>",/^\s*(&nbsp;)+/gi,"",/(&nbsp;|<br[^>]*>)+\s*$/gi,"",/mso-[^;"]*;?/gi,"",/<(\/?)b(\s[^>]*)?>/gi,"<$1strong$2>",/<(\/?)i(\s[^>]*)?>/gi,"<$1em$2>",/<o:p>&nbsp;<\/o:p>/gi,"&nbsp;",/<\/?(meta|link|style|o:|v:|x:)[^>]*>((?:.|\n)*?<\/(meta|link|style|o:|v:|x:)[^>]*>)?/gi,"",/<\/o>/g,"",/style=(["|'])\s*\1/g,"",/(<br[^>]*>)?\n/g,function(a,b){return b?a:" "}]},applicable:function(a){return/class="?Mso|style="[^"]*mso-/i.test(a)},stripEmptyAnchors:function(a){return a.replace(/<a([^>]*)>\s*<\/a>/gi,function(a,b){return!b||b.indexOf("href")<0?"":a})},listType:function(a){var b;return/^(<span [^>]*texhtml[^>]*>)?<span [^>]*(Symbol|Wingdings)[^>]*>/i.test(a)&&(b=!0),a=a.replace(/<\/?\w+[^>]*>/g,"").replace(/&nbsp;/g," "),!b&&/^[\u2022\u00b7\u00a7\u00d8o]\u00a0+/.test(a)||b&&/^.\u00a0+/.test(a)?"ul":/^\s*\w+[\.\)]\u00a0{2,}/.test(a)?"ol":void 0},lists:function(b){var c,d,e,f,h,i,j,k,l,m=a(g.blockElements.join(","),b),n=-1,o={ul:{},ol:{}},p=b;for(e=0;e<m.length;e++)if(f=m[e],h=this.listType(f.innerHTML),d=g.name(f),"td"!=d)if(h&&"p"==d){if(i=parseFloat(f.style.marginLeft||0),j=o[h][i],(i>n||!j)&&(j=g.create(document,h),p==b?g.insertBefore(j,f):p.appendChild(j),o[h][i]=j),c!=h)for(k in o)for(l in o[k])a.contains(j,o[k][l])&&delete o[k][l];g.remove(f.firstChild),p=g.create(document,"li",{innerHTML:f.innerHTML}),j.appendChild(p),g.remove(f),n=i,c=h}else f.innerHTML?(o={ul:{},ol:{}},p=b,n=-1):g.remove(f)},removeAttributes:function(a){for(var b=a.attributes,c=b.length;c--;)"colspan"!=g.name(b[c])&&a.removeAttributeNode(b[c])},createColGroup:function(c){var d=c.cells,e=a(c).closest("table"),f=e.children("colgroup");d.length<2||(f.length&&(d=f.children(),f[0].parentNode.removeChild(f[0])),f=a(a.map(d,function(a){var c=a.width;return c&&0!==parseInt(c,10)?b.format('<col style="width:{0}px;"/>',c):"<col />"}).join("")),f.is("colgroup")||(f=a("<colgroup/>").append(f)),f.prependTo(e))},convertHeaders:function(b){var c,d=b.cells,e=a.map(d,function(b){var c=a(b).children("p").children("strong")[0];return c&&"strong"==g.name(c)?c:void 0});if(e.length==d.length){for(c=0;c<e.length;c++)g.unwrap(e[c]);for(a(b).closest("table").find("colgroup").after("<thead></thead>").end().find("thead").append(b),c=0;c<d.length;c++)g.changeTag(d[c],"th")}},removeParagraphs:function(b){var c,d,e,f,h;for(c=0;c<b.length;c++)for(this.removeAttributes(b[c]),f=a(b[c]),h=f.children("p"),d=0,e=h.length;e>d;d++)e-1>d&&g.insertAfter(g.create(document,"br"),h[d]),g.unwrap(h[d])},removeDefaultColors:function(a){for(var b=0;b<a.length;b++)/^\s*color:\s*[^;]*;?$/i.test(a[b].style.cssText)&&g.unwrap(a[b])},tables:function(b){var c,d,e,f,g,h=a(b).find("table"),i=this;for(f=0;f<h.length;f++){for(c=h[f].rows,e=d=c[0],g=1;g<c.length;g++)c[g].cells.length>e.cells.length&&(e=c[g]);i.createColGroup(e),i.convertHeaders(d),i.removeAttributes(h[f]),i.removeParagraphs(h.eq(f).find("td,th")),i.removeDefaultColors(h.eq(f).find("span"))}},clean:function(a){var b,c=this;return a=v.fn.clean.call(c,a),a=c.stripEmptyAnchors(a),b=g.create(document,"div",{innerHTML:a}),c.lists(b),c.tables(b),a=b.innerHTML.replace(/(<[^>]*)\s+class="?[^"\s>]*"?/gi,"$1")}}),y=v.extend({init:function(){this.replacements=[/\s+class="Apple-style-span[^"]*"/gi,"",/<(div|p|h[1-6])\s+style="[^"]*"/gi,"<$1",/^<div>(.*)<\/div>$/,"$1"]},applicable:function(a){return/class="?Apple-style-span|style="[^"]*-webkit-nbsp-mode/i.test(a)}});l(d,{Command:m,GenericCommand:n,InsertHtmlCommand:o,InsertHtmlTool:p,UndoRedoStack:q,TypingHandler:r,SystemHandler:s,Keyboard:t,Clipboard:u,Cleaner:v,MSWordFormatCleaner:x,WebkitFormatCleaner:y}),f("insertHtml",new p({template:new i({template:e.dropDownListTemplate,title:"Insert HTML",initialValue:"Insert HTML"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=b.ui.editor,e=b.ui.Editor.fn.options.formats,f=d.EditorUtils,g=d.Tool,h=d.ToolTemplate,i=d.FormatTool,j=d.Dom,k=d.RangeUtils,l=a.extend,m=d.EditorUtils.registerTool,n=d.EditorUtils.registerFormat,o="k-marker",p=c.extend({init:function(a){this.format=a},numberOfSiblings:function(a){var b,c=0,d=0,e=0,f=a.parentNode;for(b=f.firstChild;b;b=b.nextSibling)b!=a&&(b.className==o?e++:3==b.nodeType?c++:d++);return e>1&&f.firstChild.className==o&&f.lastChild.className==o?0:d+c},findSuitable:function(a,b){return!b&&this.numberOfSiblings(a)>0?null:j.parentOfType(a,this.format[0].tags)},findFormat:function(a){var b,c,d,e,f,g=this.format,h=j.attrEquals;for(b=0,c=g.length;c>b;b++){if(d=a,e=g[b].tags,f=g[b].attr,d&&j.ofType(d,e)&&h(d,f))return d;for(;d;)if(d=j.parentOfType(d,e),d&&h(d,f))return d}return null},isFormatted:function(a){var b,c;for(b=0,c=a.length;c>b;b++)if(this.findFormat(a[b]))return!0;return!1}}),q=c.extend({init:function(a,b){var c=this;c.finder=new p(a),c.attributes=l({},a[0].attr,b),c.tag=a[0].tags[0]},wrap:function(a){return j.wrap(a,j.create(a.ownerDocument,this.tag,this.attributes))},activate:function(a,b){var c=this;c.finder.isFormatted(b)?(c.split(a),c.remove(b)):c.apply(b)},toggle:function(a){var b=k.textNodes(a);b.length>0&&this.activate(a,b)},apply:function(a){var b,c,d,e,f=this,g=[];for(b=0,c=a.length;c>b;b++)d=a[b],e=f.finder.findSuitable(d),e?j.attr(e,f.attributes):e=f.wrap(d),g.push(e);f.consolidate(g)},remove:function(a){var b,c,d,e=this;for(b=0,c=a.length;c>b;b++)d=e.finder.findFormat(a[b]),d&&(e.attributes&&e.attributes.style?(j.unstyle(d,e.attributes.style),d.style.cssText||d.attributes["class"]||j.unwrap(d)):j.unwrap(d))},split:function(a){var b,c,d=k.textNodes(a),e=d.length;if(e>0)for(b=0;e>b;b++)c=this.finder.findFormat(d[b]),c&&k.split(a,c,!0)},consolidate:function(a){for(var b,c;a.length>1;)if(b=a.pop(),c=a[a.length-1],b.previousSibling&&b.previousSibling.className==o&&c.appendChild(b.previousSibling),b.tagName==c.tagName&&b.previousSibling==c&&b.style.cssText==c.style.cssText){for(;b.firstChild;)c.appendChild(b.firstChild);j.remove(b)}}}),r=p.extend({init:function(a,b){var c=this;c.format=a,c.greedyProperty=b,p.fn.init.call(c,a)},getInlineCssValue:function(b){var c,d,e,f,g,h,i,k,l,m,n,o,p=b.attributes,q=a.trim;if(p)for(c=0,d=p.length;d>c;c++)if(e=p[c],f=e.nodeName,g=e.nodeValue,e.specified&&"style"==f)for(h=q(g||b.style.cssText).split(";"),k=0,l=h.length;l>k;k++)if(i=h[k],i.length){if(m=i.split(":"),n=q(m[0].toLowerCase()),o=q(m[1]),n!=this.greedyProperty)continue;return n.indexOf("color")>=0?j.toHex(o):o}},getFormatInner:function(b){var c,d,e,f=a(j.isDataNode(b)?b.parentNode:b),g=f.parentsUntil("[contentEditable]").addBack();for(c=0,d=g.length;d>c;c++)if(e="className"==this.greedyProperty?g[c].className:this.getInlineCssValue(g[c]))return e;return"inherit"},getFormat:function(a){var b,c,d=this.getFormatInner(a[0]);for(b=1,c=a.length;c>b;b++)if(d!=this.getFormatInner(a[b]))return"";return d},isFormatted:function(a){return""!==this.getFormat(a)}}),s=q.extend({init:function(a,c,d){q.fn.init.call(this,a,c),this.values=c,this.finder=new r(a,d),d&&(this.greedyProperty=b.toCamelCase(d))},activate:function(a,b){var c=this.greedyProperty,d="apply";this.split(a),c&&"inherit"==this.values.style[c]&&(d="remove"),this[d](b)}}),t=i.extend({init:function(a){i.fn.init.call(this,l(a,{finder:new p(a.format),formatter:function(){return new q(a.format)}}))}}),u=g.extend({update:function(a,b){var c=a.data(this.type);c.close(),c.value(this.finder.getFormat(b))}}),v=u.extend({init:function(a){var c=this;g.fn.init.call(c,a),c.type=b.support.browser.msie||b.support.touch?"kendoDropDownList":"kendoComboBox",c.format=[{tags:["span"]}],c.finder=new r(c.format,a.cssAttr)},command:function(a){var b=this.options,c=this.format,e={};return new d.FormatCommand(l(a,{formatter:function(){return e[b.domAttr]=a.value,new s(c,{style:e},b.cssAttr)}}))},initialize:function(a,b){var c,d=b.editor,e=this.options,f=e.name,h=[];e.defaultValue&&(h=[{text:d.options.messages[e.defaultValue[0].text],value:e.defaultValue[0].value}]),c=h.concat(e.items?e.items:d.options[f]),a[this.type]({dataTextField:"text",dataValueField:"value",dataSource:c,change:function(){g.exec(d,f,this.value())},highlightFirst:!1}),a.closest(".k-widget").removeClass("k-"+f).find("*").addBack().attr("unselectable","on"),a.data(this.type).value("inherit")}}),w=g.extend({init:function(a){g.fn.init.call(this,a),this.format=[{tags:["span"]}],this.finder=new r(this.format,a.cssAttr)},options:{palette:"websafe"},update:function(){this._widget.close()},command:function(a){var b=this.options,c=this.format,e={};return new d.FormatCommand(l(a,{formatter:function(){return e[b.domAttr]=a.value,new s(c,{style:e},b.cssAttr)}}))},initialize:function(c,d){var e=d.editor,f=this.name,h=l({},w.fn.options,this.options),i=h.palette;c=this._widget=new b.ui.ColorPicker(c,{value:a.isArray(i)?i[0]:"#000",toolIcon:"k-"+h.name,palette:i,change:function(){var a=c.value();a&&g.exec(e,f,a),e.focus()},activate:function(a){a.preventDefault(),c.trigger("change")}}),c.wrapper.attr({title:d.title,unselectable:"on"}).find("*").attr("unselectable","on")}});l(d,{InlineFormatFinder:p,InlineFormatter:q,DelayedExecutionTool:u,GreedyInlineFormatFinder:r,GreedyInlineFormatter:s,InlineFormatTool:t,FontTool:v,ColorTool:w}),n("bold",[{tags:["strong","b"]},{tags:["span"],attr:{style:{fontWeight:"bold"}}}]),m("bold",new t({key:"B",ctrl:!0,format:e.bold,template:new h({template:f.buttonTemplate,title:"Bold"})})),n("italic",[{tags:["em","i"]},{tags:["span"],attr:{style:{fontStyle:"italic"}}}]),m("italic",new t({key:"I",ctrl:!0,format:e.italic,template:new h({template:f.buttonTemplate,title:"Italic"})})),n("underline",[{tags:["span"],attr:{style:{textDecoration:"underline"}}},{tags:["u"]}]),m("underline",new t({key:"U",ctrl:!0,format:e.underline,template:new h({template:f.buttonTemplate,title:"Underline"})})),n("strikethrough",[{tags:["del","strike"]},{tags:["span"],attr:{style:{textDecoration:"line-through"}}}]),m("strikethrough",new t({format:e.strikethrough,template:new h({template:f.buttonTemplate,title:"Strikethrough"})})),n("superscript",[{tags:["sup"]}]),m("superscript",new t({format:e.superscript,template:new h({template:f.buttonTemplate,title:"Superscript"})})),n("subscript",[{tags:["sub"]}]),m("subscript",new t({format:e.subscript,template:new h({template:f.buttonTemplate,title:"Subscript"})})),m("foreColor",new w({cssAttr:"color",domAttr:"color",name:"foreColor",template:new h({template:f.colorPickerTemplate,title:"Color"})})),m("backColor",new w({cssAttr:"background-color",domAttr:"backgroundColor",name:"backColor",template:new h({template:f.colorPickerTemplate,title:"Background Color"})})),m("fontName",new v({cssAttr:"font-family",domAttr:"fontFamily",name:"fontName",defaultValue:[{text:"fontNameInherit",value:"inherit"}],template:new h({template:f.comboBoxTemplate,title:"Font Name"})})),m("fontSize",new v({cssAttr:"font-size",domAttr:"fontSize",name:"fontSize",defaultValue:[{text:"fontSizeInherit",value:"inherit"}],template:new h({template:f.comboBoxTemplate,title:"Font Size"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=b.ui.Editor.fn.options.formats,g=e.Dom,h=e.Command,i=e.ToolTemplate,j=e.FormatTool,k=e.EditorUtils,l=k.registerTool,m=k.registerFormat,n=e.RangeUtils,o=c.extend({init:function(a){this.format=a},contains:function(a,b){var c,d,e;for(c=0,d=b.length;d>c;c++)if(e=b[c],!e||!g.isAncestorOrSelf(a,e))return!1;return!0},findSuitable:function(b){var c,d,e,f=this.format,h=[];for(c=0,d=b.length;d>c;c++){for(var i=f.length-1;i>=0&&!(e=g.ofType(b[c],f[i].tags)?b[c]:g.parentOfType(b[c],f[i].tags));i--);if(!e||"true"===e.contentEditable)return[];a.inArray(e,h)<0&&h.push(e)}for(c=0,d=h.length;d>c;c++)if(this.contains(h[c],h))return[h[c]];return h},findFormat:function(a){var b,c,d,e,f,h=this.format;for(b=0,c=h.length;c>b;b++)for(d=a,e=h[b].tags,f=h[b].attr;d;){if(g.ofType(d,e)&&g.attrEquals(d,f))return d;d=d.parentNode}return null},getFormat:function(a){var b,c,d=this,e=function(a){return d.findFormat(g.isDataNode(a)?a.parentNode:a)},f=e(a[0]);if(!f)return"";for(b=1,c=a.length;c>b;b++)if(f!=e(a[b]))return"";return f.nodeName.toLowerCase()},isFormatted:function(a){for(var b=0,c=a.length;c>b;b++)if(!this.findFormat(a[b]))return!1;return!0}}),p=c.extend({init:function(a,b){this.format=a,this.values=b,this.finder=new o(a)},wrap:function(a,b,c){var d=1==c.length?g.blockParentOrBody(c[0]):g.commonAncestor.apply(null,c);g.isInline(d)&&(d=g.blockParentOrBody(d));var e,f,h=g.significantChildNodes(d),i=g.findNodeIndex(h[0]),j=g.create(d.ownerDocument,a,b);for(e=0;e<h.length;e++)f=h[e],g.isBlock(f)?(g.attr(f,b),j.childNodes.length&&(g.insertBefore(j,f),j=j.cloneNode(!1)),i=g.findNodeIndex(f)+1):j.appendChild(f);j.firstChild&&g.insertAt(d,j,i)},apply:function(b){function c(a){return d({},a&&a.attr,f)}var e,f=this.values,h=g.filter("img",b),i=k.formatByName("img",this.format),j=c(i);if(a.each(h,function(){g.attr(this,j)}),h.length!=b.length){var l=g.filter("img",b,!0),m=this.finder.findSuitable(l);if(m.length)for(var n=0,o=m.length;o>n;n++)e=k.formatByName(g.name(m[n]),this.format),g.attr(m[n],c(e));else e=this.format[0],this.wrap(e.tags[0],c(e),l)}},remove:function(a){var b,c,d,e,f;for(b=0,c=a.length;c>b;b++)d=this.finder.findFormat(a[b]),d&&(f=g.name(d),"div"!=f||d.getAttribute("class")?(e=k.formatByName(f,this.format),e.attr.style&&g.unstyle(d,e.attr.style),e.attr.className&&g.removeClass(d,e.attr.className)):g.unwrap(d))},toggle:function(a){var b=this,c=n.nodes(a);b.finder.isFormatted(c)?b.remove(c):b.apply(c)}}),q=c.extend({init:function(a,b){var c=this;c.format=a,c.values=b,c.finder=new o(a)},apply:function(a){var b,c,d,f,h,i,j,k=this.format,l=g.blockParents(a),m=k[0].tags[0];if(l.length)for(b=0,c=l.length;c>b;b++)j=g.name(l[b]),"li"==j?(d=l[b].parentNode,f=new e.ListFormatter(d.nodeName.toLowerCase(),m),h=this.editor.createRange(),h.selectNode(l[b]),f.toggle(h)):m&&("td"==j||l[b].attributes.contentEditable)?new p(k,this.values).apply(l[b].childNodes):(i=g.changeTag(l[b],m),g.attr(i,k[0].attr));else new p(k,this.values).apply(a)},toggle:function(a){var b=n.textNodes(a);b.length||(a.selectNodeContents(a.commonAncestorContainer),b=n.textNodes(a),b.length||(b=g.significantChildNodes(a.commonAncestorContainer))),this.apply(b)}}),r=h.extend({init:function(a){a.formatter=a.formatter(),h.fn.init.call(this,a)}}),s=j.extend({init:function(a){j.fn.init.call(this,d(a,{finder:new o(a.format),formatter:function(){return new p(a.format)}}))}});d(e,{BlockFormatFinder:o,BlockFormatter:p,GreedyBlockFormatter:q,FormatCommand:r,BlockFormatTool:s}),m("justifyLeft",[{tags:g.blockElements,attr:{style:{textAlign:"left",listStylePosition:""}}},{tags:["img"],attr:{style:{"float":"left",display:"",marginLeft:"",marginRight:""}}}]),l("justifyLeft",new s({format:f.justifyLeft,template:new i({template:k.buttonTemplate,title:"Justify Left"})})),m("justifyCenter",[{tags:g.nonListBlockElements,attr:{style:{textAlign:"center"}}},{tags:["img"],attr:{style:{display:"block",marginLeft:"auto",marginRight:"auto","float":""}}},{tags:["ul","ol","li"],attr:{style:{textAlign:"center",listStylePosition:"inside"}}}]),l("justifyCenter",new s({format:f.justifyCenter,template:new i({template:k.buttonTemplate,title:"Justify Center"})})),m("justifyRight",[{tags:g.nonListBlockElements,attr:{style:{textAlign:"right"}}},{tags:["img"],attr:{style:{"float":"right",display:"",marginLeft:"",marginRight:""}}},{tags:["ul","ol","li"],attr:{style:{textAlign:"right",listStylePosition:"inside"}}}]),l("justifyRight",new s({format:f.justifyRight,template:new i({template:k.buttonTemplate,title:"Justify Right"})})),m("justifyFull",[{tags:g.blockElements,attr:{style:{textAlign:"justify",listStylePosition:""}}}]),l("justifyFull",new s({format:f.justifyFull,template:new i({template:k.buttonTemplate,title:"Justify Full"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=a.extend,d=b.ui.editor,e=d.Dom,f=d.Command,g=d.Tool,h=d.BlockFormatter,i=e.normalize,j=d.RangeUtils,k=d.EditorUtils.registerTool,l=f.extend({init:function(a){this.options=a,f.fn.init.call(this,a)},_insertMarker:function(a,b){var c,d=e.create(a,"a");return d.className="k-marker",b.insertNode(d),d.parentNode||(c=b.commonAncestorContainer,c.innerHTML="",c.appendChild(d)),i(d.parentNode),d},_moveFocus:function(a,b){if(e.is(b,"img"))a.setStartBefore(b);else{a.selectNodeContents(b);var c=j.textNodes(a)[0];if(c)a.selectNodeContents(c);else{for(;b.childNodes.length&&!e.is(b.firstChild,"br");)b=b.firstChild;
a.selectNodeContents(b)}}},shouldTrim:function(a){var b="p,h1,h2,h3,h4,h5,h6".split(","),c=e.parentOfType(a.startContainer,b),d=e.parentOfType(a.endContainer,b);return c&&!d||!c&&d},_blankAfter:function(a){for(;a&&(e.isMarker(a)||""===e.stripBom(a.nodeValue));)a=a.nextSibling;return!a},exec:function(){var a,b,c,f,g,k,l,m,n=this.getRange(),o=j.documentFromRange(n),p=d.emptyElementContent,q=this.shouldTrim(n);n.deleteContents(),g=this._insertMarker(o,n),k=e.closestEditableOfType(g,["li"]),l=e.closestEditableOfType(g,"h1,h2,h3,h4,h5,h6".split(",")),k?e.emptyNode(k)&&(f=e.create(o,"p"),k.nextSibling&&(m=n.cloneRange(),m.selectNode(k),j.split(m,k.parentNode)),e.insertAfter(f,k.parentNode),e.remove(1==k.parentNode.childNodes.length?k.parentNode:k),f.innerHTML=p,c=f):l&&this._blankAfter(g)&&(f=e.create(o,"p"),e.insertAfter(f,l),f.innerHTML=p,e.remove(g),c=f),c||(k||l||new h([{tags:["p"]}]).apply([g]),n.selectNode(g),a=e.parentOfType(g,[k?"li":l?e.name(l):"p"]),j.split(n,a,q),b=a.previousSibling,e.is(b,"li")&&b.firstChild&&!e.is(b.firstChild,"br")&&(b=b.firstChild),c=a.nextSibling,e.is(c,"li")&&c.firstChild&&!e.is(c.firstChild,"br")&&(c=c.firstChild),e.remove(a),this.clean(b),this.clean(c,{links:!0}),i(b)),i(c),this._moveFocus(n,c),n.collapse(!0),e.scrollTo(c),j.selectRange(n)},clean:function(a,b){var c=a;if(a.firstChild&&e.is(a.firstChild,"br")&&e.remove(a.firstChild),e.isDataNode(a)&&!a.nodeValue&&(a=a.parentNode),a){for(;a.firstChild&&1==a.firstChild.nodeType;)a=a.firstChild;if(!e.isEmpty(a)&&/^\s*$/.test(a.innerHTML)&&(a.innerHTML=d.emptyElementContent),b&&b.links)for(;a!=c;){if(e.is(a,"a")){e.unwrap(a);break}a=a.parentNode}}}}),m=f.extend({init:function(a){this.options=a,f.fn.init.call(this,a)},exec:function(){var a,c=this.getRange(),d=e.create(j.documentFromRange(c),"br");c.deleteContents(),c.insertNode(d),i(d.parentNode),b.support.browser.msie||d.nextSibling&&!e.isWhitespace(d.nextSibling)||(a=d.cloneNode(!0),a.setAttribute("_moz_dirty",""),e.insertAfter(a,d)),c.setStartAfter(d),c.collapse(!0),e.scrollTo(d.nextSibling||d),j.selectRange(c)}});c(d,{ParagraphCommand:l,NewLineCommand:m}),k("insertLineBreak",new g({key:13,shift:!0,command:m})),k("insertParagraph",new g({key:13,command:l}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=a.extend,e=b.ui.editor,f=e.Dom,g=e.RangeUtils,h=e.EditorUtils,i=e.Command,j=e.ToolTemplate,k=e.FormatTool,l=e.BlockFormatFinder,m=g.textNodes,n=e.EditorUtils.registerTool,o=l.extend({init:function(a){this.tag=a;var b=this.tags=["ul"==a?"ol":"ul",a];l.fn.init.call(this,[{tags:b}])},isFormatted:function(a){for(var b,c=[],d=0;d<a.length;d++)(b=this.findFormat(a[d]))&&f.name(b)==this.tag&&c.push(b);if(c.length<1)return!1;if(c.length!=a.length)return!1;for(d=0;d<c.length&&c[d].parentNode==b.parentNode;d++)if(c[d]!=b)return!1;return!0},findSuitable:function(a){var b=f.parentOfType(a[0],this.tags);return b&&f.name(b)==this.tag?b:null}}),p=c.extend({init:function(a,b){var c=this;c.finder=new o(a),c.tag=a,c.unwrapTag=b},isList:function(a){var b=f.name(a);return"ul"==b||"ol"==b||"dl"==b},wrap:function(a,b){var c,d,e=f.create(a.ownerDocument,"li");for(c=0;c<b.length;c++)if(d=b[c],f.is(d,"li"))a.appendChild(d);else if(this.isList(d))for(;d.firstChild;)a.appendChild(d.firstChild);else if(f.is(d,"td")){for(;d.firstChild;)e.appendChild(d.firstChild);a.appendChild(e),d.appendChild(a),a=a.cloneNode(!1),e=e.cloneNode(!1)}else e.appendChild(d),f.isBlock(d)&&(a.appendChild(e),f.unwrap(d),e=e.cloneNode(!1));e.firstChild&&a.appendChild(e)},containsAny:function(a,b){for(var c=0;c<b.length;c++)if(f.isAncestorOrSelf(a,b[c]))return!0;return!1},suitable:function(a,b){if("k-marker"==a.className){var c=a.nextSibling;if(c&&f.isBlock(c))return!1;if(c=a.previousSibling,c&&f.isBlock(c))return!1}return this.containsAny(a,b)||f.isInline(a)||3==a.nodeType},split:function(b){var c,d,e=m(b);if(e.length){c=f.parentOfType(e[0],["li"]),d=f.parentOfType(e[e.length-1],["li"]),b.setStartBefore(c),b.setEndAfter(d);for(var h=0,i=e.length;i>h;h++){var j=this.finder.findFormat(e[h]);if(j){var k=a(j).parents("ul,ol");k[0]?g.split(b,k.last()[0],!0):g.split(b,j,!0)}}}},merge:function(a,b){for(var c,d=b.previousSibling;d&&("k-marker"==d.className||3==d.nodeType&&f.isWhitespace(d));)d=d.previousSibling;if(d&&f.name(d)==a){for(;b.firstChild;)d.appendChild(b.firstChild);f.remove(b),b=d}for(c=b.nextSibling;c&&("k-marker"==c.className||3==c.nodeType&&f.isWhitespace(c));)c=c.nextSibling;if(c&&f.name(c)==a){for(;b.lastChild;)c.insertBefore(b.lastChild,c.firstChild);f.remove(b)}},breakable:function(a){return a!=a.ownerDocument.body&&!/table|tbody|tr|td/.test(f.name(a))&&!a.attributes.contentEditable},applyOnSection:function(b,c){function d(){h.push(this)}var e=this.tag,g=f.closestSplittableParent(c),h=[],i=this.finder.findSuitable(c);i||(i=new o("ul"==e?"ol":"ul").findSuitable(c));var j;/table|tbody/.test(f.name(g))?j=a.map(c,function(a){return f.parentOfType(a,["td"])}):(j=f.significantChildNodes(g),a.grep(j,f.isBlock).length&&(j=a.grep(j,a.proxy(function(a){return this.containsAny(a,c)},this))),j.length||(j=c));for(var k=0;k<j.length;k++){var l=j[k],m=(!i||!f.isAncestorOrSelf(i,l))&&this.suitable(l,c);m&&(i&&this.isList(l)?(a.each(l.childNodes,d),f.remove(l)):h.push(l))}h.length==j.length&&this.breakable(g)&&(h=[g]),i||(i=f.create(g.ownerDocument,e),f.insertBefore(i,h[0])),this.wrap(i,h),f.is(i,e)||f.changeTag(i,e),this.merge(e,i)},apply:function(a){var b,c,d,e=0,g=[];do d=f.closestEditable(a[e],["td","body"]),b&&d==b?c.push(a[e]):(b&&g.push({section:b,nodes:c}),c=[a[e]],b=d),e++;while(e<a.length);for(g.push({section:b,nodes:c}),e=0;e<g.length;e++)this.applyOnSection(g[e].section,g[e].nodes)},unwrap:function(b){var c,d,e,g,h=b.ownerDocument.createDocumentFragment(),i=this.unwrapTag;for(d=b.firstChild;d;d=d.nextSibling){for(e=f.create(b.ownerDocument,i||"p");d.firstChild;)g=d.firstChild,f.isBlock(g)?(e.firstChild&&(h.appendChild(e),e=f.create(b.ownerDocument,i||"p")),h.appendChild(g)):e.appendChild(g);e.firstChild&&h.appendChild(e)}c=a(b).parents("ul,ol"),c[0]?(f.insertAfter(h,c.last()[0]),c.last().remove()):f.insertAfter(h,b),f.remove(b)},remove:function(a){for(var b,c=0,d=a.length;d>c;c++)b=this.finder.findFormat(a[c]),b&&this.unwrap(b)},toggle:function(a){var b=this,c=m(a),d=a.commonAncestorContainer;if(!c.length&&(a.selectNodeContents(d),c=m(a),!c.length)){var e=d.ownerDocument.createTextNode("");a.startContainer.appendChild(e),c=[e],a.selectNode(e.parentNode)}b.finder.isFormatted(c)?(b.split(a),b.remove(c)):b.apply(c)}}),q=i.extend({init:function(a){a.formatter=new p(a.tag),i.fn.init.call(this,a)}}),r=k.extend({init:function(a){this.options=a,k.fn.init.call(this,d(a,{finder:new o(a.tag)}))},command:function(a){return new q(d(a,{tag:this.options.tag}))}});d(e,{ListFormatFinder:o,ListFormatter:p,ListCommand:q,ListTool:r}),n("insertUnorderedList",new r({tag:"ul",template:new j({template:h.buttonTemplate,title:"Remove Link"})})),n("insertOrderedList",new r({tag:"ol",template:new j({template:h.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.Class,d=a.extend,e=a.proxy,f=b.ui.editor,g=f.Dom,h=f.RangeUtils,i=f.EditorUtils,j=f.Command,k=f.Tool,l=f.ToolTemplate,m=f.InlineFormatter,n=f.InlineFormatFinder,o=h.textNodes,p=f.EditorUtils.registerTool,q=c.extend({findSuitable:function(a){return g.parentOfType(a,["a"])}}),r=c.extend({init:function(){this.finder=new q},apply:function(a,b){var c,d,e,f,i=o(a);b.innerHTML?(c=h.getMarkers(a),d=h.documentFromRange(a),a.deleteContents(),f=g.create(d,"a",b),a.insertNode(f),"a"==g.name(f.parentNode)&&g.insertAfter(f,f.parentNode),c.length>1&&(g.insertAfter(c[c.length-1],f),g.insertAfter(c[1],f),g[i.length>0?"insertBefore":"insertAfter"](c[0],f))):(e=new m([{tags:["a"]}],b),e.finder=this.finder,e.apply(i))}}),s=j.extend({init:function(a){a.formatter={toggle:function(a){new m([{tags:["a"]}]).remove(o(a))}},this.options=a,j.fn.init.call(this,a)}}),t=j.extend({init:function(a){var b=this;b.options=a,j.fn.init.call(b,a),b.formatter=new r,a.url?this.exec=function(){this.formatter.apply(a.range,{href:a.url,innerHTML:a.text||a.url,target:a.target})}:(b.attributes=null,b.async=!0)},_dialogTemplate:function(){return b.template("<div class=\"k-editor-dialog k-popup-edit-form k-edit-form-container\"><div class='k-edit-label'><label for='k-editor-link-url'>#: messages.linkWebAddress #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-url'></div><div class='k-edit-label k-editor-link-text-row'><label for='k-editor-link-text'>#: messages.linkText #</label></div><div class='k-edit-field k-editor-link-text-row'><input type='text' class='k-input k-textbox' id='k-editor-link-text'></div><div class='k-edit-label'><label for='k-editor-link-title'>#: messages.linkToolTip #</label></div><div class='k-edit-field'><input type='text' class='k-input k-textbox' id='k-editor-link-title'></div><div class='k-edit-label'></div><div class='k-edit-field'><input type='checkbox' class='k-checkbox' id='k-editor-link-target'><label for='k-editor-link-target'>#: messages.linkOpenInNewWindow #</label></div><div class='k-edit-buttons k-state-default'><button class=\"k-dialog-insert k-button\">#: messages.dialogInsert #</button><button class=\"k-dialog-close k-button\">#: messages.dialogCancel #</button></div></div>")({messages:this.editor.options.messages})},exec:function(){var b=this.getRange().collapsed,c=this.editor.options.messages;this._initialText="",this._range=this.lockRange(!0);var d=o(this._range),f=d.length?this.formatter.finder.findSuitable(d[0]):null,h=d.length&&"img"==g.name(d[0]),i=this.createDialog(this._dialogTemplate(),{title:c.createLink,close:e(this._close,this),visible:!1});i.find(".k-dialog-insert").click(e(this._apply,this)).end().find(".k-dialog-close").click(e(this._close,this)).end().find(".k-edit-field input").keydown(e(this._keydown,this)).end().find("#k-editor-link-url").val(this.linkUrl(f)).end().find("#k-editor-link-text").val(this.linkText(d)).end().find("#k-editor-link-title").val(f?f.title:"").end().find("#k-editor-link-target").attr("checked",f?"_blank"==f.target:!1).end().find(".k-editor-link-text-row").toggle(!h),d.length>0&&!b&&(this._initialText=a("#k-editor-link-text",i).val()),this._dialog=i.data("kendoWindow").center().open(),a("#k-editor-link-url",i).focus().select()},_keydown:function(a){var c=b.keys;a.keyCode==c.ENTER?this._apply(a):a.keyCode==c.ESC&&this._close(a)},_apply:function(b){var c,d,e,f=this._dialog.element,h=a("#k-editor-link-url",f).val(),i=a("#k-editor-link-text",f);h&&"http://"!=h&&(h.indexOf("@")>0&&!/^(\w+:)|(\/\/)/i.test(h)&&(h="mailto:"+h),this.attributes={href:h},c=a("#k-editor-link-title",f).val(),c&&(this.attributes.title=c),i.is(":visible")&&(d=i.val(),d||this._initialText?d&&d!==this._initialText&&(this.attributes.innerHTML=g.stripBom(d)):this.attributes.innerHTML=h),e=a("#k-editor-link-target",f).is(":checked"),this.attributes.target=e?"_blank":null,this.formatter.apply(this._range,this.attributes)),this._close(b),this.change&&this.change()},_close:function(a){a.preventDefault(),this._dialog.destroy(),g.windowFromDocument(h.documentFromRange(this._range)).focus(),this.releaseRange(this._range)},linkUrl:function(a){return a?a.getAttribute("href",2):"http://"},linkText:function(a){var b="";return 1==a.length?b=a[0].nodeValue:a.length&&(b=a[0].nodeValue+a[1].nodeValue),g.stripBom(b||"")},redo:function(){var a=this.lockRange(!0);this.formatter.apply(a,this.attributes),this.releaseRange(a)}}),u=k.extend({init:function(b){this.options=b,this.finder=new n([{tags:["a"]}]),k.fn.init.call(this,a.extend(b,{command:s}))},initialize:function(a,b){k.fn.initialize.call(this,a,b),a.addClass("k-state-disabled")},update:function(a,b){a.toggleClass("k-state-disabled",!this.finder.isFormatted(b)).removeClass("k-state-hover")}});d(b.ui.editor,{LinkFormatFinder:q,LinkFormatter:r,UnlinkCommand:s,LinkCommand:t,UnlinkTool:u}),p("createLink",new k({key:"K",ctrl:!0,command:t,template:new l({template:i.buttonTemplate,title:"Create Link"})})),p("unlink",new u({key:"K",ctrl:!0,shift:!0,template:new l({template:i.buttonTemplate,title:"Remove Link"})}))}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=a.extend,e=c.ui.editor,f=e.EditorUtils,g=e.Dom,h=f.registerTool,i=e.ToolTemplate,j=e.RangeUtils,k=e.Command,l=c.keys,m="#k-editor-image-url",n="#k-editor-image-title",o="#k-editor-image-width",p="#k-editor-image-height",q=k.extend({init:function(a){var b=this;k.fn.init.call(b,a),b.async=!0,b.attributes={}},insertImage:function(a,b){var c=this.attributes,d=j.documentFromRange(b);if(c.src&&"http://"!=c.src){var e=function(){setTimeout(function(){c.width||a.removeAttribute("width"),c.height||a.removeAttribute("height"),a.removeAttribute("complete")})};if(!a)return a=g.create(d,"img",c),a.onload=a.onerror=function(){e()},b.deleteContents(),b.insertNode(a),a.nextSibling||g.insertAfter(d.createTextNode("﻿"),a),e(),b.setStartAfter(a),b.setEndAfter(a),j.selectRange(b),!0;g.attr(a,c),e()}return!1},_dialogTemplate:function(a){return c.template('<div class="k-editor-dialog k-popup-edit-form k-edit-form-container"># if (showBrowser) { #<div class="k-imagebrowser"></div># } #<div class=\'k-edit-label\'><label for="k-editor-image-url">#: messages.imageWebAddress #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-url"></div><div class=\'k-edit-label\'><label for="k-editor-image-title">#: messages.imageAltText #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-title"></div><div class=\'k-edit-label\'><label for="k-editor-image-width">#: messages.imageWidth #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-width"></div><div class=\'k-edit-label\'><label for="k-editor-image-height">#: messages.imageHeight #</label></div><div class=\'k-edit-field\'><input type="text" class="k-input k-textbox" id="k-editor-image-height"></div><div class="k-edit-buttons k-state-default"><button class="k-dialog-insert k-button">#: messages.dialogInsert #</button><button class="k-dialog-close k-button">#: messages.dialogCancel #</button></div></div>')({messages:this.editor.options.messages,showBrowser:a})},redo:function(){var a=this,b=a.lockRange();a.insertImage(j.image(b),b)||a.releaseRange(b)},exec:function(){function a(a){var b=h.element,c=parseInt(b.find(o).val(),10),d=parseInt(b.find(p).val(),10);i.attributes={src:b.find(m).val().replace(/ /g,"%20"),alt:b.find(n).val()},i.attributes.width=null,i.attributes.height=null,!isNaN(c)&&c>0&&(i.attributes.width=c),!isNaN(d)&&d>0&&(i.attributes.height=d),q=i.insertImage(r,k),e(a),i.change&&i.change()}function e(a){a.preventDefault(),h.destroy(),g.windowFromDocument(j.documentFromRange(k)).focus(),q||i.releaseRange(k)}function f(b){b.keyCode==l.ENTER?a(b):b.keyCode==l.ESC&&e(b)}var h,i=this,k=i.lockRange(),q=!1,r=j.image(k),s=r&&r.getAttribute("width")||"",t=r&&r.getAttribute("height")||"",u=i.editor.options,v=u.messages,w=u.imageBrowser,x=!!(c.ui.ImageBrowser&&w&&w.transport&&w.transport.read!==b);h=this.createDialog(i._dialogTemplate(x),{title:v.insertImage,close:e,visible:!1,resizable:x}).toggleClass("k-imagebrowser-dialog",x).find(".k-dialog-insert").click(a).end().find(".k-dialog-close").click(e).end().find(".k-edit-field input").keydown(f).end().find(m).val(r?r.getAttribute("src",2):"http://").end().find(n).val(r?r.alt:"").end().find(o).val(s).end().find(p).val(t).end().data("kendoWindow"),x&&new c.ui.ImageBrowser(h.element.find(".k-imagebrowser"),d({},w,{change:function(){h.element.find(m).val(this.value())},apply:a})),h.center().open(),h.element.find(m).focus().select()}});c.ui.editor.ImageCommand=q,h("insertImage",new e.Tool({command:q,template:new i({template:f.buttonTemplate,title:"Insert Image"})}))}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui.DropDownList,e=c.ui.editor.Dom,f=d.extend({init:function(a,b){var e=this;d.fn.init.call(e,a,b),e.value(e.options.title),c.support.mobileOS.ios&&e._initSelectOverlay(),e.bind("open",function(){if(e.options.autoSize){var a,b=e.list;b.css({whiteSpace:"nowrap",width:"auto"}),a=b.width(),a?a+=20:a=e._listWidth,b.css("width",a+c.support.scrollbar()),e._listWidth=a}})},options:{name:"SelectBox"},_initSelectOverlay:function(){var b=a(this.element),c=a("<select class='k-select-overlay' />"),d=b.closest(".k-widget"),e=this;c.on("change",function(){e.value(this.value),e.trigger("change")}),this.bind("dataBound",function(){for(var a,b=e.value(),d=this.dataSource.view(),f="",g=0;g<d.length;g++)a=d[g],f+="<option value='"+a.value+"'",a.value==b&&(f+=" selected"),f+=">"+a.text+"</option>";c.html(f)}),c.insertAfter(d)},value:function(a){var c=this,e=d.fn.value.call(c,a);return a===b?e:void(a!==d.fn.value.call(c)&&(c.text(c.options.title),c._current&&c._current.removeClass("k-state-selected"),c.current(null),c._oldIndex=c.selectedIndex=-1))},decorate:function(b){var c,d,f,g,h=this,i=h.dataSource,j=i.data();for(b&&h.list.css("background-color",e.getEffectiveBackground(a(b))),c=0;c<j.length;c++)d=j[c].tag||"span",f=j[c].className,g=e.inlineStyle(b,d,{className:f}),g=g.replace(/"/g,"'"),j[c].style=g+";display:inline-block";i.trigger("change")}});c.ui.plugin(f),c.ui.editor.SelectBox=f}(window.kendo.jQuery),function(a,b){function c(c,d){var e="rtl"==a(c).css("direction"),f=e?"Right":"Left",g="td"!=h.name(c)?"margin"+f:"padding"+f;return d===b?c.style[g]||0:void(d>0?c.style[g]=d+"px":(c.style[g]="",c.style.cssText||c.removeAttribute("style")))}var d=window.kendo,e=d.Class,f=a.extend,g=d.ui.editor,h=g.Dom,i=g.EditorUtils,j=i.registerTool,k=g.Command,l=g.Tool,m=g.ToolTemplate,n=g.RangeUtils,o=h.blockElements,p=g.BlockFormatFinder,q=g.BlockFormatter,r=e.extend({init:function(){this.finder=new p([{tags:h.blockElements}])},apply:function(b){var d,e,f,g,i,j=this.finder.findSuitable(b),k=[];if(j.length){for(d=0,e=j.length;e>d;d++)h.is(j[d],"li")?a(j[d]).index()?a.inArray(j[d].parentNode,k)<0&&k.push(j[d]):k.push(j[d].parentNode):k.push(j[d]);for(;k.length;)if(f=k.shift(),h.is(f,"li")){g=f.parentNode,i=a(f).prev("li");var l=i.find("ul,ol").last(),m=a(f).children("ul,ol")[0];if(m&&i[0])l[0]?(l.append(f),l.append(a(m).children()),h.remove(m)):(i.append(m),m.insertBefore(f,m.firstChild));else for(m=i.children("ul,ol")[0],m||(m=h.create(f.ownerDocument,h.name(g)),i.append(m));f&&f.parentNode==g;)m.appendChild(f),f=k.shift()}else{var n=parseInt(c(f),10)+30;c(f,n);for(var o=0;o<k.length;o++)a.contains(f,k[o])&&k.splice(o,1)}}else{var p=new q([{tags:["p"]}],{style:{marginLeft:30}});p.apply(b)}},remove:function(b){var d,e,f,g,h,i,j,k,l=this.finder.findSuitable(b);for(e=0,f=l.length;f>e;e++){if(j=a(l[e]),j.is("li")){if(g=j.parent(),h=g.parent(),h.is("li,ul,ol")&&!c(g[0])){if(d&&a.contains(d,h[0]))continue;i=j.nextAll("li"),i.length&&a(g[0].cloneNode(!1)).appendTo(j).append(i),h.is("li")?j.insertAfter(h):j.appendTo(h),g.children("li").length||g.remove();continue}if(d==g[0])continue;d=g[0]}else d=l[e];k=parseInt(c(d),10)-30,c(d,k)}}}),s=k.extend({init:function(a){a.formatter={toggle:function(a){(new r).apply(n.nodes(a))}},k.fn.init.call(this,a)}}),t=k.extend({init:function(a){a.formatter={toggle:function(a){(new r).remove(n.nodes(a))}},k.fn.init.call(this,a)}}),u=l.extend({init:function(a){l.fn.init.call(this,a),this.finder=new p([{tags:o}])},initialize:function(a,b){l.fn.initialize.call(this,a,b),a.addClass("k-state-disabled")},update:function(b,d){var e,f,g,i,j=this.finder.findSuitable(d);for(g=0,i=j.length;i>g;g++)if(e=c(j[g]),e||(f=a(j[g]).parents("ul,ol").length,e=h.is(j[g],"li")&&(f>1||c(j[g].parentNode))||h.ofType(j[g],["ul","ol"])&&f>0),e)return void b.removeClass("k-state-disabled");b.addClass("k-state-disabled").removeClass("k-state-hover")}});f(g,{IndentFormatter:r,IndentCommand:s,OutdentCommand:t,OutdentTool:u}),j("indent",new l({command:s,template:new m({template:i.buttonTemplate,title:"Indent"})})),j("outdent",new u({command:t,template:new m({template:i.buttonTemplate,title:"Outdent"})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=a.extend,d=b.ui.editor,e=d.EditorUtils,f=d.Command,g=d.Tool,h=d.ToolTemplate,i=f.extend({init:function(a){var b=this;b.options=a,f.fn.init.call(b,a),b.attributes=null,b.async=!0},exec:function(){function c(a){f.value(h.find(k).val()),d(a),e.change&&e.change(),f.trigger("change")}function d(a){a.preventDefault(),h.data("kendoWindow").destroy(),f.focus()}var e=this,f=e.editor,g=f.options.messages,h=a(b.template(i.template)(g)).appendTo(document.body),j=i.indent(f.value()),k=".k-editor-textarea";this.createDialog(h,{title:g.viewHtml,close:d,visible:!1}).find(k).val(j).end().find(".k-dialog-update").click(c).end().find(".k-dialog-close").click(d).end().data("kendoWindow").center().open(),h.find(k).focus()}});c(i,{template:"<div class='k-editor-dialog k-popup-edit-form k-edit-form-container k-viewhtml-dialog'><textarea class='k-editor-textarea k-input'></textarea><div class='k-edit-buttons k-state-default'><button class='k-dialog-update k-button'>#: dialogUpdate #</button><button class='k-dialog-close k-button'>#: dialogCancel #</button></div></div>",indent:function(a){return a.replace(/<\/(p|li|ul|ol|h[1-6]|table|tr|td|th)>/gi,"</$1>\n").replace(/<(ul|ol)([^>]*)><li/gi,"<$1$2>\n<li").replace(/<br \/>/gi,"<br />\n").replace(/\n$/,"")}}),b.ui.editor.ViewHtmlCommand=i,d.EditorUtils.registerTool("viewHtml",new g({command:i,template:new h({template:e.buttonTemplate,title:"View HTML"})}))}(window.kendo.jQuery),function(a){function b(b,c,d){return k.extend({init:function(a){k.fn.init.call(this,a),this.finder=d},command:function(b){var d=b.value;return a.isPlainObject(d)?d[c]=d.value:(b.value={},b.value[c]=d),k.fn.command.call(this,b)},initialize:function(a,b){var d,e=window.console,f=this.options.items;for(d=0;d<f.length;d++)f[d][c]=f[d].value;e&&e.warn("The `"+this.options.name+"` tool has been deprecated in favor of the `formatting` tool. See http://docs.telerik.com/kendo-ui/getting-started/changes-and-backward-compatibility for more information"),k.fn.initialize.call(this,a,b)}})}var c=window.kendo,d=c.ui.editor,e=d.Tool,f=d.ToolTemplate,g=d.DelayedExecutionTool,h=d.Dom,i=d.EditorUtils.dropDownListTemplate,j=d.EditorUtils.registerTool,k=g.extend({init:function(a){var b=this;e.fn.init.call(b,c.deepExtend({},b.options,a)),b.type="kendoSelectBox",b.finder={getFormat:function(){return""}}},options:{items:[{text:"Paragraph",value:"p"},{text:"Quotation",value:"blockquote"},{text:"Heading 1",value:"h1"},{text:"Heading 2",value:"h2"},{text:"Heading 3",value:"h3"},{text:"Heading 4",value:"h4"},{text:"Heading 5",value:"h5"},{text:"Heading 6",value:"h6"}],width:90},toFormattingItem:function(a){var b=a.value;if(!b)return a;if(a.tag||a.className)return a;var c=b.indexOf(".");return 0===c?a.className=b.substring(1):-1==c?a.tag=b:(a.tag=b.substring(0,c),a.className=b.substring(c+1)),a},command:function(b){var c=b.value;return c=this.toFormattingItem(c),new d.FormatCommand({range:b.range,formatter:function(){var b,e=(c.tag||c.context||"span").split(","),f=[{tags:e,attr:{className:c.className||""}}];return b=a.inArray(e[0],h.inlineElements)>=0?new d.GreedyInlineFormatter(f):new d.GreedyBlockFormatter(f)}})},initialize:function(a,b){var d=b.editor,f=this.options,g=f.name,h=this;a.width(f.width),a.kendoSelectBox({dataTextField:"text",dataValueField:"value",dataSource:f.items||d.options[g],title:d.options.messages[g],autoSize:!0,change:function(){e.exec(d,g,this.dataItem().toJSON())},dataBound:function(){var a,b=this.dataSource.data();for(a=0;a<b.length;a++)b[a]=h.toFormattingItem(b[a])},highlightFirst:!1,template:c.template('<span unselectable="on" style="display:block;#=(data.style||"")#">#:data.text#</span>')}),a.addClass("k-decorated").closest(".k-widget").removeClass("k-"+g).find("*").addBack().attr("unselectable","on")},getFormattingValue:function(b,c){for(var d=0;d<b.length;d++){var e=b[d],f=e.tag||e.context||"",g=e.className?"."+e.className:"",h=f+g,i=a(c[0]).closest(h)[0];if(i){if(1==c.length)return e.value;for(var j=1;j<c.length&&a(c[j]).closest(h)[0];j++)if(j==c.length-1)return e.value}}return""},update:function(b,c){var d=a(b).data(this.type);if(d){var e,f,i=d.dataSource,j=i.data(),k=h.commonAncestor.apply(null,c);for(e=0;e<j.length;e++)f=j[e].context,j[e].visible=!f||!!a(k).closest(f).length;i.filter([{field:"visible",operator:"eq",value:!0}]),g.fn.update.call(this,b,c),d.value(this.getFormattingValue(i.view(),c)),d.wrapper.toggleClass("k-state-disabled",!i.view().length)}}}),l=b("style","className",new d.GreedyInlineFormatFinder([{tags:["span"]}],"className")),m=b("formatBlock","tag",new d.BlockFormatFinder([{tags:h.blockElements}]));a.extend(d,{FormattingTool:k,StyleTool:l,FormatBlockTool:m}),j("formatting",new k({template:new f({template:i,title:"Format"})})),j("style",new l({template:new f({template:i,title:"Styles"})})),j("formatBlock",new m({template:new f({template:i})}))}(window.kendo.jQuery),function(a){var b=window.kendo,c=b.ui,d=c.editor,e=c.Widget,f=a.extend,g=a.proxy,h=b.keys,i=".kendoEditor",j="a.k-tool:not(.k-state-disabled),.k-widget.k-colorpicker,.k-selectbox,.k-dropdown,.k-combobox .k-input",k=e.extend({init:function(a,b){var c=this;b=f({},b,{name:"EditorToolbar"}),e.fn.init.call(c,a,b),b.popup&&c._initPopup()},events:["execute"],groups:{basic:["bold","italic","underline","strikethrough"],scripts:["subscript","superscript"],alignment:["justifyLeft","justifyCenter","justifyRight","justifyFull"],links:["insertImage","createLink","unlink"],lists:["insertUnorderedList","insertOrderedList","indent","outdent"],tables:["createTable","addColumnLeft","addColumnRight","addRowAbove","addRowBelow","deleteRow","deleteColumn"],advanced:["viewHtml"]},_initPopup:function(){this.window=a(this.element).wrap("<div class='editorToolbarWindow k-header' />").parent().prepend("<button class='k-button k-button-bare k-editortoolbar-dragHandle'><span class='k-icon k-i-move' /></button>").kendoWindow({title:!1,resizable:!1,draggable:{dragHandle:".k-editortoolbar-dragHandle"},animation:{open:{effects:"fade:in"},close:{effects:"fade:out"}},minHeight:42,visible:!1,autoFocus:!1,actions:[],dragend:function(){this._moved=!0}}).on("mousedown",function(b){a(b.target).is(".k-icon")||b.preventDefault()}).data("kendoWindow")},items:function(){return this.element.children().find("> *, select")},focused:function(){return this.element.find(".k-state-focused").length>0},toolById:function(a){var b,c=this.tools;for(b in c)if(b.toLowerCase()==a)return c[b]},toolGroupFor:function(b){var c,d=this.groups;if(this.isCustomTool(b))return"custom";for(c in d)if(a.inArray(b,d[c])>=0)return c},bindTo:function(b){var c=this,d=c.window;c._editor&&c._editor.unbind("select",g(c._update,c)),c._editor=b,c.tools=c.expandTools(b.options.tools),c.render(),c.element.find(".k-combobox .k-input").keydown(function(b){var c=a(this).closest(".k-combobox").data("kendoComboBox"),d=b.keyCode;d==h.RIGHT||d==h.LEFT?c.close():d==h.DOWN&&(c.dropDown.isOpened()||(b.stopImmediatePropagation(),c.open()))}),c._attachEvents(),c.items().each(function(){var d=c._toolName(this),e=c.tools[d],f=e&&e.options,g=b.options.messages,h=f&&f.tooltip||g[d],i=a(this);if(e&&e.initialize){if("fontSize"==d||"fontName"==d){var j=g[d+"Inherit"];i.find("input").val(j).end().find("span.k-input").text(j).end()}e.initialize(i,{title:c._appendShortcutSequence(h,e),editor:c._editor}),i.closest(".k-widget",c.element).addClass("k-editor-widget"),i.closest(".k-colorpicker",c.element).next(".k-colorpicker").addClass("k-editor-widget")}}),b.bind("select",g(c._update,c)),c._updateContext(),d&&d.wrapper.css({top:"",left:"",width:""})},show:function(){var a,b,c=this,d=c.window,e=c.options.editor;d&&(a=d.wrapper,b=e.element,a.is(":visible")&&c.window.options.visible||(a[0].style.width||a.width(b.outerWidth()-parseInt(a.css("border-left-width"),10)-parseInt(a.css("border-right-width"),10)),d._moved||(a.css("top",parseInt(b.offset().top,10)-a.outerHeight()-parseInt(c.window.element.css("padding-bottom"),10)),a.css("left",parseInt(b.offset().left,10))),d.open()))},hide:function(){this.window&&this.window.close()},focus:function(){var a="tabIndex",b=this.element,c=this._editor.element.attr(a);b.attr(a,c||0).focus().find(j).first().focus(),c||0===c||b.removeAttr(a)},_appendShortcutSequence:function(a,b){if(!b.key)return a;var c=a+" (";return b.ctrl&&(c+="Ctrl + "),b.shift&&(c+="Shift + "),b.alt&&(c+="Alt + "),c+=b.key+")"},_nativeTools:["insertLineBreak","insertParagraph","redo","undo"],tools:{},isCustomTool:function(a){return!(a in b.ui.Editor.defaultTools)},expandTools:function(c){var e,g,h,i,j=this._nativeTools,k=b.deepExtend({},b.ui.Editor.defaultTools),l={};for(g=0;g<c.length;g++)e=c[g],i=e.name,a.isPlainObject(e)?i&&k[i]?(l[i]=f({},k[i]),f(l[i].options,e)):(h=f({cssClass:"k-i-custom",type:"button",title:""},e),h.name||(h.name="custom"),h.cssClass="k-"+("custom"==h.name?"i-custom":h.name),h.template||"button"!=h.type||(h.template=d.EditorUtils.buttonTemplate,h.title=h.title||h.tooltip),l[i]={options:h}):k[e]&&(l[e]=k[e]);for(g=0;g<j.length;g++)l[j[g]]||(l[j[g]]=k[j[g]]);return l},render:function(){function c(c){var d;return c.getHtml?d=c.getHtml():(a.isFunction(c)||(c=b.template(c)),d=c(f)),a.trim(d)}function d(){m.children().length&&m.appendTo(r)}function e(){m=a("<li class='k-tool-group' role='presentation' />")}var f,h,i,j,k,l,m,n,o=this,p=o.tools,q=o._editor.element,r=o.element.empty(),s=o._editor.options.tools,t=b.support.browser;for(r.empty(),e(),n=0;n<s.length;n++)j=s[n].name||s[n],f=p[j]&&p[j].options,!f&&a.isPlainObject(j)&&(f=j),h=f&&f.template,"break"==j&&(d(),a("<li class='k-row-break' />").appendTo(o.element),e()),h&&(l=o.toolGroupFor(j),k!=l&&(d(),e(),k=l),h=c(h),i=a(h).appendTo(m),"custom"==l&&(d(),e()),f.exec&&i.hasClass("k-tool")&&i.click(g(f.exec,q[0])));d(),a(o.element).children(":has(> .k-tool)").addClass("k-button-group"),o.options.popup&&t.msie&&t.version<9&&o.window.wrapper.find("*").attr("unselectable","on"),this.updateGroups()},updateGroups:function(){a(this.element).children().each(function(){a(this).children().filter(function(){return"none"!==this.style.display}).first().addClass("k-group-start").end().last().addClass("k-group-end").end()})},decorateFrom:function(b){this.items().filter(".k-decorated").each(function(){var c=a(this).data("kendoSelectBox");c&&c.decorate(b)})},destroy:function(){e.fn.destroy.call(this);var a,b=this.tools;for(a in b)b[a].destroy&&b[a].destroy();this.window&&this.window.destroy()},_attachEvents:function(){var b=this,c="[role=button].k-tool",d=c+":not(.k-state-disabled)",e=c+".k-state-disabled";b.element.off(i).on("mouseenter"+i,d,function(){a(this).addClass("k-state-hover")}).on("mouseleave"+i,d,function(){a(this).removeClass("k-state-hover")}).on("mousedown"+i,c,function(a){a.preventDefault()}).on("keydown"+i,j,function(c){function d(a,c){var d=b.element.find(j),e=d.index(f)+a;return c&&(e=Math.max(0,Math.min(d.length-1,e))),d[e]}var e,f=this,g=c.keyCode;g==h.RIGHT||g==h.LEFT?a(f).hasClass(".k-dropdown")||(e=d(g==h.RIGHT?1:-1,!0)):g==h.ESC?e=b._editor:g!=h.TAB||c.ctrlKey||c.altKey||(c.shiftKey?e=d(-1):(e=d(1),e||(e=b._editor))),e&&(c.preventDefault(),e.focus())}).on("click"+i,d,function(c){var d=a(this);c.preventDefault(),c.stopPropagation(),d.removeClass("k-state-hover"),d.is("[data-popup]")||b._editor.exec(b._toolName(this))}).on("click"+i,e,function(a){a.preventDefault()})},_toolName:function(b){if(b){var c=b.className;/k-tool\b/i.test(c)&&(c=b.firstChild.className);var d=a.grep(c.split(" "),function(a){return!/^k-(widget|tool|tool-icon|state-hover|header|combobox|dropdown|selectbox|colorpicker)$/i.test(a)});return d[0]?d[0].substring(d[0].lastIndexOf("-")+1):"custom"}},_update:function(){var c=this,d=c._editor,e=d.getRange(),f=b.ui.editor.RangeUtils.textNodes(e);f.length||(f=[e.startContainer]),c.items().each(function(){var b=c.tools[c._toolName(this)];b&&b.update&&b.update(a(this),f)
}),this._updateContext()},_updateContext:function(){this.element.children().children().each(function(){var b=a(this);b.css("display",b.hasClass("k-state-disabled")?"none":"")}),this.updateGroups()}});a.extend(d,{Toolbar:k})}(window.jQuery),function(a){var b=window.kendo,c=a.extend,d=a.proxy,e=b.ui.editor,f=e.Dom,g=e.EditorUtils,h=e.Command,i=".kendoEditor",j="k-state-active",k="k-state-selected",l=e.Tool,m=e.ToolTemplate,n=e.InsertHtmlCommand,o=e.BlockFormatFinder,p=e.EditorUtils.registerTool,q="<td contentEditable='true'>"+e.emptyElementContent+"</td>",r=new o([{tags:["table"]}]),s=n.extend({_tableHtml:function(a,b){return a=a||1,b=b||1,"<table class='k-table' contentEditable='false' data-last>"+new Array(a+1).join("<tr>"+new Array(b+1).join(q)+"</tr>")+"</table>"},postProcess:function(b,c){var d=a("table[data-last]",b.document).removeAttr("data-last");c.selectNodeContents(d.find("td")[0]),b.selectRange(c)},exec:function(){var a=this.options;a.html=this._tableHtml(a.rows,a.columns),a.postProcess=this.postProcess,n.fn.exec.call(this)}}),t=l.extend({initialize:function(b,c){l.fn.initialize.call(this,b,c);var e=a(this.options.popupTemplate).appendTo("body").kendoPopup({anchor:b,copyAnchorStyles:!1,open:d(this._open,this),activate:d(this._activate,this),close:d(this._close,this)}).data("kendoPopup");b.click(d(this._toggle,this)).keydown(d(this._keydown,this)),this._editor=c.editor,this._popup=e},popup:function(){return this._popup},_activate:a.noop,_open:function(){this._popup.options.anchor.addClass(j)},_close:function(){this._popup.options.anchor.removeClass(j)},_keydown:function(a){var c=b.keys,d=a.keyCode;d==c.DOWN&&a.altKey?this._popup.open():d==c.ESC&&this._popup.close()},_toggle:function(b){var c=a(b.target).closest(".k-tool");c.hasClass("k-state-disabled")||this.popup().toggle()},update:function(a){this.popup().close(),a.removeClass("k-state-hover")},destroy:function(){this._popup.destroy()}}),u=t.extend({init:function(b){this.cols=8,this.rows=6,t.fn.init.call(this,a.extend(b,{command:s,popupTemplate:"<div class='k-ct-popup'>"+new Array(this.cols*this.rows+1).join("<span class='k-ct-cell k-state-disabled' />")+"<div class='k-status'>Cancel</div></div>"}))},_activate:function(){function c(b){var c=a(window);return{row:Math.floor((b.clientY+c.scrollTop()-l.top)/e)+1,col:Math.floor((b.clientX+c.scrollLeft()-l.left)/d)+1}}var d,e,f=this,g=f._popup.element,h=g.find(".k-ct-cell"),j=h.eq(0),k=h.eq(h.length-1),l=b.getOffset(j),m=b.getOffset(k),n=f.cols,o=f.rows;m.left+=k[0].offsetWidth,m.top+=k[0].offsetHeight,d=(m.left-l.left)/n,e=(m.top-l.top)/o,g.on("mousemove"+i,function(a){f._setTableSize(c(a))}).on("mouseleave"+i,function(){f._setTableSize()}).on("mouseup"+i,function(a){f._exec(c(a))})},_valid:function(a){return a&&a.row>0&&a.col>0&&a.row<=this.rows&&a.col<=this.cols},_exec:function(a){this._valid(a)&&(this._editor.exec("createTable",{rows:a.row,columns:a.col}),this._popup.close())},_setTableSize:function(c){var d=this._popup.element,e=d.find(".k-status"),f=d.find(".k-ct-cell"),g=(this.rows,this.cols);this._valid(c)?(e.text(b.format("Create a {0} x {1} table",c.row,c.col)),f.each(function(b){a(this).toggleClass(k,b%g<c.col&&b/g<c.row)})):(e.text("Cancel"),f.removeClass(k))},_keydown:function(a){t.fn._keydown.call(this,a);var c=b.keys,d=a.keyCode,e=this._popup.element.find(".k-ct-cell"),f=Math.max(e.filter(".k-state-selected").last().index(),0),g=Math.floor(f/this.cols),h=f%this.cols,i=!1;d!=c.DOWN||a.altKey?d==c.UP?(i=!0,g--):d==c.RIGHT?(i=!0,h++):d==c.LEFT&&(i=!0,h--):(i=!0,g++);var j={row:Math.max(1,Math.min(this.rows,g+1)),col:Math.max(1,Math.min(this.cols,h+1))};d==c.ENTER?this._exec(j):this._setTableSize(j),i&&(a.preventDefault(),a.stopImmediatePropagation())},_open:function(){t.fn._open.call(this),this.popup().element.find(".k-ct-cell").removeClass(k)},_close:function(){t.fn._close.call(this),this.popup().element.off(i)},update:function(a,b){var c;t.fn.update.call(this,a),c=r.isFormatted(b),a.toggleClass("k-state-disabled",c)}}),v=h.extend({exec:function(){for(var a,b,c,d=this.lockRange(!0),g=d.endContainer;"td"!=f.name(g);)g=g.parentNode;b=g.parentNode,a=b.children.length,c=b.cloneNode(!0);for(var h=0;h<b.cells.length;h++)c.cells[h].innerHTML=e.emptyElementContent;"before"==this.options.position?f.insertBefore(c,b):f.insertAfter(c,b),this.releaseRange(d)}}),w=h.extend({exec:function(){var a,b,c,d,g=this.lockRange(!0),h=f.closest(g.endContainer,"td"),i=f.closest(h,"table"),j=i.rows,k=this.options.position;for(a=f.findNodeIndex(h),b=0;b<j.length;b++)c=j[b].cells[a],d=c.cloneNode(),d.innerHTML=e.emptyElementContent,"before"==k?f.insertBefore(d,c):f.insertAfter(d,c);this.releaseRange(g)}}),x=h.extend({exec:function(){var a,b=this.lockRange(),c=f.closest(b.endContainer,"tr"),d=f.closest(c,"table"),e=d.rows.length;1==e?(a=f.next(d)||f.prev(d),f.remove(d)):(f.removeTextSiblings(c),a=f.next(c)||f.prev(c),a=a.cells[0],f.remove(c)),a&&(b.setStart(a,0),b.collapse(!0),this.editor.selectRange(b))}}),y=h.extend({exec:function(){var a,b,c=this.lockRange(),d=f.closest(c.endContainer,"td"),e=f.closest(d,"table"),g=e.rows,h=f.findNodeIndex(d,!0),i=g[0].cells.length;if(1==i)a=f.next(e)||f.prev(e),f.remove(e);else for(f.removeTextSiblings(d),a=f.next(d)||f.prev(d),b=0;b<g.length;b++)f.remove(g[b].cells[h]);a&&(c.setStart(a,0),c.collapse(!0),this.editor.selectRange(c))}}),z=l.extend({command:function(a){return a=c(a,this.options),"delete"==a.action?"row"==a.type?new x(a):new y(a):"row"==a.type?new v(a):new w(a)},initialize:function(a,b){l.fn.initialize.call(this,a,b),a.addClass("k-state-disabled")},update:function(a,b){var c=!r.isFormatted(b);a.toggleClass("k-state-disabled",c)}});c(b.ui.editor,{PopupTool:t,TableCommand:s,InsertTableTool:u,TableModificationTool:z,InsertRowCommand:v,InsertColumnCommand:w,DeleteRowCommand:x,DeleteColumnCommand:y}),p("createTable",new u({template:new m({template:g.buttonTemplate,popup:!0,title:"Create table"})})),p("addColumnLeft",new z({type:"column",position:"before",template:new m({template:g.buttonTemplate,title:"Add column on the left"})})),p("addColumnRight",new z({type:"column",template:new m({template:g.buttonTemplate,title:"Add column on the right"})})),p("addRowAbove",new z({type:"row",position:"before",template:new m({template:g.buttonTemplate,title:"Add row above"})})),p("addRowBelow",new z({type:"row",template:new m({template:g.buttonTemplate,title:"Add row below"})})),p("deleteRow",new z({type:"row",action:"delete",template:new m({template:g.buttonTemplate,title:"Delete row"})})),p("deleteColumn",new z({type:"column",action:"delete",template:new m({template:g.buttonTemplate,title:"Delete column"})}))}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.caret,e=c.keys,f=c.ui,g=f.Widget,h=".kendoMaskedTextBox",i=a.proxy,j=(c.support.propertyChangeEvent?"propertychange":"input")+h,k="k-state-disabled",l="disabled",m="readonly",n="change",o=g.extend({init:function(b,d){var e,f=this;g.fn.init.call(f,b,d),f._rules=a.extend({},f.rules,f.options.rules),b=f.element,e=b[0],f.wrapper=b,f._tokenize(),f._reset(),f.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+h,function(){f._oldValue=e.value,b.val()?f._timeoutId=setTimeout(function(){b.select()}):e.value=f._old=f._emptyMask}).on("blur"+h,function(){clearTimeout(f._timeoutId),b.val()===f._emptyMask&&(e.value=f._old=""),f._change()});var i=b.is("[disabled]");i?f.enable(!1):f.readonly(b.is("[readonly]")),f.value(f.options.value||b.val()),c.notify(f)},options:{name:"MaskedTextBox",promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[n],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(b){var c=this;g.fn.setOptions.call(c,b),c._rules=a.extend({},c.rules,c.options.rules),c._tokenize(),this._unbindInput(),this._bindInput(),c.value(c.element.val())},destroy:function(){var a=this;a.element.off(h),a._form&&a._form.off("reset",a._resetHandler),g.fn.destroy.call(a)},value:function(a){var d=this.element,e=this._emptyMask;return a===b?this.element.val():e?(a=this._unmask(a+""),d.val(a?e:""),this._mask(0,this._maskLength,a),void(c._activeElement()!==d&&d.val()===e&&d.val(""))):void d.val(a)},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},_bindInput:function(){var a=this;a._maskLength&&a.element.on("keydown"+h,i(a._keydown,a)).on("keypress"+h,i(a._keypress,a)).on("paste"+h,i(a._paste,a)).on(j,i(a._propertyChange,a))},_unbindInput:function(){this.element.off("keydown"+h).off("keypress"+h).off("paste"+h).off(j)},_editable:function(a){var b=this,c=b.element,d=a.disable,e=a.readonly;b._unbindInput(),e||d?c.attr(l,d).attr(m,e).toggleClass(k,d):(c.removeAttr(l).removeAttr(m).removeClass(k),b._bindInput())},_change:function(){var a=this,b=a.value();b!==a._oldValue&&(a._oldValue=b,a.trigger(n),a.element.trigger(n))},_propertyChange:function(){var a,b,c=this,e=c.element[0],f=e.value;f===c._old||c._pasting||(b=d(e)[0],a=c._unmask(f.substring(b),b),e.value=c._old=f.substring(0,b)+c._emptyMask.substring(b),c._mask(b,b,a),d(e,b))},_paste:function(a){var b=this,c=a.target,e=d(c),f=e[0],g=e[1],h=b._unmask(c.value.substring(g),g);b._pasting=!0,setTimeout(function(){var a=c.value,e=a.substring(f,d(c)[0]);c.value=b._old=a.substring(0,f)+b._emptyMask.substring(f),b._mask(f,f,e),f=d(c)[0],b._mask(f,f,h),d(c,f),b._pasting=!1})},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){setTimeout(function(){b.value(c[0].value)})},b._form=e.on("reset",b._resetHandler))},_keydown:function(a){var c,f=a.keyCode,g=this.element[0],h=d(g),i=h[0],j=h[1],k=f===e.BACKSPACE;k||f===e.DELETE?(i===j&&(k?i-=1:j+=1,c=this._find(i,k)),c!==b&&c!==i?(k&&(c+=1),d(g,c)):i>-1&&this._mask(i,j,"",k),a.preventDefault()):f===e.ENTER&&(this._change(),a.preventDefault())},_keypress:function(a){if(0!==a.which){var b=d(this.element);this._mask(b[0],b[1],String.fromCharCode(a.which)),a.preventDefault()}},_find:function(a,b){var c=this.element.val()||this._emptyMask,d=1;for(b===!0&&(d=-1);a>-1||a<=this._maskLength;){if(c.charAt(a)!==this.tokens[a])return a;a+=d}return-1},_mask:function(a,e,f,g){var h,i,j,k,l=this.element[0],m=l.value||this._emptyMask,n=this.options.promptChar,o=0;for(a=this._find(a,g),a>e&&(e=a),i=this._unmask(m.substring(e),e),f=this._unmask(f,a),h=f.length,f&&(i=i.replace(new RegExp("^_{0,"+h+"}"),"")),f+=i,m=m.split(""),j=f.charAt(o);a<this._maskLength;)m[a]=j||n,j=f.charAt(++o),k===b&&o>h&&(k=a),a=this._find(a+1);l.value=this._old=m.join(""),c._activeElement()===l&&(k===b&&(k=this._maskLength),d(l,k))},_unmask:function(b,c){if(!b)return"";b=(b+"").split("");for(var d,e,f=0,g=c||0,h=this.options.promptChar,i=b.length,j=this.tokens.length,k="";j>g&&(d=b[f],e=this.tokens[g],d===e||d===h?(k+=d===h?h:"",f+=1,g+=1):"string"!=typeof e?((e.test&&e.test(d)||a.isFunction(e)&&e(d))&&(k+=d,g+=1),f+=1):g+=1,!(f>=i)););return k},_tokenize:function(){for(var a,b,d=[],e=0,f=this.options.mask||"",g=f.split(""),h=g.length,i=0,j="",k=this.options.promptChar,l=c.getCulture(this.options.culture).numberFormat,m=this._rules;h>i;i++)if(a=g[i],b=m[a])d[e]=b,j+=k,e+=1;else{"."===a||","===a?a=l[a]:"$"===a?a=l.currency.symbol:"\\"===a&&(i+=1,a=g[i]),a=a.split("");for(var n=0,o=a.length;o>n;n++)d[e]=a[n],j+=a[n],e+=1}this.tokens=d,this._emptyMask=j,this._maskLength=j.length}});f.plugin(o)}(window.kendo.jQuery),function(a,b){function c(b){b=a(b),b.children(r).children(".k-icon").remove(),b.filter(":has(.k-panel),:has(.k-content)").children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var b=a(this),c=b.parent();b.append("<span class='k-icon "+(c.hasClass(G)?"k-i-arrow-n k-panelbar-collapse":"k-i-arrow-s k-panelbar-expand")+"'/>")})}function d(b){b=a(b),b.filter(".k-first:not(:first-child)").removeClass(x),b.filter(".k-last:not(:last-child)").removeClass(p),b.filter(":first-child").addClass(x),b.filter(":last-child").addClass(p)}var e=window.kendo,f=e.ui,g=e.keys,h=a.extend,i=a.each,j=e.template,k=f.Widget,l=/^(ul|a|div)$/i,m=".kendoPanelBar",n="img",o="href",p="k-last",q="k-link",r="."+q,s="error",t=".k-item",u=".k-group",v=u+":visible",w="k-image",x="k-first",y="expand",z="select",A="k-content",B="activate",C="collapse",D="mouseenter",E="mouseleave",F="contentLoad",G="k-state-active",H="> .k-panel",I="> .k-content",J="k-state-focused",K="k-state-disabled",L="k-state-selected",M="."+L,N="k-state-highlight",O=t+":not(.k-state-disabled)",P=O+" > .k-link",Q=t+".k-state-disabled > .k-link",R="> li > "+M+", .k-panel > li > "+M,S="k-state-default",T="aria-disabled",U="aria-expanded",V="aria-hidden",W="aria-selected",X=":visible",Y=":empty",Z="single",$={content:j("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:j("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:j("<#= tag(item) # class='#= textClass(item, group) #' #= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:j("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),image:j("<img class='k-image' alt='' src='#= imageUrl #' />"),arrow:j("<span class='#= arrowClass(item) #'></span>"),sprite:j("<span class='k-sprite #= spriteCssClass #'></span>"),empty:j("")},_={aria:function(a){var b="";return(a.items||a.content||a.contentUrl)&&(b+=U+"='"+(a.expanded?"true":"false")+"' "),a.enabled===!1&&(b+=T+"='true'"),b},wrapperCssClass:function(a,b){var c="k-item",d=b.index;return c+=b.enabled===!1?" "+K:b.expanded===!0?" "+G:" k-state-default",0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),b.cssClass&&(c+=" "+b.cssClass),c},textClass:function(a,b){var c=q;return b.firstLevel&&(c+=" k-header"),c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},arrowClass:function(a){var b="k-icon";return b+=a.expanded?" k-i-arrow-n k-panelbar-collapse":" k-i-arrow-s k-panelbar-expand"},text:function(a){return a.encoded===!1?a.text:e.htmlEncode(a.text)},tag:function(a){return a.url||a.contentUrl?"a":"span"},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(a){return a.item.expanded!==!0?" style='display:none'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?'href="'+a.contentUrl+'"':""}},ab=k.extend({init:function(b,c){var d,f=this;k.fn.init.call(f,b,c),b=f.wrapper=f.element.addClass("k-widget k-reset k-header k-panelbar"),c=f.options,b[0].id&&(f._itemId=b[0].id+"_pb_active"),f._tabindex(),f._initData(c),f._updateClasses(),f._animations(c),b.on("click"+m,P,function(b){f._click(a(b.currentTarget))&&b.preventDefault()}).on(D+m+" "+E+m,P,f._toggleHover).on("click"+m,Q,!1).on("keydown"+m,a.proxy(f._keydown,f)).on("focus"+m,function(){var a=f.select();f._current(a[0]?a:f._first())}).on("blur"+m,function(){f._current(null)}).attr("role","menu"),d=b.find("li."+G+" > ."+A),d[0]&&f.expand(d.parent(),!1),e.notify(f)},events:[y,C,z,B,s,F],options:{name:"PanelBar",animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},expandMode:"multiple"},destroy:function(){k.fn.destroy.call(this),this.element.off(m),e.destroy(this.element)},_initData:function(a){var b=this;a.dataSource&&(b.element.empty(),b.append(a.dataSource,b.element))},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=h(!0,b,a.animation),"dataSource"in a&&this._initData(a),k.fn.setOptions.call(this,a)},expand:function(b,c){var d=this,e={};return c=c!==!1,b=this.element.find(b),b.each(function(f,g){g=a(g);var h=g.find(H).add(g.find(I));if(!g.hasClass(K)&&h.length>0){if(d.options.expandMode==Z&&d._collapseAllExpanded(g))return d;b.find("."+N).removeClass(N),g.addClass(N),c||(e=d.options.animation,d.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),d._triggerEvent(y,g)||d._toggleItem(g,!1),c||(d.options.animation=e)}}),d},collapse:function(b,c){var d=this,e={};return c=c!==!1,b=d.element.find(b),b.each(function(b,f){f=a(f);var g=f.find(H).add(f.find(I));!f.hasClass(K)&&g.is(X)&&(f.removeClass(N),c||(e=d.options.animation,d.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),d._triggerEvent(C,f)||d._toggleItem(f,!0),c||(d.options.animation=e))}),d},_toggleDisabled:function(a,b){a=this.element.find(a),a.toggleClass(S,b).toggleClass(K,!b).attr(T,!b)},select:function(c){var d=this;return c===b?d.element.find(R).parent():(d.element.find(c).each(function(){var b=a(this),c=b.children(r);return b.hasClass(K)?d:void(d._triggerEvent(z,b)||d._updateSelected(c))}),d)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},append:function(a,b){b=this.element.find(b);var e=this._insert(a,b,b.length?b.find(H):null);return i(e.items,function(){e.group.append(this),d(this)}),c(b),d(e.group.find(".k-first, .k-last")),e.group.height("auto"),this},insertBefore:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return i(c.items,function(){b.before(this),d(this)}),d(b),c.group.height("auto"),this},insertAfter:function(a,b){b=this.element.find(b);var c=this._insert(a,b,b.parent());return i(c.items,function(){b.after(this),d(this)}),d(b),c.group.height("auto"),this},remove:function(a){a=this.element.find(a);var b=this,e=a.parentsUntil(b.element,t),f=a.parent("ul");return a.remove(),!f||f.hasClass("k-panelbar")||f.children(t).length||f.remove(),e.length&&(e=e.eq(0),c(e),d(e)),b},reload:function(b){var c=this;b=c.element.find(b),b.each(function(){var b=a(this);c._ajaxRequest(b,b.children("."+A),!b.is(X))})},_first:function(){return this.element.children(O).first()},_last:function(){var a=this.element.children(O).last(),b=a.children(v);return b[0]?b.children(O).last():a},_current:function(a){var c=this,d=c._focused,e=c._itemId;return a===b?d:(c.element.removeAttr("aria-activedescendant"),d&&(d[0].id===e&&d.removeAttr("id"),d.children(r).removeClass(J)),a&&(e=a[0].id||e,a.attr("id",e).children(r).addClass(J),c.element.attr("aria-activedescendant",e)),void(c._focused=a))},_keydown:function(a){var b=this,c=a.keyCode,d=b._current();a.target==a.currentTarget&&(c==g.DOWN||c==g.RIGHT?(b._current(b._nextItem(d)),a.preventDefault()):c==g.UP||c==g.LEFT?(b._current(b._prevItem(d)),a.preventDefault()):c==g.ENTER||c==g.SPACEBAR?(b._click(d.children(r)),a.preventDefault()):c==g.HOME?(b._current(b._first()),a.preventDefault()):c==g.END&&(b._current(b._last()),a.preventDefault()))},_nextItem:function(a){if(!a)return this._first();var b=a.children(v),c=a.next();return b[0]&&(c=b.children("."+x)),c[0]||(c=a.parent(v).parent(t).next()),c[0]&&c.is(":visible")||(c=this._first()),c.hasClass(K)&&(c=this._nextItem(c)),c},_prevItem:function(a){if(!a)return this._last();var b,c=a.prev();if(c[0])for(b=c;b[0];)b=b.children(v).children("."+p),b[0]&&(c=b);else c=a.parent(v).parent(t),c[0]||(c=this._last());return c.hasClass(K)&&(c=this._prevItem(c)),c},_insert:function(b,c,d){var e,f,g=this,i=a.isPlainObject(b),j=c&&c[0];return j||(d=g.element),f={firstLevel:d.hasClass("k-panelbar"),expanded:d.parent().hasClass(G),length:d.children().length},j&&!d.length&&(d=a(ab.renderGroup({group:f})).appendTo(c)),i||a.isArray(b)?(e=a.map(i?[b]:b,function(b,c){return a("string"==typeof b?b:ab.renderItem({group:f,item:h(b,{index:c})}))}),j&&c.attr(U,!1)):(e="string"==typeof b&&"<"!=b[0]?g.element.find(b):a(b),g._updateItemsClasses(e)),{items:e,group:d}},_toggleHover:function(b){var c=a(b.currentTarget);c.parents("li."+K).length||c.toggleClass("k-state-hover",b.type==D)},_updateClasses:function(){var b,e,f=this;b=f.element.find("li > ul").not(function(){return a(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group"),b.parent().attr(U,!1).not("."+G).children("ul").attr(V,!0).hide(),e=f.element.add(b).children(),f._updateItemsClasses(e),c(e),d(e)},_updateItemsClasses:function(a){for(var b=a.length,c=0;b>c;c++)this._updateItemClasses(a[c],c)},_updateItemClasses:function(b,c){var d,f,g=this._selected,h=this.options.contentUrls,i=h&&h[c],j=this.element[0];b=a(b).addClass("k-item").attr("role","menuitem"),e.support.browser.msie&&b.css("list-style-position","inside").css("list-style-position",""),b.children(n).addClass(w),f=b.children("a").addClass(q),f[0]&&(f.attr("href",i),f.children(n).addClass(w)),b.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),b.filter("li[disabled]").addClass("k-state-disabled").attr(T,!0).removeAttr("disabled"),b.children("div").addClass(A).attr("role","region").attr(V,!0).hide().parent().attr(U,!1),f=b.children(M),f[0]&&(g&&g.removeAttr(W).children(M).removeClass(L),f.addClass(L),this._selected=b.attr(W,!0)),b.children(r)[0]||(d="<span class='"+q+"'/>",h&&h[c]&&b[0].parentNode==j&&(d='<a class="k-link k-header" href="'+h[c]+'"/>'),b.contents().filter(function(){return!(this.nodeName.match(l)||3==this.nodeType&&!a.trim(this.nodeValue))}).wrapAll(d)),b.parent(".k-panelbar")[0]&&b.children(r).addClass("k-header")},_click:function(a){var b,c,d,e,f=this,g=f.element;if(!a.parents("li."+K).length&&a.closest(".k-widget")[0]==g[0]){var h=a.closest(r),i=h.closest(t);if(f._updateSelected(h),c=i.find(H).add(i.find(I)),d=h.attr(o),e=d&&("#"==d.charAt(d.length-1)||-1!=d.indexOf("#"+f.element[0].id+"-")),b=!(!e&&!c.length),c.data("animating"))return b;if(f._triggerEvent(z,i)&&(b=!0),b!==!1){if(f.options.expandMode==Z&&f._collapseAllExpanded(i))return b;if(c.length){var j=c.is(X);f._triggerEvent(j?C:y,i)||(b=f._toggleItem(i,j))}return b}}},_toggleItem:function(a,c){var d,e,f=this,g=a.find(H),h=a.find(r),i=h.attr(o);return g.length?(this._toggleGroup(g,c),d=!0):(e=a.children("."+A),e.length&&(d=!0,e.is(Y)&&i!==b?f._ajaxRequest(a,e,c):f._toggleGroup(e,c))),d},_toggleGroup:function(a,b){var c=this,d=c.options.animation,e=d.expand,f=h({},d.collapse),g=f&&"effects"in f;a.is(X)==b&&(a.parent().attr(U,!b).attr(V,b).toggleClass(S,b).toggleClass(G,!b).find("> .k-link > .k-icon").toggleClass("k-i-arrow-n",!b).toggleClass("k-panelbar-collapse",!b).toggleClass("k-i-arrow-s",b).toggleClass("k-panelbar-expand",b),e=b?h(g?f:h({reverse:!0},e),{hide:!0}):h({complete:function(a){c._triggerEvent(B,a.closest(t))}},e),a.kendoStop(!0,!0).kendoAnimate(e))},_collapseAllExpanded:function(b){var c,d=this,e=!1;if(b.children(r).hasClass("k-header")){var f=b.find(H).add(b.find(I));return f.is(X)&&(e=!0),f.is(X)||0===f.length||(c=a(d.element).children(),c.find(H).add(c.find(I)).filter(function(){return a(this).is(X)}).each(function(b,c){c=a(c),e=d._triggerEvent(C,c.closest(t)),e||d._toggleGroup(c,!0)})),e}},_ajaxRequest:function(b,c,d){var e=this,f=b.find(".k-panelbar-collapse, .k-panelbar-expand"),g=b.find(r),h=setTimeout(function(){f.addClass("k-loading")},100),i={},j=g.attr(o);a.ajax({type:"GET",cache:!1,url:j,dataType:"html",data:i,error:function(a,b){f.removeClass("k-loading"),e.trigger(s,{xhr:a,status:b})&&this.complete()},complete:function(){clearTimeout(h),f.removeClass("k-loading")},success:function(a){try{c.html(a)}catch(f){var g=window.console;g&&g.error&&g.error(f.name+": "+f.message+" in "+j),this.error(this.xhr,"error")}e._toggleGroup(c,d),e.trigger(F,{item:b[0],contentElement:c[0]})}})},_triggerEvent:function(a,b){var c=this;return c.trigger(a,{item:b[0]})},_updateSelected:function(a){var b=this,c=b.element,d=a.parent(t),e=b._selected;e&&e.removeAttr(W),b._selected=d.attr(W,!0),c.find(R).removeClass(L),c.find("> ."+N+", .k-panel > ."+N).removeClass(N),a.addClass(L),a.parentsUntil(c,t).filter(":has(.k-header)").addClass(N),b._current(d)},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})}});h(ab,{renderItem:function(a){a=h({panelBar:{},group:{}},a);var b=$.empty,c=a.item;return $.item(h(a,{image:c.imageUrl?$.image:b,sprite:c.spriteCssClass?$.sprite:b,itemWrapper:$.itemWrapper,renderContent:ab.renderContent,arrow:c.items||c.content||c.contentUrl?$.arrow:b,subGroup:ab.renderGroup},_))},renderGroup:function(a){return $.group(h({renderItems:function(a){for(var b="",c=0,d=a.items,e=d?d.length:0,f=h({length:e},a.group);e>c;c++)b+=ab.renderItem(h(a,{group:f,item:h({index:c},d[c])}));return b}},a,_))},renderContent:function(a){return $.content(h(a,_))}}),e.ui.plugin(ab)}(window.kendo.jQuery),function(a,b){var c=window.kendo,d=c.ui,e=d.Widget,f="horizontal",g="vertical",h=0,i=100,j=0,k=5,l="k-progressbar",m="k-progressbar-reverse",n="k-progressbar-indeterminate",o="k-complete",p="k-state-selected",q="k-progress-status",r="k-state-selected",s="k-state-default",t="k-state-disabled",u={VALUE:"value",PERCENT:"percent",CHUNK:"chunk"},v="change",w="complete",x="boolean",y=Math,z=a.extend,A=a.proxy,B=100,C=400,D=3,E={progressStatus:"<span class='k-progress-status-wrap'><span class='k-progress-status'></span></span>"},F=e.extend({init:function(a,b){var c=this;e.fn.init.call(this,a,b),b=c.options,c._progressProperty=b.orientation===f?"width":"height",c._fields(),b.value=c._validateValue(b.value),c._validateType(b.type),c._wrapper(),c._progressAnimation(),b.value!==b.min&&b.value!==!1&&c._updateProgress()},setOptions:function(a){var b=this;e.fn.setOptions.call(b,a),a.hasOwnProperty("reverse")&&b.wrapper.toggleClass("k-progressbar-reverse",a.reverse),a.hasOwnProperty("enable")&&b.enable(a.enable),b._progressAnimation(),b._validateValue(),b._updateProgress()},events:[v,w],options:{name:"ProgressBar",orientation:f,reverse:!1,min:h,max:i,value:j,enable:!0,type:u.VALUE,chunkCount:k,showStatus:!0,animation:{}},_fields:function(){var b=this;b._isStarted=!1,b.progressWrapper=b.progressStatus=a()},_validateType:function(b){var d=!1;if(a.each(u,function(a,c){return c===b?(d=!0,!1):void 0}),!d)throw new Error(c.format("Invalid ProgressBar type '{0}'",b))},_wrapper:function(){var a,b=this,c=b.wrapper=b.element,d=b.options,e=d.orientation;c.addClass("k-widget "+l),c.addClass(l+"-"+(e===f?f:g)),d.enable===!1&&c.addClass(t),d.reverse&&c.addClass(m),d.value===!1&&c.addClass(n),d.type===u.CHUNK?b._addChunkProgressWrapper():d.showStatus&&(b.progressStatus=b.wrapper.prepend(E.progressStatus).find("."+q),a=d.value!==!1?d.value:d.min,b.progressStatus.text(d.type===u.VALUE?a:b._calculatePercentage(a)+"%"))},value:function(a){return this._value(a)},_value:function(a){var c,d=this,e=d.options;return a===b?e.value:void(typeof a!==x?(a=d._roundValue(a),isNaN(a)||(c=d._validateValue(a),c!==e.value&&(d.wrapper.removeClass(n),e.value=c,d._isStarted=!0,d._updateProgress()))):a||(d.wrapper.addClass(n),e.value=!1))},_roundValue:function(a){a=parseFloat(a);var b=y.pow(10,D);return y.floor(a*b)/b},_validateValue:function(a){var b=this,c=b.options;if(a!==!1){if(a<=c.min||a===!0)return c.min;if(a>=c.max)return c.max}else if(a===!1)return!1;return isNaN(b._roundValue(a))?c.min:a},_updateProgress:function(){var a=this,b=a.options,c=a._calculatePercentage();b.type===u.CHUNK?(a._updateChunks(c),a._onProgressUpdateAlways(b.value)):a._updateProgressWrapper(c)},_updateChunks:function(a){var b,c=this,d=c.options,e=d.chunkCount,h=parseInt(B/e*100,10)/100,i=parseInt(100*a,10)/100,j=y.floor(i/h);b=c.wrapper.find(d.orientation===f&&!d.reverse||d.orientation===g&&d.reverse?"li.k-item:lt("+j+")":"li.k-item:gt(-"+(j+1)+")"),c.wrapper.find("."+r).removeClass(r).addClass(s),b.removeClass(s).addClass(r)},_updateProgressWrapper:function(a){var b=this,c=b.options,d=b.wrapper.find("."+p),e=b._isStarted?b._animation.duration:0,f={};0===d.length&&b._addRegularProgressWrapper(),f[b._progressProperty]=a+"%",b.progressWrapper.animate(f,{duration:e,start:A(b._onProgressAnimateStart,b),progress:A(b._onProgressAnimate,b),complete:A(b._onProgressAnimateComplete,b,c.value),always:A(b._onProgressUpdateAlways,b,c.value)})},_onProgressAnimateStart:function(){this.progressWrapper.show()},_onProgressAnimate:function(a){var b,c=this,d=c.options,e=parseFloat(a.elem.style[c._progressProperty],10);d.showStatus&&(b=1e4/parseFloat(c.progressWrapper[0].style[c._progressProperty]),c.progressWrapper.find(".k-progress-status-wrap").css(c._progressProperty,b+"%")),d.type!==u.CHUNK&&98>=e&&c.progressWrapper.removeClass(o)},_onProgressAnimateComplete:function(a){var b=this,c=b.options,d=parseFloat(b.progressWrapper[0].style[b._progressProperty]);c.type!==u.CHUNK&&d>98&&b.progressWrapper.addClass(o),c.showStatus&&b.progressStatus.text(c.type===u.VALUE?a:y.floor(b._calculatePercentage(a))+"%"),a===c.min&&b.progressWrapper.hide()},_onProgressUpdateAlways:function(a){var b=this,c=b.options;b._isStarted&&b.trigger(v,{value:a}),a===c.max&&b._isStarted&&b.trigger(w,{value:c.max})},enable:function(a){var b=this,c=b.options;c.enable="undefined"==typeof a?!0:a,b.wrapper.toggleClass(t,!c.enable)},destroy:function(){var a=this;e.fn.destroy.call(a)},_addChunkProgressWrapper:function(){var a=this,b=a.options,c=a.wrapper,d=B/b.chunkCount,e="";b.chunkCount<=1&&(b.chunkCount=k),e+="<ul class='k-reset'>";for(var f=b.chunkCount-1;f>=0;f--)e+="<li class='k-item k-state-default'></li>";e+="</ul>",c.append(e).find(".k-item").css(a._progressProperty,d+"%").first().addClass("k-first").end().last().addClass("k-last"),a._normalizeChunkSize()},_normalizeChunkSize:function(){var a=this,b=a.options,c=a.wrapper.find(".k-item:last"),d=parseFloat(c[0].style[a._progressProperty]),e=B-b.chunkCount*d;e>0&&c.css(a._progressProperty,d+e+"%")},_addRegularProgressWrapper:function(){var b=this;b.progressWrapper=a("<div class='"+p+"'></div>").appendTo(b.wrapper),b.options.showStatus&&(b.progressWrapper.append(E.progressStatus),b.progressStatus=b.wrapper.find("."+q))},_calculateChunkSize:function(){var a=this,b=a.options.chunkCount,c=a.wrapper.find("ul.k-reset");return(parseInt(c.css(a._progressProperty),10)-(b-1))/b},_calculatePercentage:function(a){var c=this,d=c.options,e=a!==b?a:d.value,f=d.min,g=d.max;return c._onePercent=y.abs((g-f)/100),y.abs((e-f)/c._onePercent)},_progressAnimation:function(){var a=this,b=a.options,c=b.animation;a._animation=c===!1?{duration:0}:z({duration:C},b.animation)}});c.ui.plugin(F)}(window.kendo.jQuery),function(a,b){function c(b){b.children(p).addClass(x),b.children("a").addClass(s).children(p).addClass(x),b.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(H),b.filter("li[disabled]").addClass(G).removeAttr("disabled"),b.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(I+" "+L),b.attr("role","tab"),b.filter("."+I).attr("aria-selected",!0),b.each(function(){var b=a(this);b.children("."+s).length||b.contents().filter(function(){return!(this.nodeName.match(n)||3==this.nodeType&&!j(this.nodeValue))}).wrapAll("<a class='"+s+"'/>")})}function d(a){var b=a.children(".k-item");b.filter(".k-first:not(:first-child)").removeClass(y),b.filter(".k-last:not(:last-child)").removeClass(t),b.filter(":first-child").addClass(y),b.filter(":last-child").addClass(t)}var e=window.kendo,f=e.ui,g=e.keys,h=a.map,i=a.each,j=a.trim,k=a.extend,l=e.template,m=f.Widget,n=/^(a|div)$/i,o=".kendoTabStrip",p="img",q="href",r="prev",s="k-link",t="k-last",u="click",v="error",w=":empty",x="k-image",y="k-first",z="select",A="activate",B="k-content",C="contentUrl",D="mouseenter",E="mouseleave",F="contentLoad",G="k-state-disabled",H="k-state-default",I="k-state-active",J="k-state-focused",K="k-state-hover",L="k-tab-on-top",M=".k-item:not(."+G+")",N=".k-tabstrip-items > "+M+":not(."+I+")",O={content:l("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:l("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:l("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:l("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:l("<span class='k-sprite #= spriteCssClass #'></span>"),empty:l("")},P={wrapperCssClass:function(a,b){var c="k-item",d=b.index;
return c+=b.enabled===!1?" k-state-disabled":" k-state-default",0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),c},textAttributes:function(a){return a.url?" href='"+a.url+"'":""},text:function(a){return a.encoded===!1?a.text:e.htmlEncode(a.text)},tag:function(a){return a.url?"a":"span"},contentAttributes:function(a){return a.active!==!0?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(a){return a.content?a.content:a.contentUrl?"":"&nbsp;"},contentUrl:function(a){return a.contentUrl?e.attr("content-url")+'="'+a.contentUrl+'"':""}},Q=m.extend({init:function(b,c){var d=this;m.fn.init.call(d,b,c),d._animations(d.options),d.wrapper=d.element.is("ul")?d.element.wrapAll("<div />").parent():d.element,c=d.options,d._isRtl=e.support.isRtl(d.wrapper),d._tabindex(),d._updateClasses(),d._dataSource(),c.dataSource&&d.dataSource.fetch(),d.options.contentUrls&&d.wrapper.find(".k-tabstrip-items > .k-item").each(function(b,c){a(c).find(">."+s).data(C,d.options.contentUrls[b])}),d.wrapper.on(D+o+" "+E+o,N,d._toggleHover).on("keydown"+o,a.proxy(d._keydown,d)).on("focus"+o,a.proxy(d._active,d)).on("blur"+o,function(){d._current(null)}),d.wrapper.children(".k-tabstrip-items").on(u+o,".k-state-disabled .k-link",!1).on(u+o," > "+M,function(b){d.wrapper[0]!==document.activeElement&&d.wrapper.focus(),d._click(a(b.currentTarget))&&b.preventDefault()});var f=d.tabGroup.children("li."+I),g=d.contentHolder(f.index());f[0]&&g.length>0&&0===g[0].childNodes.length&&d.activateTab(f.eq(0)),d.element.attr("role","tablist"),d.element[0].id&&(d._ariaId=d.element[0].id+"_ts_active"),e.notify(d)},_active:function(){var a=this.tabGroup.children().filter("."+I);a=a[0]?a:this._endItem("first"),a[0]&&this._current(a)},_endItem:function(a){return this.tabGroup.children(M)[a]()},_item:function(a,b){var c;return c=b===r?"last":"first",a?(a=a[b](),a[0]||(a=this._endItem(c)),a.hasClass(G)&&(a=this._item(a,b)),a):this._endItem(c)},_current:function(a){var c=this,d=c._focused,e=c._ariaId;return a===b?d:(d&&(d[0].id===e&&d.removeAttr("id"),d.removeClass(J)),a&&(a.hasClass(I)||a.addClass(J),c.element.removeAttr("aria-activedescendant"),e=a[0].id||e,e&&(a.attr("id",e),c.element.attr("aria-activedescendant",e))),void(c._focused=a))},_keydown:function(a){var b,c=this,d=a.keyCode,e=c._current(),f=c._isRtl;if(a.target==a.currentTarget){if(d==g.DOWN||d==g.RIGHT)b=f?r:"next";else if(d==g.UP||d==g.LEFT)b=f?"next":r;else if(d==g.ENTER||d==g.SPACEBAR)c._click(e),a.preventDefault();else{if(d==g.HOME)return c._click(c._endItem("first")),void a.preventDefault();if(d==g.END)return c._click(c._endItem("last")),void a.preventDefault()}b&&(c._click(c._item(e,b)),a.preventDefault())}},_dataSource:function(){var b=this;b.dataSource&&b._refreshHandler?b.dataSource.unbind("change",b._refreshHandler):b._refreshHandler=a.proxy(b.refresh,b),b.dataSource=e.data.DataSource.create(b.options.dataSource).bind("change",b._refreshHandler)},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),a.fetch()},_animations:function(a){a&&"animation"in a&&!a.animation&&(a.animation={open:{effects:{}},close:{effects:{}}})},refresh:function(a){var b,c,d,f,g=this,h=g.options,i=e.getter(h.dataTextField),j=e.getter(h.dataContentField),k=e.getter(h.dataContentUrlField),l=e.getter(h.dataImageUrlField),m=e.getter(h.dataUrlField),n=e.getter(h.dataSpriteCssClass),o=[],p=g.dataSource.view();for(a=a||{},d=a.action,d&&(p=a.items),b=0,f=p.length;f>b;b++)c={text:i(p[b])},h.dataContentField&&(c.content=j(p[b])),h.dataContentUrlField&&(c.contentUrl=k(p[b])),h.dataUrlField&&(c.url=m(p[b])),h.dataImageUrlField&&(c.imageUrl=l(p[b])),h.dataSpriteCssClass&&(c.spriteCssClass=n(p[b])),o[b]=c;if("add"==a.action)a.index<g.tabGroup.children().length?g.insertBefore(o,g.tabGroup.children().eq(a.index)):g.append(o);else if("remove"==a.action)for(b=0;b<p.length;b++)g.remove(a.index);else"itemchange"==a.action?(b=g.dataSource.view().indexOf(p[0]),a.field===h.dataTextField&&g.tabGroup.children().eq(b).find(".k-link").text(p[0].get(a.field))):(g.trigger("dataBinding"),g.remove("li"),g.append(o),g.trigger("dataBound"))},value:function(c){var d=this;return c===b?d.select().text():void(c!=d.value()&&d.tabGroup.children().each(function(){a.trim(a(this).text())==c&&d.select(this)}))},items:function(){return this.tabGroup[0].children},setOptions:function(a){var b=this.options.animation;this._animations(a),a.animation=k(!0,b,a.animation),m.fn.setOptions.call(this,a)},events:[z,A,v,F,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:!1},destroy:function(){var a=this;m.fn.destroy.call(a),a._refreshHandler&&a.dataSource.unbind("change",a._refreshHandler),a.wrapper.off(o),a.wrapper.children(".k-tabstrip-items").off(o),e.destroy(a.wrapper)},select:function(b){var c=this;return 0===arguments.length?c.tabGroup.children("li."+I):(isNaN(b)||(b=c.tabGroup.children().get(b)),b=c.tabGroup.find(b),a(b).each(function(b,d){d=a(d),d.hasClass(I)||c.trigger(z,{item:d[0],contentElement:c.contentHolder(d.index())[0]})||c.activateTab(d)}),c)},enable:function(a,b){return this._toggleDisabled(a,b!==!1),this},disable:function(a){return this._toggleDisabled(a,!1),this},reload:function(b){b=this.tabGroup.find(b);var c=this;return b.each(function(){var b=a(this),d=b.find("."+s).data(C),e=c.contentHolder(b.index());d&&c.ajaxRequest(b,e,null,d)}),c},append:function(a){var b=this,c=b._create(a);return i(c.tabs,function(a){b.tabGroup.append(this),b.wrapper.append(c.contents[a])}),d(b.tabGroup),b._updateContentElements(),b},insertBefore:function(b,c){c=this.tabGroup.find(c);var e=this,f=e._create(b),g=a(e.contentElement(c.index()));return i(f.tabs,function(a){c.before(this),g.before(f.contents[a])}),d(e.tabGroup),e._updateContentElements(),e},insertAfter:function(b,c){c=this.tabGroup.find(c);var e=this,f=e._create(b),g=a(e.contentElement(c.index()));return i(f.tabs,function(a){c.after(this),g.after(f.contents[a])}),d(e.tabGroup),e._updateContentElements(),e},remove:function(b){var c=this,d=typeof b,e=a();return"string"===d?b=c.tabGroup.find(b):"number"===d&&(b=c.tabGroup.children().eq(b)),b.each(function(){e.push(c.contentElement(a(this).index()))}),b.remove(),e.remove(),c._updateContentElements(),c},_create:function(b){var d,e,f,g=a.isPlainObject(b),i=this;return g||a.isArray(b)?(b=a.isArray(b)?b:[b],d=h(b,function(b,c){return a(Q.renderItem({group:i.tabGroup,item:k(b,{index:c})}))}),e=h(b,function(b,c){return b.content||b.contentUrl?a(Q.renderContent({item:k(b,{index:c})})):void 0})):(d="string"==typeof b&&"<"!=b[0]?i.element.find(b):a(b),e=a(),d.each(function(){if(f=a("<div class='"+B+"'/>"),/k-tabstrip-items/.test(this.parentNode.className)){var b=parseInt(this.getAttribute("aria-controls").replace(/^.*-/,""))-1;f=a(i.contentElement(b))}e=e.add(f)}),c(d)),{tabs:d,contents:e}},_toggleDisabled:function(b,c){b=this.tabGroup.find(b),b.each(function(){a(this).toggleClass(H,c).toggleClass(G,!c)})},_updateClasses:function(){var e,f,g,h=this;h.wrapper.addClass("k-widget k-header k-tabstrip"),h.tabGroup=h.wrapper.children("ul").addClass("k-tabstrip-items k-reset"),h.tabGroup[0]||(h.tabGroup=a("<ul class='k-tabstrip-items k-reset'/>").appendTo(h.wrapper)),e=h.tabGroup.find("li").addClass("k-item"),e.length&&(f=e.filter("."+I).index(),g=f>=0?f:b,h.tabGroup.contents().filter(function(){return 3==this.nodeType&&!j(this.nodeValue)}).remove()),f>=0&&e.eq(f).addClass(L),h.contentElements=h.wrapper.children("div"),h.contentElements.addClass(B).eq(g).addClass(I).css({display:"block"}),e.length&&(c(e),d(h.tabGroup),h._updateContentElements())},_updateContentElements:function(){var b=this,c=b.options.contentUrls||[],d=b.tabGroup.find(".k-item"),f=(b.element.attr("id")||e.guid())+"-",g=b.wrapper.children("div");g.length&&d.length>g.length?(g.each(function(a){var b=parseInt(this.id.replace(f,"")),c=d.filter("[aria-controls="+f+b+"]"),e=f+(a+1);c.data("aria",e),this.setAttribute("id",e)}),d.each(function(){var b=a(this);this.setAttribute("aria-controls",b.data("aria")),b.removeData("aria")})):d.each(function(d){var e=g.eq(d),h=f+(d+1);this.setAttribute("aria-controls",h),!e.length&&c[d]?a("<div class='"+B+"'/>").appendTo(b.wrapper).attr("id",h):(e.attr("id",h),a(this).children(".k-loading")[0]||c[d]||a("<span class='k-loading k-complete'/>").prependTo(this)),e.attr("role","tabpanel"),e.filter(":not(."+I+")").attr("aria-hidden",!0).attr("aria-expanded",!1),e.filter("."+I).attr("aria-expanded",!0)}),b.contentElements=b.contentAnimators=b.wrapper.children("div"),e.kineticScrollNeeded&&e.mobile.ui.Scroller&&(e.touchScroller(b.contentElements),b.contentElements=b.contentElements.children(".km-scroll-container"))},_toggleHover:function(b){a(b.currentTarget).toggleClass(K,b.type==D)},_click:function(a){var b,c,d=this,e=a.find("."+s),f=e.attr(q),g=d.options.collapsible,h=d.contentHolder(a.index());if(a.closest(".k-widget")[0]==d.wrapper[0]){if(a.is("."+G+(g?"":",."+I)))return!0;if(c=e.data(C)||f&&("#"==f.charAt(f.length-1)||-1!=f.indexOf("#"+d.element[0].id+"-")),b=!f||c,d.tabGroup.children("[data-animating]").length)return b;if(d.trigger(z,{item:a[0],contentElement:h[0]}))return!0;if(b!==!1)return g&&a.is("."+I)?(d.deactivateTab(a),!0):(d.activateTab(a)&&(b=!0),b)}},deactivateTab:function(a){var b=this,c=b.options.animation,d=c.open,f=k({},c.close),g=f&&"effects"in f;a=b.tabGroup.find(a),f=k(g?f:k({reverse:!0},d),{hide:!0}),e.size(d.effects)?(a.kendoAddClass(H,{duration:d.duration}),a.kendoRemoveClass(I,{duration:d.duration})):(a.addClass(H),a.removeClass(I)),a.removeAttr("aria-selected"),b.contentAnimators.filter("."+I).kendoStop(!0,!0).kendoAnimate(f).removeClass(I).attr("aria-hidden",!0)},activateTab:function(a){a=this.tabGroup.find(a);var b=this,c=b.options.animation,d=c.open,f=k({},c.close),g=f&&"effects"in f,h=a.parent().children(),i=h.filter("."+I),j=h.index(a);f=k(g?f:k({reverse:!0},d),{hide:!0}),e.size(d.effects)?(i.kendoRemoveClass(I,{duration:f.duration}),a.kendoRemoveClass(K,{duration:f.duration})):(i.removeClass(I),a.removeClass(K));var l=b.contentAnimators;if(b.inRequest&&(b.xhr.abort(),b.inRequest=!1),0===l.length)return i.removeClass(L),a.addClass(L).css("z-index"),a.addClass(I),b._current(a),b.trigger("change"),!1;var m=l.filter("."+I),n=b.contentHolder(j),o=n.closest(".k-content");if(0===n.length)return m.removeClass(I).attr("aria-hidden",!0).kendoStop(!0,!0).kendoAnimate(f),!1;a.attr("data-animating",!0);var p=(a.children("."+s).data(C)||!1)&&n.is(w),q=function(){i.removeClass(L),a.addClass(L).css("z-index"),e.size(d.effects)?(i.kendoAddClass(H,{duration:d.duration}),a.kendoAddClass(I,{duration:d.duration})):(i.addClass(H),a.addClass(I)),i.removeAttr("aria-selected"),a.attr("aria-selected",!0),b._current(a),o.addClass(I).removeAttr("aria-hidden").kendoStop(!0,!0).attr("aria-expanded",!0).kendoAnimate(k({init:function(){b.trigger(A,{item:a[0],contentElement:n[0]})}},d,{complete:function(){a.removeAttr("data-animating")}}))},r=function(){p?(a.removeAttr("data-animating"),b.ajaxRequest(a,n,function(){a.attr("data-animating",!0),q(),b.trigger("change")})):(q(),b.trigger("change"))};return m.removeClass(I),m.attr("aria-hidden",!0),m.attr("aria-expanded",!1),m.length?m.kendoStop(!0,!0).kendoAnimate(k({complete:r},f)):r(),!0},contentElement:function(a){if(isNaN(a-0))return b;var c=this.contentElements&&this.contentElements[0]&&!e.kineticScrollNeeded?this.contentElements:this.contentAnimators;a=c&&0>a?c.length+a:a;var d=new RegExp("-"+(a+1)+"$");if(c)for(var f=0,g=c.length;g>f;f++)if(d.test(c.eq(f).closest(".k-content")[0].id))return c[f];return b},contentHolder:function(b){var c=a(this.contentElement(b)),d=c.children(".km-scroll-container");return e.support.touch&&d[0]?d:c},ajaxRequest:function(b,c,d,f){b=this.tabGroup.find(b);var g=this,h=a.ajaxSettings.xhr,i=b.find("."+s),j={},k=b.width()/2,l=!1,m=b.find(".k-loading").removeClass("k-complete");m[0]||(m=a("<span class='k-loading'/>").prependTo(b));var n=2*k-m.width(),o=function(){m.animate({marginLeft:(parseInt(m.css("marginLeft"),10)||0)<k?n:0},500,o)};e.support.browser.msie&&e.support.browser.version<10&&setTimeout(o,40),f=f||i.data(C)||i.attr(q),g.inRequest=!0,g.xhr=a.ajax({type:"GET",cache:!1,url:f,dataType:"html",data:j,xhr:function(){var b=this,c=h(),d=b.progressUpload?"progressUpload":b.progress?"progress":!1;return c&&a.each([c,c.upload],function(){this.addEventListener&&this.addEventListener("progress",function(a){d&&b[d](a)},!1)}),b.noProgress=!(window.XMLHttpRequest&&"upload"in new XMLHttpRequest),c},progress:function(a){if(a.lengthComputable){var b=parseInt(a.loaded/a.total*100,10)+"%";m.stop(!0).addClass("k-progress").css({width:b,marginLeft:0})}},error:function(a,b){g.trigger("error",{xhr:a,status:b})&&this.complete()},stopProgress:function(){clearInterval(l),m.stop(!0).addClass("k-progress")[0].style.cssText=""},complete:function(a){g.inRequest=!1,this.noProgress?setTimeout(this.stopProgress,500):this.stopProgress(),"abort"==a.statusText&&m.remove()},success:function(a){m.addClass("k-complete");try{var e=this,h=10;e.noProgress&&(m.width(h+"%"),l=setInterval(function(){e.progress({lengthComputable:!0,loaded:Math.min(h,100),total:100}),h+=10},40)),c.html(a)}catch(i){var j=window.console;j&&j.error&&j.error(i.name+": "+i.message+" in "+f),this.error(this.xhr,"error")}d&&d.call(g,c),g.trigger(F,{item:b[0],contentElement:c[0]})}})}});k(Q,{renderItem:function(a){a=k({tabStrip:{},group:{}},a);var b=O.empty,c=a.item;return O.item(k(a,{image:c.imageUrl?O.image:b,sprite:c.spriteCssClass?O.sprite:b,itemWrapper:O.itemWrapper},P))},renderContent:function(a){return O.content(k(a,P))}}),e.ui.plugin(Q)}(window.kendo.jQuery),function(a,b){function c(a,b,c){var d,e=a.getTimezoneOffset();a.setTime(a.getTime()+b),c||(d=a.getTimezoneOffset()-e,a.setTime(a.getTime()+d*F))}function d(){var a=new T,b=new T(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),c=new T(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0);return-1*(b.getTimezoneOffset()-c.getTimezoneOffset())}function e(a){return 60*a.getHours()*F+a.getMinutes()*F+1e3*a.getSeconds()+a.getMilliseconds()}function f(a,b,c){var d,f=e(b),g=e(c);return a&&f!=g?(d=e(a),f>d&&(d+=G),f>g&&(g+=G),d>=f&&g>=d):!0}function g(a){var b=a.parseFormats;a.format=m(a.format||i.getCulture(a.culture).calendars.standard.patterns.t),b=Q(b)?b:[b],b.splice(0,0,a.format),a.parseFormats=b}function h(a){a.preventDefault()}var i=window.kendo,j=i.keys,k=i.parseDate,l=i._activeElement,m=i._extractFormat,n=i.support,o=n.browser,p=i.ui,q=p.Widget,r="open",s="close",t="change",u=".kendoTimePicker",v="click"+u,w="k-state-default",x="disabled",y="readonly",z="li",A="<span/>",B="k-state-focused",C="k-state-hover",D="mouseenter"+u+" mouseleave"+u,E="mousedown"+u,F=6e4,G=864e5,H="k-state-selected",I="k-state-disabled",J="aria-selected",K="aria-expanded",L="aria-hidden",M="aria-disabled",N="aria-readonly",O="aria-activedescendant",P="id",Q=a.isArray,R=a.extend,S=a.proxy,T=Date,U=new T;U=new T(U.getFullYear(),U.getMonth(),U.getDate(),0,0,0);var V=function(b){var c=this,d=b.id;c.options=b,c.ul=a('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:n.kineticScrollNeeded?"":"auto"}).on(v,z,S(c._click,c)).on("mouseenter"+u,z,function(){a(this).addClass(C)}).on("mouseleave"+u,z,function(){a(this).removeClass(C)}),c.list=a("<div class='k-list-container'/>").append(c.ul).on(E,h),d&&(c._timeViewID=d+"_timeview",c._optionID=d+"_option_selected",c.ul.attr(P,c._timeViewID)),c._popup(),c.template=i.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})};V.prototype={current:function(c){var d=this,e=d.options.active;return c===b?d._current:(d._current&&d._current.removeClass(H).removeAttr(J).removeAttr(P),c&&(c=a(c).addClass(H).attr(P,d._optionID).attr(J,!0),d.scroll(c[0])),d._current=c,e&&e(c),void 0)},close:function(){this.popup.close()},destroy:function(){var a=this;a.ul.off(u),a.list.off(u),a._touchScroller&&a._touchScroller.destroy(),a.popup.destroy()},open:function(){var a=this;a.ul[0].firstChild||a.bind(),a.popup.open(),a._current&&a.scroll(a._current[0])},dataBind:function(a){for(var b,c=this,d=c.options,e=d.format,g=i.toString,h=c.template,j=a.length,k=0,l="";j>k;k++)b=a[k],f(b,d.min,d.max)&&(l+=h(g(b,e,d.culture)));c._html(l,j)},refresh:function(){var a,b,f,g=this,h=g.options,j=h.format,k=d(),l=0>k,m=h.min,n=h.max,o=e(m),p=e(n),q=h.interval*F,r=i.toString,s=g.template,t=new T(+m),u=t.getDate(),v=0,w="";for(f=l?(G+k*F)/q:G/q,o!=p&&(o>p&&(p+=G),f=(p-o)/q+1),b=parseInt(f,10);f>v;v++)v&&c(t,q,l),p&&b==v&&(a=e(t),u<t.getDate()&&(a+=G),a>p&&(t=new T(+n))),w+=s(r(t,j,h.culture));g._html(w,f)},bind:function(){var a=this,b=a.options.dates;b&&b[0]?a.dataBind(b):a.refresh()},_html:function(a,b){var c=this;c.ul[0].innerHTML=a,c._height(b),c.current(null),c.select(c._value)},scroll:function(a){if(a){var b,c=this.ul[0],d=a.offsetTop,e=a.offsetHeight,f=c.scrollTop,g=c.clientHeight,h=d+e,i=this._touchScroller;i?(b=this.list.height(),d>b&&(d=d-b+e),i.scrollTo(0,-d)):c.scrollTop=f>d?d:h>f+g?h-g:f}},select:function(b){var c=this,d=c.options,e=c._current;b instanceof Date&&(b=i.toString(b,d.format,d.culture)),"string"==typeof b&&(e&&e.text()===b?b=e:(b=a.grep(c.ul[0].childNodes,function(a){return(a.textContent||a.innerText)==b}),b=b[0]?b:null)),c.current(b)},setOptions:function(a){var b=this.options;a.min=k(a.min),a.max=k(a.max),this.options=R(b,a,{active:b.active,change:b.change,close:b.close,open:b.open}),this.bind()},toggle:function(){var a=this;a.popup.visible()?a.close():a.open()},value:function(a){var b=this;b._value=a,b.ul[0].firstChild&&b.select(a)},_click:function(b){var c=this,d=a(b.currentTarget);b.isDefaultPrevented()||(c.select(d),c.options.change(d.text(),!0),c.close())},_height:function(a){if(a){var b=this,c=b.list,d=c.parent(".k-animation-container"),e=b.options.height;c.add(d).show().height(b.ul[0].scrollHeight>e?e:"auto").hide()}},_parse:function(a){var b=this,c=b.options,d=b._value||U;return a instanceof T?a:(a=k(a,c.parseFormats,c.culture),a&&(a=new T(d.getFullYear(),d.getMonth(),d.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())),a)},_adjustListWidth:function(){var a,b,c=this.list,d=c[0].style.width,e=this.options.anchor;(c.data("width")||!d)&&(a=window.getComputedStyle?window.getComputedStyle(e[0],null):0,b=a?parseFloat(a.width):e.outerWidth(),a&&(o.mozilla||o.msie)&&(b+=parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth)),d=b-(c.outerWidth()-c.width()),c.css({fontFamily:e.css("font-family"),width:d}).data("width",d))},_popup:function(){var a=this,b=a.list,c=a.options,d=c.anchor;a.popup=new p.Popup(b,R(c.popup,{anchor:d,open:c.open,close:c.close,animation:c.animation,isRtl:n.isRtl(c.anchor)})),a._touchScroller=i.touchScroller(a.popup.element)},move:function(a){var b=this,c=a.keyCode,d=b.ul[0],e=b._current,f=c===j.DOWN;if(c===j.UP||f){if(a.altKey)return void b.toggle(f);e=f?e?e[0].nextSibling:d.firstChild:e?e[0].previousSibling:d.lastChild,e&&b.select(e),b.options.change(b._current.text()),a.preventDefault()}else(c===j.ENTER||c===j.TAB||c===j.ESC)&&(a.preventDefault(),e&&b.options.change(e.text(),!0),b.close())}},V.getMilliseconds=e,i.TimeView=V;var W=q.extend({init:function(a,b){var c,d,e,f=this;q.fn.init.call(f,a,b),a=f.element,b=f.options,b.min=k(a.attr("min"))||k(b.min),b.max=k(a.attr("max"))||k(b.max),g(b),f._wrapper(),f.timeView=d=new V(R({},b,{id:a.attr(P),anchor:f.wrapper,format:b.format,change:function(b,c){c?f._change(b):a.val(b)},open:function(b){f.timeView._adjustListWidth(),f.trigger(r)?b.preventDefault():(a.attr(K,!0),c.attr(L,!1))},close:function(b){f.trigger(s)?b.preventDefault():(a.attr(K,!1),c.attr(L,!0))},active:function(b){a.removeAttr(O),b&&a.attr(O,d._optionID)}})),c=d.ul,f._icon(),f._reset();try{a[0].setAttribute("type","text")}catch(h){a[0].type="text"}a.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":d._timeViewID}),e=a.is("[disabled]"),e?f.enable(!1):f.readonly(a.is("[readonly]")),f._old=f._update(b.value||f.element.val()),f._oldText=a.val(),i.notify(f)},options:{name:"TimePicker",min:U,max:U,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[r,s,t],setOptions:function(a){var b=this,c=b._value;q.fn.setOptions.call(b,a),a=b.options,g(a),b.timeView.setOptions(a),c&&b.element.val(i.toString(c,a.format,a.culture))},dataBind:function(a){Q(a)&&this.timeView.dataBind(a)},_editable:function(a){var b=this,c=a.disable,d=a.readonly,e=b._arrow.off(u),f=b.element.off(u),g=b._inputWrapper.off(u);d||c?(g.addClass(c?I:w).removeClass(c?w:I),f.attr(x,c).attr(y,d).attr(M,c).attr(N,d)):(g.addClass(w).removeClass(I).on(D,b._toggleHover),f.removeAttr(x).removeAttr(y).attr(M,!1).attr(N,!1).on("keydown"+u,S(b._keydown,b)).on("blur"+u,S(b._blur,b)).on("focus"+u,function(){b._inputWrapper.addClass(B)}),e.on(v,S(b._click,b)).on(E,h))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;q.fn.destroy.call(a),a.timeView.destroy(),a.element.off(u),a._arrow.off(u),a._inputWrapper.off(u),a._form&&a._form.off("reset",a._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),void(c._oldText=c.element.val()))},_blur:function(){var a=this,b=a.element.val();a.close(),b!==a._oldText&&a._change(b),a._inputWrapper.removeClass(B)},_click:function(){var a=this,b=a.element;a.timeView.toggle(),n.touch||b[0]===l()||b.focus()},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(t),b.element.trigger(t))},_icon:function(){var b,c=this,d=c.element;b=d.next("span.k-select"),b[0]||(b=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(d)),c._arrow=b.attr({role:"button","aria-controls":c.timeView._timeViewID})},_keydown:function(a){var b=this,c=a.keyCode,d=b.timeView,e=b.element.val();d.popup.visible()||a.altKey?d.move(a):c===j.ENTER&&e!==b._oldText&&b._change(e)},_option:function(a,c){var d=this,e=d.options;return c===b?e[a]:(c=d.timeView._parse(c),void(c&&(c=new T(+c),e[a]=c,d.timeView.options[a]=c,d.timeView.bind())))},_toggleHover:function(b){a(b.currentTarget).toggleClass(C,"mouseenter"===b.type)},_update:function(a){var b=this,c=b.options,d=b.timeView,e=d._parse(a);return f(e,c.min,c.max)||(e=null),b._value=e,b.element.val(e?i.toString(e,c.format,c.culture):a),d.value(e),e},_wrapper:function(){var b,c=this,d=c.element;b=d.parents(".k-timepicker"),b[0]||(b=d.wrap(A).parent().addClass("k-picker-wrap k-state-default"),b=b.wrap(A).parent()),b[0].style.cssText=d[0].style.cssText,c.wrapper=b.addClass("k-widget k-timepicker k-header").addClass(d[0].className),d.css({width:"100%",height:d[0].style.height}),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue)},b._form=e.on("reset",b._resetHandler))}});p.plugin(W)}(window.kendo.jQuery),function(a,b){function c(a){var b=new Date(2100,0,1);return b.setMinutes(-a),b}function d(a){a.preventDefault()}function e(b){var c,d=f.getCulture(b.culture).calendars.standard.patterns;b.format=j(b.format||d.g),b.timeFormat=c=j(b.timeFormat||d.t),f.DateView.normalize(b),-1===a.inArray(c,b.parseFormats)&&b.parseFormats.splice(1,0,c)}var f=window.kendo,g=f.TimeView,h=f.parseDate,i=f._activeElement,j=f._extractFormat,k=f.calendar,l=k.isInRange,m=k.restrictValue,n=k.isEqualDatePart,o=g.getMilliseconds,p=f.ui,q=p.Widget,r="open",s="close",t="change",u=".kendoDateTimePicker",v="click"+u,w="disabled",x="readonly",y="k-state-default",z="k-state-focused",A="k-state-hover",B="k-state-disabled",C="mouseenter"+u+" mouseleave"+u,D="mousedown"+u,E="month",F="<span/>",G="aria-activedescendant",H="aria-expanded",I="aria-hidden",J="aria-owns",K="aria-disabled",L="aria-readonly",M=Date,N=new M(1900,0,1),O=new M(2099,11,31),P={view:"date"},Q={view:"time"},R=a.extend,S=q.extend({init:function(a,b){var c,d=this;q.fn.init.call(d,a,b),a=d.element,b=d.options,b.min=h(a.attr("min"))||h(b.min),b.max=h(a.attr("max"))||h(b.max),e(b),d._wrapper(),d._views(),d._icons(),d._reset(),d._template();try{a[0].setAttribute("type","text")}catch(g){a[0].type="text"}a.addClass("k-input").attr({role:"combobox","aria-expanded":!1}),d._midnight=o(b.min)+o(b.max)===0,c=a.is("[disabled]"),c?d.enable(!1):d.readonly(a.is("[readonly]")),d._old=d._update(b.value||d.element.val()),d._oldText=a.val(),f.notify(d)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new M(N),max:new M(O),interval:30,height:200,footer:"",start:E,depth:E,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#'},events:[r,s,t],setOptions:function(a){{var b,c,d,g=this,i=g._value;g.dateView.options,g.timeView.options}q.fn.setOptions.call(g,a),a=g.options,a.min=b=h(a.min),a.max=c=h(a.max),e(a),d=a.value||g._value||g.dateView._current,b&&!n(b,d)&&(b=new M(N)),c&&!n(c,d)&&(c=new M(O)),g.dateView.setOptions(a),g.timeView.setOptions(R({},a,{format:a.timeFormat,min:b,max:c})),i&&(g.element.val(f.toString(i,a.format,a.culture)),g._updateARIA(i))},_editable:function(b){var c=this,e=c.element.off(u),g=c._dateIcon.off(u),h=c._timeIcon.off(u),j=c._inputWrapper.off(u),k=b.readonly,l=b.disable;k||l?(j.addClass(l?B:y).removeClass(l?y:B),e.attr(w,l).attr(x,k).attr(K,l).attr(L,k)):(j.addClass(y).removeClass(B).on(C,c._toggleHover),e.removeAttr(w).removeAttr(x).attr(K,!1).attr(L,!1).on("keydown"+u,a.proxy(c._keydown,c)).on("focus"+u,function(){c._inputWrapper.addClass(z)}).on("blur"+u,function(){c._inputWrapper.removeClass(z),e.val()!==c._oldText&&c._change(e.val()),c.close("date"),c.close("time")}),g.on(D,d).on(v,function(){c.toggle("date"),f.support.touch||e[0]===i()||e.focus()}),h.on(D,d).on(v,function(){c.toggle("time"),f.support.touch||e[0]===i()||e.focus()}))},readonly:function(a){this._editable({readonly:a===b?!0:a,disable:!1})},enable:function(a){this._editable({readonly:!1,disable:!(a=a===b?!0:a)})},destroy:function(){var a=this;q.fn.destroy.call(a),a.dateView.destroy(),a.timeView.destroy(),a.element.off(u),a._dateIcon.off(u),a._timeIcon.off(u),a._inputWrapper.off(u),a._form&&a._form.off("reset",a._resetHandler)},close:function(a){"time"!==a&&(a="date"),this[a+"View"].close()},open:function(a){"time"!==a&&(a="date"),this[a+"View"].open()},min:function(a){return this._option("min",a)},max:function(a){return this._option("max",a)},toggle:function(a){var b="timeView";"time"!==a?a="date":b="dateView",this[a+"View"].toggle(),this[b].close()},value:function(a){var c=this;return a===b?c._value:(c._old=c._update(a),null===c._old&&c.element.val(""),void(c._oldText=c.element.val()))},_change:function(a){var b=this;a=b._update(a),+b._old!=+a&&(b._old=a,b._oldText=b.element.val(),b.trigger(t),b.element.trigger(t))},_option:function(a,d){var e,f,g=this,i=g.options,j=g.timeView,k=j.options,l=g._value||g._old;if(d===b)return i[a];if(d=h(d,i.parseFormats,i.culture)){if(i.min.getTime()===i.max.getTime()&&(k.dates=[]),i[a]=new M(d.getTime()),g.dateView[a](d),g._midnight=o(i.min)+o(i.max)===0,l&&(e=n(i.min,l),f=n(i.max,l)),e||f){if(k[a]=d,e&&!f&&(k.max=c(i.interval)),f){if(g._midnight)return void j.dataBind([O]);e||(k.min=N)}}else k.max=O,k.min=N;j.bind()}},_toggleHover:function(b){a(b.currentTarget).toggleClass(A,"mouseenter"===b.type)},_update:function(b){var d,e,g,i,j,k=this,o=k.options,p=o.min,q=o.max,r=o.dates,s=k.timeView,t=h(b,o.parseFormats,o.culture);return+t===+k._value?(j=f.toString(t,o.format,o.culture),j!==b&&k.element.val(null===t?b:j),t):(null!==t&&n(t,p)?t=m(t,p,q):l(t,p,q)||(t=null),k._value=t,s.value(t),k.dateView.value(t),t&&(g=k._old,e=s.options,r[0]&&(r=a.grep(r,function(a){return n(t,a)}),r[0]&&(s.dataBind(r),i=!0)),i||(n(t,p)&&(e.min=p,e.max=c(o.interval),d=!0),n(t,q)&&(k._midnight?(s.dataBind([O]),i=!0):(e.max=q,d||(e.min=N),d=!0))),!i&&(!g&&d||g&&!n(g,t))&&(d||(e.max=O,e.min=N),s.bind())),k.element.val(t?f.toString(t,o.format,o.culture):b),k._updateARIA(t),t)},_keydown:function(a){var b=this,c=b.dateView,d=b.timeView,e=b.element.val(),g=c.popup.visible();a.altKey&&a.keyCode===f.keys.DOWN?b.toggle(g?"time":"date"):g?(c.move(a),b._updateARIA(c._current)):d.popup.visible()?d.move(a):a.keyCode===f.keys.ENTER&&e!==b._oldText&&b._change(e)},_views:function(){var a,b,c,d,e,i,j=this,k=j.element,m=j.options,n=k.attr("id");j.dateView=a=new f.DateView(R({},m,{id:n,anchor:j.wrapper,change:function(){var b,c=a.calendar.value(),d=+c,e=+m.min,f=+m.max;(d===e||d===f)&&(b=new M(+j._value),b.setFullYear(c.getFullYear(),c.getMonth(),c.getDate()),l(b,e,f)&&(c=b)),j._change(c),j.close("date")},close:function(a){j.trigger(s,P)?a.preventDefault():(k.attr(H,!1),c.attr(I,!0),b.popup.visible()||k.removeAttr(J))},open:function(b){j.trigger(r,P)?b.preventDefault():(j.element.val()!==j._oldText&&(i=h(k.val(),m.parseFormats,m.culture),j.dateView[i?"current":"value"](i)),c.attr(I,!1),k.attr(H,!0).attr(J,a._dateViewID),j._updateARIA(i))}})),c=a.div,e=m.min.getTime(),j.timeView=b=new g({id:n,value:m.value,anchor:j.wrapper,animation:m.animation,format:m.timeFormat,culture:m.culture,height:m.height,interval:m.interval,min:new M(N),max:new M(O),dates:e===m.max.getTime()?[new Date(e)]:[],parseFormats:m.parseFormats,change:function(c,d){c=b._parse(c),c<m.min?(c=new M(+m.min),b.options.min=c):c>m.max&&(c=new M(+m.max),b.options.max=c),d?(j._timeSelected=!0,j._change(c)):(k.val(f.toString(c,m.format,m.culture)),a.value(c),j._updateARIA(c))},close:function(b){j.trigger(s,Q)?b.preventDefault():(d.attr(I,!0),k.attr(H,!1),a.popup.visible()||k.removeAttr(J))},open:function(a){b._adjustListWidth(),j.trigger(r,Q)?a.preventDefault():(d.attr(I,!1),k.attr(H,!0).attr(J,b._timeViewID),b.options.active(b.current()))},active:function(a){k.removeAttr(G),a&&k.attr(G,b._optionID)}}),d=b.ul},_icons:function(){var b,c=this,d=c.element;b=d.next("span.k-select"),b[0]||(b=a('<span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-calendar">select</span><span unselectable="on" class="k-icon k-i-clock">select</span></span>').insertAfter(d)),b=b.children(),c._dateIcon=b.eq(0).attr({role:"button","aria-controls":c.dateView._dateViewID}),c._timeIcon=b.eq(1).attr({role:"button","aria-controls":c.timeView._timeViewID})},_wrapper:function(){var b,c=this,d=c.element;b=d.parents(".k-datetimepicker"),b[0]||(b=d.wrap(F).parent().addClass("k-picker-wrap k-state-default"),b=b.wrap(F).parent()),b[0].style.cssText=d[0].style.cssText,d.css({width:"100%",height:d[0].style.height}),c.wrapper=b.addClass("k-widget k-datetimepicker k-header").addClass(d[0].className),c._inputWrapper=a(b[0].firstChild)},_reset:function(){var b=this,c=b.element,d=c.attr("form"),e=d?a("#"+d):c.closest("form");e[0]&&(b._resetHandler=function(){b.value(c[0].defaultValue)},b._form=e.on("reset",b._resetHandler))},_template:function(){this._ariaTemplate=f.template(this.options.ARIATemplate)},_updateARIA:function(a){var b,c=this,d=c.dateView.calendar;c.element.removeAttr(G),d&&(b=d._cell,b.attr("aria-label",c._ariaTemplate({current:a||d.current()})),c.element.attr(G,b.attr("id")))}});p.plugin(S)}(window.kendo.jQuery),function(a,b){function c(a){return function(b){var c=b.children(".k-animation-container");return c.length||(c=b),c.children(a)}}function d(a){return o.template(a,{useWithBlock:!1})}function e(a){return a.children("div").find(".k-checkbox:first :checkbox")
}function f(a){return function(b,c){c=c.closest(S);var d,e=c.parent();return e.parent().is("li")&&(d=e.parent()),this._dataSourceMove(b,e,d,function(b,d){return this._insert(b.data(),d,c.index()+a)})}}function g(b,c){for(var d;b&&"ul"!=b.nodeName.toLowerCase();)d=b,b=b.nextSibling,3==d.nodeType&&(d.nodeValue=a.trim(d.nodeValue)),n.test(d.className)?c.insertBefore(d,c.firstChild):c.appendChild(d)}function h(b){var c=b.children("div"),d=b.children("ul"),e=c.children(".k-icon"),f=b.children(":checkbox"),h=c.children(".k-in");b.hasClass("k-treeview")||(c.length||(c=a("<div />").prependTo(b)),!e.length&&d.length?e=a("<span class='k-icon' />").prependTo(c):d.length&&d.children().length||(e.remove(),d.remove()),f.length&&a("<span class='k-checkbox' />").appendTo(c).append(f),h.length||(h=b.children("a").eq(0).addClass("k-in"),h.length||(h=a("<span class='k-in' />")),h.appendTo(c),c.length&&g(c[0].nextSibling,h[0])))}function i(a){var b=this;b.treeview=a,b.hovered=a.element,b._draggable=new p.Draggable(a.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(b){return a.templates.dragClue({item:a.dataItem(b),treeview:a.options})},cursorOffset:{left:10,top:o.support.touch||o.support.msPointers||o.support.pointers?-40/o.support.zoomLevel():10},dragstart:w(b.dragstart,b),dragcancel:w(b.dragcancel,b),drag:w(b.drag,b),dragend:w(b.dragend,b)})}var j,k,l,m,n,o=window.kendo,p=o.ui,q=o.data,r=a.extend,s=o.template,t=a.isArray,u=p.Widget,v=q.HierarchicalDataSource,w=a.proxy,x=o.keys,y=".kendoTreeView",z="select",A="navigate",B="expand",C="change",D="error",E="checked",F="indeterminate",G="collapse",H="dragstart",I="drag",J="drop",K="dragend",L="dataBound",M="click",N="visibility",O="undefined",P="k-state-hover",Q="k-treeview",R=":visible",S=".k-item",T="string",U="aria-selected",V="aria-disabled",W={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},X=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&1===a.nodeType&&typeof a.nodeName===T};k=c(".k-group"),l=c(".k-group,.k-content"),m=function(a){return a.children("div").children(".k-icon")},n=/k-sprite/,j=u.extend({init:function(a,b){var c,d,e=this,f=!1,g=b&&!!b.dataSource;t(b)&&(c=!0,b={dataSource:b}),b&&typeof b.loadOnDemand==O&&t(b.dataSource)&&(b.loadOnDemand=!1),u.prototype.init.call(e,a,b),a=e.element,b=e.options,d=a.is("ul")&&a||a.hasClass(Q)&&a.children("ul"),f=!g&&d.length,f&&(b.dataSource.list=d),e._animation(),e._accessors(),e._templates(),a.hasClass(Q)?(e.wrapper=a,e.root=a.children("ul").eq(0)):(e._wrapper(),d&&(e.root=a,e._group(e.wrapper))),e._tabindex(),e.wrapper.filter("[role=tree]").length||e.wrapper.attr("role","tree"),e._dataSource(f),e._attachEvents(),e._dragging(),f?e._syncHtmlAndDataSource():b.autoBind&&(e._progress(!0),e.dataSource.fetch()),b.checkboxes&&b.checkboxes.checkChildren&&e.updateIndeterminate(),e.element[0].id&&(e._ariaId=o.format("{0}_tv_active",e.element[0].id))},_attachEvents:function(){var b=this,c=".k-in:not(.k-state-selected,.k-state-disabled)",d="mouseenter";b.wrapper.on(d+y,".k-in.k-state-selected",function(a){a.preventDefault()}).on(d+y,c,function(){a(this).addClass(P)}).on("mouseleave"+y,c,function(){a(this).removeClass(P)}).on(M+y,c,w(b._click,b)).on("dblclick"+y,".k-in:not(.k-state-disabled)",w(b._toggleButtonClick,b)).on(M+y,".k-plus,.k-minus",w(b._toggleButtonClick,b)).on("keydown"+y,w(b._keydown,b)).on("focus"+y,w(b._focus,b)).on("blur"+y,w(b._blur,b)).on("mousedown"+y,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",w(b._mousedown,b)).on("change"+y,".k-checkbox :checkbox",w(b._checkboxChange,b)).on("click"+y,".k-checkbox :checkbox",w(b._checkboxClick,b)).on("click"+y,".k-request-retry",w(b._retryRequest,b)).on("click"+y,function(c){a(c.target).is(":kendoFocusable")||b.focus()})},_checkboxClick:function(b){var c=a(b.target);c.data(F)&&(c.data(F,!1).prop(F,!1).prop(E,!0),this._checkboxChange(b))},_syncHtmlAndDataSource:function(a,b){a=a||this.root,b=b||this.dataSource;var c,d,f,g=b.view(),h=o.attr("uid"),i=o.attr("expanded"),j=this.options.checkboxes,k=a.children("li");for(c=0;c<k.length;c++)f=g[c],d=k.eq(c),d.attr("role","treeitem").attr(h,f.uid),f.expanded="true"===d.attr(i),j&&(f.checked=e(d).prop(E)),this._syncHtmlAndDataSource(d.children("ul"),f.children)},_animation:function(){var a=this.options,b=a.animation;b===!1?b={expand:{effects:{}},collapse:{hide:!0,effects:{}}}:b.collapse&&"effects"in b.collapse||(b.collapse=r({reverse:!0},b.expand)),r(b.collapse,{hide:!0}),a.animation=b},_dragging:function(){var a=this.options.dragAndDrop,b=this.dragging;a&&!b?this.dragging=new i(this):!a&&b&&(b.destroy(),this.dragging=null)},_templates:function(){var a=this,b=a.options,c=w(a._fieldAccessor,a);b.template&&typeof b.template==T?b.template=s(b.template):b.template||(b.template=d("# var text = "+c("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),a._checkboxes(),a.templates={wrapperCssClass:function(a,b){var c="k-item",d=b.index;return a.firstLevel&&0===d&&(c+=" k-first"),d==a.length-1&&(c+=" k-last"),c},cssClass:function(a,b){var c="",d=b.index,e=a.length-1;return a.firstLevel&&0===d&&(c+="k-top "),c+=0===d&&d!=e?"k-top":d==e?"k-bot":"k-mid"},textClass:function(a){var b="k-in";return a.enabled===!1&&(b+=" k-state-disabled"),a.selected===!0&&(b+=" k-state-selected"),b},toggleButtonClass:function(a){var b="k-icon";return b+=a.expanded!==!0?" k-plus":" k-minus",a.enabled===!1&&(b+="-disabled"),b},groupAttributes:function(a){return a.expanded!==!0?" style='display:none'":""},groupCssClass:function(a){var b="k-group";return a.firstLevel&&(b+=" k-treeview-lines"),b},dragClue:d("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status' />#= data.treeview.template(data) #</div>"),group:d("<ul class='#= data.r.groupCssClass(data.group) #'#= data.r.groupAttributes(data.group) # role='group'>#= data.renderItems(data) #</ul>"),itemContent:d("# var imageUrl = "+c("imageUrl")+"(data.item); ## var spriteCssClass = "+c("spriteCssClass")+"(data.item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #' /># } ##= data.treeview.template(data) #"),itemElement:d("# var item = data.item, r = data.r; ## var url = "+c("url")+"(item); #<div class='#= r.cssClass(data.group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation' /># } ## if (data.treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= data.treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:d("# var item = data.item, r = data.r; #<li role='treeitem' class='#= r.wrapperCssClass(data.group, item) #' "+o.attr("uid")+"='#= item.uid #'#=item.selected ? \"aria-selected='true'\" : ''##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= r.itemElement(data) #</li>"),loading:d("<div class='k-icon k-loading' /> #: data.messages.loading #"),retry:d("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>")}},items:function(){return this.element.find(".k-item")},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.dataSource.fetch()},_bindDataSource:function(){this._refreshHandler=w(this.refresh,this),this._errorHandler=w(this._error,this),this.dataSource.bind(C,this._refreshHandler),this.dataSource.bind(D,this._errorHandler)},_unbindDataSource:function(){var a=this.dataSource;a&&(a.unbind(C,this._refreshHandler),a.unbind(D,this._errorHandler))},_dataSource:function(a){function b(a){for(var c=0;c<a.length;c++)a[c]._initChildren(),a[c].children.fetch(),b(a[c].children.view())}var c=this,d=c.options,e=d.dataSource;e=t(e)?{data:e}:e,c._unbindDataSource(),e.fields||(e.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),c.dataSource=e=v.create(e),a&&(e.fetch(),b(e.view())),c._bindDataSource()},events:[H,I,J,K,L,B,G,z,C,A],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},dragAndDrop:!1,checkboxes:!1,autoBind:!0,loadOnDemand:!0,template:"",dataTextField:null},_accessors:function(){var a,b,c,d=this,e=d.options,f=d.element;for(a in W)b=e[W[a]],c=f.attr(o.attr(a+"-field")),!b&&c&&(b=c),b||(b=a),t(b)||(b=[b]),e[W[a]]=b},_fieldAccessor:function(b){var c=this.options[W[b]],d=c.length,e="(function(item) {";return 0===d?e+="return item['"+b+"'];":(e+="var levels = ["+a.map(c,function(a){return"function(d){ return "+o.expr(a)+"}"}).join(",")+"];",e+="return levels[Math.min(item.level(), "+d+"-1)](item)"),e+="})"},setOptions:function(a){u.fn.setOptions.call(this,a),this._animation(),this._dragging(),this._templates()},_trigger:function(a,b){return this.trigger(a,{node:b.closest(S)[0]})},_setChecked:function(b,c){if(b&&a.isFunction(b.view))for(var d=0,e=b.view();d<e.length;d++)e[d][E]=c,e[d].children&&this._setChecked(e[d].children,c)},_setIndeterminate:function(a){var b,c,d,f=k(a),g=!0;if(f.length&&(b=e(f.children()),c=b.length)){if(c>1){for(d=1;c>d;d++)if(b[d].checked!=b[d-1].checked||b[d].indeterminate||b[d-1].indeterminate){g=!1;break}}else g=!b[0].indeterminate;return e(a).data(F,!g).prop(F,!g).prop(E,g&&b[0].checked)}},updateIndeterminate:function(a){a=a||this.wrapper;var b,c,d=k(a).children();if(d.length){for(b=0;b<d.length;b++)this.updateIndeterminate(d.eq(b));c=this._setIndeterminate(a),c&&c.prop(E)&&(this.dataItem(a).checked=!0)}},_bubbleIndeterminate:function(a){if(a.length){var b,c=this.parent(a);c.length&&(this._setIndeterminate(c),b=c.children("div").find(".k-checkbox :checkbox"),b.prop(F)===!1?this.dataItem(c).set(E,b.prop(E)):this.dataItem(c).checked=!1,this._bubbleIndeterminate(c))}},_checkboxChange:function(b){var c=a(b.target),d=c.prop(E),e=c.closest(S);this.dataItem(e).set(E,d)},_toggleButtonClick:function(b){this.toggle(a(b.target).closest(S))},_mousedown:function(b){var c=a(b.currentTarget).closest(S);this._clickTarget=c,this.current(c)},_focusable:function(a){return a&&a.length&&a.is(":visible")&&!a.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var b=this.select(),c=this._clickTarget;o.support.touch||(c&&c.length&&(b=c),this._focusable(b)||(b=this.current()),this._focusable(b)||(b=this._nextVisible(a())),this.current(b))},focus:function(){var a,b=this.wrapper,c=b[0],d=[],e=[],f=document.documentElement;do c=c.parentNode,c.scrollHeight>c.clientHeight&&(d.push(c),e.push(c.scrollTop));while(c!=f);for(b.focus(),a=0;a<d.length;a++)d[a].scrollTop=e[a]},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(a){return!a.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(b){var c,d,e=/\bk-treeview\b/,f=/\bk-item\b/;typeof b==T&&(b=this.element.find(b)),X(b)||(b=b[0]),d=f.test(b.className);do b=b.parentNode,f.test(b.className)&&(d?c=b:d=!0);while(!e.test(b.className)&&!c);return a(c)},_nextVisible:function(a){function b(a){for(;a.length&&!a.next().length;)a=d.parent(a);return a.next().length?a.next():a}var c,d=this,e=d._expanded(a);return a.length&&a.is(":visible")?e?(c=k(a).children().first(),c.length||(c=b(a))):c=b(a):c=d.root.children().eq(0),d._enabled(c)||(c=d._nextVisible(c)),c},_previousVisible:function(a){var b,c,d=this;if(!a.length||a.prev().length)for(c=a.length?a.prev():d.root.children().last();d._expanded(c)&&(b=k(c).children().last(),b.length);)c=b;else c=d.parent(a)||a;return d._enabled(c)||(c=d._previousVisible(c)),c},_keydown:function(c){var d,e=this,f=c.keyCode,g=e.current(),h=e._expanded(g),i=g.find(".k-checkbox:first :checkbox"),j=o.support.isRtl(e.element);c.target==c.currentTarget&&(!j&&f==x.RIGHT||j&&f==x.LEFT?h?d=e._nextVisible(g):e.expand(g):!j&&f==x.LEFT||j&&f==x.RIGHT?h?e.collapse(g):(d=e.parent(g),e._enabled(d)||(d=b)):f==x.DOWN?d=e._nextVisible(g):f==x.UP?d=e._previousVisible(g):f==x.HOME?d=e._nextVisible(a()):f==x.END?d=e._previousVisible(a()):f==x.ENTER?g.find(".k-in:first").hasClass("k-state-selected")||e._trigger(z,g)||e.select(g):f==x.SPACEBAR&&i.length&&(i.prop(E,!i.prop(E)).data(F,!1).prop(F,!1),e._checkboxChange({target:i}),d=g),d&&(c.preventDefault(),g[0]!=d[0]&&(e._trigger(A,d),e.current(d))))},_click:function(b){var c,d=this,e=a(b.currentTarget),f=l(e.closest(S)),g=e.attr("href");c=g?"#"==g||g.indexOf("#"+this.element.id+"-")>=0:f.length&&!f.children().length,c&&b.preventDefault(),e.hasClass(".k-state-selected")||d._trigger(z,e)||d.select(e)},_wrapper:function(){var a,b,c=this,d=c.element,e="k-widget k-treeview";d.is("ul")?(a=d.wrap("<div />").parent(),b=d):(a=d,b=a.children("ul").eq(0)),c.wrapper=a.addClass(e),c.root=b},_group:function(a){var b=this,c=a.hasClass(Q),d={firstLevel:c,expanded:c||b._expanded(a)},e=a.children("ul");e.addClass(b.templates.groupCssClass(d)).css("display",d.expanded?"":"none"),b._nodes(e,d)},_nodes:function(b,c){var d,e=this,f=b.children("li");c=r({length:f.length},c),f.each(function(b,f){f=a(f),d={index:b,expanded:e._expanded(f)},h(f),e._updateNodeClasses(f,c,d),e._group(f)})},_checkboxes:function(){var a,b=this.options,c=b.checkboxes;(c||b.checkboxTemplate)&&(b.checkboxTemplate?a=b.checkboxTemplate:(a="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #",c.name&&(a+=" name='"+c.name+"'"),a+=" />"),c=r({template:a},b.checkboxes),typeof c.template==T&&(c.template=s(c.template)),b.checkboxes=c)},_updateNodeClasses:function(a,b,c){var d=a.children("div"),e=a.children("ul"),f=this.templates;a.hasClass("k-treeview")||(c=c||{},c.expanded=typeof c.expanded!=O?c.expanded:this._expanded(a),c.index=typeof c.index!=O?c.index:a.index(),c.enabled=typeof c.enabled!=O?c.enabled:!d.children(".k-in").hasClass("k-state-disabled"),b=b||{},b.firstLevel=typeof b.firstLevel!=O?b.firstLevel:a.parent().parent().hasClass(Q),b.length=typeof b.length!=O?b.length:a.parent().children().length,a.removeClass("k-first k-last").addClass(f.wrapperCssClass(b,c)),d.removeClass("k-top k-mid k-bot").addClass(f.cssClass(b,c)),d.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(f.textClass(c)),(e.length||"true"==a.attr("data-hasChildren"))&&(d.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(f.toggleButtonClass(c)),e.addClass("k-group")))},_processNodes:function(b,c){var d=this;d.element.find(b).each(function(b,e){c.call(d,b,a(e).closest(S))})},dataItem:function(b){var c=a(b).closest(S).attr(o.attr("uid")),d=this.dataSource;return d&&d.getByUid(c)},_insertNode:function(b,c,d,e,f){var g,i,j,l,m=this,n=k(d),o=n.children().length+1,p={firstLevel:d.hasClass(Q),expanded:!f,length:o},q="",r=function(a,b){a.appendTo(b)};for(j=0;j<b.length;j++)l=b[j],l.index=c+j,q+=m._renderItem({group:p,item:l});if(i=a(q),i.length){for(n.length||(n=a(m._renderGroup({group:p})).appendTo(d)),e(i,n),d.hasClass("k-item")&&(h(d),m._updateNodeClasses(d)),m._updateNodeClasses(i.prev().first()),m._updateNodeClasses(i.next().last()),j=0;j<b.length;j++)l=b[j],l.hasChildren&&(g=l.children.data(),g.length&&m._insertNode(g,l.index,i.eq(j),r,!m._expanded(i.eq(j))));return i}},_updateNode:function(b,c){function d(){n=!0}function e(a,b){a.find(".k-checkbox :checkbox").prop(E,b).data(F,!1).prop(F,!1)}var f,g,h,i,j,k=this,m={treeview:k.options,item:h},n=!1;if("selected"==b)h=c[0],g=k.findByUid(h.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",h[b]).end(),h[b]?(k.current(g),g.attr(U,!0)):g.attr(U,!1);else for(a.inArray(b,k.options.dataTextField)>=0?n=!0:(m.item=c[0],m.item.bind("get",d),k.templates.itemContent(m),m.item.unbind("set",d)),f=0;f<c.length;f++)m.item=h=c[f],("spriteCssClass"==b||"imageUrl"==b||n)&&k.findByUid(h.uid).find(">div>.k-in").html(k.templates.itemContent(m)),b==E?(g=k.findByUid(h.uid),i=h[b],e(g.children("div"),i),k.options.checkboxes.checkChildren&&(e(g.children(".k-group"),i),k._setChecked(h.children,i),k._bubbleIndeterminate(g))):"expanded"==b?k._toggle(k.findByUid(h.uid),h,h[b]):"enabled"==b&&(g=k.findByUid(h.uid),g.find(".k-checkbox :checkbox").prop("disabled",!h[b]),j=!l(g).is(R),g.removeAttr(V),h[b]||(h.selected&&h.set("selected",!1),h.expanded&&h.set("expanded",!1),j=!0,g.removeAttr(U).attr(V,!0)),k._updateNodeClasses(g,{},{enabled:h[b],expanded:!j}))},_appendItems:function(a,b,c){var d=k(c),e=d.children(),f=!this._expanded(c);typeof a==O&&(a=e.length),this._insertNode(b,a,c,function(b,c){a>=e.length?b.appendTo(c):b.insertBefore(e.eq(a))},f),this._expanded(c)&&(this._updateNodeClasses(c),k(c).css("display","block"))},refresh:function(c){var d,e=this,f=e.wrapper,g=c.node,i=c.action,j=c.items,l=e.options,m=l.loadOnDemand,n=l.checkboxes&&l.checkboxes.checkChildren;if(c.field){if(!j[0].level)return;return e._updateNode(c.field,j)}if(g&&(f=e.findByUid(g.uid),e._progress(f,!1)),n&&"remove"!=i&&g&&g.checked)for(d=0;d<j.length;d++)j[d].checked=!0;if("add"==i)this._appendItems(c.index,j,f);else if("remove"==i)e._remove(e.findByUid(j[0].uid),!1);else if(g)k(f).empty(),j.length?(this._appendItems(c.index,j,f),m&&n&&this._bubbleIndeterminate(k(f).children().last())):h(f);else{var o=e._renderGroup({items:j,group:{firstLevel:!0,expanded:!0}});if(e.root.length){var p=a(o);e.root.attr("class",p.attr("class")).attr("role",p.attr("role")).html(p.html())}else e.root=e.wrapper.html(o).children("ul")}for(d=0;d<j.length;d++)(!m||j[d].expanded)&&j[d].load();e.trigger(L,{node:g?f:b})},_error:function(a){var b=a.node&&this.findByUid(a.node.uid),c=this.templates.retry({messages:this.options.messages});b?(this._progress(b,!1),this._expanded(b,!1),m(b).addClass("k-i-refresh"),a.node.loaded(!1)):(this._progress(!1),this.element.html(c))},_retryRequest:function(a){a.preventDefault(),this.dataSource.fetch()},expand:function(a){this._processNodes(a,function(a,b){this.toggle(b,!0)})},collapse:function(a){this._processNodes(a,function(a,b){this.toggle(b,!1)})},enable:function(a,b){b=2==arguments.length?!!b:!0,this._processNodes(a,function(a,c){this.dataItem(c).set("enabled",b)})},current:function(b){var c=this,d=c._current,e=c.element,f=c._ariaId;return arguments.length>0&&b&&b.length?(d&&(d[0].id===f&&d.removeAttr("id"),d.find(".k-in:first").removeClass("k-state-focused")),d=c._current=a(b,e).closest(S),d.find(".k-in:first").addClass("k-state-focused"),f=d[0].id||f,void(f&&(c.wrapper.removeAttr("aria-activedescendant"),d.attr("id",f),c.wrapper.attr("aria-activedescendant",f)))):(d||(d=c._nextVisible(a())),d)},select:function(b){var c=this,d=c.element;return arguments.length?(b=a(b,d).closest(S),d.find(".k-state-selected").each(function(){var a=c.dataItem(this);a.set("selected",!1),delete a.selected}),b.length&&c.dataItem(b).set("selected",!0),void c.trigger(C)):d.find(".k-state-selected").closest(S)},_toggle:function(a,b,c){var d,e=this,f=e.options,g=l(a),h=c?"expand":"collapse",i=f.animation[h];if(!g.data("animating")&&!e._trigger(h,a))if(e._expanded(a,c),d=b&&b.loaded(),d&&g.children().length>0){if(e._updateNodeClasses(a,{},{expanded:c}),g.css("display")==(c?"block":"none"))return;c||g.css("height",g.height()).css("height"),g.kendoStop(!0,!0).kendoAnimate(r({reset:!0},i,{complete:function(){c&&g.css("height","")}}))}else c&&(f.loadOnDemand&&e._progress(a,!0),g.remove(),b.load())},toggle:function(b,c){b=a(b),m(b).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")&&(1==arguments.length&&(c=!this._expanded(b)),this._expanded(b,c))},destroy:function(){var a=this;u.fn.destroy.call(a),a.wrapper.off(y),a._unbindDataSource(),a.dragging&&a.dragging.destroy(),o.destroy(a.element),a.root=a.wrapper=a.element=null},_expanded:function(a,b){var c=o.attr("expanded"),d=this.dataItem(a);return 1==arguments.length?"true"===a.attr(c)||d&&d.expanded:void(l(a).data("animating")||(d&&(d.set("expanded",b),b=d.expanded),b?(a.attr(c,"true"),a.attr("aria-expanded","true")):(a.removeAttr(c),a.attr("aria-expanded","false"))))},_progress:function(a,b){var c=this.element,d=this.templates.loading({messages:this.options.messages});1==arguments.length?(b=a,b?c.html(d):c.empty()):m(a).toggleClass("k-loading",b).removeClass("k-i-refresh")},text:function(a,b){var c=this.dataItem(a),d=this.options[W.text],e=c.level(),f=d.length,g=d[Math.min(e,f-1)];return b?void c.set(g,b):c[g]},_objectOrSelf:function(b){return a(b).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(a,b,c,d){var e,f=this._objectOrSelf(c||b),g=f.dataSource;return c&&c[0]!=f.element[0]&&(e=f.dataItem(c),e.loaded()||(f._progress(c,!0),e.load()),c!=this.root&&(g=e.children,g&&g instanceof v||(e._initChildren(),e.loaded(!0),g=e.children))),a=this._toObservableData(a),d.call(this,g,a)},_toObservableData:function(b){var c,d,e=b;return(b instanceof window.jQuery||X(b))&&(c=this._objectOrSelf(b).dataSource,d=a(b).attr(o.attr("uid")),e=c.getByUid(d),e&&(e=c.remove(e))),e},_insert:function(a,b,c){b instanceof o.data.ObservableArray?b=b.toJSON():t(b)||(b=[b]);var d=a.parent();return d&&d._initChildren&&(d.hasChildren=!0,d._initChildren()),a.splice.apply(a,[c,0].concat(b)),this.findByUid(a[c].uid)},insertAfter:f(1),insertBefore:f(0),append:function(b,c,d){var e=this,f=e.root;return d=d||a.noop,c&&(f=k(c)),e._dataSourceMove(b,f,c,function(a,b){function f(){c&&e._expanded(c,!0);var d=a.data(),f=Math.max(d.length,0);return e._insert(d,b,f)}var g;return a.data()?(g=f(),d(g),g):(a.one(C,function(){d(f())}),null)})},_remove:function(b,c){var d,e,f,g=this;return b=a(b,g.element),d=b.parent().parent(),e=b.prev(),f=b.next(),b[c?"detach":"remove"](),d.hasClass("k-item")&&(h(d),g._updateNodeClasses(d)),g._updateNodeClasses(e),g._updateNodeClasses(f),b},remove:function(a){var b=this.dataItem(a);b&&this.dataSource.remove(b)},detach:function(a){return this._remove(a,!0)},findByText:function(b){return a(this.element).find(".k-in").filter(function(c,d){return a(d).text()==b}).closest(S)},findByUid:function(a){return this.element.find(".k-item["+o.attr("uid")+"="+a+"]")},expandPath:function(b,c){var d=this.dataSource,e=d.get(b[0]);for(c=c||a.noop;b.length>0&&(e.expanded||e.loaded());)e.set("expanded",!0),b.shift(),e=d.get(b[0]);return b.length?(d.bind("change",function(a){var e=a.node&&a.node.id;e&&e===b[0]&&(b.shift(),b.length?d.get(b[0]).set("expanded",!0):c())}),void e.set("expanded",!0)):c()},_renderItem:function(a){return a.group||(a.group={}),a.treeview=this.options,a.r=this.templates,this.templates.item(a)},_renderGroup:function(a){var b=this;return a.renderItems=function(a){var c="",d=0,e=a.items,f=e?e.length:0,g=a.group;for(g.length=f;f>d;d++)a.group=g,a.item=e[d],a.item.index=d,c+=b._renderItem(a);return c},a.r=b.templates,b.templates.group(a)}}),i.prototype={_removeTouchHover:function(){var a=this;o.support.touch&&a.hovered&&(a.hovered.find("."+P).removeClass(P),a.hovered=!1)},_hintStatus:function(b){var c=this._draggable.hint.find(".k-drag-status")[0];return b?void(c.className="k-icon k-drag-status "+b):a.trim(c.className.replace(/k-(icon|drag-status)/g,""))},dragstart:function(b){var c=this,d=c.treeview,e=c.sourceNode=b.currentTarget.closest(S);d.trigger(H,{sourceNode:e[0]})&&b.preventDefault(),c.dropHint=a("<div class='k-drop-hint' />").css(N,"hidden").appendTo(d.element)},drag:function(b){var c,d,e,f,g,h,i,j,k,l,m=this,n=m.treeview,p=m.sourceNode,q=m.dropTarget=a(o.eventTarget(b)),r=q.closest(".k-treeview");r.length?a.contains(p[0],q[0])?c="k-denied":(c="k-insert-middle",d=q.closest(".k-top,.k-mid,.k-bot"),d.length?(f=d.outerHeight(),g=o.getOffset(d).top,h=q.closest(".k-in"),i=f/(h.length>0?4:2),j=b.y.location<g+i,k=g+f-i<b.y.location,m._removeTouchHover(),l=h.length&&!j&&!k,m.hovered=l?r:!1,m.dropHint.css(N,l?"hidden":"visible"),h.toggleClass(P,l),l?c="k-add":(e=d.position(),e.top+=j?0:f,m.dropHint.css(e)[j?"prependTo":"appendTo"](q.closest(S).children("div:first")),j&&d.hasClass("k-top")&&(c="k-insert-top"),k&&d.hasClass("k-bot")&&(c="k-insert-bottom"))):q[0]!=m.dropHint[0]&&(c=r[0]!=n.element[0]?"k-add":"k-denied")):(c="k-denied",m._removeTouchHover()),n.trigger(I,{sourceNode:p[0],dropTarget:q[0],pageY:b.y.location,pageX:b.x.location,statusClass:c.substring(2),setStatusClass:function(a){c=a}}),0!==c.indexOf("k-insert")&&m.dropHint.css(N,"hidden"),m._hintStatus(c)},dragcancel:function(){this.dropHint.remove()},dragend:function(){function a(a){f.trigger(K,{sourceNode:a&&a[0],destinationNode:b[0],dropPosition:g})}var b,c,d,e=this,f=e.treeview,g="over",h=e.sourceNode,i=e.dropHint,j=e.dropTarget;return"visible"==i.css(N)?(g=i.prevAll(".k-in").length>0?"after":"before",b=i.closest(S)):j&&(b=j.closest(S),b.length||(b=j.closest(".k-treeview"))),c={sourceNode:h[0],destinationNode:b[0],valid:"k-denied"!=e._hintStatus(),setValid:function(a){this.valid=a},dropTarget:j[0],dropPosition:g},d=f.trigger(J,c),i.remove(),e._removeTouchHover(),!c.valid||d?void(e._draggable.dropped=c.valid):(e._draggable.dropped=!0,void("over"==g?f.append(h,b,a):("before"==g?h=f.insertBefore(h,b):"after"==g&&(h=f.insertAfter(h,b)),a(h))))},destroy:function(){this._draggable.destroy()}},p.plugin(j)}(window.kendo.jQuery),function(a,b){function c(a){return o.test(a)}function d(a){return n.test(a)||/^\d+$/.test(a)}function e(a){return!c(a)&&!d(a)}function f(a,b){return function(c,d){var e=this.element.find(c).data(A);if(1==arguments.length)return e[a];if(e[a]=d,b){var f=this.element.data("kendo"+this.options.name);f.resize(!0)}}}function g(a){var b=this,c=a.orientation;b.owner=a,b._element=a.element,b.orientation=c,k(b,c===w?H:G),b._resizable=new h.ui.Resizable(a.element,{orientation:c,handle:".k-splitbar-draggable-"+c+"[data-marker="+a._marker+"]",hint:l(b._createHint,b),start:l(b._start,b),max:l(b._max,b),min:l(b._min,b),invalidClass:"k-restricted-size-"+c,resizeend:l(b._stop,b)})}var h=window.kendo,i=h.ui,j=h.keys,k=a.extend,l=a.proxy,m=i.Widget,n=/^\d+(\.\d+)?px$/i,o=/^\d+(\.\d+)?%$/i,p=".kendoSplitter",q="expand",r="collapse",s="contentLoad",t="error",u="resize",v="layoutChange",w="horizontal",x="vertical",y="mouseenter",z="click",A="pane",B="mouseleave",C="k-state-focused",D="k-"+A,E="."+D,F=m.extend({init:function(a,b){var c,d=this;m.fn.init.call(d,a,b),d.wrapper=d.element,c=d.options.orientation.toLowerCase()!=x,d.orientation=c?w:x,d._dimension=c?"width":"height",d._keys={decrease:c?j.LEFT:j.UP,increase:c?j.RIGHT:j.DOWN},d._resizeStep=10,d._marker=h.guid().substring(0,8),d._resizeHandler=function(){d.resize()},d._initPanes(),d.resizing=new g(d),d.element.triggerHandler("init"+p)},events:[q,r,s,t,u,v],_attachEvents:function(){var b=this,c=b.options.orientation;b.element.children(".k-splitbar-draggable-"+c).on("keydown"+p,a.proxy(b._keydown,b)).on("mousedown"+p,function(a){a.currentTarget.focus()}).on("focus"+p,function(b){a(b.currentTarget).addClass(C)}).on("blur"+p,function(c){a(c.currentTarget).removeClass(C),b.resizing&&b.resizing.end()}).on(y+p,function(){a(this).addClass("k-splitbar-"+b.orientation+"-hover")}).on(B+p,function(){a(this).removeClass("k-splitbar-"+b.orientation+"-hover")}).on("mousedown"+p,function(){b._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+p,function(){b._panes().children(".k-splitter-overlay").remove()}).end().children(".k-splitbar").on("dblclick"+p,l(b._togglePane,b)).children(".k-collapse-next, .k-collapse-prev").on(z+p,b._arrowClick(r)).end().children(".k-expand-next, .k-expand-prev").on(z+p,b._arrowClick(q)).end().end(),a(window).on("resize",b._resizeHandler)},_detachEvents:function(){var b=this;b.element.children(".k-splitbar-draggable-"+b.orientation).off(p).end().children(".k-splitbar").off("dblclick"+p).children(".k-collapse-next, .k-collapse-prev, .k-expand-next, .k-expand-prev").off(p),a(window).off("resize",b._resizeHandler)},options:{name:"Splitter",orientation:w,panes:[]},destroy:function(){var a=this;m.fn.destroy.call(a),a._detachEvents(),a.resizing&&a.resizing.destroy(),h.destroy(a.element)},_keydown:function(b){var c,d=this,e=b.keyCode,f=d.resizing,g=a(b.currentTarget),h=d._keys,i=e===h.increase,k=e===h.decrease;i||k?(b.ctrlKey?(c=g[k?"next":"prev"](),f&&f.isResizing()&&f.end(),c[d._dimension]()?d._triggerAction(r,g[k?"prev":"next"]()):d._triggerAction(q,c)):f&&f.move((k?-1:1)*d._resizeStep,g),b.preventDefault()):e===j.ENTER&&f&&(f.end(),b.preventDefault())},_initPanes:function(){var a=this,b=a.options.panes||[];a.element.addClass("k-widget").addClass("k-splitter").children(":not(script)").each(function(c,d){var e=b&&b[c];a._initPane(d,e)}).end(),a.resize()},_initPane:function(b,c){b=a(b).attr("role","group").addClass(D),b.data(A,c?c:{}).toggleClass("k-scrollable",c?c.scrollable!==!1:!0),this.ajaxRequest(b)},ajaxRequest:function(a,b,c){var d,e=this;a=e.element.find(a),d=a.data(A),b=b||d.contentUrl,b&&(a.append("<span class='k-icon k-loading k-pane-loading' />"),h.isLocalUrl(b)?jQuery.ajax({url:b,data:c||{},type:"GET",dataType:"html",success:function(b){a.html(b),e.trigger(s,{pane:a[0]})},error:function(b,c){e.trigger(t,{pane:a[0],status:c,xhr:b})}}):a.removeClass("k-scrollable").html("<iframe src='"+b+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>"))},_triggerAction:function(a,b){this.trigger(a,{pane:b[0]})||this[a](b[0])},_togglePane:function(b){var c,d=this,e=a(b.target);e.closest(".k-splitter")[0]==d.element[0]&&(c=e.children(".k-icon:not(.k-resize-handle)"),1===c.length&&(c.is(".k-collapse-prev")?d._triggerAction(r,e.prev()):c.is(".k-collapse-next")?d._triggerAction(r,e.next()):c.is(".k-expand-prev")?d._triggerAction(q,e.prev()):c.is(".k-expand-next")&&d._triggerAction(q,e.next())))},_arrowClick:function(b){var c=this;return function(d){var e,f=a(d.target);f.closest(".k-splitter")[0]==c.element[0]&&(e=f.is(".k-"+b+"-prev")?f.parent().prev():f.parent().next(),c._triggerAction(b,e))}},_updateSplitBar:function(a,b,c){var d=function(a,b){return b?"<div class='k-icon "+a+"' />":""},e=this.orientation,f=b.resizable!==!1&&c.resizable!==!1,g=b.collapsible,h=b.collapsed,i=c.collapsible,j=c.collapsed;a.addClass("k-splitbar k-state-default k-splitbar-"+e).attr("role","separator").attr("aria-expanded",!(h||j)).removeClass("k-splitbar-"+e+"-hover").toggleClass("k-splitbar-draggable-"+e,f&&!h&&!j).toggleClass("k-splitbar-static-"+e,!f&&!g&&!i).html(d("k-collapse-prev",g&&!h&&!j)+d("k-expand-prev",g&&h&&!j)+d("k-resize-handle",f)+d("k-collapse-next",i&&!j&&!h)+d("k-expand-next",i&&j&&!h))},_updateSplitBars:function(){var b=this;this.element.children(".k-splitbar").each(function(){var c=a(this),d=c.prevAll(E).first().data(A),e=c.nextAll(E).first().data(A);e&&b._updateSplitBar(c,d,e)})},_removeSplitBars:function(){this.element.children(".k-splitbar").remove()},_panes:function(){return this.element.children(E)},_resize:function(){var b=this,d=b.element,f=d.children(E),g=b.orientation==w,i=d.children(".k-splitbar"),j=i.length,k=g?"width":"height",l=d[k]();0===j?(j=f.length-1,f.slice(0,j).after("<div tabindex='0' class='k-splitbar' data-marker='"+b._marker+"' />"),b._updateSplitBars(),i=d.children(".k-splitbar")):b._updateSplitBars(),i.each(function(){l-=this[g?"offsetWidth":"offsetHeight"]});var m=0,n=0,o=a();f.css({position:"absolute",top:0})[k](function(){var b,d=a(this).data(A)||{};if(d.collapsed)b=0,a(this).css("overflow","hidden");else{if(e(d.size))return void(o=o.add(this));b=parseInt(d.size,10),c(d.size)&&(b=Math.floor(b*l/100))}return n++,m+=b,b}),l-=m;var p=o.length,q=Math.floor(l/p);o.slice(0,p-1).css(k,q).end().eq(p-1).css(k,l-(p-1)*q);var r=0,s=g?"height":"width",t=g?"left":"top",u=g?"offsetWidth":"offsetHeight";if(0===p){var x=f.filter(function(){return!(a(this).data(A)||{}).collapsed}).last();x[k](l+x[0][u])}d.children(":not(script)").css(s,d[s]()).each(function(a,b){b.style[t]=Math.floor(r)+"px",r+=b[u]
}),b._detachEvents(),b._attachEvents(),h.resize(f),b.trigger(v)},toggle:function(a,c){var d,e=this;a=e.element.find(a),d=a.data(A),(c||d.collapsible)&&(1==arguments.length&&(c=d.collapsed===b?!1:d.collapsed),d.collapsed=!c,d.collapsed?a.css("overflow","hidden"):a.css("overflow",""),e.resize(!0))},collapse:function(a){this.toggle(a,!1)},expand:function(a){this.toggle(a,!0)},_addPane:function(a,b,c){var d=this;return c.length&&(d.options.panes.splice(b,0,a),d._initPane(c,a),d._removeSplitBars(),d.resize(!0)),c},append:function(b){b=b||{};var c=this,d=a("<div />").appendTo(c.element);return c._addPane(b,c.options.panes.length,d)},insertBefore:function(b,c){c=a(c),b=b||{};var d=this,e=d.wrapper.children(".k-pane").index(c),f=a("<div />").insertBefore(a(c));return d._addPane(b,e,f)},insertAfter:function(b,c){c=a(c),b=b||{};var d=this,e=d.wrapper.children(".k-pane").index(c),f=a("<div />").insertAfter(a(c));return d._addPane(b,e+1,f)},remove:function(b){b=a(b);var c=this;return b.length&&(h.destroy(b),b.each(function(b,d){c.options.panes.splice(c.wrapper.children(".k-pane").index(d),1),a(d).remove()}),c._removeSplitBars(),c.options.panes.length&&c.resize(!0)),c},size:f("size",!0),min:f("min"),max:f("max")});i.plugin(F);var G={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"},H={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};g.prototype={press:function(a){this._resizable.press(a)},move:function(a,b){this.pressed||(this.press(b),this.pressed=!0),this._resizable.target||this._resizable.press(b),this._resizable.move(a)},end:function(){this._resizable.end(),this.pressed=!1},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(b){var c=this;return a("<div class='k-ghost-splitbar k-ghost-splitbar-"+c.orientation+" k-state-default' />").css(c.alternateSizingProperty,b[c.alternateSizingProperty]())},_start:function(b){var c=this,e=a(b.currentTarget),f=e.prev(),g=e.next(),h=f.data(A),i=g.data(A),j=parseInt(f[0].style[c.positioningProperty],10),k=parseInt(g[0].style[c.positioningProperty],10)+g[0][c.sizingDomProperty]-e[0][c.sizingDomProperty],l=parseInt(c._element.css(c.sizingProperty),10),m=function(a){var b=parseInt(a,10);return(d(a)?b:l*b/100)||0},n=m(h.min),o=m(h.max)||k-j,p=m(i.min),q=m(i.max)||k-j;c.previousPane=f,c.nextPane=g,c._maxPosition=Math.min(k-p,j+o),c._minPosition=Math.max(j+n,k-q)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(b){var c=this,d=a(b.currentTarget),f=c.owner;if(f._panes().children(".k-splitter-overlay").remove(),b.keyCode!==h.keys.ESC){var g=b.position,i=d.prev(),j=d.next(),k=i.data(A),l=j.data(A),m=g-parseInt(i[0].style[c.positioningProperty],10),n=parseInt(j[0].style[c.positioningProperty],10)+j[0][c.sizingDomProperty]-g-d[0][c.sizingDomProperty],o=c._element.children(E).filter(function(){return e(a(this).data(A).size)}).length;(!e(k.size)||o>1)&&(e(k.size)&&o--,k.size=m+"px"),(!e(l.size)||o>1)&&(l.size=n+"px"),f.resize(!0)}return!1}}}(window.kendo.jQuery),function(a){function b(a,b){function c(a,e){if(e=e[b])for(var f=d[a]=d[a]||[],g=0;g<e.length;g++)f.push(e[g]),c(a+1,e[g])}var d=[];return c(0,a),d}function c(){return t.support.cssBorderSpacing?"":'cellspacing="0"'}function d(b,d){return b.length?"<table "+c()+' class="'+a.trim("k-scheduler-table "+(d||""))+'"><tr>'+b.join("</tr><tr>")+"</tr></table>":""}function e(a,b){return a.length?"<div style='position:relative'>"+d(a,b)+"</div>":""}function f(b,c,e){var f=[];if(e>0)for(var g=0;b>g;g++)f.push("<th></th>");return c&&f.push('<th class="k-scheduler-times-all-day">'+c.text+"</th>"),1>e?a():a('<div class="k-scheduler-times">'+d(f)+"</div>")}function g(b,c,f){for(var g,h=[],i=0;i<b.length;i++){var j=b[i],k=[],l=c/j.length;for(g=0;g<j.length;g++)k.push('<th colspan="'+l+'" class="'+(j[g].className||"")+'">'+j[g].text+"</th>");h.push(k.join(""))}var m=[];if(f){var n=b[b.length-1],o=[],p=f.cellContent;for(g=0;g<n.length;g++)o.push('<td class="'+(n[g].className||"")+'">'+(p?p(g):"&nbsp;")+"</th>");m.push(o.join(""))}return a('<div class="k-scheduler-header k-state-default"><div class="k-scheduler-header-wrap">'+d(h)+e(m,"k-scheduler-header-all-day")+"</div></div>")}function h(b,c){for(var e,f=new Array(c).join().split(","),g=[],h=0;h<b.length;h++){var i,j=b[h],k=c/j.length;for(e=0;e<j.length;e++)i=j[e].className||"",j[e].allDay&&(i="k-scheduler-times-all-day"),f[k*e]+='<th class="'+i+'" rowspan="'+k+'">'+j[e].text+"</th>"}for(e=0;c>e;e++)g.push(f[e]);return 1>c?a():a('<div class="k-scheduler-times">'+d(g)+"</div>")}function i(){return a('<div class="k-scheduler-content"><table '+c()+' class="k-scheduler-table"/></div>')}function j(){return A=A?A:t.support.scrollbar()}function k(a,b,c){var d,e,f,g,h;for(d=a.length-1;d>=0;d--)e=l(a[d]),f=e.start,h=e.end,g=b>=f&&h>=b,(g||f>=b&&c>=h||f>=b&&c>=f)&&(b>f&&(b=f),h>c&&(c=h));return m(a,b,c)}function l(a){return{start:a.start,end:a.end}}function m(a,b,c){for(var d=[],e=0;e<a.length;e++){var f=l(a[e]);(f.start<b&&f.end>b||f.start>=b&&f.end<=c)&&d.push(a[e])}return d}function n(a){return p(a)}function o(a){return p(a)}function p(a){for(var b=[],c=0;c<a.length;c++){for(var d=a[c],e=l(d),f=null,g=0,h=b.length;h>g;g++){var i=e.start>b[g].end;if(e.start<b[g].start||i){f=b[g],f.end<e.end&&(f.end=e.end);break}}f||(f={start:e.start,end:e.end,events:[]},b.push(f)),f.events.push(d)}return b}function q(a,b,c){var d=b[0];if(d){for(var e=[],f=d.dataSource.view(),g=0;g<f.length;g++){var h={text:t.getter(d.dataTextField)(f[g]),className:"k-slot-cell"};h[a]=q(a,b.slice(1),c),e.push(h)}return e}return c}function r(b){return function(c){if(a.isArray(c)||c instanceof t.data.ObservableArray){for(var d=0;d<c.length;d++)if(c[d]==b)return!0;return!1}return c==b}}function s(a){a.className=a.className.replace(K,"")+" k-state-selected"}var t=window.kendo,u=t.ui,v=u.Widget,w=t.keys,x=".kendoSchedulerView",y=Math,z='<div class="k-marquee k-scheduler-marquee"><div class="k-marquee-color"></div><div class="k-marquee-text"><div class="k-label-top"></div><div class="k-label-bottom"></div></div></div>';t.ui.scheduler={};var A,B=t.Class.extend({init:function(a){this._index=a,this._timeSlotCollections=[],this._daySlotCollections=[]},addTimeSlotCollection:function(a,b){return this._addCollection(a,b,this._timeSlotCollections)},addDaySlotCollection:function(a,b){return this._addCollection(a,b,this._daySlotCollections)},_addCollection:function(a,b,c){var d=new F(a,b,this._index,c.length);return c.push(d),d},timeSlotCollectionCount:function(){return this._timeSlotCollections.length},daySlotCollectionCount:function(){return this._daySlotCollections.length},daySlotByPosition:function(a,b){return this._slotByPosition(a,b,this._daySlotCollections)},timeSlotByPosition:function(a,b){return this._slotByPosition(a,b,this._timeSlotCollections)},_slotByPosition:function(a,b,c){for(var d=0;d<c.length;d++)for(var e=c[d],f=0;f<e.count();f++){var g=e.at(f);if(a>=g.offsetLeft&&a<g.offsetLeft+g.clientWidth&&b>=g.offsetTop&&b<g.offsetTop+g.clientHeight)return g}},refresh:function(){var a;for(a=0;a<this._daySlotCollections.length;a++)this._daySlotCollections[a].refresh();for(a=0;a<this._timeSlotCollections.length;a++)this._timeSlotCollections[a].refresh()},timeSlotRanges:function(a,b){var c=this._timeSlotCollections,d=this._startSlot(a,c),e=d;return b>a&&(e=this._endSlot(b,c)),this._continuousRange(D,c,d,e)},daySlotRanges:function(a,b,c){var d=this._daySlotCollections,e=this._startSlot(a,d,c),f=e;return b>a&&(f=this._endSlot(b,d,c)),this._continuousRange(E,d,e,f)},_continuousRange:function(a,b,c,d){for(var e=c.slot,f=d.slot,g=e.collectionIndex,h=f.collectionIndex,i=[],j=g;h>=j;j++){var k=b[j],l=k.first(),m=k.last(),n=!1,o=!1;j==g&&(o=!c.inRange),j==h&&(n=!d.inRange),l.start<e.start&&(l=e),m.start>f.start&&(m=f),h>g&&(j==g?n=!0:j==h?o=!0:n=o=!0),i.push(new a({start:l,end:m,collection:k,head:n,tail:o}))}return i},slotRanges:function(a,b){var c=t.date.toUtcTime(a.start),d=t.date.toUtcTime(a.end);return void 0===b&&(b=a.isMultiDay()),b?this.daySlotRanges(c,d,a.isAllDay):(a.startTime&&(c=t.date.getMilliseconds(a.startTime)+t.date.toUtcTime(t.date.getDate(a.start))),a.endTime&&(d=t.date.getMilliseconds(a.endTime)+t.date.toUtcTime(t.date.getDate(a.end))),this.timeSlotRanges(c,d))},ranges:function(a,b,c,d){return"number"!=typeof a&&(a=t.date.toUtcTime(a)),"number"!=typeof b&&(b=t.date.toUtcTime(b)),c?this.daySlotRanges(a,b,d):this.timeSlotRanges(a,b)},_startCollection:function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.startInRange(a))return d}return null},_endCollection:function(a,b,c){for(var d=0;d<b.length;d++){var e=b[d];if(e.endInRange(a,c))return e}return null},_getCollections:function(a){return a?this._daySlotCollections:this._timeSlotCollections},continuousSlot:function(a,b){var c=b?-1:1,d=this._getCollections(a.isDaySlot),e=d[a.collectionIndex+c];return e?e[b?"last":"first"]():void 0},firstSlot:function(){var a=this._getCollections(this.daySlotCollectionCount());return a[0].first()},lastSlot:function(){var a=this._getCollections(this.daySlotCollectionCount());return a[a.length-1].last()},upSlot:function(a,b){var c=this,d=function(a,d,e){var f=0===e;return!b&&!a&&f&&c.daySlotCollectionCount()?c._daySlotCollections[0].at(d):void 0};return this.timeSlotCollectionCount()||(b=!0),this._verticalSlot(a,-1,d)},downSlot:function(a,b){var c=this,d=function(a,d,e){return!b&&a&&c.timeSlotCollectionCount()?c._timeSlotCollections[e].at(0):void 0};return this.timeSlotCollectionCount()||(b=!0),this._verticalSlot(a,1,d)},leftSlot:function(a){return this._horizontalSlot(a,-1)},rightSlot:function(a){return this._horizontalSlot(a,1)},_horizontalSlot:function(a,b){var c=a.index,d=a.isDaySlot,e=a.collectionIndex,f=this._getCollections(d);d?c+=b:e+=b;var g=f[e];return g?g.at(c):void 0},_verticalSlot:function(a,b,c){var d=a.index,e=a.isDaySlot,f=a.collectionIndex,g=this._getCollections(e);if(a=c(e,f,d))return a;e?f+=b:d+=b;var h=g[f];return h?h.at(d):void 0},_collection:function(a,b){var c=b?this._daySlotCollections:this._timeSlotCollections;return c[a]},_startSlot:function(a,b,c){var d=this._startCollection(a,b),e=!0;d||(d=b[0],e=!1);var f=d.slotByStartDate(a,c);return f||(f=d.first(),e=!1),{slot:f,inRange:e}},_endSlot:function(a,b,c){var d=this._endCollection(a,b,c),e=!0;d||(d=b[b.length-1],e=!1);var f=d.slotByEndDate(a,c);return f||(f=d.last(),e=!1),{slot:f,inRange:e}},getSlotCollection:function(a,b){return this[b?"getDaySlotCollection":"getTimeSlotCollection"](a)},getTimeSlotCollection:function(a){return this._timeSlotCollections[a]},getDaySlotCollection:function(a){return this._daySlotCollections[a]}}),C=t.Class.extend({init:function(b){a.extend(this,b)},innerHeight:function(){for(var a=this.collection,b=this.start.index,c=this.end.index,d=0,e=b;c>=e;e++)d+=a.at(e).offsetHeight;return d},events:function(){return this.collection.events()},addEvent:function(a){this.events().push(a)},startSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.end:this.start},endSlot:function(){return this.start.offsetLeft>this.end.offsetLeft?this.start:this.end}}),D=C.extend({innerHeight:function(){for(var a=this.collection,b=this.start.index,c=this.end.index,d=0,e=b;c>=e;e++)d+=a.at(e).offsetHeight;return d},outerRect:function(a,b,c){return this._rect("offset",a,b,c)},_rect:function(a,b,c,d){var e,f,g=this.start,h=this.end;if("number"!=typeof b&&(b=t.date.toUtcTime(b)),"number"!=typeof c&&(c=t.date.toUtcTime(c)),d)e=g.offsetTop,f=h.offsetTop+h[a+"Height"];else{var i=b-g.start;0>i&&(i=0);var j=g.end-g.start;e=g.offsetTop+g[a+"Height"]*i/j;var k=h.end-c;0>k&&(k=0);var l=h.end-h.start;f=h.offsetTop+h[a+"Height"]-h[a+"Height"]*k/l}return{top:e,bottom:f}},innerRect:function(a,b,c){return this._rect("client",a,b,c)}}),E=C.extend({innerWidth:function(){for(var a=this.collection,b=this.start.index,c=this.end.index,d=0,e=b!==c?"offsetWidth":"clientWidth",f=b;c>=f;f++)d+=a.at(f)[e];return d}}),F=t.Class.extend({init:function(a,b,c,d){this._slots=[],this._events=[],this._start=t.date.toUtcTime(a),this._end=t.date.toUtcTime(b),this._groupIndex=c,this._collectionIndex=d},refresh:function(){for(var a=0;a<this._slots.length;a++)this._slots[a].refresh()},startInRange:function(a){return this._start<=a&&a<this._end},endInRange:function(a,b){var c=b?a<this._end:a<=this._end;return this._start<=a&&c},slotByStartDate:function(a){var b=a;"number"!=typeof b&&(b=t.date.toUtcTime(a));for(var c=0;c<this._slots.length;c++){var d=this._slots[c];if(d.startInRange(b))return d}return null},slotByEndDate:function(a,b){var c=a;if("number"!=typeof c&&(c=t.date.toUtcTime(a)),b)return this.slotByStartDate(a,!1);for(var d=0;d<this._slots.length;d++){var e=this._slots[d];if(e.endInRange(c))return e}return null},count:function(){return this._slots.length},events:function(){return this._events},addTimeSlot:function(a,b,c){var d=new H(a,b,c,this._groupIndex,this._collectionIndex,this._slots.length);this._slots.push(d)},addDaySlot:function(a,b,c,d){var e=new I(a,b,c,this._groupIndex,this._collectionIndex,this._slots.length,d);this._slots.push(e)},first:function(){return this._slots[0]},last:function(){return this._slots[this._slots.length-1]},at:function(a){return this._slots[a]}}),G=t.Class.extend({init:function(a,b,c,d,e,f){this.element=a,this.clientWidth=a.clientWidth,this.clientHeight=a.clientHeight,this.offsetWidth=a.offsetWidth,this.offsetHeight=a.offsetHeight,this.offsetTop=a.offsetTop,this.offsetLeft=a.offsetLeft,this.start=b,this.end=c,this.element=a,this.groupIndex=d,this.collectionIndex=e,this.index=f,this.isDaySlot=!1},startDate:function(){return t.timezone.toLocalDate(this.start)},endDate:function(){return t.timezone.toLocalDate(this.end)},startInRange:function(a){return this.start<=a&&a<this.end},endInRange:function(a){return this.start<a&&a<=this.end},startOffset:function(){return this.start},endOffset:function(){return this.end}}),H=G.extend({refresh:function(){this.offsetTop=this.element.offsetTop},offsetX:function(a,b){return a?this.offsetLeft+b:this.offsetLeft+b},startInRange:function(a){return this.start<=a&&a<this.end},endInRange:function(a){return this.start<a&&a<=this.end},startOffset:function(b,c,d){if(d)return this.start;var e=a(this.element).offset(),f=c-e.top,g=this.end-this.start,h=Math.floor(g*(f/this.offsetHeight));return this.start+h},endOffset:function(b,c,d){if(d)return this.end;var e=a(this.element).offset(),f=c-e.top,g=this.end-this.start,h=Math.floor(g*(f/this.offsetHeight));return this.start+h}}),I=G.extend({init:function(a,b,c,d,e,f,g){G.fn.init.apply(this,arguments),this.eventCount=g,this.isDaySlot=!0,this.element.children.length?(this.firstChildHeight=this.element.children[0].offsetHeight+3,this.firstChildTop=this.element.children[0].offsetTop):(this.firstChildHeight=3,this.firstChildTop=0)},refresh:function(){this.clientHeight=this.element.clientHeight,this.offsetTop=this.element.offsetTop},startDate:function(){var a=new Date(this.start);return t.timezone.apply(a,"Etc/UTC")},endDate:function(){var a=new Date(this.end);return t.timezone.apply(a,"Etc/UTC")},startInRange:function(a){return this.start<=a&&a<this.end},endInRange:function(a){return this.start<a&&a<=this.end}});t.ui.SchedulerView=v.extend({init:function(b,c){v.fn.init.call(this,b,c),this._scrollbar=j(),this._isRtl=t.support.isRtl(b),this._resizeHint=a(),this._moveHint=a(),this._cellId=t.guid(),this._resourcesForGroups(),this._selectedSlots=[]},_isMobile:function(){var a=this.options;return a.mobile===!0&&t.support.mobileOS||"phone"===a.mobile||"tablet"===a.mobile},_isMobilePhoneView:function(){var a=this.options;return a.mobile===!0&&t.support.mobileOS&&!t.support.mobileOS.tablet||"phone"===a.mobile},_addResourceView:function(){var a=new B(this.groups.length);return this.groups.push(a),a},dateForTitle:function(){return t.format(this.options.selectedDateFormat,this.startDate(),this.endDate())},_changeGroup:function(a,b){var c=b?"prevGroupSlot":"nextGroupSlot",d=this[c](a.start,a.groupIndex,a.isAllDay);return d&&(a.groupIndex+=b?-1:1),d},_changeGroupContinuously:function(){return null},_changeViewPeriod:function(){return!1},_horizontalSlots:function(a,b,c,d){var e=d?"leftSlot":"rightSlot",f=b[0].start,g=b[b.length-1].end,h=this.groups[a.groupIndex];if(!c){var i=this._normalizeHorizontalSelection(a,b,d);i&&(f=g=i)}f=h[e](f),g=h[e](g),c||this._isVerticallyGrouped()||f&&g||(f=g=this._changeGroup(a,d));var j;return f&&g||(j=this._continuousSlot(a,b,d),j=this._changeGroupContinuously(a,j,c,d),j&&(f=g=j)),{startSlot:f,endSlot:g}},_verticalSlots:function(a,b,c,d){var e=b[0].start,f=b[b.length-1].end,g=this.groups[a.groupIndex];if(!c){var h=this._normalizeVerticalSelection(a,b,d);h&&(e=f=h)}var i=d?"upSlot":"downSlot";return e=g[i](e,c),f=g[i](f,c),c||!this._isVerticallyGrouped()||e&&f||(e=f=this._changeGroup(a,d)),{startSlot:e,endSlot:f}},_normalizeHorizontalSelection:function(){return null},_normalizeVerticalSelection:function(a,b,c){var d;return d=c?b[0].start:b[b.length-1].end},_continuousSlot:function(){return null},constrainSelection:function(a){var b,c=this.groups[0];this.inRange(a)?c.daySlotCollectionCount()||(a.isAllDay=!1):(b=c.firstSlot(),a.isAllDay=b.isDaySlot,a.start=b.startDate(),a.end=b.endDate()),this.groups[a.groupIndex]||(a.groupIndex=0)},move:function(a,b,c){var d=!1,e=this.groups[a.groupIndex];e.timeSlotCollectionCount()||(a.isAllDay=!0);var f,g,h,i,j=e.ranges(a.start,a.end,a.isAllDay,!1);if(b===w.DOWN||b===w.UP){if(d=!0,h=b===w.UP,this._updateDirection(a,j,c,h,!0),i=this._verticalSlots(a,j,c,h),!i.startSlot&&!c&&this._changeViewPeriod(a,h,!0))return d}else if((b===w.LEFT||b===w.RIGHT)&&(d=!0,h=b===w.LEFT,this._updateDirection(a,j,c,h,!1),i=this._horizontalSlots(a,j,c,h),!i.startSlot&&!c&&this._changeViewPeriod(a,h,!1)))return d;if(d){if(f=i.startSlot,g=i.endSlot,c){var k=a.backward;k&&f?a.start=f.startDate():!k&&g&&(a.end=g.endDate())}else f&&g&&(a.isAllDay=f.isDaySlot,a.start=f.startDate(),a.end=g.endDate());a.events=[]}return d},moveToEventInGroup:function(b,c,d,e){for(var f,g,h=b._continuousEvents||[],i=e?-1:1,j=h.length,k=e?j-1:0;j>k&&k>-1;){if(g=h[k],(!e&&g.start.startDate()>=c.startDate()||e&&g.start.startDate()<=c.startDate())&&(d.length&&(g=h[k+i]),g&&-1===a.inArray(g.uid,d))){f=!!g;break}k+=i}return g},moveToEvent:function(a,b){for(var c,d=a.groupIndex,e=this.groups[d],f=e.ranges(a.start,a.end,a.isAllDay,!1)[0].start,g=this.groups.length,h=b?-1:1,i=a.events;g>d&&d>-1&&(c=this.moveToEventInGroup(e,f,i,b),d+=h,e=this.groups[d],e&&!c);)i=[],f=b?e.lastSlot():e.firstSlot(!0);return c&&(a.events=[c.uid],a.start=c.start.startDate(),a.end=c.end.endDate(),a.isAllDay=c.start.isDaySlot,a.groupIndex=c.start.groupIndex),!!c},current:function(a){return void 0===a?this._current:(this._current=a,void this._scrollTo(a,this.content[0]))},select:function(a){this.clearSelection(),this._selectEvents(a)||this._selectSlots(a)},_selectSlots:function(a){var b=a.isAllDay,c=this.groups[a.groupIndex];c.timeSlotCollectionCount()||(b=!0),this._selectedSlots=[];for(var d,e,f=c.ranges(a.start,a.end,b,!1),g=0;g<f.length;g++)for(var h=f[g],i=h.collection,j=h.start.index;j<=h.end.index;j++)e=i.at(j),d=e.element,d.setAttribute("aria-selected",!0),s(d),this._selectedSlots.push({start:e.startDate(),end:e.endDate(),element:d});a.backward&&(d=f[0].start.element),this.current(d)},_selectEvents:function(b){var c,d=!1,e=b.events,f=this.groups[b.groupIndex]._continuousEvents||[],g=f.length;if(!e[0]||!f[0])return d;var h=a();for(c=0;g>c;c++)a.inArray(f[c].uid,e)>-1&&(h=h.add(f[c].element));return h[0]&&(h.addClass("k-state-selected").attr("aria-selected",!0),this.current(h.last()[0]),d=!0),d},inRange:function(a){var b=this.startDate(),c=t.date.addDays(this.endDate(),1),d=a.start,e=a.end;return d>=b&&c>d&&e>b&&c>=e},_resourceValue:function(a,b){return a.valuePrimitive&&(b=t.getter(a.dataValueField)(b)),b},_resourceBySlot:function(a){var b=this.groupedResources,c={};if(b.length)for(var d=a.groupIndex,e=b.length-1;e>=0;e--){var f=b[e],g=this._resourceValue(f,f.dataSource.view()[d%f.dataSource.total()]);f.multiple&&(g=[g]);var h=t.setter(f.field);h(c,g),d=Math.floor(d/f.dataSource.total())}return c},_createResizeHint:function(b,c,d,e){return a(z).css({left:b,top:c,width:d,height:e})},_removeResizeHint:function(){this._resizeHint.remove(),this._resizeHint=a()},_removeMoveHint:function(){this._moveHint.remove(),this._moveHint=a()},_scrollTo:function(a,b){var c=a.offsetTop,d=a.offsetHeight,e=b.scrollTop,f=b.clientHeight,g=c+d,h=0;h=e>c?c:g>e+f?f>=d?g-f:c:e,b.scrollTop=h},_shouldInverseResourceColor:function(a){var b=new J(a.color).isDark(),c=this.element.css("color"),d=new J(c).isDark();return b==d},eventResources:function(a){var b=[],c=this.options;if(!c.resources)return b;for(var d=0;d<c.resources.length;d++){var e=c.resources[d],f=e.field,g=t.getter(f)(a);if(g){e.multiple||(g=[g]);for(var h=e.dataSource.view(),i=0;i<g.length;i++){var j=null,k=g[i];e.valuePrimitive||(k=t.getter(e.dataValueField)(k));for(var l=0;l<h.length;l++)if(h[l].get(e.dataValueField)==k){j=h[l];break}if(null!==j){var m=t.getter(e.dataColorField)(j);b.push({field:e.field,title:e.title,name:e.name,text:t.getter(e.dataTextField)(j),value:k,color:m})}}}}return b},createLayout:function(d){var e=-1;d.rows||(d.rows=[]);for(var f=0;f<d.rows.length;f++)if(d.rows[f].allDay){e=f;break}var g=d.rows[e];e>=0&&d.rows.splice(e,1);var h=this.columnLevels=b(d,"columns"),i=this.rowLevels=b(d,"rows");this.table=a("<table "+c()+' class="k-scheduler-layout k-scheduler-'+this.name+'view"/>');var j=i[i.length-1].length;this.table.append(this._topSection(h,g,j)),this.table.append(this._bottomSection(h,i,j)),this.element.append(this.table),this._scroller()},refreshLayout:function(){for(var b=this,c=b.element.find(">.k-scheduler-toolbar"),d=b.element.innerHeight(),e=this._scrollbar,f=0,g=this._isRtl?"left":"right",h=0;h<c.length;h++)d-=c.eq(h).outerHeight();if(b.datesHeader&&(f=b.datesHeader.outerHeight()),b.timesHeader&&b.timesHeader.outerHeight()>f&&(f=b.timesHeader.outerHeight()),b.datesHeader&&b.timesHeader){var i=b.datesHeader.find("table:first tr");b.timesHeader.find("tr").height(function(b){a(this).height(i.eq(b).height())})}f&&(d-=f),b.footer&&(d-=b.footer.outerHeight());var j=function(a){var b,c;return a[0].style.height?!0:(b=a.height(),a.height("auto"),c=a.height(),b!=c?(a.height(""),!0):(a.height(""),!1))},k=b.content[0],l=t.support.kineticScrollNeeded?0:e;if(j(b.element)){b.content.height(d>2*e?d:2*e+1),b.times.height(k.clientHeight);var m=b.times.find("table");m.length&&m.height(b.content.find("table")[0].clientHeight)}k.offsetWidth-k.clientWidth>0?(b.table.addClass("k-scrollbar-v"),b.datesHeader.css("padding-"+g,l-parseInt(b.datesHeader.children().css("border-"+g+"-width"),10))):b.datesHeader.css("padding-"+g,""),k.offsetHeight-k.clientHeight>0||k.clientHeight>b.content.children(".k-scheduler-table").height()?b.table.addClass("k-scrollbar-h"):b.table.removeClass("k-scrollbar-h")},_topSection:function(b,c,d){this.timesHeader=f(b.length,c,d);var e=b[b.length-1].length;return this.datesHeader=g(b,e,c),a("<tr>").append(this.timesHeader.add(this.datesHeader).wrap("<td>").parent())},_bottomSection:function(b,c,d){return this.times=h(c,d),this.content=i(b[b.length-1],c[c.length-1]),a("<tr>").append(this.times.add(this.content).wrap("<td>").parent())},_scroller:function(){var b=this;this.content.bind("scroll"+x,function(){b.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(this.scrollLeft),b.times.scrollTop(this.scrollTop)});var c=t.touchScroller(this.content,{avoidScrolling:function(b){return a(b.event.target).closest(".k-event.k-event-active").length>0}});c&&c.movable&&(this._touchScroller=c,this.content=c.scrollElement,c.movable.bind("change",function(a){b.datesHeader.find(">.k-scheduler-header-wrap").scrollLeft(-a.sender.x),b.times.scrollTop(-a.sender.y)}))},_resourcesForGroups:function(){var a=[],b=this.options.group,c=this.options.resources;if(b=b&&b.resources?b.resources:[],c&&b.length)for(var d=0,e=c.length;e>d;d++)for(var f=0,g=b.length;g>f;f++)c[d].name===b[f]&&a.push(c[d]);this.groupedResources=a},_createColumnsLayout:function(a,b){return q("columns",a,b)},_groupOrientation:function(){var a=this.options.group;return a&&a.resources?a.orientation:"horizontal"},_isVerticallyGrouped:function(){return this.groupedResources.length&&"vertical"===this._groupOrientation()},_createRowsLayout:function(a,b){return q("rows",a,b)},selectionByElement:function(){return null},clearSelection:function(){this.content.find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},destroy:function(){var a=this;v.fn.destroy.call(this),a.table&&(t.destroy(a.table),a.table.remove()),a.groups=null,a.table=null,a.content=null,a.times=null,a.datesHeader=null,a.timesHeader=null,a.footer=null,a._resizeHint=null,a._moveHint=null},calendarInfo:function(){return t.getCulture().calendars.standard},prevGroupSlot:function(a,b,c){var d,e=this.groups[b],f=e.ranges(a,a,c,!1)[0].start;return 0>=b?void 0:this._isVerticallyGrouped()?e.timeSlotCollectionCount()?(d=e._collection(c?f.index:f.collectionIndex,!1),d.last()):(d=e._collection(e.daySlotCollectionCount()-1,!0),d.at(f.index)):e.timeSlotCollectionCount()?(d=e._collection(c?0:e.timeSlotCollectionCount()-1,c),c?d.last():d.at(f.index)):(d=e._collection(f.collectionIndex,!0),d.last())},nextGroupSlot:function(a,b,c){var d,e,f=this.groups[b],g=f.ranges(a,a,c,!1)[0].start;return b>=this.groups.length-1?void 0:this._isVerticallyGrouped()?f.timeSlotCollectionCount()?(e=f.daySlotCollectionCount(),d=f._collection(e?0:g.collectionIndex,e),c?d.first():d.at(g.collectionIndex)):(d=f._collection(0,!0),d.at(g.index)):f.timeSlotCollectionCount()?(d=f._collection(0,c),c?d.first():d.at(g.index)):(d=f._collection(g.collectionIndex,!0),d.first())}});var J=function(a){var b,c,d,e,f,g=this,h=J.formats;if(1===arguments.length)for(a=g.resolveColor(a),e=0;e<h.length;e++)b=h[e].re,c=h[e].process,d=b.exec(a),d&&(f=c(d),g.r=f[0],g.g=f[1],g.b=f[2]);else g.r=arguments[0],g.g=arguments[1],g.b=arguments[2];g.r=g.normalizeByte(g.r),g.g=g.normalizeByte(g.g),g.b=g.normalizeByte(g.b)};J.prototype={resolveColor:function(a){return a=a||"#000","#"==a.charAt(0)&&(a=a.substr(1,6)),a=a.replace(/ /g,""),a=a.toLowerCase(),a=J.namedColors[a]||a},normalizeByte:function(a){return 0>a||isNaN(a)?0:a>255?255:a},percBrightness:function(){var a=this;return y.sqrt(.241*a.r*a.r+.691*a.g*a.g+.068*a.b*a.b)},isDark:function(){var a=this,b=a.percBrightness();return 180>b}},J.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(a){return[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],J.namedColors={aqua:"00ffff",azure:"f0ffff",beige:"f5f5dc",black:"000000",blue:"0000ff",brown:"a52a2a",coral:"ff7f50",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgray:"a9a9a9",darkgreen:"006400",darkorange:"ff8c00",darkred:"8b0000",dimgray:"696969",fuchsia:"ff00ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lightblue:"add8e6",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumblue:"0000cd",navy:"000080",olive:"808000",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",pink:"ffc0cb",plum:"dda0dd",purple:"800080",red:"ff0000",royalblue:"4169e1",salmon:"fa8072",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",steelblue:"4682b4",tan:"d2b48c",teal:"008080",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};var K=/\s*k-state-selected/;a.extend(u.SchedulerView,{createColumns:n,createRows:o,rangeIndex:l,collidingEvents:k,groupEqFilter:r})}(window.kendo.jQuery),function(a){function b(a){var b=new Date(1980,1,1,0,0,0);return i(b,p(a)),b}function c(a,b,c){return a>=b&&c>=a}function d(a,b,c,d){return d=d?c>=a:c>a,a>b&&d}function e(a,b,c,d){var e=a._continuousEvents,f=e[e.length-1],h=m(b.start.startDate()).getTime();if(d&&f&&m(f.start.startDate()).getTime()==h){for(var i=e.length-1;i>-1&&!(e[i].isAllDay||m(e[i].start.startDate()).getTime()<h);i--);e.splice(i+1,0,{element:c,isAllDay:!0,uid:c.attr(g.attr("uid")),start:b.start,end:b.end})}else e.push({element:c,isAllDay:d,uid:c.attr(g.attr("uid")),start:b.start,end:b.end})}function f(a){var b=[],c=a.workWeekStart;for(b.push(c);a.workWeekEnd!=c;)c>6?c-=7:c++,b.push(c);return b}var g=window.kendo,h=g.ui,i=g.date.setTime,j=h.SchedulerView,k=a.extend,l=a.proxy,m=g.date.getDate,n=g.date.MS_PER_MINUTE,o=g.date.MS_PER_DAY,p=g.date.getMilliseconds,q=".kendoMultiDayView",r=g.template('<div title="(#=kendo.format("{0:t} - {1:t}", start, end)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template k-event-time">#:kendo.format("{0:t} - {1:t}", start, end)#</div><div class="k-event-template">${title}</div></div>'),s=g.template('<div title="(#=kendo.format("{0:t}", start)#): #=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">${title}</div></div>'),t=g.template("<span class='k-link k-nav-day'>#=kendo.toString(date, 'ddd M/dd')#</span>"),u='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color#; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#" #} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span>#if(resizable && !singleDay && !data.tail && !data.middle){#<span class="k-resize-handle k-resize-w"></span>#}##if(resizable && !singleDay && !data.head && !data.middle){#<span class="k-resize-handle k-resize-e"></span>#}#</div>',v='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#" #if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } #</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</span><span class="k-event-top-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-n"></span># } #</span><span class="k-event-bottom-actions"># if(data.head || data.middle) {#<span class="k-icon k-i-arrow-s"></span># } #</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-n"></span># } ## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-s"></span># } #</div>',w=j.extend({init:function(a,b){var c=this;j.fn.init.call(c,a,b),c.title=c.options.title||c.options.name,c._workDays=f(c.options),c._templates(),c._editable(),c.calculateDateRange(),c._groups()},_updateResizeHint:function(a,b,c,d){var e=a.isMultiDay(),f=this.groups[b],h=f.ranges(c,d,e,a.isAllDay);this._removeResizeHint();
for(var i=0;i<h.length;i++){var k=h[i],l=k.startSlot(),m=l.offsetWidth,n=l.clientHeight,o=l.offsetTop;if(e)m=k.innerWidth();else{var p=k.outerRect(c,d,this.options.snap);o=p.top,n=p.bottom-p.top}var q=j.fn._createResizeHint.call(this,l.offsetLeft,o,m,n);this._resizeHint=this._resizeHint.add(q)}var r="t",s=this.content;e&&(r="M/dd",s=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),s.length||(s=this.content)),this._resizeHint.appendTo(s),this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(g.toString(g.timezone.toLocalDate(c),r)),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(g.toString(g.timezone.toLocalDate(d),r))},_updateMoveHint:function(a,b,c){var d=a.isMultiDay(),e=this.groups[b],f=g.date.toUtcTime(a.start)+c,h=f+a.duration(),i=e.ranges(f,h,d,a.isAllDay);f=g.timezone.toLocalDate(f),h=g.timezone.toLocalDate(h),this._removeMoveHint(),!d&&(0===p(h)||p(h)<p(this.startTime()))&&i.length>1&&i.pop();for(var j=0;j<i.length;j++){var k=i[j],l=k.start,m=this._createEventElement(a.clone({start:f,startTime:f,end:h,endTime:h}),!d);m.addClass("k-event-drag-hint");var n={left:l.offsetLeft+2,top:l.offsetTop};if(this._isRtl&&(n.left=.1*l.clientWidth+l.offsetLeft+2),d)n.width=k.innerWidth()-4;else{var o=k.outerRect(f,h,this.options.snap);n.top=o.top,n.height=o.bottom-o.top,n.width=.9*l.clientWidth-4}m.css(n),this._moveHint=this._moveHint.add(m)}var q=this.content;d&&(q=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day) > div"),q.length||(q=this.content)),this._moveHint.appendTo(q)},_slotByPosition:function(a,b){var c,d;this._isVerticallyGrouped()?(d=this.content.offset(),b+=this.content[0].scrollTop,a+=this.content[0].scrollLeft):d=this.element.find(".k-scheduler-header-wrap:has(.k-scheduler-header-all-day)").find(">div").offset(),d&&(a-=d.left,b-=d.top),a=Math.ceil(a),b=Math.ceil(b);var e,f;for(f=0;f<this.groups.length;f++)if(e=this.groups[f],c=e.daySlotByPosition(a,b))return c;for(d&&(a+=d.left,b+=d.top),d=this.content.offset(),a-=d.left,b-=d.top,this._isVerticallyGrouped()||(b+=this.content[0].scrollTop,a+=this.content[0].scrollLeft),a=Math.ceil(a),b=Math.ceil(b),f=0;f<this.groups.length;f++)if(e=this.groups[f],c=e.timeSlotByPosition(a,b))return c;return null},_groupCount:function(){var a=this.groupedResources;return a.length?"vertical"===this._groupOrientation()?this._rowCountForLevel(a.length-1):this._columnCountForLevel(a.length)/this._columnOffsetForResource(a.length):1},_columnCountInResourceView:function(){var a=this.groupedResources;return!a.length||this._isVerticallyGrouped()?this._columnCountForLevel(0):this._columnOffsetForResource(a.length)},_timeSlotGroups:function(a,b){var c=this._timeSlotInterval(),d=this.content.find("tr:not(.k-scheduler-header-all-day)");d.attr("role","row");var e=d.length;this._isVerticallyGrouped()&&(e=Math.floor(e/a));for(var f=0;a>f;f++){var g=0;this._isVerticallyGrouped()&&(g=f);var h,i=g*e,j=0;for(this._isVerticallyGrouped()||(j=f);(g+1)*e>i;){var k=d[i].children,l=this.groups[f];i%e===0&&(h=p(new Date(+this.startTime())));for(var m=j*b;(j+1)*b>m;m++){var n=k[m],o=m%b,q=l.getTimeSlotCollection(o),r=this._dates[o],s=Date.UTC(r.getFullYear(),r.getMonth(),r.getDate()),t=s+h,u=t+c;n.setAttribute("role","gridcell"),n.setAttribute("aria-selected",!1),q.addTimeSlot(n,t,u)}h+=c,i++}}},_daySlotGroups:function(a,b){var c;c=this.element.find(this._isVerticallyGrouped()?".k-scheduler-header-all-day":".k-scheduler-header-all-day tr"),c.attr("role","row");for(var d=0;a>d;d++){var e=0;this._isVerticallyGrouped()&&(e=d);var f=this.groups[d],h=f.getDaySlotCollection(0),i=c[e].children,j=0;this._isVerticallyGrouped()||(j=d);for(var k=0,l=j*b;(j+1)*b>l;l++){var m=i[l];l%b===0&&(k=0);var n=g.date.addDays(this.startDate(),k),o=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate());k++,m.setAttribute("role","gridcell"),m.setAttribute("aria-selected",!1),h.addDaySlot(m,o,o+g.date.MS_PER_DAY)}}},_groups:function(){var a=this._groupCount(),b=this._columnCountInResourceView();this.groups=[];for(var c=0;a>c;c++){for(var d=this._addResourceView(c),e=0;b>e;e++)d.addTimeSlotCollection(this._dates[e],g.date.addDays(this._dates[e],1));this.options.allDaySlot&&d.addDaySlotCollection(this._dates[0],this._dates[this._dates.length-1])}this._timeSlotGroups(a,b),this.options.allDaySlot&&this._daySlotGroups(a,b)},options:{name:"MultiDayView",selectedDateFormat:"{0:D}",allDaySlot:!0,showWorkHours:!1,title:"",startTime:g.date.today(),endTime:g.date.today(),minorTickCount:2,majorTick:60,majorTimeHeaderTemplate:"#=kendo.toString(date, 't')#",minorTimeHeaderTemplate:"&nbsp;",slotTemplate:"&nbsp;",allDaySlotTemplate:"&nbsp;",eventTemplate:r,allDayEventTemplate:s,dateHeaderTemplate:t,editable:!0,workDayStart:new Date(1980,1,1,8,0,0),workDayEnd:new Date(1980,1,1,17,0,0),workWeekStart:1,workWeekEnd:5,footer:{command:"workDay"},messages:{allDay:"all day",showFullDay:"Show full day",showWorkDay:"Show business hours"}},events:["remove","add","edit"],_templates:function(){var a=this.options,b=k({},g.Template,a.templateSettings);this.eventTemplate=this._eventTmpl(a.eventTemplate,v),this.allDayEventTemplate=this._eventTmpl(a.allDayEventTemplate,u),this.majorTimeHeaderTemplate=g.template(a.majorTimeHeaderTemplate,b),this.minorTimeHeaderTemplate=g.template(a.minorTimeHeaderTemplate,b),this.dateHeaderTemplate=g.template(a.dateHeaderTemplate,b),this.slotTemplate=g.template(a.slotTemplate,b),this.allDaySlotTemplate=g.template(a.allDaySlotTemplate,b)},_editable:function(){this.options.editable&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var b=this;b.element.on("click"+q,".k-event a:has(.k-si-close)",function(c){b.trigger("remove",{uid:a(this).closest(".k-event").attr(g.attr("uid"))}),c.preventDefault()}),b.options.editable.create!==!1&&b.element.on("dblclick"+q,".k-scheduler-content td",function(c){if(!a(this).parent().hasClass("k-scheduler-header-all-day")){var d=b._slotByPosition(c.pageX,c.pageY);if(d){var e=b._resourceBySlot(d);b.trigger("add",{eventInfo:k({start:d.startDate(),end:d.endDate()},e)})}c.preventDefault()}}).on("dblclick"+q,".k-scheduler-header-all-day td",function(a){var c=b._slotByPosition(a.pageX,a.pageY);if(c){var d=b._resourceBySlot(c);b.trigger("add",{eventInfo:k({},{isAllDay:!0,start:g.date.getDate(c.startDate()),end:g.date.getDate(c.startDate())},d)})}a.preventDefault()}),b.options.editable.update!==!1&&b.element.on("dblclick"+q,".k-event",function(c){b.trigger("edit",{uid:a(this).closest(".k-event").attr(g.attr("uid"))}),c.preventDefault()})},_touchEditable:function(){var b=this;b.options.editable.create!==!1&&(b._addUserEvents=new g.UserEvents(b.element,{filter:".k-scheduler-content td",tap:function(c){if(!a(c.target).parent().hasClass("k-scheduler-header-all-day")){var d=b._slotByPosition(c.x.location,c.y.location);if(d){var e=b._resourceBySlot(d);b.trigger("add",{eventInfo:k({start:d.startDate(),end:d.endDate()},e)})}c.preventDefault()}}}),b._allDayUserEvents=new g.UserEvents(b.element,{filter:".k-scheduler-header-all-day td",tap:function(a){var c=b._slotByPosition(a.x.location,a.y.location);if(c){var d=b._resourceBySlot(c);b.trigger("add",{eventInfo:k({},{isAllDay:!0,start:g.date.getDate(c.startDate()),end:g.date.getDate(c.startDate())},d)})}a.preventDefault()}})),b.options.editable.update!==!1&&(b._editUserEvents=new g.UserEvents(b.element,{filter:".k-event",tap:function(c){var d=a(c.target).closest(".k-event");d.hasClass("k-event-active")||b.trigger("edit",{uid:d.attr(g.attr("uid"))}),c.preventDefault()}}))},_layout:function(a){for(var b=[],c=[],d=this.options,e=this,f=0;f<a.length;f++){var h={};h.text=e.dateHeaderTemplate({date:a[f]}),g.date.isToday(a[f])&&(h.className="k-today"),b.push(h)}var i=this.groupedResources;return d.allDaySlot&&c.push({text:d.messages.allDay,allDay:!0,cellContent:function(b){var c=b;return b=i.length&&"vertical"!==e._groupOrientation()?b%a.length:b,e.allDaySlotTemplate({date:a[b],resources:function(){return e._resourceBySlot({groupIndex:c})}})}}),this._forTimeRange(this.startTime(),this.endTime(),function(a,b,d,f){var g=b?e.majorTimeHeaderTemplate:e.minorTimeHeaderTemplate,h={text:g({date:a}),className:f?"k-slot-cell":""};c.push(h)}),i.length&&("vertical"===this._groupOrientation()?c=this._createRowsLayout(i,c):b=this._createColumnsLayout(i,b)),{columns:b,rows:c}},_footer:function(){var b=this.options;if(b.footer!==!1){var c='<div class="k-header k-scheduler-footer">',d=b.footer.command;d&&"workDay"===d?(c+='<ul class="k-reset k-header k-toolbar">',c+='<li class="k-state-default k-scheduler-fullday"><a href="#" class="k-link"><span class="k-icon k-i-clock"></span>',c+=(b.showWorkHours?b.messages.showFullDay:b.messages.showWorkDay)+"</a></li>",c+="</ul>"):c+="&nbsp;",c+="</div>",this.footer=a(c).appendTo(this.element);var e=this;this.footer.on("click"+q,".k-scheduler-fullday",function(a){a.preventDefault(),e.trigger("navigate",{view:e.name||b.name,date:e.startDate(),isWorkDay:!b.showWorkHours})})}},_forTimeRange:function(a,c,d,e){a=b(a),c=b(c);var f,g,h=this,j=p(a),k=p(c),l=h.options.minorTickCount,m=h.options.majorTick*n,q=m/l||1,r=new Date(+a),s=r.getDate(),t=0,u="";for(g=o/q,j!=k&&(j>k&&(k+=o),g=(k-j)/q),g=Math.round(g);g>t;t++){var v=t%(m/q),w=0===v,x=l-1>v,y=v===l-1;u+=d(r,w,x,y),i(r,q,!1)}return k&&(f=p(r),s<r.getDate()&&(f+=o),f>k&&(r=new Date(+c))),e&&(u+=e(r)),u},_content:function(a){var b,c=this,d=c.options,e=c.startTime(),f=this.endTime(),h=1,i=1,j=a.length,k="",l=this.groupedResources,m=this.slotTemplate,n=this.allDaySlotTemplate,o=!1;l.length&&(o="vertical"===c._groupOrientation(),o?(i=this._rowCountForLevel(this.rowLevels.length-2),d.allDaySlot&&(b=function(b){for(var d='<tr class="k-scheduler-header-all-day">',e=function(){return c._resourceBySlot({groupIndex:b})},f=0,g=a.length;g>f;f++)d+="<td>"+n({date:a[f],resources:e})+"</td>";return d+"</tr>"})):h=this._columnCountForLevel(this.columnLevels.length-2)),k+="<tbody>";for(var p=function(b,d){var e,f,i,k="",l="",n=0;k="<tr"+(d?' class="k-middle-row"':"")+">";for(var p=function(a){return function(){return c._resourceBySlot({groupIndex:a})}};h>n;n++)for(e=0,f=j;f>e;e++)l="",g.date.isToday(a[e])&&(l+="k-today"),(g.date.getMilliseconds(b)<g.date.getMilliseconds(c.options.workDayStart)||g.date.getMilliseconds(b)>=g.date.getMilliseconds(c.options.workDayEnd)||!c._isWorkDay(a[e]))&&(l+=" k-nonwork-hour"),k+="<td"+(""!==l?' class="'+l+'"':"")+">",i=g.date.getDate(a[e]),g.date.setTime(i,g.date.getMilliseconds(b)),k+=m({date:i,resources:p(o?q:n)}),k+="</td>";return k+="</tr>"},q=0;i>q;q++)k+=b?b(q):"",k+=this._forTimeRange(e,f,p);k+="</tbody>",this.content.find("table").append(k)},_isWorkDay:function(a){for(var b=a.getDay(),c=this._workDays,d=0;d<c.length;d++)if(c[d]===b)return!0;return!1},_render:function(b){var c=this;b=b||[],this._dates=b,this._startDate=b[0],this._endDate=b[b.length-1||0],this.createLayout(this._layout(b)),this._content(b),this._footer(),this.refreshLayout();var d=this.element.find(".k-scheduler-header-all-day td");d.length&&(this._allDayHeaderHeight=d.first()[0].clientHeight),c.datesHeader.on("click"+q,".k-nav-day",function(b){var d=a(b.currentTarget).closest("th"),e=d.offset(),f=c._slotByPosition(e.left,e.top+d.outerHeight());c.trigger("navigate",{view:"day",date:f.startDate()})})},startTime:function(){var a=this.options;return a.showWorkHours?a.workDayStart:a.startTime},endTime:function(){var a=this.options;return a.showWorkHours?a.workDayEnd:a.endTime},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_end:function(a){var b=p(this.endTime())||o;return a&&(b=0),new Date(this._endDate.getTime()+b)},nextDate:function(){return g.date.nextDay(this.endDate())},previousDate:function(){return g.date.previousDay(this.startDate())},calculateDateRange:function(){this._render([this.options.date])},destroy:function(){var a=this;a.datesHeader&&a.datesHeader.off(q),a.element&&a.element.off(q),a.footer&&a.footer.remove(),j.fn.destroy.call(this),this._isMobile()&&a.options.editable&&(a.options.editable.create!==!1&&(a._addUserEvents.destroy(),a._allDayUserEvents.destroy()),a.options.editable.update!==!1&&a._editUserEvents.destroy())},inRange:function(a){var b=j.fn.inRange.call(this,a),c=p(this.startTime()),d=p(this.endTime())||g.date.MS_PER_DAY,e=p(a.start),f=p(a.end)||g.date.MS_PER_DAY;return b&&e>=c&&d>=f},selectionByElement:function(a){var b=a.offset();return this._slotByPosition(b.left,b.top)},_timeSlotInterval:function(){var a=this.options;return a.majorTick/a.minorTickCount*n},_timeSlotIndex:function(a){var b=this.options,c=p(a),d=p(this.startTime()),e=b.majorTick/b.minorTickCount*n;return(c-d)/e},_slotIndex:function(a,b){return b?this._dateSlotIndex(a):this._timeSlotIndex(a)},_dateSlotIndex:function(a,b){var d,e,f,h,i=this._dates||[],j=1;for(d=0,e=i.length;e>d;d++)if(f=g.date.getDate(i[d]),h=new Date(g.date.getDate(i[d]).getTime()+o-(b?0:1)),c(a,f,h))return d*j;return-1},_positionAllDayEvent:function(b,c){var d=c.innerWidth(),e=c.start.index,f=c.end.index,g=j.collidingEvents(c.events(),e,f),h=this._headerColumnCount||0,i=2,k=e!==f?5:4,l=this._allDayHeaderHeight,m=c.startSlot();b.css({left:m.offsetLeft+i,width:d-k}),c.addEvent({slotIndex:e,start:e,end:f,element:b}),g.push({slotIndex:e,start:e,end:f,element:b});var n=j.createRows(g);n.length&&n.length>h&&(this._headerColumnCount=n.length);for(var o=c.start.offsetTop,p=0,q=n.length;q>p;p++)for(var r=n[p].events,s=0,t=r.length;t>s;s++)a(r[s].element).css({top:o+p*l})},_arrangeColumns:function(a,b,c,d){var e=d.start;a={element:a,slotIndex:e.index,start:b,end:b+c};var f,g,h=e.clientWidth,i=.1*h,k=d.events(),l=j.collidingEvents(k,a.start,a.end);d.addEvent(a),l.push(a),f=j.createColumns(l);for(var m=(h-i)/f.length,n=0,o=f.length;o>n;n++){g=f[n].events;for(var p=0,q=g.length;q>p;p++)g[p].element[0].style.width=m-4+"px",g[p].element[0].style.left=(this._isRtl?i:0)+e.offsetLeft+n*m+2+"px"}},_positionEvent:function(a,b,c){var d=a.start,e=a.end;a.startTime&&(d=g.date.getMilliseconds(a.startTime)+g.date.toUtcTime(g.date.getDate(a.start))),a.endTime&&(e=g.date.getMilliseconds(a.endTime)+g.date.toUtcTime(g.date.getDate(a.end)));var f=c.innerRect(d,e,!1),h=f.bottom-f.top-2;0>h&&(h=0),b.css({top:f.top,height:h}),this._arrangeColumns(b,f.top,b[0].clientHeight,c)},_eventTmpl:function(a,b){var c=this.options,d=k({},g.Template,c.templateSettings),e=d.paramName,f="",h=typeof a,i={storage:{},count:0};"function"===h?(i.storage["tmpl"+i.count]=a,f+="#=this.tmpl"+i.count+"("+e+")#",i.count++):"string"===h&&(f+=a);var j=g.template(g.format(b,f),d);return i.count>0&&(j=l(j,i.storage)),j},_createEventElement:function(b,d,e,f){var h,i=d?this.eventTemplate:this.allDayEventTemplate,j=this.options,l=j.editable,n=this._isMobile(),q=l&&l.destroy!==!1&&!n,r=l&&l.resize!==!1,s=m(this.startDate()),t=m(this.endDate()),u=p(this.startTime()),v=p(this.endTime()),w=p(b.startTime||b.start),x=p(b.endTime||b.end);u>=v&&(v=p(new Date(this.endTime().getTime()+o-1))),d||b.isAllDay||(t=new Date(t.getTime()+o));var y=b.end;b.isAllDay&&(y=m(b.end)),!c(m(b.start),s,t)&&!c(y,s,t)||d&&u>w&&x>v?h=!0:m(b.start)<s||d&&u>w?f=!0:(y>t&&!d||d&&x>v)&&(e=!0);var z=this.eventResources(b);return a(i(k({},{ns:g.ns,resizable:r,showDelete:q,middle:h,head:e,tail:f,singleDay:1==this._dates.length,resources:z,inverseColor:z&&z[0]?this._shouldInverseResourceColor(z[0]):!1},b,{start:b.startTime||b.start,end:b.endTime||b.end})))},_isInTimeSlot:function(a){var b=this.startTime(),c=this.endTime(),e=a.startTime||a.start,f=a.endTime||a.end;if(p(c)===p(g.date.getDate(c))&&(c=g.date.getDate(c),i(c,o-1)),g.date.getDate(f)>g.date.getDate(e)&&(f=g.date.getDate(f),i(f,o-1)),f=p(f),e=p(e),c=p(c),b=p(b),b===e&&e===f)return!0;var h=e!==c;return d(e,b,c,h)||d(f,b,c,h)||d(b,e,f)||d(c,e,f)},_isInDateSlot:function(a){var b=this.groups[0],d=b.firstSlot().start,e=b.lastSlot().end-1,f=g.date.toUtcTime(a.start),h=g.date.toUtcTime(a.end);return(c(f,d,e)||c(h,d,e)||c(d,f,h)||c(e,f,h))&&(!c(h,d,d)||c(h,f,f)||a.isAllDay)},_updateAllDayHeaderHeight:function(a){if(this._height!==a){this._height=a;var b=this.element.find(".k-scheduler-header-all-day td");if(b.length){b.parent().add(this.element.find(".k-scheduler-times-all-day").parent()).height(a);for(var c=0;c<this.groups.length;c++)this.groups[c].refresh()}}},_renderEvents:function(a,b){var c,d,f,g=this.datesHeader.find(".k-scheduler-header-wrap > div");for(d=0,f=a.length;f>d;d++)if(c=a[d],this._isInDateSlot(c)){var h,i,j,k=c.isAllDay||c.end.getTime()-c.start.getTime()>=o,l=k&&!this._isVerticallyGrouped()?g:this.content;if(k)this.options.allDaySlot&&(j=this.groups[b],j._continuousEvents||(j._continuousEvents=[]),i=j.slotRanges(c),h=this._createEventElement(c,!k),this._positionAllDayEvent(h,i[0]),e(j,i[0],h,!0),h.appendTo(l));else if(this._isInTimeSlot(c)){j=this.groups[b],j._continuousEvents||(j._continuousEvents=[]),i=j.slotRanges(c);for(var m=i.length,n=0;m>n;n++){var p=i[n],q=c.start,r=c.end;m>1&&(0===n?r=p.end.endDate():n==m-1?q=p.start.startDate():(q=p.start.startDate(),r=p.end.endDate()));var s=c.clone({start:q,end:r,startTime:c.startTime,endTime:c.endTime});if(this._isInTimeSlot(s)){var t=p.head;h=this._createEventElement(c,!k,t,p.tail),h.appendTo(l),this._positionEvent(s,h,p),e(j,p,h,!1)}}}}},render:function(b){this._headerColumnCount=0,this._groups(),this.element.find(".k-event").remove(),b=new g.data.Query(b).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var d=[];this._eventsByResource(b,this.groupedResources,d);var e=a.map(this._dates,function(b){return Math.max.apply(null,a.map(d,function(d){return a.grep(d,function(a){return a.isMultiDay()&&c(b,a.start,a.end)}).length}))}),f=Math.max.apply(null,e);this._updateAllDayHeaderHeight((f+1)*this._allDayHeaderHeight);for(var h=0;h<d.length;h++)this._renderEvents(d[h],h);this.refreshLayout(),this.trigger("activate")},_eventsByResource:function(a,b,c){var d=b[0];if(d)for(var e=d.dataSource.view(),f=0;f<e.length;f++){var h=this._resourceValue(d,e[f]),i=new g.data.Query(a).filter({field:d.field,operator:j.groupEqFilter(h)}).toArray();b.length>1?this._eventsByResource(i,b.slice(1),c):c.push(i)}else c.push(a)},_columnOffsetForResource:function(a){return this._columnCountForLevel(a)/this._columnCountForLevel(a-1)},_columnCountForLevel:function(a){var b=this.columnLevels[a];return b?b.length:0},_rowCountForLevel:function(a){var b=this.rowLevels[a];return b?b.length:0},clearSelection:function(){this.content.add(this.datesHeader).find(".k-state-selected").removeAttr("id").attr("aria-selected",!1).removeClass("k-state-selected")},_updateDirection:function(a,b,c,d,e){var f=a.isAllDay,g=b[0].start,h=b[b.length-1].end;c&&(e?f||g.index!==h.index||g.collectionIndex!==h.collectionIndex||(a.backward=d):(f&&g.index===h.index||!f&&g.collectionIndex===h.collectionIndex)&&(a.backward=d))},_changeViewPeriod:function(a,b,c){if(!c){var d=b?this.previousDate():this.nextDate(),e=a.start,f=a.end;a.start=new Date(d),a.end=new Date(d);var g=a.isAllDay?o:p(f);return i(a.start,p(e)),i(a.end,g),this._isVerticallyGrouped()||(a.groupIndex=b?this.groups.length-1:0),a.events=[],!0}}});k(!0,h,{MultiDayView:w,DayView:w.extend({options:{title:"Day"},name:"day"}),WeekView:w.extend({options:{title:"Week",selectedDateFormat:"{0:D} - {1:D}"},name:"week",calculateDateRange:function(){var a,b,c=this.options.date,d=g.date.dayOfWeek(c,this.calendarInfo().firstDay,-1),e=[];for(a=0,b=7;b>a;a++)e.push(d),d=g.date.nextDay(d);this._render(e)}}),WorkWeekView:w.extend({options:{title:"Work Week",selectedDateFormat:"{0:D} - {1:D}"},name:"workweek",nextDate:function(){return g.date.dayOfWeek(g.date.nextDay(this.endDate()),this.options.workWeekStart,1)},previousDate:function(){return g.date.previousDay(this.startDate())},calculateDateRange:function(){for(var a=this.options.date,b=g.date.dayOfWeek(a,this.options.workWeekStart,-1),c=g.date.dayOfWeek(b,this.options.workWeekEnd,1),d=[];c>=b;)d.push(b),b=g.date.nextDay(b);this._render(d)}})})}(window.kendo.jQuery),function(a){function b(a){for(var b=0,c=0,d=a.length;d>c;c++)b+=a[c].items.length;return b}function c(a,b){return a.valuePrimitive&&(b=f.getter(a.dataValueField)(b)),b}function d(a){for(var b,c=0,d=a.length,f=[];d>c;c++)b=a[c],b.groups?(b=e(b.groups),f=f.concat(b)):f=f.concat(e(b.items));return f}function e(a){for(var b=[].concat(a),c=b.shift(),d=[],e=[].push;c;)c.groups?e.apply(b,c.groups):c.items?e.apply(b,c.items):e.call(d,c),c=b.shift();return d}var f=window.kendo,g=f.ui,h=".kendoAgendaView";g.AgendaView=g.SchedulerView.extend({init:function(b,c){g.SchedulerView.fn.init.call(this,b,c),c=this.options,c.editable&&(c.editable=a.extend({"delete":!0},c.editable,{create:!1,update:!1})),this.title=c.title,this.name="agenda",this._eventTemplate=f.template(c.eventTemplate),this._dateTemplate=f.template(c.eventDateTemplate),this._groupTemplate=f.template(c.eventGroupTemplate),this._timeTemplate=f.template(c.eventTimeTemplate),this.element.on("mouseenter"+h,".k-scheduler-agenda .k-scheduler-content tr","_mouseenter").on("mouseleave"+h,".k-scheduler-agenda .k-scheduler-content tr","_mouseleave").on("click"+h,".k-scheduler-agenda .k-scheduler-content .k-link:has(.k-si-close)","_remove"),this._renderLayout(c.date)},_mouseenter:function(b){a(b.currentTarget).addClass("k-state-hover")},_mouseleave:function(b){a(b.currentTarget).removeClass("k-state-hover")},_remove:function(b){b.preventDefault(),this.trigger("remove",{uid:a(b.currentTarget).closest(".k-task").attr(f.attr("uid"))})},nextDate:function(){return f.date.nextDay(this.startDate())},startDate:function(){return this._startDate},endDate:function(){return this._endDate},previousDate:function(){return f.date.previousDay(this.startDate())},_renderLayout:function(a){this._startDate=a,this._endDate=f.date.addDays(a,7),this.createLayout(this._layout()),this.table.addClass("k-scheduler-agenda")},_layout:function(){var a=[{text:this.options.messages.time,className:"k-scheduler-timecolumn"},{text:this.options.messages.event}];this._isMobilePhoneView()||a.splice(0,0,{text:this.options.messages.date,className:"k-scheduler-datecolumn"});var b=this.groupedResources;if(b.length){for(var c=[],d=0;d<b.length;d++)c.push({text:"",className:"k-scheduler-groupcolumn"});a=c.concat(a)}return{columns:a}},_tasks:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=d.start,g=d.end,h=(f.date.getDate(g)-f.date.getDate(e))/f.date.MS_PER_DAY+1,i=d.clone();if(i.startDate=f.date.getDate(e),i.startDate>=this.startDate()&&b.push(i),h>1){i.end=f.date.nextDay(e),i.head=!0;for(var j=1;h>j;j++)e=i.end,i=d.clone(),i.start=e,i.startDate=f.date.getDate(e),i.end=f.date.nextDay(e),j==h-1?(i.end=new Date(i.start.getFullYear(),i.start.getMonth(),i.start.getDate(),g.getHours(),g.getMinutes(),g.getSeconds(),g.getMilliseconds()),i.tail=!0):(i.isAllDay=!0,i.middle=!0),i.end<=this.endDate()&&i.start>=this.startDate()&&b.push(i)}}return new f.data.Query(b).sort([{field:"start",dir:"asc"},{field:"end",dir:"asc"}]).groupBy({field:"startDate"}).toArray()},_renderTaskGroups:function(a,b){for(var c=[],d=this.options.editable,e=d&&d.destroy!==!1&&!this._isMobile(),g=this._isMobilePhoneView(),h=0;h<a.length;h++)for(var i=a[h].value,j=a[h].items,k=f.date.isToday(i),l=0;l<j.length;l++){var m=j[l],n=[],o=g?[]:n;if(0===h&&0===l&&b.length)for(var p=0;p<b.length;p++)o.push(f.format('<td class="k-scheduler-groupcolumn{2}" rowspan="{0}">{1}</td>',b[p].rowSpan,this._groupTemplate({value:b[p].text}),b[p].className));0===l&&(g?(o.push(f.format('<td class="k-scheduler-datecolumn" colspan="2">{0}</td>',this._dateTemplate({date:i}))),c.push('<tr role="row" aria-selected="false"'+(k?' class="k-today">':">")+o.join("")+"</tr>")):n.push(f.format('<td class="k-scheduler-datecolumn{3}{2}" rowspan="{0}">{1}</td>',j.length,this._dateTemplate({date:i}),h!=a.length-1||b.length?"":" k-last",b.length?"":" k-first"))),m.format=m.head?"{0:t}":m.tail?"{1:t}":"{0:t}-{1:t}",m.resources=this.eventResources(m),n.push(f.format('<td class="k-scheduler-timecolumn"><div>{0}{1}{2}</div></td><td>{3}</td>',m.tail||m.middle?'<span class="k-icon k-i-arrow-w"></span>':"",this._timeTemplate(m.clone({start:m.startTime||m.start,end:m.endTime||m.end})),m.head||m.middle?'<span class="k-icon k-i-arrow-e"></span>':"",this._eventTemplate(m.clone({showDelete:e})))),c.push('<tr role="row" aria-selected="false"'+(k?' class="k-today">':">")+n.join("")+"</tr>")}return c.join("")},render:function(a){var b=this.content.find("table").empty(),c=[];if(a.length>0){var e=this.groupedResources;e.length?(c=this._createGroupConfiguration(a,e,null),this._renderGroups(c,b,[])):(c=this._tasks(a),b.append(this._renderTaskGroups(c,[])))}this._eventsList=d(c),this.refreshLayout(),this.trigger("activate")},_renderGroups:function(a,b,c){for(var d=0,e=a.length;e>d;d++){var f=c.splice(0);f.push(a[d]),a[d].groups?this._renderGroups(a[d].groups,b,f):b.append(this._renderTaskGroups(a[d].items,f))}},_createGroupConfiguration:function(a,d,e){for(var h=d[0],i=[],j=h.dataSource.view(),k=this._isMobilePhoneView(),l=0;l<j.length;l++){var m=c(h,j[l]),n=new f.data.Query(a).filter({field:h.field,operator:g.SchedulerView.groupEqFilter(m)}).toArray();if(n.length){var o=this._tasks(n),p=e?"":" k-first";l===j.length-1&&(!e||e.className.indexOf("k-last")>-1)&&(p+=" k-last");var q={text:f.getter(h.dataTextField)(j[l]),value:m,rowSpan:0,className:p};if(d.length>1)q.groups=this._createGroupConfiguration(n,d.slice(1),q),e&&(e.rowSpan+=q.rowSpan);else{q.items=o;var r=b(q.items);k&&(r+=q.items.length),q.rowSpan=r,e&&(e.rowSpan+=r)}i.push(q)}}return i},selectionByElement:function(b){if(b=a(b),!b.hasClass("k-scheduler-datecolumn")){var c=b.parent().index(),d=this._eventsList[c];return{index:c,start:d.start,end:d.end,isAllDay:d.isAllDay,uid:d.uid}}},select:function(a){this.clearSelection();var b=this.table.find(".k-task").eq(a.index).closest("tr").addClass("k-state-selected").attr("aria-selected",!0)[0];this.current(b)},move:function(a,b){var c=!1,d=a.index;if(b==f.keys.UP?(d--,c=!0):b==f.keys.DOWN&&(d++,c=!0),c){var e=this._eventsList[d];e&&(a.start=e.start,a.end=e.end,a.isAllDay=e.isAllDay,a.events=[e.uid],a.index=d)}return c},moveToEvent:function(){return!1},constrainSelection:function(a){var b=this._eventsList[0];b&&(a.start=b.start,a.end=b.end,a.isAllDay=b.isAllDay,a.events=[b.uid],a.index=0)},isInRange:function(){return!0},destroy:function(){this.element&&this.element.off(h),g.SchedulerView.fn.destroy.call(this)},options:{title:"Agenda",name:"agenda",editable:!0,selectedDateFormat:"{0:D}-{1:D}",eventTemplate:'<div class="k-task" title="#:title.replace(/"/g,"\'")#" data-#=kendo.ns#uid="#=uid#"># if (resources[0]) {#<span class="k-scheduler-mark" style="background-color:#=resources[0].color#"></span># } ## if (data.isException()) { #<span class="k-icon k-i-exception"></span># } else if (data.isRecurring()) {#<span class="k-icon k-i-refresh"></span># } ##:title##if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}#</div>',eventTimeTemplate:"#if(data.isAllDay) {#all day#} else { ##=kendo.format(format, start, end)## } #",eventDateTemplate:'<strong class="k-scheduler-agendaday">#=kendo.toString(date, "dd")#</strong><em class="k-scheduler-agendaweek">#=kendo.toString(date,"dddd")#</em><span class="k-scheduler-agendadate">#=kendo.toString(date, "y")#</span>',eventGroupTemplate:'<strong class="k-scheduler-adgendagroup">#=value#</strong>',messages:{event:"Event",date:"Date",time:"Time"}}})}(window.kendo.jQuery),function(a){function b(a,b){return a.slice(b).concat(a.slice(0,b))}function c(a,b){for(var c=b.firstDay,d=new Date(a.getFullYear(),a.getMonth(),0,a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds());d.getDay()!=c;)e.date.setTime(d,-1*l);return d}function d(a,b,c){var d,e=b,f=c;return d=a,d>=e&&f>=d}var e=window.kendo,f=e.ui,g=f.SchedulerView,h=".kendoMonthView",i=a.extend,j=a.proxy,k=e.date.getDate,l=e.date.MS_PER_DAY,m=6,n=7,o=e.template('<span class="k-link k-nav-day">#:kendo.toString(date, "dd")#</span>'),p='<div role="gridcell" aria-selected="false" data-#=ns#uid="#=uid#"#if (resources[0]) { #style="background-color:#=resources[0].color #; border-color: #=resources[0].color#"class="k-event#=inverseColor ? " k-event-inverse" : ""#"#} else {#class="k-event"#}#><span class="k-event-actions"># if(data.tail || data.middle) {#<span class="k-icon k-i-arrow-w"></span>#}## if(data.isException()) {#<span class="k-icon k-i-exception"></span># } else if(data.isRecurring()) {#<span class="k-icon k-i-refresh"></span>#}#</span>{0}<span class="k-event-actions">#if (showDelete) {#<a href="\\#" class="k-link k-event-delete"><span class="k-icon k-si-close"></span></a>#}## if(data.head || data.middle) {#<span class="k-icon k-i-arrow-e"></span>#}#</span># if(resizable && !data.tail && !data.middle) {#<span class="k-resize-handle k-resize-w"></span>#}## if(resizable && !data.head && !data.middle) {#<span class="k-resize-handle k-resize-e"></span>#}#</div>',q=e.template('<div title="#=title.replace(/"/g,"&\\#34;")#"><div class="k-event-template">#:title#</div></div>'),r=e.template('<div style="width:#=width#px;left:#=left#px;top:#=top#px" class="k-more-events k-button"><span>...</span></div>');f.MonthView=g.extend({init:function(a,b){var c=this;g.fn.init.call(c,a,b),c.title=c.options.title,c.name="month",c._templates(),c._editable(),c._renderLayout(c.options.date),c._groups()},_updateDirection:function(a,b,c,d,e){if(c){var f,g=b[0].start,h=b[b.length-1].end,i=g.index===h.index,j=g.collectionIndex===h.collectionIndex;f=e?i&&j||j:i&&j,f&&(a.backward=d)}},_changeViewPeriod:function(a,b,c){var d=c?7:1;return b&&(d*=-1),a.start=e.date.addDays(a.start,d),a.end=e.date.addDays(a.end,d),(!c||c&&this._isVerticallyGrouped())&&(a.groupIndex=b?this.groups.length-1:0),a.events=[],!0},_continuousSlot:function(a,b,c){var d=a.backward?0:b.length-1,e=this.groups[a.groupIndex];return e.continuousSlot(b[d].start,c)},_changeGroupContinuously:function(a,b,c,d){if(!c){var e=a.groupIndex,f=this.groups.length-1,g=this._isVerticallyGrouped(),h=this.groups[e];!b&&g?(b=h[d?"lastSlot":"firstSlot"](),e+=d?-1:1):b&&!g&&(e=d?f:0),(0>e||e>f)&&(e=d?f:0,b=null),a.groupIndex=e}return b},_normalizeHorizontalSelection:function(a,b,c){var d;return d=c?b[0].start:b[b.length-1].end},_normalizeVerticalSelection:function(a,b){var c;return c=a.backward?b[0].start:b[b.length-1].end},_templates:function(){var a=this.options,b=i({},e.Template,a.templateSettings);this.eventTemplate=this._eventTmpl(a.eventTemplate),this.dayTemplate=e.template(a.dayTemplate,b)},dateForTitle:function(){return e.format(this.options.selectedDateFormat,this._firstDayOfMonth,this._lastDayOfMonth)},nextDate:function(){return e.date.nextDay(this._lastDayOfMonth)},previousDate:function(){return e.date.previousDay(this._firstDayOfMonth)},startDate:function(){return this._startDate},endDate:function(){return this._endDate},_renderLayout:function(b){var d=this;this._firstDayOfMonth=e.date.firstDayOfMonth(b),this._lastDayOfMonth=e.date.lastDayOfMonth(b),this._startDate=c(b,this.calendarInfo()),this.createLayout(this._layout()),this._content(),this.refreshLayout(),this.content.on("click"+h,".k-nav-day,.k-more-events",function(b){var c=a(b.currentTarget).offset(),e=d._slotByPosition(c.left,c.top);b.preventDefault(),d.trigger("navigate",{view:"day",date:e.startDate()})})},_editable:function(){this.options.editable&&!this._isMobilePhoneView()&&(this._isMobile()?this._touchEditable():this._mouseEditable())},_mouseEditable:function(){var b=this;b.element.on("click"+h,".k-scheduler-monthview .k-event a:has(.k-si-close)",function(c){b.trigger("remove",{uid:a(this).closest(".k-event").attr(e.attr("uid"))}),c.preventDefault()}),b.options.editable.create!==!1&&b.element.on("dblclick"+h,".k-scheduler-monthview .k-scheduler-content td",function(c){var d=a(c.currentTarget).offset(),e=b._slotByPosition(d.left,d.top);
if(e){var f=b._resourceBySlot(e);b.trigger("add",{eventInfo:i({isAllDay:!0,start:e.startDate(),end:e.startDate()},f)})}c.preventDefault()}),b.options.editable.update!==!1&&b.element.on("dblclick"+h,".k-scheduler-monthview .k-event",function(c){b.trigger("edit",{uid:a(this).closest(".k-event").attr(e.attr("uid"))}),c.preventDefault()})},_touchEditable:function(){var b=this;b.options.editable.create!==!1&&(b._addUserEvents=new e.UserEvents(b.element,{filter:".k-scheduler-monthview .k-scheduler-content td",tap:function(c){var d=a(c.target).offset(),e=b._slotByPosition(d.left,d.top);if(e){var f=b._resourceBySlot(e);b.trigger("add",{eventInfo:i({isAllDay:!0,start:e.startDate(),end:e.startDate()},f)})}c.preventDefault()}})),b.options.editable.update!==!1&&(b._editUserEvents=new e.UserEvents(b.element,{filter:".k-scheduler-monthview .k-event",tap:function(c){0===a(c.event.target).closest("a:has(.k-si-close)").length&&(b.trigger("edit",{uid:a(c.target).closest(".k-event").attr(e.attr("uid"))}),c.preventDefault())}}))},selectionByElement:function(b){var c=a(b).offset();return this._slotByPosition(c.left,c.top)},_columnCountForLevel:function(a){var b=this.columnLevels[a];return b?b.length:0},_rowCountForLevel:function(a){var b=this.rowLevels[a];return b?b.length:0},_content:function(){var a="<tbody>",b=1,c=this.groupedResources;c.length&&this._isVerticallyGrouped()&&(b=this._rowCountForLevel(c.length-1));for(var d=0;b>d;d++)a+=this._createCalendar(d);a+="</tbody>",this.content.find("table").html(a)},_createCalendar:function(a){var b=this.startDate(),c=n*m,d=n,f=[b],g="",h=1,i=this._isVerticallyGrouped(),j=this.groupedResources;j.length&&(i||(h=this._columnCountForLevel(j.length-1))),this._slotIndices={};for(var k=0,l=c/d;l>k;k++){g+="<tr>",f.push(b);for(var o=k*d,p=0;h>p;p++)g+=this._createRow(b,o,d,i?a:p);b=e.date.addDays(b,d),g+="</tr>"}return this._weekStartDates=f,this._endDate=e.date.previousDay(b),g},_createRow:function(a,b,c,d){for(var f=this,g=f._firstDayOfMonth,h=f._lastDayOfMonth,i=f.dayTemplate,j="",l="",m=function(){return f._resourceBySlot({groupIndex:d})},n=0;c>n;n++)j="",e.date.isToday(a)&&(j+="k-today"),e.date.isInDateRange(a,g,h)||(j+=" k-other-month"),l+="<td ",""!==j&&(l+='class="'+j+'"'),l+=">",l+=i({date:a,resources:m}),l+="</td>",f._slotIndices[k(a).getTime()]=b+n,a=e.date.nextDay(a);return l},_layout:function(){var c,d=this.calendarInfo(),e=this._isMobile()?d.days.namesShort:d.days.names,f=b(e,d.firstDay),g=a.map(f,function(a){return{text:a}}),h=this.groupedResources;if(h.length)if(this._isVerticallyGrouped()){for(var i=[],j=0;6>j;j++)i.push({text:"<div>&nbsp;</div>",className:"k-hidden k-slot-cell"});c=this._createRowsLayout(h,i)}else g=this._createColumnsLayout(h,g);return{columns:g,rows:c}},_eventTmpl:function(a){var b=this.options,c=i({},e.Template,b.templateSettings),d=c.paramName,f="",g=typeof a,h={storage:{},count:0};"function"===g?(h.storage["tmpl"+h.count]=a,f+="#=this.tmpl"+h.count+"("+d+")#",h.count++):"string"===g&&(f+=a);var k=e.template(e.format(p,f),c);return h.count>0&&(k=j(k,h.storage)),k},_createEventElement:function(b){var c=this.options,d=c.editable,f=this._isMobile();return b.showDelete=d&&d.destroy!==!1&&!f,b.resizable=d&&d.resize!==!1&&!f,b.ns=e.ns,b.resources=this.eventResources(b),b.inverseColor=b.resources&&b.resources[0]?this._shouldInverseResourceColor(b.resources[0]):!1,a(this.eventTemplate(b))},_isInDateSlot:function(a){var b=this.groups[0],c=b.firstSlot().start,f=b.lastSlot().end-1,g=e.date.toUtcTime(a.start),h=e.date.toUtcTime(a.end);return(d(g,c,f)||d(h,c,f)||d(c,g,h)||d(f,g,h))&&(!d(h,c,c)||d(h,g,g)||a.isAllDay)},_slotIndex:function(a){return this._slotIndices[k(a).getTime()]},_positionMobileEvent:function(b,c,d){var f=b.start;b.start.offsetLeft>b.end.offsetLeft&&(f=b.end);var h=b.start.index,i=h,j=3,k=g.collidingEvents(b.events(),h,i);k.push({element:c,start:h,end:i});var l=g.createRows(k),m=b.collection.at(h),n=m.container;n||(n=a(e.format('<div class="k-events-container" style="top:{0};left:{1};width:{2}"/>',f.offsetTop+f.firstChildTop+f.firstChildHeight-3+"px",f.offsetLeft+"px",f.offsetWidth+"px")),m.container=n,this.content[0].appendChild(n[0])),l.length<=j&&(b.addEvent({element:c,start:h,end:i,groupIndex:f.groupIndex}),d._continuousEvents.push({element:c,uid:c.attr(e.attr("uid")),start:b.start,end:b.end}),n[0].appendChild(c[0]))},_positionEvent:function(b,c,d){var f=this.options.eventHeight,h=b.start;b.start.offsetLeft>b.end.offsetLeft&&(h=b.end);var i=b.start.index,j=b.end.index,k=h.eventCount,l=g.collidingEvents(b.events(),i,j),m=i!==j?5:4;l.push({element:c,start:i,end:j});for(var n=g.createRows(l),o=0,p=Math.min(n.length,k);p>o;o++)for(var q=n[o].events,s=h.offsetTop+h.firstChildHeight+o*f+3*o+"px",t=0,u=q.length;u>t;t++)q[t].element[0].style.top=s;if(n.length>k)for(var v=i;j>=v;v++){var w=b.collection,x=w.at(v);if(x.more)return;x.more=a(r({ns:e.ns,start:v,end:v,width:x.clientWidth-2,left:x.offsetLeft+2,top:x.offsetTop+x.firstChildHeight+k*f+3*k})),this.content[0].appendChild(x.more[0])}else b.addEvent({element:c,start:i,end:j,groupIndex:h.groupIndex}),c[0].style.width=b.innerWidth()-m+"px",c[0].style.left=h.offsetLeft+2+"px",c[0].style.height=f+"px",d._continuousEvents.push({element:c,uid:c.attr(e.attr("uid")),start:b.start,end:b.end}),this.content[0].appendChild(c[0])},_slotByPosition:function(a,b){var c=this.content.offset();a-=c.left,b-=c.top,b+=this.content[0].scrollTop,a+=this.content[0].scrollLeft,a=Math.ceil(a),b=Math.ceil(b);for(var d=0;d<this.groups.length;d++){var e=this.groups[d].daySlotByPosition(a,b);if(e)return e}return null},_createResizeHint:function(a){var b=a.startSlot().offsetLeft,c=a.start.offsetTop,d=a.innerWidth(),e=a.start.clientHeight-2,f=g.fn._createResizeHint.call(this,b,c,d,e);f.appendTo(this.content),this._resizeHint=this._resizeHint.add(f)},_updateResizeHint:function(a,b,c,d){this._removeResizeHint();for(var f=this.groups[b],g=f.ranges(c,d,!0,a.isAllDay),h=0;h<g.length;h++)this._createResizeHint(g[h]);this._resizeHint.find(".k-label-top,.k-label-bottom").text(""),this._resizeHint.first().addClass("k-first").find(".k-label-top").text(e.toString(e.timezone.toLocalDate(c),"M/dd")),this._resizeHint.last().addClass("k-last").find(".k-label-bottom").text(e.toString(e.timezone.toLocalDate(d),"M/dd"))},_updateMoveHint:function(a,b,c){var d=e.date.toUtcTime(a.start)+c,f=d+a.duration(),g=this.groups[b],h=g.ranges(d,f,!0,a.isAllDay);this._removeMoveHint();for(var i=0;i<h.length;i++){var j=h[i],k=j.startSlot(),l=j.endSlot(),m=this._createEventElement(a.clone({head:j.head,tail:j.tail}));m.css({left:k.offsetLeft+2,top:k.offsetTop+k.firstChildHeight,height:this.options.eventHeight,width:j.innerWidth()-(k.index!==l.index?5:4)}),m.addClass("k-event-drag-hint"),m.appendTo(this.content),this._moveHint=this._moveHint.add(m)}},_groups:function(){var a=this._groupCount(),b=n,c=m;this.groups=[];for(var d=0;a>d;d++)this._addResourceView(d);for(var f=this.content[0].getElementsByTagName("tr"),g=0;a>g;g++){var h=0,i=0;this._isVerticallyGrouped()&&(i=g);for(var j=i*c;(i+1)*c>j;j++){var k=this.groups[g],l=k.addDaySlotCollection(e.date.addDays(this.startDate(),h),e.date.addDays(this.startDate(),h+b)),o=f[j],p=o.children,q=0;o.setAttribute("role","row"),this._isVerticallyGrouped()||(q=g);for(var r=q*b;(q+1)*b>r;r++){var s=p[r],t=s.clientHeight,u=s.children.length?s.children[0].offsetHeight+3:0,v=e.date.toUtcTime(e.date.addDays(this.startDate(),h));h++;var w=Math.floor((t-u-this.options.moreButtonHeight)/(this.options.eventHeight+3));s.setAttribute("role","gridcell"),s.setAttribute("aria-selected",!1),l.addDaySlot(s,v,v+e.date.MS_PER_DAY,w)}}}},render:function(a){this.content.children(".k-event,.k-more-events,.k-events-container").remove(),this._groups(),a=new e.data.Query(a).sort([{field:"start",dir:"asc"},{field:"end",dir:"desc"}]).toArray();var b=this.groupedResources;b.length?this._renderGroups(a,b,0,1):this._renderEvents(a,0),this.refreshLayout(),this.trigger("activate")},_renderEvents:function(a,b){var c,d,e,f=this._isMobilePhoneView();for(d=0,e=a.length;e>d;d++)if(c=a[d],this._isInDateSlot(c)){var g=this.groups[b];g._continuousEvents||(g._continuousEvents=[]);for(var h=g.slotRanges(c,!0),i=h.length,j=0;i>j;j++){var k=h[j],l=c.start,m=c.end;i>1&&(0===j?m=k.end.endDate():j==i-1?l=k.start.startDate():(l=k.start.startDate(),m=k.end.endDate()));var n=c.clone({start:l,end:m,head:k.head,tail:k.tail});f?this._positionMobileEvent(k,this._createEventElement(n),g):this._positionEvent(k,this._createEventElement(n),g)}}},_renderGroups:function(a,b,c,d){var f=b[0];if(f)for(var h=f.dataSource.view(),i=0;i<h.length;i++){var j=this._resourceValue(f,h[i]),k=new e.data.Query(a).filter({field:f.field,operator:g.groupEqFilter(j)}).toArray();b.length>1?c=this._renderGroups(k,b.slice(1),c++,d+1):this._renderEvents(k,c++)}return c},_groupCount:function(){var a=this.groupedResources;return a.length?this._isVerticallyGrouped()?this._rowCountForLevel(a.length-1):this._columnCountForLevel(a.length)/this._columnOffsetForResource(a.length):1},_columnOffsetForResource:function(a){return this._columnCountForLevel(a)/this._columnCountForLevel(a-1)},destroy:function(){this.table&&this.table.removeClass("k-scheduler-monthview"),this.content&&this.content.off(h),this.element&&this.element.off(h),g.fn.destroy.call(this),this._isMobile()&&!this._isMobilePhoneView()&&this.options.editable&&(this.options.editable.create!==!1&&this._addUserEvents.destroy(),this.options.editable.update!==!1&&this._editUserEvents.destroy())},events:["remove","add","edit","navigate"],options:{title:"Month",name:"month",eventHeight:25,moreButtonHeight:13,editable:!0,selectedDateFormat:"{0:y}",dayTemplate:o,eventTemplate:q}})}(window.kendo.jQuery),function(a,b){function c(a,b){var c;return 0!==a&&b>a?c=b-a:(c=a%b,c&&(c=b-c)),c}function d(a){var b=a.getMonth(),c=q(a)?Q[b]:R[b];return c+a.getDate()}function e(a,c){var d,e;return a=new Date(a.getFullYear(),a.getMonth(),a.getDate()),N(a,0),d=a.getFullYear(),c!==b?(M(a,c,-1),a.setDate(a.getDate()+4)):a.setDate(a.getDate()+(4-(a.getDay()||7))),N(a,0),e=Math.floor((a.getTime()-new Date(d,0,1,-6))/864e5),1+Math.floor(e/7)}function f(a,b){var c=O(a).getDay(),d=7-(c+7-(b||7))||7;return 0>d&&(d+=7),Math.ceil((a.getDate()-d)/7)+1}function g(a,b){return a+(b>a?7:0)}function h(a,b,c){var d=b.offset;if(!d)return f(a,c);var e=new Date(a.getFullYear(),a.getMonth()+1,0),h=f(e,c),i=g(b.day,c),j=i<g(new Date(a.getFullYear(),a.getMonth(),1).getDay(),c),k=i>g(e.getDay(),c);return 0>d?d=h+(d+1-(k?1:0)):j&&(d+=1),h-=k?1:0,(j?1:0)>d||d>h?null:d}function i(a,b){return f(new Date(a.getFullYear(),a.getMonth()+1,0),b)}function j(a,b,c){return f(a,c)===h(a,b,c)}function k(a,b,c){for(var d,e,i,j,k=g(b.getDay(),c),l=a.length,m=[],n=0;l>n;n++)if(e=a[n],j=f(b,c),d=h(b,e,c),null!==d)if(d>j)m.push(e);else if(j===d)if(i=g(e.day,c),i>k)m.push(e);else if(k===i)return null;return m}function l(a,b,c){for(var d,e=0,f=a.length,g=[];f>e;e++){if(d=a[e],c&&(d=c(d)),b===d)return null;d>b&&g.push(d)}return g}function m(a,b){for(var c,d=0,e=a.length;e>d;d++){if(c=parseInt(a[d],10),isNaN(c)||c<b.start||c>b.end||0===c&&b.start<0)return null;a[d]=c}return a.sort(r)}function n(a){for(var c,d,e,f=0,g=a.length;g>f;f++){if(c=a[f],d=c.length,e=c.substring(d-2).toUpperCase(),e=U[e],e===b)return null;a[f]={offset:parseInt(c.substring(0,d-2),10)||0,day:e}}return a}function o(a){for(var b,c,d=0,e=a.length,f=[];e>d;d++)b=a[d],"string"==typeof b?c=b:(c=""+T[b.day],b.offset&&(c=b.offset+c)),f.push(c);return f.toString()}function p(a){var b=a.getMonth();return 1===b?1===new Date(a.getFullYear(),1,29).getMonth()?29:28:S[b]}function q(a){return a=a.getFullYear(),a%4===0&&a%100!==0||a%400===0}function r(a,b){return a-b}function s(a,b){var c,d,e=0,f=[];if(a)for(a=a.split(";"),c=a.length;c>e;e++)d=z(a[e],b),d&&f.push(d);return f}function t(b,c,d){for(var e=a.isArray(b)?b:s(b,d),f=c.getTime()-c.getMilliseconds(),g=0,h=e.length;h>g;g++)if(e[g].getTime()===f)return!0;return!1}function u(a,b){var c,d,e=0,f=[].concat(a);for(c=f.length;c>e;e++)d=f[e],d=E.timezone.convert(d,b||d.getTimezoneOffset(),"Etc/UTC"),f[e]=E.toString(d,Y);return f.join(";")+";"}function v(a,b){var c=new Date(a);switch(b.freq){case"yearly":c.setFullYear(c.getFullYear(),0,1);break;case"monthly":c.setFullYear(c.getFullYear(),c.getMonth(),1);break;case"weekly":M(c,b.weekStart,-1)}return b.hours&&c.setHours(0),b.minutes&&c.setMinutes(0),b.seconds&&c.setSeconds(0),c}function w(a,b){var c=new Date(a);switch(b.freq){case"yearly":c.setFullYear(c.getFullYear(),11,31);break;case"monthly":c.setFullYear(c.getFullYear(),c.getMonth()+1,0);break;case"weekly":M(c,b.weekStart,-1),c.setDate(c.getDate()+6)}return b.hours&&c.setHours(23),b.minutes&&c.setMinutes(59),b.seconds&&c.setSeconds(59),c}function x(a,b,c){for(var d,e,f=a.slice(c._startIdx),g=f.length,h=c.positions,i=[],j=0,k=h.length;k>j;j++)d=h[j],0>d?d=g+d:d-=1,e=f[d],e&&e.start>=b&&i.push(e);return a=a.slice(0,c._startIdx).concat(i),c._startIdx=a.length,a}function y(a,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,y,z,A,C,D,F,G,H,I=B(a.recurrenceRule,e),J=[];if(!I)return[a];if(G=I.positions,H=G?0:1,o=I.start,p=I.end,(o||p)&&(a=a.clone({start:o?new Date(o.value[0]):b,end:p?new Date(p.value[0]):b})),C=a.start,A=C.getTime(),z=P(C),y=s(a.recurrenceException,e),!y[0]&&I.exdates&&(y=I.exdates.value,a.set("recurrenceException",u(y,e))),m=c=new Date(c),d=new Date(d),r=I.freq,F=eb[r],D=I.count,I.until&&I.until<d&&(d=new Date(I.until)),q="yearly"===r||"monthly"===r||"weekly"===r,A>c||D||I.interval>1||q?c=new Date(A):(i=c.getHours(),j=c.getMinutes(),k=c.getSeconds(),I.hours||(i=C.getHours()),I.minutes||(j=C.getMinutes()),I.seconds||(k=C.getSeconds()),c.setHours(i,j,k,C.getMilliseconds())),I._startPeriod=new Date(c),G){c=v(c,I),d=w(d,I);var K=P(d)-P(c);0>K&&(i=c.getHours(),d.setHours(i,c.getMinutes(),c.getSeconds(),c.getMilliseconds()),E.date.adjustDST(d,i)),I._startPeriod=new Date(c),I._endPeriod=w(c,I),I._startIdx=0}for(l=a.duration(),I._startTime=f=E.date.toInvariantTime(c),F.setup&&F.setup(I,C,c),F.limit(c,d,I);d>=c;)if(h=new Date(c),L(h,l),n=c>=m||h>m,(n&&!t(y,c,e)||G)&&(g=new Date(I._startTime),L(g,l),A!==c.getTime()||z!==P(f)?J.push(a.toOccurrence({start:new Date(c),startTime:new Date(f),end:h,endTime:g})):(a.startTime=new Date(f),a.endTime=g,J.push(a))),G){if(F.next(c,I),F.limit(c,d,I),c>I._endPeriod&&(J=x(J,C,I),I._endPeriod=w(c,I),H=J.length),D&&D===H)break}else{if(D&&D===H)break;H++,F.next(c,I),F.limit(c,d,I)}return J}function z(a,b){return a=E.parseDate(a,V),a&&b&&(a=F.convert(a,a.getTimezoneOffset(),b)),a}function A(a,b){for(var c,d,e,f,g,h,i=a.split(";"),j=0,k=i.length;k>j;j++)if(c=i[j].split(":"),d=c[0],e=c[1],-1!==d.indexOf("TZID")&&(f=d.substring(d.indexOf("TZID")).split("=")[1]),e)for(e=e.split(","),g=0,h=e.length;h>g;g++)e[g]=z(e[g],f||b);return e?{value:e,tzid:f}:void 0}function B(c,d){var e,f,g,h,i,j,k,l,o,p={},q=0,r=!1,s=function(a,b){var c=a.day,d=b.day;return l>c&&(c+=7),l>d&&(d+=7),c-d};if(!c)return null;for(j=c.split("\n"),j[1]||-1===c.indexOf("DTSTART")&&-1===c.indexOf("DTEND")&&-1===c.indexOf("EXDATE")||(j=c.split(" ")),q=0,g=j.length;g>q;q++)i=j[q],-1!==i.indexOf("DTSTART")?p.start=A(i,d):-1!==i.indexOf("DTEND")?p.end=A(i,d):-1!==i.indexOf("EXDATE")?p.exdates=A(i,d):h=-1!==i.indexOf("RRULE")?i.substring(6):i;for(h=h.split(";"),q=0,g=h.length;g>q;q++)switch(k=h[q],e=k.split("="),f=a.trim(e[1]).split(","),a.trim(e[0]).toUpperCase()){case"FREQ":p.freq=f[0].toLowerCase();break;case"UNTIL":p.until=z(f[0],d);break;case"COUNT":p.count=parseInt(f[0],10);break;case"INTERVAL":p.interval=parseInt(f[0],10);break;case"BYSECOND":p.seconds=m(f,{start:0,end:60}),r=!0;break;case"BYMINUTE":p.minutes=m(f,{start:0,end:59}),r=!0;break;case"BYHOUR":p.hours=m(f,{start:0,end:23}),r=!0;break;case"BYMONTHDAY":p.monthDays=m(f,{start:-31,end:31}),r=!0;break;case"BYYEARDAY":p.yearDays=m(f,{start:-366,end:366}),r=!0;break;case"BYMONTH":p.months=m(f,{start:1,end:12}),r=!0;break;case"BYDAY":p.weekDays=o=n(f),r=!0;break;case"BYWEEKNO":p.weeks=m(f,{start:-53,end:53}),r=!0;break;case"BYSETPOS":p.positions=m(f,{start:-366,end:366});break;case"WKST":p.weekStart=l=U[f[0]]}return p.freq===b||p.count!==b&&p.until?null:(p.interval||(p.interval=1),l===b&&(p.weekStart=l=E.culture().calendar.firstDay),o&&(p.weekDays=o.sort(s)),p.positions&&!r&&(p.positions=null),p._hasRuleValue=r,p)}function C(a,b){for(var c,d=a.value,e=a.tzid||"",f=d.length,g=0;f>g;g++)c=d[g],c=F.convert(c,e||b||c.getTimezoneOffset(),"Etc/UTC"),d[g]=E.toString(c,"yyyyMMddTHHmmssZ");return e&&(e=";TZID="+e),e+":"+d.join(",")+" "}function D(a,c){var d=a.weekStart,e="FREQ="+a.freq.toUpperCase(),f=a.exdates||"",g=a.start||"",h=a.end||"",i=a.until;return a.interval>1&&(e+=";INTERVAL="+a.interval),a.count&&(e+=";COUNT="+a.count),i&&(i=F.convert(i,c||i.getTimezoneOffset(),"Etc/UTC"),e+=";UNTIL="+E.toString(i,"yyyyMMddTHHmmssZ")),a.months&&(e+=";BYMONTH="+a.months),a.weeks&&(e+=";BYWEEKNO="+a.weeks),a.yearDays&&(e+=";BYYEARDAY="+a.yearDays),a.monthDays&&(e+=";BYMONTHDAY="+a.monthDays),a.weekDays&&(e+=";BYDAY="+o(a.weekDays)),a.hours&&(e+=";BYHOUR="+a.hours),a.minutes&&(e+=";BYMINUTE="+a.minutes),a.seconds&&(e+=";BYSECOND="+a.seconds),a.positions&&(e+=";BYSETPOS="+a.positions),d!==b&&(e+=";WKST="+T[d]),g&&(g="DTSTART"+C(g,c)),h&&(h="DTEND"+C(h,c)),f&&(f="EXDATE"+C(f,c)),(g||h||f)&&(e=g+h+f+"RRULE:"+e),e}var E=window.kendo,F=E.timezone,G=E.Class,H=E.ui,I=H.Widget,J=H.DropDownList,K=E.date,L=K.setTime,M=K.setDayOfWeek,N=K.adjustDST,O=K.firstDayOfMonth,P=K.getMilliseconds,Q=[0,31,60,91,121,152,182,213,244,274,305,335,366],R=[0,31,59,90,120,151,181,212,243,273,304,334,365],S=[31,28,30,31,30,31,30,31,30,31,30,31],T={0:"SU",1:"MO",2:"TU",3:"WE",4:"TH",5:"FR",6:"SA"},U={SU:0,MO:1,TU:2,WE:3,TH:4,FR:5,SA:6},V=["yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-ddTHH","yyyy-MM-dd","yyyyMMddTHHmmssfffzzz","yyyyMMddTHHmmsszzz","yyyyMMddTHHmmss","yyyyMMddTHHmm","yyyyMMddTHH","yyyyMMdd"],W=["months","weeks","yearDays","monthDays","weekDays","hours","minutes","seconds"],X=W.length,Y="yyyyMMddTHHmmssZ",Z={months:function(a,b,c){var d=c.months,e=l(d,a.getMonth()+1),f=!1;return null!==e&&(e.length?a.setMonth(e[0]-1,1):a.setFullYear(a.getFullYear()+1,d[0]-1,1),f=!0),f},monthDays:function(a,b,c){for(var d,e,f,g=!1,h=a.getHours(),i=function(a){return 0>a&&(a=d+a),a};b>=a;){if(e=a.getMonth(),d=p(a),f=l(c.monthDays,a.getDate(),i),null===f)return g;if(g=!0,f.length){if(a.setMonth(e,f.sort(r)[0]),N(a,h),e===a.getMonth())break}else a.setMonth(e+1,1)}return g},yearDays:function(a,b,c){for(var e,f,g=!1,h=a.getHours(),i=function(a){return 0>a&&(a=e+a),a};b>a;){if(e=q(a)?366:365,f=l(c.yearDays,d(a),i),null===f)return g;if(g=!0,e=a.getFullYear(),f.length){a.setFullYear(e,0,f.sort(r)[0]),N(a,h);break}a.setFullYear(e+1,0,1)}return g},weeks:function(a,b,c){for(var d,f,g,h=c.weekStart,i=!1,j=a.getHours(),k=function(a){return 0>a&&(a=53+a),a};b>a;){if(f=l(c.weeks,e(a,h),k),null===f)return i;if(i=!0,d=a.getFullYear(),f.length){g=7*f.sort(r)[0]-1,a.setFullYear(d,0,g),M(a,h,-1),N(a,j);break}a.setFullYear(d+1,0,1)}return i},weekDays:function(a,b,c){var d,e,g=c.weekDays,h=c.weekStart,l=k(g,a,h),m=a.getHours();if(null===l)return!1;if(d=l[0],d||(d=g[0],M(a,h)),e=d.day,d.offset)for(;b>=a&&!j(a,d,h);)f(a,h)===i(a,h)?(a.setMonth(a.getMonth()+1,1),N(a,m)):(a.setDate(a.getDate()+7),N(a,m),M(a,h,-1));return a.getDay()!==e&&M(a,e),!0},hours:function(a,b,c){var d=c.hours,e=c._startTime,f=e.getHours(),g=l(d,f),h=!1;return null!==g&&(h=!0,a.setHours(f),N(a,f),g.length?(g=g[0],a.setHours(g)):(g=a.getHours(),a.setDate(a.getDate()+1),N(a,g),g=d[0],a.setHours(g),N(a,g)),c.minutes&&a.setMinutes(0),e.setHours(g,a.getMinutes())),h},minutes:function(a,b,c){var d=c.minutes,e=a.getMinutes(),f=l(d,e),g=c._startTime.getHours(),h=!1;return null!==f&&(h=!0,f.length?f=f[0]:(g+=1,f=d[0]),c.seconds&&a.setSeconds(0),a.setHours(g,f),g%=24,N(a,g),c._startTime.setHours(g,f,a.getSeconds())),h},seconds:function(a,b,c){var d=c.seconds,e=c._startTime.getHours(),f=l(d,a.getSeconds()),g=a.getMinutes(),h=!1;return null!==f&&(h=!0,f.length?a.setSeconds(f[0]):(g+=1,a.setMinutes(g,d[0]),g>59&&(g%=60,e=(e+1)%24)),c._startTime.setHours(e,g,a.getSeconds())),h}},$=G.extend({next:function(a,b){var c,d,e=b._startTime,f=e.getDate();if(b.seconds)d=a.getSeconds()+1,a.setSeconds(d),e.setSeconds(d),e.setDate(f);else{if(!b.minutes)return!1;c=a.getMinutes()+1,a.setMinutes(c),e.setMinutes(c),e.setDate(f)}return!0},normalize:function(a){var b=a.rule;4===a.idx&&b.hours&&(b._startTime.setHours(0),this._hour(a.date,b))},limit:function(a,c,d){for(var e,f,g,h,i,j=d.interval;c>=a;){for(g=f=b,i=a.getDate(),h=0;X>h;h++){if(e=W[h],d[e]){if(g=Z[e](a,c,d),f!==b&&g)break;f=g}g&&this.normalize({date:a,rule:d,day:i,idx:h})}if((1===j||!this.interval(d,a))&&h===X)break}},interval:function(a,b){var d,f,g=new Date(a._startPeriod),h=new Date(b),i=b.getHours(),j=a.weekStart,k=a.interval,l=a.freq,m=!1,n=0,o=0,p=1;return"hourly"===l?(d=h.getTimezoneOffset()-g.getTimezoneOffset(),f=a._startTime.getHours(),h=h.getTime(),i!==f&&(h+=(f-i)*E.date.MS_PER_HOUR),h-=g,d&&(h-=d*E.date.MS_PER_MINUTE),d=Math.floor(h/E.date.MS_PER_HOUR),n=c(d,k),0!==n&&(this._hour(b,a,n),m=!0)):"daily"===l?(E.date.setTime(h,-g),d=Math.floor(h/E.date.MS_PER_DAY),n=c(d,k),0!==n&&(this._date(b,a,n),m=!0)):"weekly"===l?(d=52*(b.getFullYear()-g.getFullYear()),n=e(b,j)-e(g,j)+d,n=c(n,k),0!==n&&(E.date.setDayOfWeek(b,a.weekStart,-1),b.setDate(b.getDate()+7*n),N(b,i),m=!0)):"monthly"===l?(d=b.getFullYear()-g.getFullYear(),d=b.getMonth()-g.getMonth()+12*d,n=c(d,k),0!==n&&(p=a._hasRuleValue?1:b.getDate(),b.setFullYear(b.getFullYear(),b.getMonth()+n,p),N(b,i),m=!0)):"yearly"===l&&(d=b.getFullYear()-g.getFullYear(),n=c(d,k),a.months||(o=b.getMonth()),a.yearDays||a.monthDays||a.weekDays||(p=b.getDate()),0!==n&&(b.setFullYear(b.getFullYear()+n,o,p),N(b,i),m=!0)),m},_hour:function(a,b,c){var d=b._startTime,e=d.getHours();c&&(e+=c),a.setHours(e),e%=24,d.setHours(e),N(a,e)},_date:function(a,b,c){var d=a.getHours();a.setDate(a.getDate()+c),N(a,d)||this._hour(a,b)}}),_=$.extend({next:function(a,b){$.fn.next(a,b)||this._hour(a,b,1)},normalize:function(a){var b=a.rule;4===a.idx&&(b._startTime.setHours(0),this._hour(a.date,b))}}),ab=$.extend({next:function(a,b){$.fn.next(a,b)||this[b.hours?"_hour":"_date"](a,b,1)}}),bb=ab.extend({setup:function(a,b){a.weekDays||(a.weekDays=[{day:b.getDay(),offset:0}])}}),cb=$.extend({next:function(a,b){var c,d;if(!$.fn.next(a,b))if(b.hours)this._hour(a,b,1);else if(b.monthDays||b.weekDays||b.yearDays||b.weeks)this._date(a,b,1);else{for(c=a.getDate(),d=a.getHours(),a.setMonth(a.getMonth()+1),N(a,d);a.getDate()!==c;)a.setDate(c),N(a,d);this._hour(a,b)}},normalize:function(a){var b=a.rule,c=a.date,d=c.getHours();0!==a.idx||b.monthDays||b.weekDays?$.fn.normalize(a):(c.setDate(a.day),N(c,d))},setup:function(a,b,c){a.monthDays||a.weekDays||c.setDate(b.getDate())}}),db=cb.extend({next:function(a,b){var c,d=a.getHours();if(!$.fn.next(a,b))if(b.hours)this._hour(a,b,1);else if(b.monthDays||b.weekDays||b.yearDays||b.weeks)this._date(a,b,1);else if(b.months){for(c=a.getDate(),a.setMonth(a.getMonth()+1),N(a,d);a.getDate()!==c;)a.setDate(c),N(a,d);this._hour(a,b)}else a.setFullYear(a.getFullYear()+1),N(a,d),this._hour(a,b)},setup:function(){}}),eb={hourly:new _,daily:new ab,weekly:new bb,monthly:new cb,yearly:new db},fb="click";E.recurrence={rule:{parse:B,serialize:D},expand:y,dayInYear:d,weekInYear:e,weekInMonth:f,numberOfWeeks:i,isException:t,toExceptionString:u};var gb=function(a){for(var b=E.culture().calendar.days.namesShort,c=b.length,d="",e=0,f=[];c>e;e++)f.push(e);for(b=b.slice(a).concat(b.slice(0,a)),f=f.slice(a).concat(f.slice(0,a)),e=0;c>e;e++)d+='<label class="k-check"><input class="k-recur-weekday-checkbox" type="checkbox" value="'+f[e]+'" /> '+b[e]+"</label>";return d},hb=E.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-month-radio" type="radio" name="month" value="monthday" />#:messages.day#</label><input class="k-recur-monthday" /></li><li><input class="k-recur-month-radio" type="radio" name="month" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" /></li></ul></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field"><ul class="k-reset"><li><input class="k-recur-year-radio" type="radio" name="year" value="monthday" /><input class="k-recur-month" /><input class="k-recur-monthday" /></li><li><input class="k-recur-year-radio" type="radio" name="year" value="weekday" /><input class="k-recur-weekday-offset" /><input class="k-recur-weekday" />#:messages.of#<input class="k-recur-month" /></li></ul></div># } ## if (frequency !== "never") { #<div class="k-edit-label"><label>#:end.label#</label></div><div class="k-edit-field"><ul class="k-reset"><li><label><input class="k-recur-end-never" type="radio" name="end" value="never" />#:end.never#</label></li><li><label><input class="k-recur-end-count" type="radio" name="end" value="count" />#:end.after#</label><input class="k-recur-count" />#:end.occurrence#</li><li><label><input class="k-recur-end-until" type="radio" name="end" value="until" />#:end.on#</label><input class="k-recur-until" /></li></ul></div># } #'),ib=[{day:0,offset:0},{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0},{day:6,offset:0}],jb=[{day:1,offset:0},{day:2,offset:0},{day:3,offset:0},{day:4,offset:0},{day:5,offset:0}],kb=[{day:0,offset:0},{day:6,offset:0}],lb=I.extend({init:function(a,b){var c,d=this,e=b&&b.frequencies;I.fn.init.call(d,a,b),d.wrapper=d.element,b=d.options,b.start=c=b.start||K.today(),e&&(b.frequencies=e),"string"==typeof c&&(b.start=E.parseDate(c,"yyyyMMddTHHmmss")),null===b.firstWeekDay&&(b.firstWeekDay=E.culture().calendar.firstDay),d._namespace="."+b.name},options:{value:"",start:"",timezone:"",spinners:!0,firstWeekDay:null,frequencies:["never","daily","weekly","monthly","yearly"],mobile:!1,messages:{frequencies:{never:"Never",hourly:"Hourly",daily:"Daily",weekly:"Weekly",monthly:"Monthly",yearly:"Yearly"},hourly:{repeatEvery:"Repeat every: ",interval:" hour(s)"},daily:{repeatEvery:"Repeat every: ",interval:" day(s)"},weekly:{interval:" week(s)",repeatEvery:"Repeat every: ",repeatOn:"Repeat on: "},monthly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" month(s)",day:"Day "},yearly:{repeatEvery:"Repeat every: ",repeatOn:"Repeat on: ",interval:" year(s)",of:" of "},end:{label:"End:",never:"Never",after:"After ",occurrence:" occurrence(s)",on:"On "},offsetPositions:{first:"first",second:"second",third:"third",fourth:"fourth",last:"last"},weekdays:{day:"day",weekday:"weekday",weekend:"weekend day"}}},events:["change"],_initInterval:function(){var a=this,b=a._value;a._container.find(".k-recur-interval").kendoNumericTextBox({spinners:a.options.spinners,value:b.interval||1,decimals:0,format:"#",min:1,change:function(){b.interval=this.value(),a._trigger()}})},_weekDayRule:function(a){var b=this,c=(b._weekDay.element||b._weekDay).val(),d=Number((b._weekDayOffset.element||b._weekDayOffset).val()),e=null,f=null;a||("day"===c?(e=ib,f=d):"weekday"===c?(e=jb,f=d):"weekend"===c?(e=kb,f=d):e=[{offset:d,day:Number(c)}]),b._value.weekDays=e,b._value.positions=f},_weekDayView:function(){var a,b,c,d,e=this,f=e._value.weekDays,g=e._value.positions,h=e._weekDayOffset;f&&(c=f.length,g&&(7===c?(b="day",a=g):5===c?(b="weekday",a=g):2===c&&(b="weekend",a=g)),b||(f=f[0],b=f.day,a=f.offset||""),d=h.value?"value":"val",h[d](a),e._weekDay[d](b))},_initWeekDay:function(){var b,c=this,d=c.options.messages.weekdays,e=c.options.messages.offsetPositions,f=c._container.find(".k-recur-weekday"),g=function(){c._weekDayRule(),c._trigger()};f[0]&&(c._weekDayOffset=new J(c._container.find(".k-recur-weekday-offset"),{change:g,dataTextField:"text",dataValueField:"value",dataSource:[{text:e.first,value:"1"},{text:e.second,value:"2"},{text:e.third,value:"3"},{text:e.fourth,value:"4"},{text:e.last,value:"-1"}]}),b=[{text:d.day,value:"day"},{text:d.weekday,value:"weekday"},{text:d.weekend,value:"weekend"}],c._weekDay=new J(f,{value:c.options.start.getDay(),change:g,dataTextField:"text",dataValueField:"value",dataSource:b.concat(a.map(E.culture().calendar.days.names,function(a,b){return{text:a,value:b}}))}),c._weekDayView())},_initWeekDays:function(){var b=this,c=b._value,d=b._container.find(".k-recur-weekday-checkbox");if(d[0]&&(d.on(fb+b._namespace,function(){c.weekDays=a.map(d.filter(":checked"),function(a){return{day:Number(a.value),offset:0}}),b.options.mobile||b._trigger()}),c.weekDays))for(var e,f,g=0,h=d.length,i=c.weekDays.length;h>g;g++)for(f=d[g],e=0;i>e;e++)f.value==c.weekDays[e].day&&(f.checked=!0)},_initMonthDay:function(){var a=this,b=a._value,c=a._container.find(".k-recur-monthday");c[0]&&(a._monthDay=new E.ui.NumericTextBox(c,{spinners:a.options.spinners,min:1,max:31,decimals:0,format:"#",value:b.monthDays?b.monthDays[0]:a.options.start.getDate(),change:function(){var c=this.value();b.monthDays=c?[c]:c,a._trigger()}}))},_initCount:function(){var a=this,b=a._container.find(".k-recur-count"),c=a._value;a._count=b.kendoNumericTextBox({spinners:a.options.spinners,value:c.count||1,decimals:0,format:"#",min:1,change:function(){c.count=this.value(),a._trigger()}}).data("kendoNumericTextBox")},_initUntil:function(){var a=this,b=a._container.find(".k-recur-until"),c=a.options.start,d=a._value,e=d.until;a._until=b.kendoDatePicker({min:e&&c>e?e:c,value:e||c,change:function(){d.until=this.value(),a._trigger()}}).data("kendoDatePicker")},_trigger:function(){this.options.mobile||this.trigger("change")}}),mb=lb.extend({init:function(a,b){var c=this;lb.fn.init.call(c,a,b),c._initFrequency(),c._initContainer(),c.value(c.options.value)},options:{name:"RecurrenceEditor"},events:["change"],destroy:function(){var a=this;a._frequency.destroy(),a._container.find("input[type=radio],input[type=checkbox]").off(fb+a._namespace),E.destroy(a._container),lb.fn.destroy.call(a)},value:function(a){var c=this,d=c.options.timezone;return a===b?c._value.freq?D(c._value,d):"":(c._value=B(a,d)||{},c._frequency.value(c._value.freq||""),void c._initView(c._frequency.value()))},_initContainer:function(){var b=this.element,c=a('<div class="k-recur-view" />'),d=b.parent(".k-edit-field");d[0]?c.insertAfter(d):b.append(c),this._container=c},_initFrequency:function(){var b,c=this,d=c.options,e=d.frequencies,f=d.messages.frequencies,g=a("<input />");e=a.map(e,function(a){return{text:f[a],value:a}}),b=e[0],b&&"never"===b.value&&(b.value=""),c.element.append(g),c._frequency=new J(g,{dataTextField:"text",dataValueField:"value",dataSource:e,change:function(){c._value={},c._initView(c._frequency.value()),c.trigger("change")}})},_initView:function(a){var b=this,c=b._value,d=b.options,e={frequency:a||"never",weekDayCheckBoxes:gb,firstWeekDay:d.firstWeekDay,messages:d.messages[a],end:d.messages.end};return E.destroy(b._container),b._container.html(hb(e)),a?(c.freq=a,"weekly"!==a||c.weekDays||(c.weekDays=[{day:d.start.getDay(),offset:0}]),b._initInterval(),b._initWeekDays(),b._initMonthDay(),b._initWeekDay(),b._initMonth(),b._initCount(),b._initUntil(),b._period(),void b._end()):void(b._value={})},_initMonth:function(){var b,c=this,d=c._value,e=d.months||[c.options.start.getMonth()+1],f=c._container.find(".k-recur-month");f[0]&&(b={change:function(){d.months=[Number(this.value())],c.trigger("change")},dataTextField:"text",dataValueField:"value",dataSource:a.map(E.culture().calendar.months.names,function(a,b){return{text:a,value:b+1}
})},c._month1=new J(f[0],b),c._month2=new J(f[1],b),e&&(e=e[0],c._month1.value(e),c._month2.value(e)))},_end:function(){var a,b=this,c=b._value,d=b._container,e=b._namespace,f=function(a){b._toggleEnd(a.currentTarget.value),b.trigger("change")};b._buttonNever=d.find(".k-recur-end-never").on(fb+e,f),b._buttonCount=d.find(".k-recur-end-count").on(fb+e,f),b._buttonUntil=d.find(".k-recur-end-until").on(fb+e,f),c.count?a="count":c.until&&(a="until"),b._toggleEnd(a)},_period:function(){var a=this,b=a._value,c="monthly"===b.freq,d=c?a._toggleMonthDay:a._toggleYear,e=".k-recur-"+(c?"month":"year")+"-radio",f=a._container.find(e);(c||"yearly"===b.freq)&&(f.on(fb+a._namespace,function(b){d.call(a,b.currentTarget.value),a.trigger("change")}),a._buttonMonthDay=f.eq(0),a._buttonWeekDay=f.eq(1),d.call(a,b.weekDays?"weekday":"monthday"))},_toggleEnd:function(a){var b,c,d,e,f=this;"count"===a?(f._buttonCount.prop("checked",!0),d=!0,e=!1,b=f._count.value(),c=null):"until"===a?(f._buttonUntil.prop("checked",!0),d=!1,e=!0,b=null,c=f._until.value()):(f._buttonNever.prop("checked",!0),d=e=!1,b=c=null),f._count.enable(d),f._until.enable(e),f._value.count=b,f._value.until=c},_toggleMonthDay:function(a){var b,c=this,d=!1,e=!0,f=!1;"monthday"===a?(c._buttonMonthDay.prop("checked",!0),b=[c._monthDay.value()],d=!0,e=!1,f=!0):(c._buttonWeekDay.prop("checked",!0),b=null),c._weekDay.enable(e),c._weekDayOffset.enable(e),c._monthDay.enable(d),c._value.monthDays=b,c._weekDayRule(f)},_toggleYear:function(a){var b,c=this,d=!1,e=!0;"monthday"===a?(d=!0,e=!1,b=c._month1.value()):b=c._month2.value(),c._month1.enable(d),c._month2.enable(e),c._value.months=[b],c._toggleMonthDay(a)}});H.plugin(mb);var nb=E.template('<div class="k-edit-label"><label>#:headerTitle#</label></div><div class="k-edit-field k-recur-pattern k-scheduler-toolbar"></div><div class="k-recur-view"></div>'),ob=E.template('# if (frequency !== "never") { #<div class="k-edit-label"><label>#:messages.repeatEvery#</label></div><div class="k-edit-field"><input class="k-recur-interval" pattern="\\\\d*"/>#:messages.interval#</div># } ## if (frequency === "weekly") { #<div class="k-edit-label"><label>#:messages.repeatOn#</label></div><div class="k-edit-field">#=weekDayCheckBoxes(firstWeekDay)#</div># } else if (frequency === "monthly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div># } else if (frequency === "yearly") { #<div class="k-edit-label"><label>#:messages.repeatBy#</label></div><div class="k-edit-field k-scheduler-toolbar k-repeat-rule"></div><div class="k-monthday-view" style="display:none"><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><input class="k-recur-monthday" pattern="\\\\d*"/></div></div><div class="k-weekday-view" style="display:none"><div class="k-edit-label"><label>#:messages.every#</label></div><div class="k-edit-field"><select class="k-recur-weekday-offset"></select></div><div class="k-edit-label"><label>#:messages.day#</label></div><div class="k-edit-field"><select class="k-recur-weekday"></select></div></div><div class="k-edit-label"><label>#:messages.month#</label></div><div class="k-edit-field"><select class="k-recur-month"></select></div># } #'),pb=E.template('# if (endPattern === "count") { #<div class="k-edit-label"><label>#:messages.after#</label></div><div class="k-edit-field"><input class="k-recur-count" pattern="\\\\d*" /></div># } else if (endPattern === "until") { #<div class="k-edit-label"><label>#:messages.on#</label></div><div class="k-edit-field"><input type="date" class="k-recur-until" /></div># } #'),qb=E.template('<ul class="k-reset k-header k-toolbar k-scheduler-navigation">#for (var i = 0, length = dataSource.length; i < length; i++) {#<li class="k-state-default #= value === dataSource[i].value ? "k-state-selected" : "" #"><a role="button" href="\\#" class="k-link" data-#=ns#value="#=dataSource[i].value#">#:dataSource[i].text#</a></li>#}#</ul>'),rb=lb.extend({init:function(a,b){var c=this;lb.fn.init.call(c,a,b),b=c.options,c._optionTemplate=E.template('<option value="#:value#">#:text#</option>'),c.value(b.value),c._pane=b.pane,c._initRepeatButton(),c._initRepeatEnd(),c._defaultValue=c._value},options:{name:"MobileRecurrenceEditor",animations:{left:"slide",right:"slide:right"},mobile:!0,messages:{cancel:"Cancel",update:"Save",endTitle:"Repeat ends",repeatTitle:"Repeat pattern",headerTitle:"Repeat event",end:{patterns:{never:"Never",after:"After...",on:"On..."},never:"Never",after:"End repeat after",on:"End repeat on"},daily:{interval:""},hourly:{interval:""},weekly:{interval:""},monthly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every",every:"Every",day:"Day "},yearly:{interval:"",repeatBy:"Repeat by: ",dayOfMonth:"Day of the month",dayOfWeek:"Day of the week",repeatEvery:"Repeat every: ",every:"Every",month:"Month",day:"Day"}}},events:["change"],value:function(a){var c=this,d=c.options.timezone;return a===b?c._value.freq?D(c._value,d):"":void(c._value=B(a,d)||{})},destroy:function(){this._destroyView(),E.destroy(this._endFields),this._repeatButton.off(fb+this._namespace),lb.fn.destroy.call(this)},_initRepeatButton:function(){var b=this,c=b.options.messages.frequencies[this._value.freq||"never"];b._repeatButton=a('<a href="#" class="k-button k-scheduler-recur">'+c+"</a>").on(fb+b._namespace,function(a){a.preventDefault(),b._createView("repeat"),b._pane.navigate("recurrence",b.options.animations.left)}),b.element.append(b._repeatButton)},_initRepeatEnd:function(){var b=this,c=a('<div class="k-edit-label"><label>Ends</label></div>').insertAfter(b.element.parent(".k-edit-field")),d=a('<div class="k-edit-field"><a href="#" class="k-button k-scheduler-recur-end"></a></div>').on(fb+b._namespace,function(a){a.preventDefault(),b._value.freq&&(b._createView("end"),b._pane.navigate("recurrence",b.options.animations.left))}).insertAfter(c);b._endFields=c.add(d).toggleClass("k-state-disabled",!b._value.freq),b._endButton=d.find(".k-scheduler-recur-end").text(b._endText())},_endText:function(){var a=this._value,b=this.options.messages.end,c=b.never;return a.count?c=E.format("{0} {1}",b.after,a.count):a.until&&(c=E.format("{0} {1:d}",b.on,a.until)),c},_initFrequency:function(){var b=this,c=b.options.messages.frequencies,d=qb({dataSource:a.map(this.options.frequencies,function(a){return{text:c[a],value:"never"!==a?a:""}}),value:b._value.freq||"",ns:E.ns});b._view.element.find(".k-recur-pattern").append(d).on(fb+b._namespace,".k-scheduler-navigation li",function(c){var d=a(this);c.preventDefault(),d.addClass("k-state-selected").siblings().removeClass("k-state-selected"),b._value={freq:d.children("a").attr(E.attr("value"))},b._initRepeatView()})},_initEndNavigation:function(){var b=this,c=b.options.messages.end.patterns,d=b._value,e="";d.count?e="count":d.until&&(e="until");var f=qb({dataSource:[{text:c.never,value:""},{text:c.after,value:"count"},{text:c.on,value:"until"}],value:e,ns:E.ns});b._view.element.find(".k-recur-pattern").append(f).on(fb+b._namespace,".k-scheduler-navigation li",function(c){var e=a(this),f=null,g=null;c.preventDefault(),e.addClass("k-state-selected").siblings().removeClass("k-state-selected"),b._initEndView(e.children("a").attr(E.attr("value"))),b._count?(f=b._count.value(),g=null):b._until&&(f=null,g=b._until.val?E.parseDate(b._until.val(),"yyyy-MM-dd"):b._until.value()),d.count=f,d.until=g})},_createView:function(b){var c=this,d=c.options,e=d.messages,f=e["repeat"===b?"repeatTitle":"endTitle"],g='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="recurrence"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+e.cancel+"</a>"+e.headerTitle+'<a href="#" class="k-button k-scheduler-update">'+e.update+"</a></div>",h=c._pane.view().id;c._view=c._pane.append(g+nb({headerTitle:f})),c._view.element.on(fb+c._namespace,"a.k-scheduler-cancel, a.k-scheduler-update",function(b){b.preventDefault(),b.stopPropagation(),a(this).hasClass("k-scheduler-update")?(c.trigger("change"),c._defaultValue=a.extend({},c._value)):c._value=c._defaultValue;var d=c._value.freq;c._endButton.text(c._endText()),c._endFields.toggleClass("k-state-disabled",!d),c._repeatButton.text(e.frequencies[d||"never"]),c._pane.one("viewShow",function(){c._destroyView()}),c._pane.navigate(h,c.options.animations.right)}),c._container=c._view.element.find(".k-recur-view"),"repeat"===b?(c._initFrequency(),c._initRepeatView()):(c._initEndNavigation(),c._initEndView())},_destroyView:function(){this._view&&(this._view.destroy(),this._view.element.remove()),this._view=null},_initRepeatView:function(){var a=this,b=a._value.freq||"never",c={frequency:b,weekDayCheckBoxes:gb,firstWeekDay:a.options.firstWeekDay,messages:a.options.messages[b]},d=ob(c),e=a._container,f=a._value;return E.destroy(e),e.html(d),d?("weekly"!==b||f.weekDays||(f.weekDays=[{day:a.options.start.getDay(),offset:0}]),a._initInterval(),a._initMonthDay(),a._initWeekDays(),a._initWeekDay(),a._initMonth(),void a._period()):void(a._value={})},_initEndView:function(a){var c=this,d=c._value;a===b&&(d.count?a="count":d.until&&(a="until"));var e={endPattern:a,messages:c.options.messages.end};E.destroy(c._container),c._container.html(pb(e)),c._initCount(),c._initUntil()},_initWeekDay:function(){var b,c=this,d=c.options.messages.weekdays,e=c.options.messages.offsetPositions,f=c._container.find(".k-recur-weekday"),g=function(){c._weekDayRule(),c.trigger("change")};f[0]&&(c._weekDayOffset=c._container.find(".k-recur-weekday-offset").html(c._options([{text:e.first,value:"1"},{text:e.second,value:"2"},{text:e.third,value:"3"},{text:e.fourth,value:"4"},{text:e.last,value:"-1"}])).change(g),b=[{text:d.day,value:"day"},{text:d.weekday,value:"weekday"},{text:d.weekend,value:"weekend"}],b=b.concat(a.map(E.culture().calendar.days.names,function(a,b){return{text:a,value:b}})),c._weekDay=f.html(c._options(b)).change(g).val(c.options.start.getDay()),c._weekDayView())},_initMonth:function(){var b=this,c=b._value,d=b.options.start,e=c.months||[d.getMonth()+1],f=b._container.find(".k-recur-month"),g=E.culture().calendar.months.names;if(f[0]){var h=a.map(g,function(a,b){return{text:a,value:b+1}});f.html(b._options(h)).change(function(){c.months=[Number(this.value)]}),b._monthSelect=f,e&&f.val(e[0])}},_period:function(){var b=this,c=b._value,d=b._container,e=b.options.messages[c.freq],f=d.find(".k-repeat-rule"),g=d.find(".k-weekday-view"),h=d.find(".k-monthday-view");if(f[0]){var i=c.weekDays?"weekday":"monthday",j=qb({value:i,dataSource:[{text:e.dayOfMonth,value:"monthday"},{text:e.dayOfWeek,value:"weekday"}],ns:E.ns}),k=function(a){var d=b._weekDay.val(),e=b._weekDayOffset.val(),f=b._monthDay.value(),i=b._monthSelect?b._monthSelect.val():null;"monthday"===a?(c.weekDays=null,c.monthDays=f?[f]:f,c.months=i?[Number(i)]:i,g.hide(),h.show()):(c.monthDays=null,c.months=i?[Number(i)]:i,c.weekDays=[{offset:Number(e),day:Number(d)}],g.show(),h.hide())};f.append(j).on(fb+b._namespace,".k-scheduler-navigation li",function(b){var c=a(this).addClass("k-state-selected");b.preventDefault(),c.siblings().removeClass("k-state-selected");var d=c.children("a").attr(E.attr("value"));k(d)}),k(i)}},_initUntil:function(){var a=this,b=a._container.find(".k-recur-until"),c=a.options.start,d=a._value,e=d.until,f=e&&c>e?e:c;a._until=E.support.input.date?b.attr("min",E.toString(f,"yyyy-MM-dd")).val(E.toString(e||c,"yyyy-MM-dd")).on("change",function(){d.until=E.parseDate(this.value,"yyyy-MM-dd")}):b.kendoDatePicker({min:f,value:e||c,change:function(){d.until=this.value()}}).data("kendoDatePicker")},_options:function(a,b){var c=0,d="",e=a.length,f=this._optionTemplate;for(b&&(d+=f({value:"",text:b}));e>c;c++)d+=f(a[c]);return d}});H.plugin(rb)}(window.kendo.jQuery),function(a,b){function c(a,b){return b=b||"",a.startTimezone&&(b=a.startTimezone,a.endTimezone&&(b+=" | "+a.endTimezone)),b}function d(a,b){var c=b.timezone;c&&(a[s.attr("timezone")]=c)}function e(a,b){var c=b.model.fields[b.field].validation;if(c){var d=c.dateCompare;d&&G(d)&&d.message&&(a[s.attr("dateCompare-msg")]=d.message)}}function f(a,b){return function(c){return c=a(c),h(c,"apply",b),c||[]}}function g(a,b){return function(c){return c&&("[object Array]"===J.call(c)||c instanceof s.data.ObservableArray||(c=[c])),h(c,"remove",b,!0),c=a(c),c||[]}}function h(a,b,c,d){var e,f,g;for(a=a||[],f=0,g=a.length;g>f;f++)e=a[f],d?e.startTimezone||e.endTimezone?c?(e.start=s.timezone.convert(e.start,e.startTimezone||e.endTimezone,c),e.end=s.timezone.convert(e.end,e.endTimezone||e.startTimezone,c),e.start=s.timezone[b](e.start,c),e.end=s.timezone[b](e.end,c)):(e.start=s.timezone[b](e.start,e.startTimezone||e.endTimezone),e.end=s.timezone[b](e.end,e.endTimezone||e.startTimezone)):c&&(e.start=s.timezone[b](e.start,c),e.end=s.timezone[b](e.end,c)):e.startTimezone||e.endTimezone?(e.start=s.timezone[b](e.start,e.startTimezone||e.endTimezone),e.end=s.timezone[b](e.end,e.endTimezone||e.startTimezone),c&&(e.start=s.timezone.convert(e.start,e.startTimezone||e.endTimezone,c),e.end=s.timezone.convert(e.end,e.endTimezone||e.startTimezone,c))):c&&(e.start=s.timezone[b](e.start,c),e.end=s.timezone[b](e.end,c)),d&&delete e.uid;return a}function i(a,b){for(var c,d=a.length,e=0;d>e;e++)if(c=a[e],c.uid===b)return c}function j(a){var b=new Date(1980,0,1);return b.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),b}function k(a){if(a.filter("[name=end]").length){var b=a.closest(".k-scheduler-edit-form"),c=b.find("[name=start]:visible"),d=b.find("[name=end]:visible");if(d[0]&&c[0]){var e,f,g=s.widgetInstance(c,s.ui),h=s.widgetInstance(d,s.ui),i=b.data("kendoEditable"),j=i?i.options.model:null;if(g&&h?(e=g.value(),f=h.value()):(e=s.parseDate(c.val()),f=s.parseDate(d.val())),e&&f){if(j){var k=c.attr(s.attr("timezone")),l=j.startTimezone,m=j.endTimezone;l=l||m,m=m||l,l&&(k?(e=s.timezone.convert(j.start,l,k),f=s.timezone.convert(j.end,m,k)):(e=s.timezone.remove(j.start,l),f=s.timezone.remove(j.end,m)))}return f>=e}}}return!0}function l(a,b,c,d){for(var e=a.length,f=[],g=0;e>g;g++)f=f.concat(a[g].expand(b,c,d));return f}function m(a){return delete a.name,delete a.prefix,delete a.remove,delete a.edit,delete a.add,delete a.navigate,a}function n(b){return function(c){a(s.format('<select data-{0}bind="value:{1}">',s.ns,b.field)).appendTo(c).kendoDropDownList({dataTextField:b.dataTextField,dataValueField:b.dataValueField,dataSource:b.dataSource,valuePrimitive:b.valuePrimitive,optionLabel:"None",template:s.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',b.dataColorField,b.dataTextField)})}}function o(b){return function(c){for(var d="",e=b.dataSource.view(),f=0,g=e.length;g>f;f++)d+=s.format('<option value="{0}">{1}</option>',s.getter(b.dataValueField)(e[f]),s.getter(b.dataTextField)(e[f]));a(s.format('<select data-{0}bind="value:{1}">{2}</select>',s.ns,b.field,d)).appendTo(c)}}function p(b){return function(c){a(s.format('<select data-{0}bind="value:{1}">',s.ns,b.field)).appendTo(c).kendoMultiSelect({dataTextField:b.dataTextField,dataValueField:b.dataValueField,dataSource:b.dataSource,valuePrimitive:b.valuePrimitive,itemTemplate:s.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',b.dataColorField,b.dataTextField),tagTemplate:s.format('<span class="k-scheduler-mark" style="background-color:#= data.{0}?{0}:"none" #"></span>#={1}#',b.dataColorField,b.dataTextField)})}}function q(b){return function(c){for(var d="",e=b.dataSource.view(),f=0,g=e.length;g>f;f++)d+=s.format('<option value="{0}">{1}</option>',s.getter(b.dataValueField)(e[f]),s.getter(b.dataTextField)(e[f]));a(s.format('<select data-{0}bind="value:{1}" multiple="multiple" data-{0}value-primitive="{3}">{2}</select>',s.ns,b.field,d,b.valuePrimitive)).appendTo(c)}}function r(a,b){var c=a.end.getTime()-a.start.getTime(),d=new Date(a.start.getTime());s.date.setTime(d,b);var e=new Date(d.getTime());return s.date.setTime(e,c),{start:d,end:e}}var s=window.kendo,t=s.date,u=s.support.input,v=t.MS_PER_DAY,w=t.getDate,x=s.date.getMilliseconds,y=s.recurrence,z=s.keys,A=s.ui,B=A.Widget,C="string",D=A.Popup,E=A.Calendar,F=s.data.DataSource,G=a.isPlainObject,H=a.extend,I=a.proxy,J=Object.prototype.toString,K=a.isArray,L=".kendoScheduler",M="click",N="change",O="cancel",P="remove",Q="save",R="add",S="edit",T=w(new Date),U="recurrenceException",V="Are you sure you want to delete this event?",W="Do you want to delete only this event occurrence or the whole series?",X="Do you want to edit only this event occurrence or the whole series?",Y='<a class="k-button #=className#" #=attr# href="\\#">#=text#</a>',Z=s.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li><li class="k-state-default k-nav-current"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-calendar"></span><span data-#=ns#bind="text: formattedDate"></span></a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#=view#" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div>'),$=s.template('<div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-today"><a role="button" href="\\#" class="k-link">${messages.today}</a></li></ul><ul class="k-reset k-header k-toolbar k-scheduler-views">#for(var view in views){#<li class="k-state-default k-view-#=view#" data-#=ns#name="#=view#"><a role="button" href="\\#" class="k-link">${views[view].title}</a></li>#}#</ul></div><div class="k-floatwrap k-header k-scheduler-toolbar"><ul class="k-reset k-header k-toolbar k-scheduler-navigation"><li class="k-state-default k-nav-prev"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-w"></span></a></li><li class="k-state-default k-nav-current"><span data-#=ns#bind="text: formattedDate"></span></li><li class="k-state-default k-nav-next"><a role="button" href="\\#" class="k-link"><span class="k-icon k-i-arrow-e"></span></a></li></ul></div>'),_=function(b,c){var f={name:c.field},g=u.date?"":s.attr("role")+'="datepicker" ',h=u.datetimelocal?"":s.attr("role")+'="datetimepicker" ';d(f,c),e(f,c),a('<input type="datetime-local" required '+s.attr("type")+'="date" '+h+s.attr("bind")+'="value:'+c.field+',invisible:isAllDay" />').attr(f).appendTo(b),a('<input type="date" required '+s.attr("type")+'="date" '+g+s.attr("bind")+'="value:'+c.field+',visible:isAllDay" />').attr(f).appendTo(b),a("<span "+s.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},ab=function(b,c){var f={name:c.field};d(f,c),e(f,c),a('<input type="text" required '+s.attr("type")+'="date" '+s.attr("role")+'="datetimepicker" '+s.attr("bind")+'="value:'+c.field+',invisible:isAllDay" />').attr(f).appendTo(b),a('<input type="text" required '+s.attr("type")+'="date" '+s.attr("role")+'="datepicker" '+s.attr("bind")+'="value:'+c.field+',visible:isAllDay" />').attr(f).appendTo(b),a("<span "+s.attr("bind")+'="text: '+c.field+'Timezone"></span>').appendTo(b),"end"===c.field&&a("<span "+s.attr("bind")+'="text: startTimezone, invisible: endTimezone"></span>').appendTo(b),a("<span "+s.attr("for")+'="'+c.field+'" class="k-invalid-msg"/>').hide().appendTo(b)},bb=function(b,c){a("<div "+s.attr("bind")+'="value:'+c.field+'" />').attr({name:c.field}).appendTo(b).kendoRecurrenceEditor({start:c.model.start,timezone:c.timezone,messages:c.messages})},cb=function(b,c){a("<div "+s.attr("bind")+'="value:'+c.field+'" />').attr({name:c.field}).appendTo(b).kendoMobileRecurrenceEditor({start:c.model.start,timezone:c.timezone,messages:c.messages,pane:c.pane,value:c.model[c.field]})},db=function(b,d){var e=c(d.model,d.messages.noTimezone);a('<a href="#" class="k-button k-timezone-button">'+e+"</a>").click(d.click).appendTo(b)},eb=function(b,c){a('<a href="#" class="k-button">'+c.messages.timezoneEditorButton+"</a>").click(c.click).appendTo(b)},fb=function(b,c){a("<div "+s.attr("bind")+'="value:'+c.field+'" />').attr({name:c.field}).toggle(c.visible).appendTo(b).kendoMobileTimezoneEditor()},gb=function(b,c){a("<div "+s.attr("bind")+'="value:'+c.field+'" />').attr({name:c.field}).toggle(c.visible).appendTo(b).kendoTimezoneEditor()},hb=s.Class.extend({init:function(b,c){var d=b.timezone;this.reader=c,c.model&&(this.model=c.model),this.timezone=d,this.data=f(a.proxy(this.data,this),d),this.serialize=g(a.proxy(this.serialize,this),d)},errors:function(a){return this.reader.errors(a)},parse:function(a){return this.reader.parse(a)},data:function(a){return this.reader.data(a)},total:function(a){return this.reader.total(a)},groups:function(a){return this.reader.groups(a)},aggregates:function(a){return this.reader.aggregates(a)},serialize:function(a){return this.reader.serialize(a)}}),ib=s.data.Model.define({init:function(a){var b=this;s.data.Model.fn.init.call(b,a),b._defaultId=b.defaults[b.idField]},clone:function(b,c){var d=this.uid,e=new this.constructor(a.extend({},this.toJSON(),b));return c||(e.uid=d),e},duration:function(){var a=this.end,b=this.start,c=(a.getTimezoneOffset()-b.getTimezoneOffset())*s.date.MS_PER_MINUTE;return a-b-c},expand:function(a,b,c){return y?y.expand(this,a,b,c):[this]},update:function(a){for(var b in a)this.set(b,a[b]);this.startTime&&this.set("startTime",j(this.start)),this.endTime&&this.set("endTime",j(this.end))},isMultiDay:function(){return this.isAllDay||this.duration()>=s.date.MS_PER_DAY},isException:function(){return!this.isNew()&&this.recurrenceId},isOccurrence:function(){return this.isNew()&&this.recurrenceId},isRecurring:function(){return!(!this.recurrenceRule&&!this.recurrenceId)},isRecurrenceHead:function(){return!(!this.id||!this.recurrenceRule)},toOccurrence:function(b){return b=a.extend(b,{recurrenceException:null,recurrenceRule:null,recurrenceId:this.id||this.recurrenceId}),b[this.idField]=this.defaults[this.idField],this.clone(b,!0)},toJSON:function(){var a=s.data.Model.fn.toJSON.call(this);return a.uid=this.uid,delete a.startTime,delete a.endTime,a},shouldSerialize:function(a){return s.data.Model.fn.shouldSerialize.call(this,a)&&"_defaultId"!==a},set:function(a,b){var c=this.isAllDay||!1;if(s.data.Model.fn.set.call(this,a,b),"isAllDay"==a&&b!=c){var d=s.date.getDate(this.start),e=new Date(this.end),f=s.date.getMilliseconds(e);0===f&&b&&(f=v),this.set("start",d),b===!0?(s.date.setTime(e,-f),d>e&&(e=d)):s.date.setTime(e,v-f),this.set("end",e)}},id:"id",fields:{id:{type:"number"},title:{defaultValue:"",type:"string"},start:{type:"date",validation:{required:!0}},startTimezone:{type:"string"},end:{type:"date",validation:{required:!0,dateCompare:{value:k,message:"End date should be greater than or equal to the start date"}}},endTimezone:{type:"string"},recurrenceRule:{defaultValue:"",type:"string"},recurrenceException:{defaultValue:"",type:"string"},isAllDay:{type:"boolean",defaultValue:!1},description:{type:"string"}}}),jb=F.extend({init:function(a){F.fn.init.call(this,H(!0,{},{schema:{modelBase:ib,model:ib}},a)),this.reader=new hb(this.options.schema,this.reader)},expand:function(a,b){var c=this.view(),d={};return a&&b&&(b=new Date(b.getTime()+v-1),d={logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:a},{field:"end",operator:"gte",value:a},{field:"start",operator:"lte",value:b}]},{logic:"and",filters:[{field:"start",operator:"lte",value:new Date(a.getTime()+v-1)},{field:"end",operator:"gte",value:a}]}]},c=new s.data.Query(l(c,a,b,this.reader.timezone)).filter(d).toArray()),c},cancelChanges:function(a){a&&a.isOccurrence()&&this._removeExceptionDate(a),F.fn.cancelChanges.call(this,a)},insert:function(a,b){if(b){if(!(b instanceof ib)){var c=b;b=this._createNewModel(),b.accept(c)}return(b.isRecurrenceHead()||b.recurrenceId)&&(b=b.recurrenceId?b:b.toOccurrence(),this._addExceptionDate(b)),F.fn.insert.call(this,a,b)}},remove:function(a){return a.isRecurrenceHead()?this._removeExceptions(a):a.isRecurring()&&this._addExceptionDate(a),F.fn.remove.call(this,a)},_removeExceptions:function(a){for(var b=this.data().slice(0),c=b.shift(),d=a.id;c;)c.recurrenceId===d&&F.fn.remove.call(this,c),c=b.shift();a.set(U,"")},_removeExceptionDate:function(a){if(a.recurrenceId){var b=this.get(a.recurrenceId);if(b){var c=a.start;b.set(U,b.recurrenceException.replace(y.toExceptionString(c,this.reader.timezone),""))}}},_addExceptionDate:function(a){var b=a.start,c=this.reader.timezone,d=this.get(a.recurrenceId),e=d.recurrenceException||"";y.isException(e,b,c)||d.set(U,e+y.toExceptionString(b,c))}});jb.create=function(a){a=a&&a.push?{data:a}:a;var b=a||{},c=b.data;if(b.data=c,!(b instanceof jb)&&b instanceof s.data.DataSource)throw new Error("Incorrect DataSource type. Only SchedulerDataSource instances are supported");return b instanceof jb?b:new jb(b)},H(!0,s.data,{SchedulerDataSource:jb,SchedulerDataReader:hb,SchedulerEvent:ib});var kb={update:{text:"Save",className:"k-scheduler-update"},canceledit:{text:"Cancel",className:"k-scheduler-cancel"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-scheduler-delete",iconClass:"k-icon"}},lb={mobile:{dateRange:_,timezonePopUp:db,timezone:fb,recurrence:cb,description:'<textarea name="description" class="k-textbox"/>',multipleResources:q,resources:o},desktop:{dateRange:ab,timezonePopUp:eb,timezone:gb,recurrence:bb,description:'<textarea name="description" class="k-textbox"/>',multipleResources:p,resources:n}},mb=s.Observable.extend({init:function(a,b){s.Observable.fn.init.call(this),this.element=a,this.options=H(!0,{},this.options,b),this.createButton=this.options.createButton},fields:function(a,b){var c=this,d=c.options.messages,e=c.options.timezone,f=function(a){a.preventDefault(),c._initTimezoneEditor(b,this)},g=[{field:"title",title:d.editor.title},{field:"start",title:d.editor.start,editor:a.dateRange,timezone:e},{field:"end",title:d.editor.end,editor:a.dateRange,timezone:e},{field:"isAllDay",title:d.editor.allDayEvent}];s.timezone.windows_zones&&!b.isAllDay&&(g.push({field:"timezone",title:d.editor.timezone,editor:a.timezonePopUp,click:f,messages:d.editor,model:b}),g.push({field:"startTimezone",title:d.editor.startTimezone,editor:a.timezone}),g.push({field:"endTimezone",title:d.editor.endTimezone,editor:a.timezone})),b.recurrenceId||g.push({field:"recurrenceRule",title:d.editor.repeat,editor:a.recurrence,timezone:e,messages:d.recurrenceEditor,pane:this.pane}),"description"in b&&g.push({field:"description",title:d.editor.description,editor:a.description});for(var h=0;h<this.options.resources.length;h++){var i=this.options.resources[h];g.push({field:i.field,title:i.title,editor:i.multiple?a.multipleResources(i):a.resources(i)})}return g},end:function(){return this.editable.end()},_buildEditTemplate:function(a,b,c){var d=this.options.messages,e=H({},s.Template,this.options.templateSettings),f=e.paramName,g=this.options.editable.template,h="";if(g)typeof g===C&&(g=window.unescape(g)),h+=s.template(g,e)(a);else for(var i=0,j=b.length;j>i;i++){var k=b[i];if("startTimezone"===k.field&&(h+='<div class="k-popup-edit-form k-scheduler-edit-form k-scheduler-timezones" style="display:none">',h+='<div class="k-edit-form-container">',h+='<div class="k-edit-label"></div>',h+='<div class="k-edit-field"><label class="k-check"><input class="k-timezone-toggle" type="checkbox" />'+d.editor.separateTimezones+"</label></div>"),h+='<div class="k-edit-label"><label for="'+k.field+'">'+(k.title||k.field||"")+"</label></div>",!a.editable||a.editable(k.field))c.push(k),h+="<div "+s.attr("container-for")+'="'+k.field+'" class="k-edit-field"></div>';else{var l="#:";k.field?(k=s.expr(k.field,f),l+=k+"==null?'':"+k):l+="''",l+="#",l=s.template(l,e),h+='<div class="k-edit-field">'+l(a)+"</div>"}"endTimezone"===k.field&&(h+=this._createEndTimezoneButton())}return h},_createEndTimezoneButton:function(){return"</div></div>"},_revertTimezones:function(a){a.set("startTimezone",this._startTimezone),a.set("endTimezone",this._endTimezone),delete this._startTimezone,delete this._endTimezone}}),nb=mb.extend({init:function(){mb.fn.init.apply(this,arguments),this.pane=s.mobile.ui.Pane.wrap(this.element),this.pane.element.parent().css("height",this.options.height),this.view=this.pane.view(),this._actionSheetButtonTemplate=s.template('<li><a #=attr# class="k-button #=className#" href="\\#">#:text#</a></li>'),this._actionSheetPopupOptions=a(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"}},options:{animations:{left:"slide",right:"slide:right"}},destroy:function(){this.close(),this.unbind(),this.pane.destroy()},_initTimezoneEditor:function(b){var d=this,e=d.pane,f=d.options.messages,g=d.timezoneView,h=d.container.find(".k-scheduler-timezones"),i=h.find(".k-timezone-toggle"),j=h.find(".k-edit-label:last").add(h.find(".k-edit-field:last")),k=function(a){if("startTimezone"===a.field){var c=b.startTimezone;i.prop("disabled",!c),c||(j.hide(),b.set("endTimezone",""),i.prop("checked",!1))}};if(d._startTimezone=b.startTimezone||"",d._endTimezone=b.endTimezone||"",!g){var l='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+f.cancel+"</a>"+f.editor.timezoneTitle+'<a href="#" class="k-button k-scheduler-update">'+f.save+"</a></div></div>";this.timezoneView=g=e.append(l),g.contentElement().append(h.show()),g.element.on(M+L,".k-scheduler-cancel, .k-scheduler-update",function(g){g.preventDefault(),g.stopPropagation(),a(this).hasClass("k-scheduler-cancel")&&d._revertTimezones(b),b.unbind("change",k);var h=e.element.find("#edit").data("kendoMobileView"),i=c(b,f.editor.noTimezone);h.contentElement().find(".k-timezone-button").text(i),e.navigate(h,d.options.animations.right)}),i.click(function(){j.toggle(i.prop("checked")),b.set("endTimezone","")}),b.bind("change",k)}i.prop("checked",b.endTimezone).prop("disabled",!b.startTimezone),b.endTimezone?j.show():j.hide(),e.navigate(g,d.options.animations.left)},_createActionSheetButton:function(a){return a.template=this._actionSheetButtonTemplate,this.createButton(a)},showDialog:function(b){var c="",d='<ul><li class="km-actionsheet-title">'+b.title+"</li>",e=this.element.find(".k-event["+s.attr("uid")+"='"+b.model.uid+"']");this.container&&(e=this.container.find(".k-scheduler-delete"),e[0]&&(c="phone"));for(var f=0;f<b.buttons.length;f++)d+=this._createActionSheetButton(b.buttons[f]);d+="</ul>";var g=a(d).appendTo(this.pane.view().element).kendoMobileActionSheet({type:c,cancel:this.options.messages.cancel,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(c){var d=g.element.find("li:not(.km-actionsheet-cancel) > .k-button").index(a(c.currentTarget));
d>-1&&(g.close(),b.buttons[d].click())},popup:this._actionSheetPopupOptions}).data("kendoMobileActionSheet");g.open(e)},editEvent:function(b){var c=this.pane,d="",e=this.options.messages,f=e.save,g=e.destroy,h=e.cancel,i=e.editor.editorTitle;d+='<div data-role="view" class="k-popup-edit-form k-scheduler-edit-form k-mobile-list" id="edit" '+s.attr("uid")+'="'+b.uid+'"><div data-role="header" class="k-header"><a href="#" class="k-button k-scheduler-cancel">'+h+"</a>"+i+'<a href="#" class="k-button k-scheduler-update">'+f+"</a></div>";var j=this.fields(lb.mobile,b),k=this,l=[];d+=this._buildEditTemplate(b,j,l),!b.isNew()&&this.options.editable&&this.options.editable.destroy!==!1&&(d+='<div class="k-edit-buttons"><a href="#" class="k-scheduler-delete k-button">'+g+"</a></div>"),d+="</div>";var m=c.append(d),n=this.container=m.element;return this.editable=n.kendoEditable({fields:l,model:b,clearContainer:!1,validateOnBlur:!0}).data("kendoEditable"),n.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){a(this).next().children("input").click()}),this.trigger("edit",{container:n,model:b})?this.trigger("cancel",{container:n,model:b}):(n.on(M+L,"a.k-scheduler-edit, a.k-scheduler-cancel, a.k-scheduler-update, a.k-scheduler-delete",function(d){d.preventDefault(),d.stopPropagation();var e=a(this);if(e.hasClass("k-scheduler-edit"))c.navigate("#edit",k.options.animations.right);else{var f="cancel";e.hasClass("k-scheduler-update")?f="save":e.hasClass("k-scheduler-delete")&&(f="remove"),k.trigger(f,{container:n,model:b})}}),c.navigate(m,k.options.animations.left)),this.editable},_views:function(){return this.pane.element.find(s.roleSelector("view")).not(this.view.element)},close:function(){if(this.container){this.pane.navigate("",this.options.animations.right);for(var a,b=this._views(),c=0,d=b.length;d>c;c++)a=b.eq(c).data("kendoMobileView"),a&&a.purge();b.remove(),this.container=null,this.editable&&(this.editable.destroy(),this.editable=null),this.timezoneView=null}}}),ob=mb.extend({destroy:function(){this.close(),this.unbind()},editEvent:function(a){return this.editable=this._createPopupEditor(a),this.editable},close:function(){var a=this,b=function(){a.editable&&(a.editable.destroy(),a.editable=null,a.container=null),a.popup&&(a.popup.destroy(),a.popup=null)};a.editable?(a._timezonePopup&&a._timezonePopup.data("kendoWindow")&&(a._timezonePopup.data("kendoWindow").destroy(),a._timezonePopup=null),a.container.is(":visible")?a.container.data("kendoWindow").bind("deactivate",b).close():b()):b()},_createEndTimezoneButton:function(){var a=this.options.messages,b="";return b+='<div class="k-edit-buttons k-state-default">',b+=this.createButton({name:"savetimezone",text:a.save})+this.createButton({name:"canceltimezone",text:a.cancel}),b+="</div></div></div>"},showDialog:function(b){var c=s.format("<div class='k-popup-edit-form'><div class='k-edit-form-container'><p class='k-popup-message'>{0}</p>",b.text);c+='<div class="k-edit-buttons k-state-default">';for(var d=0;d<b.buttons.length;d++)c+=this.createButton(b.buttons[d]);c+="</div></div></div>";var e=this.element;this.popup&&this.popup.destroy();var f=this.popup=a(c).appendTo(e).eq(0).on("click",".k-button",function(c){c.preventDefault(),f.close();var d=a(c.currentTarget).index();b.buttons[d].click()}).kendoWindow({modal:!0,resizable:!1,draggable:!1,title:b.title,visible:!1,close:function(){this.destroy(),e.focus()}}).getKendoWindow();f.center().open()},_createPopupEditor:function(b){var c=this,d=c.options.editable,e="<div "+s.attr("uid")+'="'+b.uid+'" class="k-popup-edit-form k-scheduler-edit-form"><div class="k-edit-form-container">',f=c.options.messages,g=f.save,h=f.cancel,i=f.destroy,j=this.fields(lb.desktop,b),k=[];e+=this._buildEditTemplate(b,j,k);var l,m=G(d)?d.window:{};e+='<div class="k-edit-buttons k-state-default">',e+=this.createButton({name:"update",text:g,attr:l})+this.createButton({name:"canceledit",text:h,attr:l}),b.isNew()||d.destroy===!1||(e+=this.createButton({name:"delete",text:i,attr:l})),e+="</div></div></div>";var n=this.container=a(e).appendTo(c.element).eq(0).kendoWindow(H({modal:!0,resizable:!1,draggable:!0,title:f.editor.editorTitle,visible:!1,close:function(a){a.userTriggered&&c.trigger(O,{container:n,model:b})&&a.preventDefault()}},m)),o=n.kendoEditable({fields:k,model:b,clearContainer:!1,validateOnBlur:!0}).data("kendoEditable");return c.trigger(S,{container:n,model:b})?c.trigger(O,{container:n,model:b}):(n.data("kendoWindow").center().open(),n.on(M+L,"a.k-scheduler-cancel",function(a){a.preventDefault(),a.stopPropagation(),c.trigger(O,{container:n,model:b})}),n.on(M+L,"a.k-scheduler-update",function(a){a.preventDefault(),a.stopPropagation(),c.trigger("save",{container:n,model:b})}),n.on(M+L,"a.k-scheduler-delete",function(a){a.preventDefault(),a.stopPropagation(),c.trigger(P,{container:n,model:b})})),o},_initTimezoneEditor:function(a,b){var c,d=this,e=d.container.find(".k-scheduler-timezones"),f=e.find(".k-timezone-toggle"),g=e.find(".k-edit-label:last").add(e.find(".k-edit-field:last")),h=e.find(".k-scheduler-savetimezone"),i=e.find(".k-scheduler-canceltimezone"),j=d._timezonePopup,k=function(b){if("startTimezone"===b.field){var c=a.startTimezone;f.prop("disabled",!c),c||(g.hide(),a.set("endTimezone",""),f.prop("checked",!1))}};d._startTimezone=a.startTimezone,d._endTimezone=a.endTimezone,j||(d._timezonePopup=j=e.kendoWindow({modal:!0,resizable:!1,draggable:!0,title:d.options.messages.editor.timezoneEditorTitle,visible:!1,close:function(c){a.unbind("change",k),c.userTriggered&&d._revertTimezones(a),b&&b.focus()}}),f.click(function(){g.toggle(f.prop("checked")),a.set("endTimezone","")}),h.click(function(a){a.preventDefault(),c.close()}),i.click(function(b){b.preventDefault(),d._revertTimezones(a),c.close()}),a.bind("change",k)),f.prop("checked",a.endTimezone).prop("disabled",!a.startTimezone),a.endTimezone?g.show():g.hide(),c=j.data("kendoWindow"),c.center().open()}}),pb=B.extend({init:function(b,c){var d=this;B.fn.init.call(d,b,c),d.options.views&&d.options.views.length||(d.options.views=["day","week"]),d.resources=[],d._initModel(),d._wrapper(),d._views(),d._toolbar(),d._dataSource(),d._resources(),d._resizeHandler=I(d.resize,d),d.wrapper.on("mousedown"+L+" selectstart"+L,function(a){a.preventDefault()}),d.options.editable&&d.options.editable.resize!==!1&&d._resizable(),d._movable(),a(window).on("resize"+L,d._resizeHandler),d.options.messages&&d.options.messages.recurrence&&(y.options=d.options.messages.recurrence),d._selectable(),d._ariaId=s.guid(),d._createEditor()},_isMobile:function(){var a=this.options;return a.mobile===!0&&s.support.mobileOS||"phone"===a.mobile||"tablet"===a.mobile},_isMobilePhoneView:function(){var a=this.options;return a.mobile===!0&&s.support.mobileOS&&!s.support.mobileOS.tablet||"phone"===a.mobile},_selectable:function(){var b=this,c=b.wrapper,d=s.support.mobileOS?"touchend":"mousedown";if(b.options.selectable){b._tabindex(),c.on(d+L,".k-scheduler-header-all-day td, .k-scheduler-content td, .k-event",function(a){var d=a.which,e=a.button,f=d&&3===d||e&&2==e;f||b._createSelection(a.currentTarget),c.focus()});var e=a.proxy(b._mouseMove,b);c.on("mousedown"+L,".k-scheduler-header-all-day td, .k-scheduler-content td",function(a){var b=a.which,d=a.button,f=b&&3===b||d&&2==d;f||c.on("mousemove"+L,".k-scheduler-header-all-day td, .k-scheduler-content td",e)}),c.on("mouseup"+L+" mouseleave"+L,function(){c.off("mousemove"+L,".k-scheduler-header-all-day td, .k-scheduler-content td",e)}),c.on("focus"+L,function(){b._selection||b._createSelection(a(".k-scheduler-content").find("td:first")),b._select()}),c.on("focusout"+L,function(){b.view().clearSelection(),b._ctrlKey=b._shiftKey=!1}),c.on("keydown"+L,I(b._keydown,b)),c.on("keyup"+L,function(a){b._ctrlKey=a.ctrlKey,b._shiftKey=a.shiftKey})}},_select:function(){var a=this,b=a.view(),c=a.wrapper,d=b.current(),e=a._selection;if(d&&(d.removeAttribute("id"),d.removeAttribute("aria-label"),c.removeAttr("aria-activedescendant")),b.select(e),d=b.current(),d&&a._old!==d){var f,g=e,h=a._selectedEvents(),i=b._selectedSlots;h[0]?(g=h[0]||e,f=s.format(a.options.messages.ariaEventLabel,g.title,g.start,g.start)):f=s.format(a.options.messages.ariaSlotLabel,g.start,g.end),d.setAttribute("id",a._ariaId),d.setAttribute("aria-label",f),c.attr("aria-activedescendant",a._ariaId),a._old=d,a.trigger("change",{start:e.start,end:e.end,events:h,slots:i,resources:b._resourceBySlot(e)})}},_selectedEvents:function(){for(var a,b=this._selection.events,c=b.length,d=0,e=[];c>d;d++)a=this.occurrenceByUid(b[d]),a&&e.push(a);return e},_mouseMove:function(b){var c=this;clearTimeout(c._moveTimer),c._moveTimer=setTimeout(function(){var d=c.view(),e=c._selection;if(e){var f=d.selectionByElement(a(b.currentTarget));if(f&&e.groupIndex===f.groupIndex){var g=f.startDate(),h=f.endDate();g>=e.end?e.backward=!1:h<=e.start&&(e.backward=!0),e.backward?e.start=g:e.end=h,c._select()}}},5)},_viewByIndex:function(a){var b,c=this.views;for(b in c){if(!a)return b;a--}},_keydown:function(b){var c=this,d=b.keyCode,e=c.view(),f=e.options.editable,g=c._selection,h=b.shiftKey;c._ctrlKey=b.ctrlKey,c._shiftKey=b.shiftKey,d===z.TAB?e.moveToEvent(g,h)&&(c._select(),b.preventDefault()):f&&d===z.ENTER?g.events.length?f.update!==!1&&c.editEvent(g.events[0]):f.create!==!1&&(g.isAllDay&&(g=a.extend({},g,{end:s.date.addDays(g.end,-1)})),c.addEvent(H({},g,e._resourceBySlot(g)))):d===z.DELETE&&f!==!1&&f.destroy!==!1?c.removeEvent(g.events[0]):d>=49&&57>=d?c.view(c._viewByIndex(d-49)):e.move(g,d,h)&&(e.inRange(g)?c._select():c.date(g.start),b.preventDefault()),c._adjustSelectedDate()},_createSelection:function(b){var c,d,e;this._selection&&(this._ctrlKey||this._shiftKey)||(this._selection={events:[],groupIndex:0}),b=a(b),e=this._selection,c=b.attr(s.attr("uid")),d=this.view().selectionByElement(b),d&&(e.groupIndex=d.groupIndex||0),c&&(d=i(this._data,c)),d&&d.uid&&(c=[d.uid]),this._updateSelection(d,c),this._adjustSelectedDate()},_updateSelection:function(a,b){var c=this._selection;if(a&&c){if(this._shiftKey&&c.start&&c.end){var d=a.end<c.end,e=this.view();c.end=a.endDate?a.endDate():a.end,d&&e._timeSlotInterval&&s.date.setTime(c.end,-e._timeSlotInterval())}else c.start=a.startDate?a.startDate():a.start,c.end=a.endDate?a.endDate():a.end;c.isAllDay="isDaySlot"in a?a.isDaySlot:a.isAllDay,c.index=a.index,c.events=this._ctrlKey?c.events.concat(b||[]):b||[]}},options:{name:"Scheduler",date:T,editable:!0,autoBind:!0,snap:!0,mobile:!1,timezone:"",min:new Date(1900,0,1),max:new Date(2099,11,31),messages:{today:"Today",save:"Save",cancel:"Cancel",destroy:"Delete",deleteWindowTitle:"Delete event",ariaSlotLabel:"Selected from {0:t} to {1:t}",ariaEventLabel:"{0} on {1:D} at {2:t}",views:{day:"Day",week:"Week",workWeek:"Work Week",agenda:"Agenda",month:"Month"},recurrenceMessages:{deleteWindowTitle:"Delete Recurring Item",deleteWindowOccurrence:"Delete current occurrence",deleteWindowSeries:"Delete the series",editWindowTitle:"Edit Recurring Item",editWindowOccurrence:"Edit current occurrence",editWindowSeries:"Edit the series"},editor:{title:"Title",start:"Start",end:"End",allDayEvent:"All day event",description:"Description",repeat:"Repeat",timezone:" ",startTimezone:"Start timezone",endTimezone:"End timezone",separateTimezones:"Use separate start and end time zones",timezoneEditorTitle:"Timezones",timezoneEditorButton:"Time zone",timezoneTitle:"Time zones",noTimezone:"No timezone",editorTitle:"Event"}},height:null,width:null,resources:[],group:{resources:[],direction:"horizontal"},views:[],selectable:!1},events:[P,S,O,Q,"add","dataBinding","dataBound","moveStart","move","moveEnd","resizeStart","resize","resizeEnd","navigate","change"],destroy:function(){var b,c=this;B.fn.destroy.call(c),c.dataSource&&c.dataSource.unbind(N,c._refreshHandler),c.calendar&&(c.calendar.destroy(),c.popup.destroy()),c.view()&&c.view().destroy(),c._editor&&c._editor.destroy(),this._moveDraggable&&this._moveDraggable.destroy(),this._resizeDraggable&&this._resizeDraggable.destroy(),b=c.element.add(c.wrapper).add(c.toolbar).add(c.popup),b.off(L),c._model=null,c.toolbar=null,c.element=null,a(window).off("resize"+L,c._resizeHandler),s.destroy(c.wrapper)},setDataSource:function(a){this.options.dataSource=a,this._dataSource(),this.options.autoBind&&a.fetch()},items:function(){return this.wrapper.children(".k-event, .k-task")},_movable:function(){var b,c,d,e,f,g=this,h=g._isMobile(),i=g.options.editable&&g.options.editable.move!==!1,j=g.options.editable&&g.options.editable.resize!==!1;(i||j&&h)&&(g._moveDraggable=new s.ui.Draggable(g.element,{distance:0,filter:".k-event",holdToDrag:h}),i&&g._moveDraggable.bind("dragstart",function(a){var e=g.view(),i=a.currentTarget;return e.options.editable&&e.options.editable.move!==!1?h&&!i.hasClass("k-event-active")?(g.element.find(".k-event-active").removeClass("k-event-active"),void a.preventDefault()):(f=g.occurrenceByUid(i.attr(s.attr("uid"))),b=e._slotByPosition(a.x.location,a.y.location),d=b.startOffset(a.x.location,a.y.location,g.options.snap),c=b,void((!b||g.trigger("moveStart",{event:f}))&&a.preventDefault())):void a.preventDefault()}).bind("drag",function(a){var b=g.view(),h=b._slotByPosition(a.x.location,a.y.location);if(h){e=h.startOffset(a.x.location,a.y.location,g.options.snap);var i=e-d;b._updateMoveHint(f,h.groupIndex,i);var j=r(f,i);g.trigger("move",{event:f,slot:{element:h.element,start:h.startDate(),end:h.endDate()},resources:b._resourceBySlot(h),start:j.start,end:j.end})?b._updateMoveHint(f,h.groupIndex,i):c=h}}).bind("dragend",function(h){g.view()._removeMoveHint();var i=e-d,j=r(f,i),k=j.start,l=j.end,m=g.view()._resourceBySlot(c),n=g.view()._resourceBySlot(b),o=g.trigger("moveEnd",{event:f,slot:{element:c.element,start:c.startDate(),end:c.endDate()},start:k,end:l,resources:m});o||f.start.getTime()==k.getTime()&&f.end.getTime()==l.getTime()&&s.stringify(m)==s.stringify(n)||g._updateEvent(null,f,a.extend({start:k,end:l},m)),h.currentTarget.removeClass("k-event-active"),this.cancelHold()}).bind("dragcancel",function(){g.view()._removeMoveHint(),this.cancelHold()}),h&&(g._moveDraggable.bind("hold",function(a){g.element.find(".k-scheduler-monthview").length&&a.preventDefault(),g.element.find(".k-event-active").removeClass("k-event-active"),a.currentTarget.addClass("k-event-active")}),g._moveDraggable.userEvents.bind("press",function(a){a.preventDefault()})))},_resizable:function(){function b(a){var b={"k-resize-e":"east","k-resize-w":"west","k-resize-n":"north","k-resize-s":"south"};for(var c in b)if(a.hasClass(c))return b[c]}var c,d,e,f,g=this;g._resizeDraggable=new s.ui.Draggable(g.element,{distance:0,filter:".k-resize-handle",dragstart:function(b){var h=a(b.currentTarget),i=h.closest(".k-event"),j=i.attr(s.attr("uid"));e=g.occurrenceByUid(j),f=g.view()._slotByPosition(b.x.location,b.y.location),g.trigger("resizeStart",{event:e})&&b.preventDefault(),c=s.date.toUtcTime(e.start),d=s.date.toUtcTime(e.end)},drag:function(h){if(f){var i=a(h.currentTarget),j=b(i),k=g.view(),l=k._slotByPosition(h.x.location,h.y.location);if(l&&f.groupIndex==l.groupIndex){f=l;var m=c,n=d;"south"==j?!f.isDaySlot&&f.end-s.date.toUtcTime(e.start)>=k._timeSlotInterval()&&(d=e.isAllDay?f.startOffset(h.x.location,h.y.location,g.options.snap):f.endOffset(h.x.location,h.y.location,g.options.snap)):"north"==j?!f.isDaySlot&&s.date.toUtcTime(e.end)-f.start>=k._timeSlotInterval()&&(c=f.startOffset(h.x.location,h.y.location,g.options.snap)):"east"==j?f.isDaySlot&&s.date.toUtcTime(s.date.getDate(f.endDate()))>=s.date.toUtcTime(s.date.getDate(e.start))&&(d=e.isAllDay?f.startOffset(h.x.location,h.y.location,g.options.snap):f.endOffset(h.x.location,h.y.location,g.options.snap)):"west"==j&&f.isDaySlot&&s.date.toUtcTime(s.date.getDate(e.end))>=s.date.toUtcTime(s.date.getDate(f.startDate()))&&(c=f.startOffset(h.x.location,h.y.location,g.options.snap)),g.trigger("resize",{event:e,slot:{element:f.element,start:f.startDate(),end:f.endDate()},start:s.timezone.toLocalDate(c),end:s.timezone.toLocalDate(d),resources:k._resourceBySlot(f)})?(c=m,d=n):k._updateResizeHint(e,f.groupIndex,c,d)}}},dragend:function(h){var i=a(h.currentTarget),j=new Date(e.start.getTime()),k=new Date(e.end.getTime()),l=b(i);g.view()._removeResizeHint(),"south"==l?k=s.timezone.toLocalDate(d):"north"==l?j=s.timezone.toLocalDate(c):"east"==l?k=s.date.getDate(s.timezone.toLocalDate(d)):"west"==l&&(j=new Date(s.timezone.toLocalDate(c)),j.setHours(0),j.setMinutes(0));var m=g.trigger("resizeEnd",{event:e,slot:{element:f.element,start:f.startDate(),end:f.endDate()},start:j,end:k,resources:g.view()._resourceBySlot(f)});!m&&k.getTime()>=j.getTime()&&(e.start.getTime()!=j.getTime()||e.end.getTime()!=k.getTime())&&g._updateEvent(l,e,{start:j,end:k}),f=null,e=null},dragcancel:function(){g.view()._removeResizeHint(),f=null,e=null}})},_updateEvent:function(a,b,c){var d=this,e=function(a,b){try{d._preventRefresh=!0,a.update(c),d._convertDates(a)}finally{d._preventRefresh=!1}d.trigger(Q,{event:a})||(b&&b(),d._updateSelection(a),d.dataSource.sync())},f=function(a){return a.recurrenceRule?d.dataSource.getByUid(a.uid):d.dataSource.get(a.recurrenceId)},g=function(){var g=f(b);if("south"==a||"north"==a){if(c.start){var h=s.date.getDate(g.start);s.date.setTime(h,x(c.start)),c.start=h}if(c.end){var i=s.date.getDate(g.end);s.date.setTime(i,x(c.end)),c.end=i}}d.dataSource._removeExceptions(g),e(g)},h=function(){var a=f(b),c=function(){d._convertDates(a)},g=a.toOccurrence({start:b.start,end:b.end});e(d.dataSource.add(g),c)},i=d.options.messages.recurrenceMessages;b.recurrenceRule||b.isOccurrence()?d.showDialog({model:b,title:i.editWindowTitle,text:i.editRecurring?i.editRecurring:X,buttons:[{text:i.editWindowOccurrence,click:h},{text:i.editWindowSeries,click:g}]}):e(d.dataSource.getByUid(b.uid))},_modelForContainer:function(b){return b=a(b).closest("["+s.attr("uid")+"]"),this.dataSource.getByUid(b.attr(s.attr("uid")))},showDialog:function(a){this._editor.showDialog(a)},focus:function(){this.wrapper.focus()},_confirmation:function(a,b){var c=this.options.editable;if(c===!0||c.confirmation!==!1){var d=this.options.messages,e=typeof c.confirmation===C?c.confirmation:V,f=[{name:"destroy",text:d.destroy,click:function(){a()}}];this._isMobile()&&s.mobile.ui.Pane||f.push({name:"canceledit",text:d.cancel,click:function(){a(!0)}}),this.showDialog({model:b,text:e,title:d.deleteWindowTitle,buttons:f})}else a()},addEvent:function(a){var b,c=this._editor.editable,d=this.dataSource;a=a||{};var e=this.trigger("add",{event:a});!e&&(c&&c.end()||!c)&&(this.cancelEvent(),a&&a.toJSON&&(a=a.toJSON()),b=d.add(a),b&&(this.cancelEvent(),this._editEvent(b)))},saveEvent:function(){var a=this._editor;if(a){var b=a.editable,c=a.container,d=this._modelForContainer(c);c&&b&&b.end()&&!this.trigger(Q,{container:c,event:d})&&(d.isRecurrenceHead()&&this.dataSource._removeExceptions(d),d.dirty||d.isOccurrence()||this._convertDates(d,"remove"),this.dataSource.sync())}},cancelEvent:function(){var a,b=this._editor,c=b.container;c&&(a=this._modelForContainer(c),a.isOccurrence()&&(this._convertDates(a,"remove"),this._convertDates(this.dataSource.get(a.recurrenceId),"remove")),this.dataSource.cancelChanges(a),b.close())},editEvent:function(a){var b="string"==typeof a?this.occurrenceByUid(a):a;b&&(this.cancelEvent(),b.isRecurring()?this._editRecurringDialog(b):this._editEvent(b))},_editEvent:function(a){this._createPopupEditor(a)},_editRecurringDialog:function(a){var b=this,c=function(){a.isException()?b._editEvent(a):b.addEvent(a)},d=function(){a.recurrenceId&&(a=b.dataSource.get(a.recurrenceId)),b._editEvent(a)},e=b.options.messages.recurrenceMessages;b.showDialog({model:a,title:e.editWindowTitle,text:e.editRecurring?e.editRecurring:X,buttons:[{text:e.editWindowOccurrence,click:c},{text:e.editWindowSeries,click:d}]})},_createButton:function(a){var b=a.template||Y,c=typeof a===C?a:a.name||a.text,d={className:"k-scheduler-"+(c||"").replace(/\s/g,""),text:c,attr:""};if(!(c||G(a)&&a.template))throw new Error("Custom commands should have name specified");return G(a)?(a.className&&(a.className+=" "+d.className),"edit"===c&&G(a.text)&&(a=H(!0,{},a),a.text=a.text.edit),d=H(!0,d,kb[c],a)):d=H(!0,d,kb[c]),s.template(b)(d)},_convertDates:function(a,b){var c=this.dataSource.reader.timezone,d=a.startTimezone,e=a.endTimezone,f=a.start,g=a.start;b=b||"apply",d=d||e,e=e||d,d&&(c?"apply"===b?(f=s.timezone.convert(a.start,c,d),g=s.timezone.convert(a.end,c,e)):(f=s.timezone.convert(a.start,d,c),g=s.timezone.convert(a.end,e,c)):(f=s.timezone[b](a.start,d),g=s.timezone[b](a.end,e)),a._set("start",f),a._set("end",g))},_createEditor:function(){var a,b=this;a=b._editor=this._isMobile()&&s.mobile.ui.Pane?new nb(this.wrapper,H({},this.options,{timezone:b.dataSource.reader.timezone,resources:b.resources,createButton:I(this._createButton,this)})):new ob(this.wrapper,H({},this.options,{createButton:I(this._createButton,this),timezone:b.dataSource.reader.timezone,resources:b.resources})),a.bind("cancel",function(a){return b.trigger("cancel",{container:a.container,event:a.model})?void a.preventDefault():(b.cancelEvent(),void b.focus())}),a.bind("edit",function(a){b.trigger(S,{container:a.container,event:a.model})&&a.preventDefault()}),a.bind("save",function(){b.saveEvent()}),a.bind("remove",function(a){b.removeEvent(a.model)})},_createPopupEditor:function(a){var b=this._editor;(!a.isNew()||a.isOccurrence())&&(a.isOccurrence()&&this._convertDates(a.recurrenceId?this.dataSource.get(a.recurrenceId):a),this._convertDates(a)),this.editable=b.editEvent(a)},removeEvent:function(a){var b=this,c="string"==typeof a?b.occurrenceByUid(a):a;c&&(c.isRecurring()?b._deleteRecurringDialog(c):b._confirmation(function(a){a||b._removeEvent(c)},c))},occurrenceByUid:function(a){var b=this.dataSource.getByUid(a);return b||(b=i(this._data,a)),b},occurrencesInRange:function(a,b){return new s.data.Query(this._data).filter({logic:"or",filters:[{logic:"and",filters:[{field:"start",operator:"gte",value:a},{field:"end",operator:"gte",value:a},{field:"start",operator:"lt",value:b}]},{logic:"and",filters:[{field:"start",operator:"lte",value:a},{field:"end",operator:"gt",value:a}]}]}).toArray()},_removeEvent:function(a){this.trigger(P,{event:a})||this.dataSource.remove(a)&&this.dataSource.sync()},_deleteRecurringDialog:function(a){var b=this,c=a,d=function(){var a=c.recurrenceId?c:c.toOccurrence(),d=b.dataSource.get(a.recurrenceId);b._convertDates(d),b._removeEvent(a)},e=function(){c.recurrenceId&&(c=b.dataSource.get(c.recurrenceId)),b._removeEvent(c)},f=b.options.messages.recurrenceMessages;b.showDialog({model:a,title:f.deleteWindowTitle,text:f.deleteRecurring?f.deleteRecurring:W,buttons:[{text:f.deleteWindowOccurrence,click:d},{text:f.deleteWindowSeries,click:e}]})},_unbindView:function(a){a.destroy()},_bindView:function(a){var b=this;b.options.editable&&(b._viewRemoveHandler&&a.unbind(P,b._viewRemoveHandler),b._viewRemoveHandler=function(a){b.removeEvent(a.uid)},a.bind(P,b._viewRemoveHandler),b._viewAddHandler&&a.unbind(R,b._viewAddHandler),b._viewAddHandler=function(a){b.addEvent(a.eventInfo)},a.bind(R,this._viewAddHandler),b._viewEditHandler&&a.unbind(S,b._viewEditHandler),b._viewEditHandler=function(a){b.editEvent(a.uid)},a.bind(S,this._viewEditHandler)),b._viewNavigateHandler&&a.unbind("navigate",b._viewNavigateHandler),b._viewNavigateHandler=function(a){if(a.view){var c="isWorkDay"in a,d=c?"changeWorkDay":"changeView";b.trigger("navigate",{view:a.view,isWorkDay:a.isWorkDay,action:d,date:a.date})||(c&&(b._workDayMode=a.isWorkDay),b._selectView(a.view),b.date(a.date))}},a.bind("navigate",b._viewNavigateHandler),b._viewActivateHandler&&a.unbind("activate",b._viewActivateHandler),b._viewActivateHandler=function(){var a=this;b._selection&&(a.constrainSelection(b._selection),b._select(),b._adjustSelectedDate())},a.bind("activate",b._viewActivateHandler)},_selectView:function(a){var b=this;a&&b.views[a]&&(b._selectedView&&b._unbindView(b._selectedView),b._selectedView=b._renderView(a),b._selectedViewName=a,b.toolbar.find(".k-scheduler-views li").removeClass("k-state-selected").end().find(".k-view-"+a.replace(/\./g,"\\.")).addClass("k-state-selected"))},view:function(a){var b=this;return a?(b._selectView(a),void b.rebind()):b._selectedView},_renderView:function(a){var b=this._initializeView(a);return this._bindView(b),this._model.set("formattedDate",b.dateForTitle()),b},resize:function(a){var b=this.getSize(),c=this._size;(a||!c||b.width!==c.width||b.height!==c.height)&&(this.refresh({action:"resize"}),this._size=b)},_adjustSelectedDate:function(){var a=this._model.selectedDate,b=this._selection,c=b.start;c&&!s.date.isInDateRange(a,w(c),w(b.end))&&a.setFullYear(c.getFullYear(),c.getMonth(),c.getDate())},_initializeView:function(a){var b=this.views[a];if(b){var c=G(b),d=b.type;if(typeof d===C&&(d=s.getter(b.type)(window)),!d)throw new Error("There is no such view");b=new d(this.wrapper,m(H(!0,{},this.options,c?b:{},{resources:this.resources,date:this.date(),showWorkHours:this._workDayMode})))}return b},_views:function(){var a,b,c,d,e,f,g,h,i=this.options.views;for(this.views={},g=0,h=i.length;h>g;g++){var j=!1;a=i[g],d=G(a),d?(f=e=a.type?a.type:a,typeof f!==C&&(e=a.title,j=!0)):f=e=a,b=qb[e],b&&!j&&(a.type=b.type,b.title=this.options.messages.views[e],"day"===b.type?b.messages={allDay:this.options.messages.allDay}:"agenda"===b.type&&(b.messages={event:this.options.messages.event,date:this.options.messages.date,time:this.options.messages.time})),a=H({title:e},b,d?a:{}),e&&(this.views[e]=a,(!c||a.selected)&&(c=e))}c&&(this._selectedViewName=c)},rebind:function(){this.dataSource.fetch()},_dataSource:function(){var a=this,b=a.options,c=b.dataSource;c=K(c)?{data:c}:c,!b.timezone||c instanceof jb||(c=H(!0,c,{schema:{timezone:b.timezone}})),a.dataSource&&a._refreshHandler?a.dataSource.unbind(N,a._refreshHandler).unbind("progress",a._progressHandler).unbind("error",a._errorHandler):(a._refreshHandler=I(a.refresh,a),a._progressHandler=I(a._requestStart,a),a._errorHandler=I(a._error,a)),a.dataSource=s.data.SchedulerDataSource.create(c).bind(N,a._refreshHandler).bind("progress",a._progressHandler).bind("error",a._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_progress:function(a){var b=this.element.find(".k-scheduler-content");s.ui.progress(b,a)},_resources:function(){for(var b=this,c=b.options.resources,d=0;d<c.length;d++){var e=c[d],f=e.field,g=e.dataSource;if(!f||!g)throw new Error('The "field" and "dataSource" options of the scheduler resource are mandatory.');b.resources.push({field:f,name:e.name||f,title:e.title||f,dataTextField:e.dataTextField||"text",dataValueField:e.dataValueField||"value",dataColorField:e.dataColorField||"color",valuePrimitive:null!=e.valuePrimitive?e.valuePrimitive:!0,multiple:e.multiple||!1,dataSource:s.data.DataSource.create(g)})}var h=a.map(b.resources,function(a){return a.dataSource.fetch()});a.when.apply(null,h).then(function(){b.options.autoBind?b.view(b._selectedViewName):b._selectView(b._selectedViewName)})},_initModel:function(){var a=this;a._model=s.observable({selectedDate:new Date(this.options.date),formattedDate:""}),a._model.bind("change",function(b){"selectedDate"===b.field&&a.view(a._selectedViewName)})},_wrapper:function(){var a=this,b=a.options,c=b.height,d=b.width;a.wrapper=a.element.addClass("k-widget k-scheduler k-floatwrap").attr("role","grid").attr("aria-multiselectable",!0),a._isMobile()&&a.wrapper.addClass("k-scheduler-mobile"),a._isMobilePhoneView()&&a.wrapper.addClass("k-scheduler-phone"),c&&a.wrapper.height(c),d&&a.wrapper.width(d)},date:function(a){return null!=a&&w(a)>=w(this.options.min)&&w(a)<=w(this.options.max)&&this._model.set("selectedDate",a),w(this._model.get("selectedDate"))},_toolbar:function(){var b=this,c=b.options,d=this._isMobilePhoneView()?$:Z,e=a(d({messages:c.messages,ns:s.ns,views:b.views}));b.wrapper.append(e),b.toolbar=e,s.bind(b.toolbar,b._model),e.on(M+L,".k-scheduler-navigation li",function(c){var d=a(this),e=new Date(b.date()),f="";if(c.preventDefault(),d.hasClass("k-nav-today"))f="today",e=new Date;else if(d.hasClass("k-nav-next"))f="next",e=b.view().nextDate();else if(d.hasClass("k-nav-prev"))f="previous",e=b.view().previousDate();else if(d.hasClass("k-nav-current")&&!b._isMobilePhoneView())return void b._showCalendar();b.trigger("navigate",{view:b._selectedViewName,action:f,date:e})||b.date(e)}),e.on(M+L,".k-scheduler-views li",function(c){c.preventDefault();var d=a(this).attr(s.attr("name"));b.trigger("navigate",{view:d,action:"changeView",date:b.date()})||b.view(d)}),e.find("li").hover(function(){a(this).addClass("k-state-hover")},function(){a(this).removeClass("k-state-hover")})},_showCalendar:function(){var b=this,c=b.toolbar.find(".k-nav-current"),d=a('<div class="k-calendar-container"><div class="k-scheduler-calendar"/></div>');b.popup||(b.popup=new D(d,{anchor:c,activate:function(){b.calendar||(b.calendar=new E(this.element.find(".k-scheduler-calendar"),{change:function(){var a=this.value();b.trigger("navigate",{view:b._selectedViewName,action:"changeDate",date:a})||(b.date(a),b.popup.close())},min:b.options.min,max:b.options.max})),b.calendar.value(b.date())},copyAnchorStyles:!1})),b.popup.open()},refresh:function(a){var b=this.view();this._progress(!1),a=a||{},b&&(a&&"itemchange"===a.action&&(this._editor.editable||this._preventRefresh)||this.trigger("dataBinding",{action:a.action||"rebind",index:a.index,items:a.items})||(a&&"resize"===a.action||!this._editor||this._editor.close(),this._data=this.dataSource.expand(b.startDate(),b.endDate()),b.render(this._data),this.trigger("dataBound")))},slotByPosition:function(a,b){var c=this.view();if(!c._slotByPosition)return null;var d=c._slotByPosition(a,b);return d?{startDate:d.startDate(),endDate:d.endDate(),groupIndex:d.groupIndex,element:d.element,isDaySlot:d.isDaySlot}:null},slotByElement:function(b){var c=a(b).offset();return this.slotByPosition(c.left,c.top)},resourcesBySlot:function(a){return this.view()._resourceBySlot(a)}}),qb={day:{type:"kendo.ui.DayView"},week:{type:"kendo.ui.WeekView"},workWeek:{type:"kendo.ui.WorkWeekView"},agenda:{type:"kendo.ui.AgendaView"},month:{type:"kendo.ui.MonthView"}};A.plugin(pb);var rb=B.extend({init:function(a,b){var c=this,d=s.timezone.windows_zones;if(!d||!s.timezone.zones_titles)throw new Error("kendo.timezones.min.js is not included.");B.fn.init.call(c,a,b),c.wrapper=c.element,c._zonesQuery=new s.data.Query(d),c._zoneTitleId=s.guid(),c._zoneTitlePicker(),c._zonePicker(),c.value(c.options.value)},options:{name:"TimezoneEditor",value:"",optionLabel:"No timezone"},events:["change"],_zoneTitlePicker:function(){var b=this,c=a('<input id="'+b._zoneTitleId+'"/>').appendTo(b.wrapper);b._zoneTitle=new s.ui.DropDownList(c,{dataSource:s.timezone.zones_titles,dataValueField:"other_zone",dataTextField:"name",optionLabel:b.options.optionLabel,cascade:function(){this.value()||b._zone.wrapper.hide()}})},_zonePicker:function(){var b=this,c=a("<input />").appendTo(this.wrapper);b._zone=new s.ui.DropDownList(c,{dataValueField:"zone",dataTextField:"territory",dataSource:b._zonesQuery.data,cascadeFrom:b._zoneTitleId,cascade:function(){b._value=this.value(),b.trigger("change")},dataBound:function(){b._value=this.value(),this.wrapper.toggle(this.dataSource.view().length>1)}}),b._zone.wrapper.hide()},destroy:function(){B.fn.destroy.call(this),s.destroy(this.wrapper)},value:function(a){var c,d=this;return a===b?d._value:(c=d._zonesQuery.filter({field:"zone",operator:"eq",value:a}).data[0],void(c?(d._zoneTitle.value(c.other_zone),d._zone.value(c.zone)):d._zoneTitle.value("")))}});A.plugin(rb);var sb=s.template('<option value="#=other_zone#">#=name#</option>'),tb=s.template('<option value="#=zone#">#=territory#</option>'),ub=B.extend({init:function(a,b){var c=this,d=s.timezone.windows_zones;if(!d||!s.timezone.zones_titles)throw new Error("kendo.timezones.min.js is not included.");
B.fn.init.call(c,a,b),c.wrapper=c.element,c._zonesQuery=new s.data.Query(d),c._zoneTitlePicker(),c._zonePicker(),c.value(c.options.value)},options:{name:"MobileTimezoneEditor",optionLabel:"No timezone",value:""},events:["change"],_bindZones:function(a){var b=a?this._filter(a):[];this._zone.html(this._options(b,tb))},_filter:function(a){return this._zonesQuery.filter({field:"other_zone",operator:"eq",value:a}).data},_options:function(a,b,c){var d=0,e="",f=a.length;for(c&&(e+=b({other_zone:"",name:this.options.optionLabel}));f>d;d++)e+=b(a[d]);return e},_zoneTitlePicker:function(){var b=this,c=b._options(s.timezone.zones_titles,sb,b.options.optionLabel);b._zoneTitle=a("<select>"+c+"</select>").appendTo(b.wrapper).change(function(){var a=this.value,c=b._zone;b._bindZones(a),a&&c[0].children.length>1?c.show():c.hide(),b._value=c[0].value,b.trigger("change")})},_zonePicker:function(){var b=this;b._zone=a('<select style="display:none"></select>').appendTo(this.wrapper).change(function(){b._value=this.value,b.trigger("change")}),b._bindZones(b._zoneTitle.val()),b._value=b._zone[0].value},destroy:function(){B.fn.destroy.call(this),s.destroy(this.wrapper)},value:function(a){var c,d=this,e=d._zone,f="",g="";return a===b?d._value:(c=d._zonesQuery.filter({field:"zone",operator:"eq",value:a}).data[0],c&&(g=c.zone,f=c.other_zone),d._zoneTitle.val(f),d._bindZones(f),e.val(g),g=e[0].value,g&&e[0].children.length>1?e.show():e.hide(),void(d._value=g))}});A.plugin(ub)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a,b){b()}),function(){function a(a,b,c){for(var d=(c||0)-1,e=a?a.length:0;++d<e;)if(a[d]===b)return d;return-1}function b(b,c){var d=typeof c;if(b=b.cache,"boolean"==d||null==c)return b[c]?0:-1;"number"!=d&&"string"!=d&&(d="object");var e="number"==d?c:u+c;return b=(b=b[d])&&b[e],"object"==d?b&&a(b,c)>-1?0:-1:b?0:-1}function c(a){var b=this.cache,c=typeof a;if("boolean"==c||null==a)b[a]=!0;else{"number"!=c&&"string"!=c&&(c="object");var d="number"==c?a:u+a,e=b[c]||(b[c]={});"object"==c?(e[d]||(e[d]=[])).push(a):e[d]=!0}}function d(a){return a.charCodeAt(0)}function e(a,b){for(var c=a.criteria,d=b.criteria,e=-1,f=c.length;++e<f;){var g=c[e],h=d[e];if(g!==h){if(g>h||"undefined"==typeof g)return 1;if(h>g||"undefined"==typeof h)return-1}}return a.index-b.index}function f(a){var b=-1,d=a.length,e=a[0],f=a[d/2|0],g=a[d-1];if(e&&"object"==typeof e&&f&&"object"==typeof f&&g&&"object"==typeof g)return!1;var h=i();h["false"]=h["null"]=h["true"]=h.undefined=!1;var j=i();for(j.array=a,j.cache=h,j.push=c;++b<d;)j.push(a[b]);return j}function g(a){return"\\"+_[a]}function h(){return q.pop()||[]}function i(){return r.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function j(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}function l(a){a.length=0,q.length<w&&q.push(a)}function m(a){var b=a.cache;b&&m(b),a.array=a.cache=a.criteria=a.object=a.number=a.string=a.value=null,r.length<w&&r.push(a)}function n(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function o(c){function q(a){return a&&"object"==typeof a&&!ke(a)&&Rd.call(a,"__wrapped__")?a:new r(a)}function r(a,b){this.__chain__=!!b,this.__wrapped__=a}function w(a){function b(){if(d){var a=n(d);Sd.apply(a,arguments)}if(this instanceof b){var f=bb(c.prototype),g=c.apply(f,a||arguments);return Lb(g)?g:f}return c.apply(e,a||arguments)}var c=a[0],d=a[2],e=a[4];return je(b,a),b}function _(a,b,c,d,e){if(c){var f=c(a);if("undefined"!=typeof f)return f}var g=Lb(a);if(!g)return a;var i=Kd.call(a);if(!W[i]||!he.nodeClass&&j(a))return a;var k=fe[i];switch(i){case O:case P:return new k(+a);case S:case V:return new k(a);case U:return f=k(a.source,C.exec(a)),f.lastIndex=a.lastIndex,f}var m=ke(a);if(b){var o=!d;d||(d=h()),e||(e=h());for(var p=d.length;p--;)if(d[p]==a)return e[p];f=m?k(a.length):{}}else f=m?n(a):ve({},a);return m&&(Rd.call(a,"index")&&(f.index=a.index),Rd.call(a,"input")&&(f.input=a.input)),b?(d.push(a),e.push(f),(m?ue:ye)(a,function(a,g){f[g]=_(a,b,c,d,e)}),o&&(l(d),l(e)),f):f}function bb(a){return Lb(a)?Yd(a):{}}function cb(a,b,c){if("function"!=typeof a)return ed;if("undefined"==typeof b||!("prototype"in a))return a;var d=a.__bindData__;if("undefined"==typeof d&&(he.funcNames&&(d=!a.name),d=d||!he.funcDecomp,!d)){var e=Pd.call(a);he.funcNames||(d=!D.test(e)),d||(d=H.test(e),je(a,d))}if(d===!1||d!==!0&&1&d[1])return a;switch(c){case 1:return function(c){return a.call(b,c)};case 2:return function(c,d){return a.call(b,c,d)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return Pc(a,b)}function db(a){function b(){var a=i?g:this;if(e){var o=n(e);Sd.apply(o,arguments)}if((f||k)&&(o||(o=n(arguments)),f&&Sd.apply(o,f),k&&o.length<h))return d|=16,db([c,l?d:-4&d,o,null,g,h]);if(o||(o=arguments),j&&(c=a[m]),this instanceof b){a=bb(c.prototype);var p=c.apply(a,o);return Lb(p)?p:a}return c.apply(a,o)}var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],i=1&d,j=2&d,k=4&d,l=8&d,m=c;return je(b,a),b}function eb(c,d){var e=-1,g=pb(),h=c?c.length:0,i=h>=v&&g===a,j=[];if(i){var k=f(d);k?(g=b,d=k):i=!1}for(;++e<h;){var l=c[e];g(d,l)<0&&j.push(l)}return i&&m(d),j}function gb(a,b,c,d){for(var e=(d||0)-1,f=a?a.length:0,g=[];++e<f;){var h=a[e];if(h&&"object"==typeof h&&"number"==typeof h.length&&(ke(h)||tb(h))){b||(h=gb(h,b,c));var i=-1,j=h.length,k=g.length;for(g.length+=j;++i<j;)g[k++]=h[i]}else c||g.push(h)}return g}function hb(a,b,c,d,e,f){if(c){var g=c(a,b);if("undefined"!=typeof g)return!!g}if(a===b)return 0!==a||1/a==1/b;var i=typeof a,k=typeof b;if(!(a!==a||a&&$[i]||b&&$[k]))return!1;if(null==a||null==b)return a===b;var m=Kd.call(a),n=Kd.call(b);if(m==M&&(m=T),n==M&&(n=T),m!=n)return!1;switch(m){case O:case P:return+a==+b;case S:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case U:case V:return a==Dd(b)}var o=m==N;if(!o){var p=Rd.call(a,"__wrapped__"),q=Rd.call(b,"__wrapped__");if(p||q)return hb(p?a.__wrapped__:a,q?b.__wrapped__:b,c,d,e,f);if(m!=T||!he.nodeClass&&(j(a)||j(b)))return!1;var r=!he.argsObject&&tb(a)?Bd:a.constructor,s=!he.argsObject&&tb(b)?Bd:b.constructor;if(r!=s&&!(Kb(r)&&r instanceof r&&Kb(s)&&s instanceof s)&&"constructor"in a&&"constructor"in b)return!1}var t=!e;e||(e=h()),f||(f=h());for(var u=e.length;u--;)if(e[u]==a)return f[u]==b;var v=0;if(g=!0,e.push(a),f.push(b),o){if(u=a.length,v=b.length,g=v==u,g||d)for(;v--;){var w=u,x=b[v];if(d)for(;w--&&!(g=hb(a[w],x,c,d,e,f)););else if(!(g=hb(a[v],x,c,d,e,f)))break}}else xe(b,function(b,h,i){return Rd.call(i,h)?(v++,g=Rd.call(a,h)&&hb(a[h],b,c,d,e,f)):void 0}),g&&!d&&xe(a,function(a,b,c){return Rd.call(c,b)?g=--v>-1:void 0});return e.pop(),f.pop(),t&&(l(e),l(f)),g}function ib(a,b,c,d,e){(ke(b)?dc:ye)(b,function(b,f){var g,h,i=b,j=a[f];if(b&&((h=ke(b))||ze(b))){for(var k=d.length;k--;)if(g=d[k]==b){j=e[k];break}if(!g){var l;c&&(i=c(j,b),(l="undefined"!=typeof i)&&(j=i)),l||(j=h?ke(j)?j:[]:ze(j)?j:{}),d.push(b),e.push(j),l||ib(j,b,c,d,e)}}else c&&(i=c(j,b),"undefined"==typeof i&&(i=b)),"undefined"!=typeof i&&(j=i);a[f]=j})}function jb(a,b){return a+Od(ee()*(b-a+1))}function kb(c,d,e){var g=-1,i=pb(),j=c?c.length:0,k=[],n=!d&&j>=v&&i===a,o=e||n?h():k;if(n){var p=f(o);i=b,o=p}for(;++g<j;){var q=c[g],r=e?e(q,g,c):q;(d?!g||o[o.length-1]!==r:i(o,r)<0)&&((e||n)&&o.push(r),k.push(q))}return n?(l(o.array),m(o)):e&&l(o),k}function lb(a){return function(b,c,d){var e={};if(c=q.createCallback(c,d,3),ke(b))for(var f=-1,g=b.length;++f<g;){var h=b[f];a(e,h,c(h,f,b),b)}else ue(b,function(b,d,f){a(e,b,c(b,d,f),f)});return e}}function mb(a,b,c,d,e,f){var g=1&b,h=2&b,i=4&b,j=16&b,k=32&b;if(!h&&!Kb(a))throw new Ed;j&&!c.length&&(b&=-17,j=c=!1),k&&!d.length&&(b&=-33,k=d=!1);var l=a&&a.__bindData__;if(l&&l!==!0)return l=n(l),l[2]&&(l[2]=n(l[2])),l[3]&&(l[3]=n(l[3])),!g||1&l[1]||(l[4]=e),!g&&1&l[1]&&(b|=8),!i||4&l[1]||(l[5]=f),j&&Sd.apply(l[2]||(l[2]=[]),c),k&&Wd.apply(l[3]||(l[3]=[]),d),l[1]|=b,mb.apply(null,l);var m=1==b||17===b?w:db;return m([a,b,c,d,e,f])}function nb(){Z.shadowedProps=K,Z.array=Z.bottom=Z.loop=Z.top="",Z.init="iterable",Z.useHas=!0;for(var a,b=0;a=arguments[b];b++)for(var c in a)Z[c]=a[c];var d=Z.args;Z.firstArg=/^[^,]+/.exec(d)[0];var e=yd("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+d+") {\n"+ie(Z)+"\n}");return e(cb,Q,Gd,Rd,t,tb,ke,Qb,Z.keys,Hd,$,ge,V,Id,Kd)}function ob(a){return qe[a]}function pb(){var b=(b=q.indexOf)===yc?a:b;return b}function qb(a){return"function"==typeof a&&Ld.test(a)}function rb(a){var b,c;return!a||Kd.call(a)!=T||(b=a.constructor,Kb(b)&&!(b instanceof b))||!he.argsClass&&tb(a)||!he.nodeClass&&j(a)?!1:he.ownLast?(xe(a,function(a,b,d){return c=Rd.call(d,b),!1}),c!==!1):(xe(a,function(a,b){c=b}),"undefined"==typeof c||Rd.call(a,c))}function sb(a){return re[a]}function tb(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Kd.call(a)==M||!1}function ub(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c=b,b=!1),_(a,b,"function"==typeof c&&cb(c,d,1))}function vb(a,b,c){return _(a,!0,"function"==typeof b&&cb(b,c,1))}function wb(a,b){var c=bb(a);return b?ve(c,b):c}function xb(a,b,c){var d;return b=q.createCallback(b,c,3),ye(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function yb(a,b,c){var d;return b=q.createCallback(b,c,3),Ab(a,function(a,c,e){return b(a,c,e)?(d=c,!1):void 0}),d}function zb(a,b,c){var d=[];xe(a,function(a,b){d.push(b,a)});var e=d.length;for(b=cb(b,c,3);e--&&b(d[e--],d[e],a)!==!1;);return a}function Ab(a,b,c){var d=me(a),e=d.length;for(b=cb(b,c,3);e--;){var f=d[e];if(b(a[f],f,a)===!1)break}return a}function Bb(a){var b=[];return xe(a,function(a,c){Kb(a)&&b.push(c)}),b.sort()}function Cb(a,b){return a?Rd.call(a,b):!1}function Db(a){for(var b=-1,c=me(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function Eb(a){return a===!0||a===!1||a&&"object"==typeof a&&Kd.call(a)==O||!1}function Fb(a){return a&&"object"==typeof a&&Kd.call(a)==P||!1}function Gb(a){return a&&1===a.nodeType||!1}function Hb(a){var b=!0;if(!a)return b;var c=Kd.call(a),d=a.length;return c==N||c==V||(he.argsClass?c==M:tb(a))||c==T&&"number"==typeof d&&Kb(a.splice)?!d:(ye(a,function(){return b=!1}),b)}function Ib(a,b,c,d){return hb(a,b,"function"==typeof c&&cb(c,d,2))}function Jb(a){return $d(a)&&!_d(parseFloat(a))}function Kb(a){return"function"==typeof a}function Lb(a){return!(!a||!$[typeof a])}function Mb(a){return Ob(a)&&a!=+a}function Nb(a){return null===a}function Ob(a){return"number"==typeof a||a&&"object"==typeof a&&Kd.call(a)==S||!1}function Pb(a){return a&&$[typeof a]&&Kd.call(a)==U||!1}function Qb(a){return"string"==typeof a||a&&"object"==typeof a&&Kd.call(a)==V||!1}function Rb(a){return"undefined"==typeof a}function Sb(a,b,c){var d={};return b=q.createCallback(b,c,3),ye(a,function(a,c,e){d[c]=b(a,c,e)}),d}function Tb(a){var b=arguments,c=2;if(!Lb(a))return a;if("number"!=typeof b[2]&&(c=b.length),c>3&&"function"==typeof b[c-2])var d=cb(b[--c-1],b[c--],2);else c>2&&"function"==typeof b[c-1]&&(d=b[--c]);for(var e=n(arguments,1,c),f=-1,g=h(),i=h();++f<c;)ib(a,e[f],d,g,i);return l(g),l(i),a}function Ub(a,b,c){var d={};if("function"!=typeof b){var e=[];xe(a,function(a,b){e.push(b)}),e=eb(e,gb(arguments,!0,!1,1));for(var f=-1,g=e.length;++f<g;){var h=e[f];d[h]=a[h]}}else b=q.createCallback(b,c,3),xe(a,function(a,c,e){b(a,c,e)||(d[c]=a)});return d}function Vb(a){for(var b=-1,c=me(a),d=c.length,e=ud(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Wb(a,b,c){var d={};if("function"!=typeof b)for(var e=-1,f=gb(arguments,!0,!1,1),g=Lb(a)?f.length:0;++e<g;){var h=f[e];h in a&&(d[h]=a[h])}else b=q.createCallback(b,c,3),xe(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function Xb(a,b,c,d){var e=ke(a);if(null==c)if(e)c=[];else{var f=a&&a.constructor,g=f&&f.prototype;c=bb(g)}return b&&(b=q.createCallback(b,d,4),(e?ue:ye)(a,function(a,d,e){return b(c,a,d,e)})),c}function Yb(a){for(var b=-1,c=me(a),d=c.length,e=ud(d);++b<d;)e[b]=a[c[b]];return e}function Zb(a){var b=arguments,c=-1,d=gb(b,!0,!1,1),e=b[2]&&b[2][b[1]]===a?1:d.length,f=ud(e);for(he.unindexedChars&&Qb(a)&&(a=a.split(""));++c<e;)f[c]=a[d[c]];return f}function $b(a,b,c){var d=-1,e=pb(),f=a?a.length:0,g=!1;return c=(0>c?be(0,f+c):c)||0,ke(a)?g=e(a,b,c)>-1:"number"==typeof f?g=(Qb(a)?a.indexOf(b,c):e(a,b,c))>-1:ue(a,function(a){return++d>=c?!(g=a===b):void 0}),g}function _b(a,b,c){var d=!0;if(b=q.createCallback(b,c,3),ke(a))for(var e=-1,f=a.length;++e<f&&(d=!!b(a[e],e,a)););else ue(a,function(a,c,e){return d=!!b(a,c,e)});return d}function ac(a,b,c){var d=[];if(b=q.createCallback(b,c,3),ke(a))for(var e=-1,f=a.length;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else ue(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function bc(a,b,c){if(b=q.createCallback(b,c,3),!ke(a)){var d;return ue(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d}for(var e=-1,f=a.length;++e<f;){var g=a[e];if(b(g,e,a))return g}}function cc(a,b,c){var d;return b=q.createCallback(b,c,3),ec(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d}function dc(a,b,c){if(b&&"undefined"==typeof c&&ke(a))for(var d=-1,e=a.length;++d<e&&b(a[d],d,a)!==!1;);else ue(a,b,c);return a}function ec(a,b,c){var d=a,e=a?a.length:0;if(b=b&&"undefined"==typeof c?b:cb(b,c,3),ke(a))for(;e--&&b(a[e],e,a)!==!1;);else{if("number"!=typeof e){var f=me(a);e=f.length}else he.unindexedChars&&Qb(a)&&(d=a.split(""));ue(a,function(a,c,g){return c=f?f[--e]:--e,b(d[c],c,g)})}return a}function fc(a,b){var c=n(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=ud("number"==typeof f?f:0);return dc(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function gc(a,b,c){var d=-1,e=a?a.length:0,f=ud("number"==typeof e?e:0);if(b=q.createCallback(b,c,3),ke(a))for(;++d<e;)f[d]=b(a[d],d,a);else ue(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function hc(a,b,c){var e=-1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&ke(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];i>f&&(f=i)}else b=null==b&&Qb(a)?d:q.createCallback(b,c,3),ue(a,function(a,c,d){var g=b(a,c,d);g>e&&(e=g,f=a)});return f}function ic(a,b,c){var e=1/0,f=e;if("function"!=typeof b&&c&&c[b]===a&&(b=null),null==b&&ke(a))for(var g=-1,h=a.length;++g<h;){var i=a[g];f>i&&(f=i)}else b=null==b&&Qb(a)?d:q.createCallback(b,c,3),ue(a,function(a,c,d){var g=b(a,c,d);e>g&&(e=g,f=a)});return f}function jc(a,b,c,d){var e=arguments.length<3;if(b=q.createCallback(b,d,4),ke(a)){var f=-1,g=a.length;for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a)}else ue(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function kc(a,b,c,d){var e=arguments.length<3;return b=q.createCallback(b,d,4),ec(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)}),c}function lc(a,b,c){return b=q.createCallback(b,c,3),ac(a,function(a,c,d){return!b(a,c,d)})}function mc(a,b,c){if(a&&"number"!=typeof a.length?a=Yb(a):he.unindexedChars&&Qb(a)&&(a=a.split("")),null==b||c)return a?a[jb(0,a.length-1)]:p;var d=nc(a);return d.length=ce(be(0,b),d.length),d}function nc(a){var b=-1,c=a?a.length:0,d=ud("number"==typeof c?c:0);return dc(a,function(a){var c=jb(0,++b);d[b]=d[c],d[c]=a}),d}function oc(a){var b=a?a.length:0;return"number"==typeof b?b:me(a).length}function pc(a,b,c){var d;if(b=q.createCallback(b,c,3),ke(a))for(var e=-1,f=a.length;++e<f&&!(d=b(a[e],e,a)););else ue(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function qc(a,b,c){var d=-1,f=ke(b),g=a?a.length:0,j=ud("number"==typeof g?g:0);for(f||(b=q.createCallback(b,c,3)),dc(a,function(a,c,e){var g=j[++d]=i();f?g.criteria=gc(b,function(b){return a[b]}):(g.criteria=h())[0]=b(a,c,e),g.index=d,g.value=a}),g=j.length,j.sort(e);g--;){var k=j[g];j[g]=k.value,f||l(k.criteria),m(k)}return j}function rc(a){return a&&"number"==typeof a.length?he.unindexedChars&&Qb(a)?a.split(""):n(a):Yb(a)}function sc(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function tc(a){return eb(a,gb(arguments,!0,!0,1))}function uc(a,b,c){var d=-1,e=a?a.length:0;for(b=q.createCallback(b,c,3);++d<e;)if(b(a[d],d,a))return d;return-1}function vc(a,b,c){var d=a?a.length:0;for(b=q.createCallback(b,c,3);d--;)if(b(a[d],d,a))return d;return-1}function wc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=-1;for(b=q.createCallback(b,c,3);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[0]:p;return n(a,0,ce(be(0,d),e))}function xc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(a=gc(a,c,d)),gb(a,b)}function yc(b,c,d){if("number"==typeof d){var e=b?b.length:0;d=0>d?be(0,e+d):d||0}else if(d){var f=Hc(b,c);return b[f]===c?f:-1}return a(b,c,d)}function zc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=q.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return n(a,0,ce(be(0,e-d),e))}function Ac(){for(var c=[],d=-1,e=arguments.length,g=h(),i=pb(),j=i===a,k=h();++d<e;){var n=arguments[d];(ke(n)||tb(n))&&(c.push(n),g.push(j&&n.length>=v&&f(d?c[d]:k)))}var o=c[0],p=-1,q=o?o.length:0,r=[];a:for(;++p<q;){var s=g[0];if(n=o[p],(s?b(s,n):i(k,n))<0){for(d=e,(s||k).push(n);--d;)if(s=g[d],(s?b(s,n):i(c[d],n))<0)continue a;r.push(n)}}for(;e--;)s=g[e],s&&m(s);return l(g),l(k),r}function Bc(a,b,c){var d=0,e=a?a.length:0;if("number"!=typeof b&&null!=b){var f=e;for(b=q.createCallback(b,c,3);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a?a[e-1]:p;return n(a,be(0,e-d))}function Cc(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?be(0,d+c):ce(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function Dc(a){for(var b=arguments,c=0,d=b.length,e=a?a.length:0;++c<d;)for(var f=-1,g=b[c];++f<e;)a[f]===g&&(Vd.call(a,f--,1),e--);return a}function Ec(a,b,c){a=+a||0,c="number"==typeof c?c:+c||1,null==b&&(b=a,a=0);for(var d=-1,e=be(0,Md((b-a)/(c||1))),f=ud(e);++d<e;)f[d]=a,a+=c;return f}function Fc(a,b,c){var d=-1,e=a?a.length:0,f=[];for(b=q.createCallback(b,c,3);++d<e;){var g=a[d];b(g,d,a)&&(f.push(g),Vd.call(a,d--,1),e--)}return f}function Gc(a,b,c){if("number"!=typeof b&&null!=b){var d=0,e=-1,f=a?a.length:0;for(b=q.createCallback(b,c,3);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:be(0,b);return n(a,d)}function Hc(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?q.createCallback(c,d,1):ed,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function Ic(){return kb(gb(arguments,!0,!0))}function Jc(a,b,c,d){return"boolean"!=typeof b&&null!=b&&(d=c,c="function"!=typeof b&&d&&d[b]===a?null:b,b=!1),null!=c&&(c=q.createCallback(c,d,3)),kb(a,b,c)}function Kc(a){return eb(a,n(arguments,1))}function Lc(){for(var a=-1,b=arguments.length;++a<b;){var c=arguments[a];if(ke(c)||tb(c))var d=d?kb(eb(d,c).concat(eb(c,d))):c}return d||[]}function Mc(){for(var a=arguments.length>1?arguments:arguments[0],b=-1,c=a?hc(De(a,"length")):0,d=ud(0>c?0:c);++b<c;)d[b]=De(a,b);return d}function Nc(a,b){var c=-1,d=a?a.length:0,e={};for(b||!d||ke(a[0])||(b=[]);++c<d;){var f=a[c];b?e[f]=b[c]:f&&(e[f[0]]=f[1])}return e}function Oc(a,b){if(!Kb(b))throw new Ed;return function(){return--a<1?b.apply(this,arguments):void 0}}function Pc(a,b){return arguments.length>2?mb(a,17,n(arguments,2),null,b):mb(a,1,null,null,b)}function Qc(a){for(var b=arguments.length>1?gb(arguments,!0,!1,1):Bb(a),c=-1,d=b.length;++c<d;){var e=b[c];a[e]=mb(a[e],1,null,null,a)}return a}function Rc(a,b){return arguments.length>2?mb(b,19,n(arguments,2),null,a):mb(b,3,null,null,a)}function Sc(){for(var a=arguments,b=a.length;b--;)if(!Kb(a[b]))throw new Ed;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Tc(a,b){return b="number"==typeof b?b:+b||a.length,mb(a,4,null,null,null,b)}function Uc(a,b,c){var d,e,f,g,h,i,j,k=0,l=!1,m=!0;if(!Kb(a))throw new Ed;if(b=be(0,b)||0,c===!0){var n=!0;m=!1}else Lb(c)&&(n=c.leading,l="maxWait"in c&&(be(b,c.maxWait)||0),m="trailing"in c?c.trailing:m);var o=function(){var c=b-(Fe()-g);if(0>=c){e&&Nd(e);var l=j;e=i=j=p,l&&(k=Fe(),f=a.apply(h,d),i||e||(d=h=null))}else i=Ud(o,c)},q=function(){i&&Nd(i),e=i=j=p,(m||l!==b)&&(k=Fe(),f=a.apply(h,d),i||e||(d=h=null))};return function(){if(d=arguments,g=Fe(),h=this,j=m&&(i||!n),l===!1)var c=n&&!i;else{e||n||(k=g);var p=l-(g-k),r=0>=p;r?(e&&(e=Nd(e)),k=g,f=a.apply(h,d)):e||(e=Ud(q,p))}return r&&i?i=Nd(i):i||b===l||(i=Ud(o,b)),c&&(r=!0,f=a.apply(h,d)),!r||i||e||(d=h=null),f}}function Vc(a){if(!Kb(a))throw new Ed;var b=n(arguments,1);return Ud(function(){a.apply(p,b)},1)}function Wc(a,b){if(!Kb(a))throw new Ed;var c=n(arguments,2);return Ud(function(){a.apply(p,c)},b)}function Xc(a,b){if(!Kb(a))throw new Ed;var c=function(){var d=c.cache,e=b?b.apply(this,arguments):u+arguments[0];return Rd.call(d,e)?d[e]:d[e]=a.apply(this,arguments)};return c.cache={},c}function Yc(a){var b,c;if(!Kb(a))throw new Ed;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Zc(a){return mb(a,16,n(arguments,1))}function $c(a){return mb(a,32,null,n(arguments,1))}function _c(a,b,c){var d=!0,e=!0;if(!Kb(a))throw new Ed;return c===!1?d=!1:Lb(c)&&(d="leading"in c?c.leading:d,e="trailing"in c?c.trailing:e),X.leading=d,X.maxWait=b,X.trailing=e,Uc(a,b,X)}function ad(a,b){return mb(b,16,[a])}function bd(a){return function(){return a}}function cd(a,b,c){var d=typeof a;if(null==a||"function"==d)return cb(a,b,c);if("object"!=d)return id(a);var e=me(a),f=e[0],g=a[f];return 1!=e.length||g!==g||Lb(g)?function(b){for(var c=e.length,d=!1;c--&&(d=hb(b[e[c]],a[e[c]],null,!0)););return d}:function(a){var b=a[f];return g===b&&(0!==g||1/g==1/b)}}function dd(a){return null==a?"":Dd(a).replace(te,ob)}function ed(a){return a}function fd(a,b,c){var d=!0,e=b&&Bb(b);b&&(c||e.length)||(null==c&&(c=b),f=r,b=a,a=q,e=Bb(b)),c===!1?d=!1:Lb(c)&&"chain"in c&&(d=c.chain);var f=a,g=Kb(f);dc(e,function(c){var e=a[c]=b[c];g&&(f.prototype[c]=function(){var b=this.__chain__,c=this.__wrapped__,g=[c];Sd.apply(g,arguments);var h=e.apply(a,g);if(d||b){if(c===h&&Lb(h))return this;h=new f(h),h.__chain__=b}return h})})}function gd(){return c._=Jd,this}function hd(){}function id(a){return function(b){return b[a]}}function jd(a,b,c){var d=null==a,e=null==b;if(null==c&&("boolean"==typeof a&&e?(c=a,a=1):e||"boolean"!=typeof b||(c=b,e=!0)),d&&e&&(b=1),a=+a||0,e?(b=a,a=0):b=+b||0,c||a%1||b%1){var f=ee();return ce(a+f*(b-a+parseFloat("1e-"+((f+"").length-1))),b)}return jb(a,b)}function kd(a,b){if(a){var c=a[b];return Kb(c)?a[b]():c}}function ld(a,b,c){var d=q.templateSettings;a=Dd(a||""),c=we({},c,d);var e,f=we({},c.imports,d.imports),h=me(f),i=Yb(f),j=0,k=c.interpolate||G,l="__p += '",m=Cd((c.escape||G).source+"|"+k.source+"|"+(k===E?B:G).source+"|"+(c.evaluate||G).source+"|$","g");a.replace(m,function(b,c,d,f,h,i){return d||(d=f),l+=a.slice(j,i).replace(I,g),c&&(l+="' +\n__e("+c+") +\n'"),h&&(e=!0,l+="';\n"+h+";\n__p += '"),d&&(l+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),j=i+b.length,b}),l+="';\n";var n=c.variable,o=n;o||(n="obj",l="with ("+n+") {\n"+l+"\n}\n"),l=(e?l.replace(y,""):l).replace(z,"$1").replace(A,"$1;"),l="function("+n+") {\n"+(o?"":n+" || ("+n+" = {});\n")+"var __t, __p = '', __e = _.escape"+(e?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var r="\n/*\n//# sourceURL="+(c.sourceURL||"/lodash/template/source["+L++ +"]")+"\n*/";try{var s=yd(h,"return "+l+r).apply(p,i)}catch(t){throw t.source=l,t}return b?s(b):(s.source=l,s)}function md(a,b,c){a=(a=+a)>-1?a:0;var d=-1,e=ud(a);for(b=cb(b,c,1);++d<a;)e[d]=b(d);return e}function nd(a){return null==a?"":Dd(a).replace(se,sb)}function od(a){var b=++s;return Dd(null==a?"":a)+b}function pd(a){return a=new r(a),a.__chain__=!0,a}function qd(a,b){return b(a),a}function rd(){return this.__chain__=!0,this}function sd(){return Dd(this.__wrapped__)}function td(){return this.__wrapped__}c=c?fb.defaults(ab.Object(),c,fb.pick(ab,J)):ab;var ud=c.Array,vd=c.Boolean,wd=c.Date,xd=c.Error,yd=c.Function,zd=c.Math,Ad=c.Number,Bd=c.Object,Cd=c.RegExp,Dd=c.String,Ed=c.TypeError,Fd=[],Gd=xd.prototype,Hd=Bd.prototype,Id=Dd.prototype,Jd=c._,Kd=Hd.toString,Ld=Cd("^"+Dd(Kd).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Md=zd.ceil,Nd=c.clearTimeout,Od=zd.floor,Pd=yd.prototype.toString,Qd=qb(Qd=Bd.getPrototypeOf)&&Qd,Rd=Hd.hasOwnProperty,Sd=Fd.push,Td=Hd.propertyIsEnumerable,Ud=c.setTimeout,Vd=Fd.splice,Wd=Fd.unshift,Xd=function(){try{var a={},b=qb(b=Bd.defineProperty)&&b,c=b(a,a,a)&&b}catch(d){}return c}(),Yd=qb(Yd=Bd.create)&&Yd,Zd=qb(Zd=ud.isArray)&&Zd,$d=c.isFinite,_d=c.isNaN,ae=qb(ae=Bd.keys)&&ae,be=zd.max,ce=zd.min,de=c.parseInt,ee=zd.random,fe={};fe[N]=ud,fe[O]=vd,fe[P]=wd,fe[R]=yd,fe[T]=Bd,fe[S]=Ad,fe[U]=Cd,fe[V]=Dd;var ge={};ge[N]=ge[P]=ge[S]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},ge[O]=ge[V]={constructor:!0,toString:!0,valueOf:!0},ge[Q]=ge[R]=ge[U]={constructor:!0,toString:!0},ge[T]={constructor:!0},function(){for(var a=K.length;a--;){var b=K[a];for(var c in ge)Rd.call(ge,c)&&!Rd.call(ge[c],b)&&(ge[c][b]=!1)}}(),r.prototype=q.prototype;var he=q.support={};!function(){var a=function(){this.x=1},b={0:1,length:1},d=[];a.prototype={valueOf:1,y:1};for(var e in new a)d.push(e);for(e in arguments);he.argsClass=Kd.call(arguments)==M,he.argsObject=arguments.constructor==Bd&&!(arguments instanceof ud),he.enumErrorProps=Td.call(Gd,"message")||Td.call(Gd,"name"),he.enumPrototypes=Td.call(a,"prototype"),he.funcDecomp=!qb(c.WinRTError)&&H.test(o),he.funcNames="string"==typeof yd.name,he.nonEnumArgs=0!=e,he.nonEnumShadows=!/valueOf/.test(d),he.ownLast="x"!=d[0],he.spliceObjects=(Fd.splice.call(b,0,1),!b[0]),he.unindexedChars="x"[0]+Bd("x")[0]!="xx";try{he.nodeClass=!(Kd.call(document)==T&&!({toString:0}+""))}catch(f){he.nodeClass=!0}}(1),q.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:E,variable:"",imports:{_:q}};var ie=function(a){var b="var index, iterable = "+a.firstArg+", result = "+a.init+";\nif (!iterable) return result;\n"+a.top+";";a.array?(b+="\nvar length = iterable.length; index = -1;\nif ("+a.array+") {  ",he.unindexedChars&&(b+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),b+="\n  while (++index < length) {\n    "+a.loop+";\n  }\n}\nelse {  "):he.nonEnumArgs&&(b+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+a.loop+";\n    }\n  } else {  "),he.enumPrototypes&&(b+="\n  var skipProto = typeof iterable == 'function';\n  "),he.enumErrorProps&&(b+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var c=[];if(he.enumPrototypes&&c.push('!(skipProto && index == "prototype")'),he.enumErrorProps&&c.push('!(skipErrorProps && (index == "message" || index == "name"))'),a.useHas&&a.keys)b+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",c.length&&(b+="    if ("+c.join(" && ")+") {\n  "),b+=a.loop+";    ",c.length&&(b+="\n    }"),b+="\n  }  ";else if(b+="\n  for (index in iterable) {\n",a.useHas&&c.push("hasOwnProperty.call(iterable, index)"),c.length&&(b+="    if ("+c.join(" && ")+") {\n  "),b+=a.loop+";    ",c.length&&(b+="\n    }"),b+="\n  }    ",he.nonEnumShadows){for(b+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)b+="\n    index = '"+a.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",a.useHas||(b+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),b+=") {\n      "+a.loop+";\n    }      ";b+="\n  }    "}return(a.array||he.nonEnumArgs)&&(b+="\n}"),b+=a.bottom+";\nreturn result"};Yd||(bb=function(){function a(){}return function(b){if(Lb(b)){a.prototype=b;var d=new a;a.prototype=null}return d||c.Object()}}());var je=Xd?function(a,b){Y.value=b,Xd(a,"__bindData__",Y)}:hd;he.argsClass||(tb=function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Rd.call(a,"callee")&&!Td.call(a,"callee")||!1});var ke=Zd||function(a){return a&&"object"==typeof a&&"number"==typeof a.length&&Kd.call(a)==N||!1},le=nb({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),me=ae?function(a){return Lb(a)?he.enumPrototypes&&"function"==typeof a||he.nonEnumArgs&&a.length&&tb(a)?le(a):ae(a):[]}:le,ne={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:me,loop:"if (callback(iterable[index], index, collection) === false) return result"},oe={args:"object, source, guard",top:"var args = arguments,\n    argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : args.length;\nwhile (++argsIndex < argsLength) {\n  iterable = args[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",keys:me,loop:"if (typeof result[index] == 'undefined') result[index] = iterable[index]",bottom:"  }\n}"},pe={top:"if (!objectTypes[typeof iterable]) return result;\n"+ne.top,array:!1},qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},re=Db(qe),se=Cd("("+me(re).join("|")+")","g"),te=Cd("["+me(qe).join("")+"]","g"),ue=nb(ne),ve=nb(oe,{top:oe.top.replace(";",";\nif (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n  var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n} else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n  callback = args[--argsLength];\n}"),loop:"result[index] = callback ? callback(result[index], iterable[index]) : iterable[index]"}),we=nb(oe),xe=nb(ne,pe,{useHas:!1}),ye=nb(ne,pe);Kb(/x/)&&(Kb=function(a){return"function"==typeof a&&Kd.call(a)==R});var ze=Qd?function(a){if(!a||Kd.call(a)!=T||!he.argsClass&&tb(a))return!1;var b=a.valueOf,c=qb(b)&&(c=Qd(b))&&Qd(c);return c?a==c||Qd(a)==c:rb(a)}:rb,Ae=lb(function(a,b,c){Rd.call(a,c)?a[c]++:a[c]=1}),Be=lb(function(a,b,c){(Rd.call(a,c)?a[c]:a[c]=[]).push(b)}),Ce=lb(function(a,b,c){a[c]=b}),De=gc,Ee=ac,Fe=qb(Fe=wd.now)&&Fe||function(){return(new wd).getTime()},Ge=8==de(x+"08")?de:function(a,b){return de(Qb(a)?a.replace(F,""):a,b||0)};return q.after=Oc,q.assign=ve,q.at=Zb,q.bind=Pc,q.bindAll=Qc,q.bindKey=Rc,q.chain=pd,q.compact=sc,q.compose=Sc,q.constant=bd,q.countBy=Ae,q.create=wb,q.createCallback=cd,q.curry=Tc,q.debounce=Uc,q.defaults=we,q.defer=Vc,q.delay=Wc,q.difference=tc,q.filter=ac,q.flatten=xc,q.forEach=dc,q.forEachRight=ec,q.forIn=xe,q.forInRight=zb,q.forOwn=ye,q.forOwnRight=Ab,q.functions=Bb,q.groupBy=Be,q.indexBy=Ce,q.initial=zc,q.intersection=Ac,q.invert=Db,q.invoke=fc,q.keys=me,q.map=gc,q.mapValues=Sb,q.max=hc,q.memoize=Xc,q.merge=Tb,q.min=ic,q.omit=Ub,q.once=Yc,q.pairs=Vb,q.partial=Zc,q.partialRight=$c,q.pick=Wb,q.pluck=De,q.property=id,q.pull=Dc,q.range=Ec,q.reject=lc,q.remove=Fc,q.rest=Gc,q.shuffle=nc,q.sortBy=qc,q.tap=qd,q.throttle=_c,q.times=md,q.toArray=rc,q.transform=Xb,q.union=Ic,q.uniq=Jc,q.values=Yb,q.where=Ee,q.without=Kc,q.wrap=ad,q.xor=Lc,q.zip=Mc,q.zipObject=Nc,q.collect=gc,q.drop=Gc,q.each=dc,q.eachRight=ec,q.extend=ve,q.methods=Bb,q.object=Nc,q.select=ac,q.tail=Gc,q.unique=Jc,q.unzip=Mc,fd(q),q.clone=ub,q.cloneDeep=vb,q.contains=$b,q.escape=dd,q.every=_b,q.find=bc,q.findIndex=uc,q.findKey=xb,q.findLast=cc,q.findLastIndex=vc,q.findLastKey=yb,q.has=Cb,q.identity=ed,q.indexOf=yc,q.isArguments=tb,q.isArray=ke,q.isBoolean=Eb,q.isDate=Fb,q.isElement=Gb,q.isEmpty=Hb,q.isEqual=Ib,q.isFinite=Jb,q.isFunction=Kb,q.isNaN=Mb,q.isNull=Nb,q.isNumber=Ob,q.isObject=Lb,q.isPlainObject=ze,q.isRegExp=Pb,q.isString=Qb,q.isUndefined=Rb,q.lastIndexOf=Cc,q.mixin=fd,q.noConflict=gd,q.noop=hd,q.now=Fe,q.parseInt=Ge,q.random=jd,q.reduce=jc,q.reduceRight=kc,q.result=kd,q.runInContext=o,q.size=oc,q.some=pc,q.sortedIndex=Hc,q.template=ld,q.unescape=nd,q.uniqueId=od,q.all=_b,q.any=pc,q.detect=bc,q.findWhere=bc,q.foldl=jc,q.foldr=kc,q.include=$b,q.inject=jc,fd(function(){var a={};
return ye(q,function(b,c){q.prototype[c]||(a[c]=b)}),a}(),!1),q.first=wc,q.last=Bc,q.sample=mc,q.take=wc,q.head=wc,ye(q,function(a,b){var c="sample"!==b;q.prototype[b]||(q.prototype[b]=function(b,d){var e=this.__chain__,f=a(this.__wrapped__,b,d);return e||null!=b&&(!d||c&&"function"==typeof b)?new r(f,e):f})}),q.VERSION="2.4.1",q.prototype.chain=rd,q.prototype.toString=sd,q.prototype.value=td,q.prototype.valueOf=td,ue(["join","pop","shift"],function(a){var b=Fd[a];q.prototype[a]=function(){var a=this.__chain__,c=b.apply(this.__wrapped__,arguments);return a?new r(c,a):c}}),ue(["push","reverse","sort","unshift"],function(a){var b=Fd[a];q.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),ue(["concat","slice","splice"],function(a){var b=Fd[a];q.prototype[a]=function(){return new r(b.apply(this.__wrapped__,arguments),this.__chain__)}}),he.spliceObjects||ue(["pop","shift","splice"],function(a){var b=Fd[a],c="splice"==a;q.prototype[a]=function(){var a=this.__chain__,d=this.__wrapped__,e=b.apply(d,arguments);return 0===d.length&&delete d[0],a||c?new r(e,a):e}}),q}var p,q=[],r=[],s=0,t={},u=+new Date+"",v=75,w=40,x=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",y=/\b__p \+= '';/g,z=/\b(__p \+=) '' \+/g,A=/(__e\(.*?\)|\b__t\)) \+\n'';/g,B=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,C=/\w*$/,D=/^\s*function[ \n\r\t]+\w/,E=/<%=([\s\S]+?)%>/g,F=RegExp("^["+x+"]*0+(?=.$)"),G=/($^)/,H=/\bthis\b/,I=/['\n\r\t\u2028\u2029\\]/g,J=["Array","Boolean","Date","Error","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],K=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],L=0,M="[object Arguments]",N="[object Array]",O="[object Boolean]",P="[object Date]",Q="[object Error]",R="[object Function]",S="[object Number]",T="[object Object]",U="[object RegExp]",V="[object String]",W={};W[R]=!1,W[M]=W[N]=W[O]=W[P]=W[S]=W[T]=W[U]=W[V]=!0;var X={leading:!1,maxWait:0,trailing:!1},Y={configurable:!1,enumerable:!1,value:null,writable:!1},Z={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},$={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},_={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},ab=$[typeof window]&&window||this,bb=$[typeof exports]&&exports&&!exports.nodeType&&exports,cb=$[typeof module]&&module&&!module.nodeType&&module,db=cb&&cb.exports===bb&&bb,eb=$[typeof global]&&global;!eb||eb.global!==eb&&eb.window!==eb||(ab=eb);var fb=o();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ab._=fb,define(function(){return fb})):bb&&cb?db?(cb.exports=fb)._=fb:bb._=fb:ab._=fb}.call(this),function(a){function b(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function c(a,b){function c(){ib.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}var d=!0;return i(function(){return d&&(c(),d=!1),b.apply(this,arguments)},b)}function d(a,b){return function(c){return l(a.call(this,c),b)}}function e(a,b){return function(c){return this.lang().ordinal(a.call(this,c),b)}}function f(){}function g(a){y(a),i(this,a)}function h(a){var b=r(a),c=b.year||0,d=b.quarter||0,e=b.month||0,f=b.week||0,g=b.day||0,h=b.hour||0,i=b.minute||0,j=b.second||0,k=b.millisecond||0;this._milliseconds=+k+1e3*j+6e4*i+36e5*h,this._days=+g+7*f,this._months=+e+3*d+12*c,this._data={},this._bubble()}function i(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return b.hasOwnProperty("toString")&&(a.toString=b.toString),b.hasOwnProperty("valueOf")&&(a.valueOf=b.valueOf),a}function j(a){var b,c={};for(b in a)a.hasOwnProperty(b)&&wb.hasOwnProperty(b)&&(c[b]=a[b]);return c}function k(a){return 0>a?Math.ceil(a):Math.floor(a)}function l(a,b,c){for(var d=""+Math.abs(a),e=a>=0;d.length<b;)d="0"+d;return(e?c?"+":"":"-")+d}function m(a,b,c,d){var e=b._milliseconds,f=b._days,g=b._months;d=null==d?!0:d,e&&a._d.setTime(+a._d+e*c),f&&db(a,"Date",cb(a,"Date")+f*c),g&&bb(a,cb(a,"Month")+g*c),d&&ib.updateOffset(a,f||g)}function n(a){return"[object Array]"===Object.prototype.toString.call(a)}function o(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function p(a,b,c){var d,e=Math.min(a.length,b.length),f=Math.abs(a.length-b.length),g=0;for(d=0;e>d;d++)(c&&a[d]!==b[d]||!c&&t(a[d])!==t(b[d]))&&g++;return g+f}function q(a){if(a){var b=a.toLowerCase().replace(/(.)s$/,"$1");a=Zb[a]||$b[b]||b}return a}function r(a){var b,c,d={};for(c in a)a.hasOwnProperty(c)&&(b=q(c),b&&(d[b]=a[c]));return d}function s(b){var c,d;if(0===b.indexOf("week"))c=7,d="day";else{if(0!==b.indexOf("month"))return;c=12,d="month"}ib[b]=function(e,f){var g,h,i=ib.fn._lang[b],j=[];if("number"==typeof e&&(f=e,e=a),h=function(a){var b=ib().utc().set(d,a);return i.call(ib.fn._lang,b,e||"")},null!=f)return h(f);for(g=0;c>g;g++)j.push(h(g));return j}}function t(a){var b=+a,c=0;return 0!==b&&isFinite(b)&&(c=b>=0?Math.floor(b):Math.ceil(b)),c}function u(a,b){return new Date(Date.UTC(a,b+1,0)).getUTCDate()}function v(a,b,c){return $(ib([a,11,31+b-c]),b,c).week}function w(a){return x(a)?366:365}function x(a){return a%4===0&&a%100!==0||a%400===0}function y(a){var b;a._a&&-2===a._pf.overflow&&(b=a._a[pb]<0||a._a[pb]>11?pb:a._a[qb]<1||a._a[qb]>u(a._a[ob],a._a[pb])?qb:a._a[rb]<0||a._a[rb]>23?rb:a._a[sb]<0||a._a[sb]>59?sb:a._a[tb]<0||a._a[tb]>59?tb:a._a[ub]<0||a._a[ub]>999?ub:-1,a._pf._overflowDayOfYear&&(ob>b||b>qb)&&(b=qb),a._pf.overflow=b)}function z(a){return null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&a._pf.overflow<0&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length)),a._isValid}function A(a){return a?a.toLowerCase().replace("_","-"):a}function B(a,b){return b._isUTC?ib(a).zone(b._offset||0):ib(a).local()}function C(a,b){return b.abbr=a,vb[a]||(vb[a]=new f),vb[a].set(b),vb[a]}function D(a){delete vb[a]}function E(a){var b,c,d,e,f=0,g=function(a){if(!vb[a]&&xb)try{require("./lang/"+a)}catch(b){}return vb[a]};if(!a)return ib.fn._lang;if(!n(a)){if(c=g(a))return c;a=[a]}for(;f<a.length;){for(e=A(a[f]).split("-"),b=e.length,d=A(a[f+1]),d=d?d.split("-"):null;b>0;){if(c=g(e.slice(0,b).join("-")))return c;if(d&&d.length>=b&&p(e,d,!0)>=b-1)break;b--}f++}return ib.fn._lang}function F(a){return a.match(/\[[\s\S]/)?a.replace(/^\[|\]$/g,""):a.replace(/\\/g,"")}function G(a){var b,c,d=a.match(Bb);for(b=0,c=d.length;c>b;b++)d[b]=cc[d[b]]?cc[d[b]]:F(d[b]);return function(e){var f="";for(b=0;c>b;b++)f+=d[b]instanceof Function?d[b].call(e,a):d[b];return f}}function H(a,b){return a.isValid()?(b=I(b,a.lang()),_b[b]||(_b[b]=G(b)),_b[b](a)):a.lang().invalidDate()}function I(a,b){function c(a){return b.longDateFormat(a)||a}var d=5;for(Cb.lastIndex=0;d>=0&&Cb.test(a);)a=a.replace(Cb,c),Cb.lastIndex=0,d-=1;return a}function J(a,b){var c,d=b._strict;switch(a){case"Q":return Nb;case"DDDD":return Pb;case"YYYY":case"GGGG":case"gggg":return d?Qb:Fb;case"Y":case"G":case"g":return Sb;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return d?Rb:Gb;case"S":if(d)return Nb;case"SS":if(d)return Ob;case"SSS":if(d)return Pb;case"DDD":return Eb;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Ib;case"a":case"A":return E(b._l)._meridiemParse;case"X":return Lb;case"Z":case"ZZ":return Jb;case"T":return Kb;case"SSSS":return Hb;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return d?Ob:Db;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Db;case"Do":return Mb;default:return c=new RegExp(R(Q(a.replace("\\","")),"i"))}}function K(a){a=a||"";var b=a.match(Jb)||[],c=b[b.length-1]||[],d=(c+"").match(Xb)||["-",0,0],e=+(60*d[1])+t(d[2]);return"+"===d[0]?-e:e}function L(a,b,c){var d,e=c._a;switch(a){case"Q":null!=b&&(e[pb]=3*(t(b)-1));break;case"M":case"MM":null!=b&&(e[pb]=t(b)-1);break;case"MMM":case"MMMM":d=E(c._l).monthsParse(b),null!=d?e[pb]=d:c._pf.invalidMonth=b;break;case"D":case"DD":null!=b&&(e[qb]=t(b));break;case"Do":null!=b&&(e[qb]=t(parseInt(b,10)));break;case"DDD":case"DDDD":null!=b&&(c._dayOfYear=t(b));break;case"YY":e[ob]=ib.parseTwoDigitYear(b);break;case"YYYY":case"YYYYY":case"YYYYYY":e[ob]=t(b);break;case"a":case"A":c._isPm=E(c._l).isPM(b);break;case"H":case"HH":case"h":case"hh":e[rb]=t(b);break;case"m":case"mm":e[sb]=t(b);break;case"s":case"ss":e[tb]=t(b);break;case"S":case"SS":case"SSS":case"SSSS":e[ub]=t(1e3*("0."+b));break;case"X":c._d=new Date(1e3*parseFloat(b));break;case"Z":case"ZZ":c._useUTC=!0,c._tzm=K(b);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":a=a.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":a=a.substr(0,2),b&&(c._w=c._w||{},c._w[a]=b)}}function M(a){var b,c,d,e,f,g,h,i,j,k,l=[];if(!a._d){for(d=O(a),a._w&&null==a._a[qb]&&null==a._a[pb]&&(f=function(b){var c=parseInt(b,10);return b?b.length<3?c>68?1900+c:2e3+c:c:null==a._a[ob]?ib().weekYear():a._a[ob]},g=a._w,null!=g.GG||null!=g.W||null!=g.E?h=_(f(g.GG),g.W||1,g.E,4,1):(i=E(a._l),j=null!=g.d?X(g.d,i):null!=g.e?parseInt(g.e,10)+i._week.dow:0,k=parseInt(g.w,10)||1,null!=g.d&&j<i._week.dow&&k++,h=_(f(g.gg),k,j,i._week.doy,i._week.dow)),a._a[ob]=h.year,a._dayOfYear=h.dayOfYear),a._dayOfYear&&(e=null==a._a[ob]?d[ob]:a._a[ob],a._dayOfYear>w(e)&&(a._pf._overflowDayOfYear=!0),c=W(e,0,a._dayOfYear),a._a[pb]=c.getUTCMonth(),a._a[qb]=c.getUTCDate()),b=0;3>b&&null==a._a[b];++b)a._a[b]=l[b]=d[b];for(;7>b;b++)a._a[b]=l[b]=null==a._a[b]?2===b?1:0:a._a[b];l[rb]+=t((a._tzm||0)/60),l[sb]+=t((a._tzm||0)%60),a._d=(a._useUTC?W:V).apply(null,l)}}function N(a){var b;a._d||(b=r(a._i),a._a=[b.year,b.month,b.day,b.hour,b.minute,b.second,b.millisecond],M(a))}function O(a){var b=new Date;return a._useUTC?[b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()]:[b.getFullYear(),b.getMonth(),b.getDate()]}function P(a){a._a=[],a._pf.empty=!0;var b,c,d,e,f,g=E(a._l),h=""+a._i,i=h.length,j=0;for(d=I(a._f,g).match(Bb)||[],b=0;b<d.length;b++)e=d[b],c=(h.match(J(e,a))||[])[0],c&&(f=h.substr(0,h.indexOf(c)),f.length>0&&a._pf.unusedInput.push(f),h=h.slice(h.indexOf(c)+c.length),j+=c.length),cc[e]?(c?a._pf.empty=!1:a._pf.unusedTokens.push(e),L(e,c,a)):a._strict&&!c&&a._pf.unusedTokens.push(e);a._pf.charsLeftOver=i-j,h.length>0&&a._pf.unusedInput.push(h),a._isPm&&a._a[rb]<12&&(a._a[rb]+=12),a._isPm===!1&&12===a._a[rb]&&(a._a[rb]=0),M(a),y(a)}function Q(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,b,c,d,e){return b||c||d||e})}function R(a){return a.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function S(a){var c,d,e,f,g;if(0===a._f.length)return a._pf.invalidFormat=!0,void(a._d=new Date(0/0));for(f=0;f<a._f.length;f++)g=0,c=i({},a),c._pf=b(),c._f=a._f[f],P(c),z(c)&&(g+=c._pf.charsLeftOver,g+=10*c._pf.unusedTokens.length,c._pf.score=g,(null==e||e>g)&&(e=g,d=c));i(a,d||c)}function T(a){var b,c,d=a._i,e=Tb.exec(d);if(e){for(a._pf.iso=!0,b=0,c=Vb.length;c>b;b++)if(Vb[b][1].exec(d)){a._f=Vb[b][0]+(e[6]||" ");break}for(b=0,c=Wb.length;c>b;b++)if(Wb[b][1].exec(d)){a._f+=Wb[b][0];break}d.match(Jb)&&(a._f+="Z"),P(a)}else ib.createFromInputFallback(a)}function U(b){var c=b._i,d=yb.exec(c);c===a?b._d=new Date:d?b._d=new Date(+d[1]):"string"==typeof c?T(b):n(c)?(b._a=c.slice(0),M(b)):o(c)?b._d=new Date(+c):"object"==typeof c?N(b):"number"==typeof c?b._d=new Date(c):ib.createFromInputFallback(b)}function V(a,b,c,d,e,f,g){var h=new Date(a,b,c,d,e,f,g);return 1970>a&&h.setFullYear(a),h}function W(a){var b=new Date(Date.UTC.apply(null,arguments));return 1970>a&&b.setUTCFullYear(a),b}function X(a,b){if("string"==typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!=typeof a)return null}else a=parseInt(a,10);return a}function Y(a,b,c,d,e){return e.relativeTime(b||1,!!c,a,d)}function Z(a,b,c){var d=nb(Math.abs(a)/1e3),e=nb(d/60),f=nb(e/60),g=nb(f/24),h=nb(g/365),i=45>d&&["s",d]||1===e&&["m"]||45>e&&["mm",e]||1===f&&["h"]||22>f&&["hh",f]||1===g&&["d"]||25>=g&&["dd",g]||45>=g&&["M"]||345>g&&["MM",nb(g/30)]||1===h&&["y"]||["yy",h];return i[2]=b,i[3]=a>0,i[4]=c,Y.apply({},i)}function $(a,b,c){var d,e=c-b,f=c-a.day();return f>e&&(f-=7),e-7>f&&(f+=7),d=ib(a).add("d",f),{week:Math.ceil(d.dayOfYear()/7),year:d.year()}}function _(a,b,c,d,e){var f,g,h=W(a,0,1).getUTCDay();return c=null!=c?c:e,f=e-h+(h>d?7:0)-(e>h?7:0),g=7*(b-1)+(c-e)+f+1,{year:g>0?a:a-1,dayOfYear:g>0?g:w(a-1)+g}}function ab(b){var c=b._i,d=b._f;return null===c||d===a&&""===c?ib.invalid({nullInput:!0}):("string"==typeof c&&(b._i=c=E().preparse(c)),ib.isMoment(c)?(b=j(c),b._d=new Date(+c._d)):d?n(d)?S(b):P(b):U(b),new g(b))}function bb(a,b){var c;return"string"==typeof b&&(b=a.lang().monthsParse(b),"number"!=typeof b)?a:(c=Math.min(a.date(),u(a.year(),b)),a._d["set"+(a._isUTC?"UTC":"")+"Month"](b,c),a)}function cb(a,b){return a._d["get"+(a._isUTC?"UTC":"")+b]()}function db(a,b,c){return"Month"===b?bb(a,c):a._d["set"+(a._isUTC?"UTC":"")+b](c)}function eb(a,b){return function(c){return null!=c?(db(this,a,c),ib.updateOffset(this,b),this):cb(this,a)}}function fb(a){ib.duration.fn[a]=function(){return this._data[a]}}function gb(a,b){ib.duration.fn["as"+a]=function(){return+this/b}}function hb(a){"undefined"==typeof ender&&(jb=mb.moment,mb.moment=a?c("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",ib):ib)}for(var ib,jb,kb,lb="2.6.0",mb="undefined"!=typeof global?global:this,nb=Math.round,ob=0,pb=1,qb=2,rb=3,sb=4,tb=5,ub=6,vb={},wb={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},xb="undefined"!=typeof module&&module.exports,yb=/^\/?Date\((\-?\d+)/i,zb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ab=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,Bb=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,Cb=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Db=/\d\d?/,Eb=/\d{1,3}/,Fb=/\d{1,4}/,Gb=/[+\-]?\d{1,6}/,Hb=/\d+/,Ib=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Jb=/Z|[\+\-]\d\d:?\d\d/gi,Kb=/T/i,Lb=/[\+\-]?\d+(\.\d{1,3})?/,Mb=/\d{1,2}/,Nb=/\d/,Ob=/\d\d/,Pb=/\d{3}/,Qb=/\d{4}/,Rb=/[+-]?\d{6}/,Sb=/[+-]?\d+/,Tb=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ub="YYYY-MM-DDTHH:mm:ssZ",Vb=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Wb=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Xb=/([\+\-]|\d\d)/gi,Yb=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),Zb={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},$b={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},_b={},ac="DDD w W M D d".split(" "),bc="M D H h m s w W".split(" "),cc={M:function(){return this.month()+1},MMM:function(a){return this.lang().monthsShort(this,a)},MMMM:function(a){return this.lang().months(this,a)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.lang().weekdaysMin(this,a)},ddd:function(a){return this.lang().weekdaysShort(this,a)},dddd:function(a){return this.lang().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},YYYYYY:function(){var a=this.year(),b=a>=0?"+":"-";return b+l(Math.abs(a),6)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return l(this.weekYear(),4)},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return l(this.isoWeekYear(),4)},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return t(this.milliseconds()/100)},SS:function(){return l(t(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},SSSS:function(){return l(this.milliseconds(),3)},Z:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+l(t(a/60),2)+":"+l(t(a)%60,2)},ZZ:function(){var a=-this.zone(),b="+";return 0>a&&(a=-a,b="-"),b+l(t(a/60),2)+l(t(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},dc=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];ac.length;)kb=ac.pop(),cc[kb+"o"]=e(cc[kb],kb);for(;bc.length;)kb=bc.pop(),cc[kb+kb]=d(cc[kb],2);for(cc.DDDD=d(cc.DDD,3),i(f.prototype,{set:function(a){var b,c;for(c in a)b=a[c],"function"==typeof b?this[c]=b:this["_"+c]=b},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(a){return this._months[a.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a){var b,c,d;for(this._monthsParse||(this._monthsParse=[]),b=0;12>b;b++)if(this._monthsParse[b]||(c=ib.utc([2e3,b]),d="^"+this.months(c,"")+"|^"+this.monthsShort(c,""),this._monthsParse[b]=new RegExp(d.replace(".",""),"i")),this._monthsParse[b].test(a))return b},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var b,c,d;for(this._weekdaysParse||(this._weekdaysParse=[]),b=0;7>b;b++)if(this._weekdaysParse[b]||(c=ib([2e3,1]).day(b),d="^"+this.weekdays(c,"")+"|^"+this.weekdaysShort(c,"")+"|^"+this.weekdaysMin(c,""),this._weekdaysParse[b]=new RegExp(d.replace(".",""),"i")),this._weekdaysParse[b].test(a))return b},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(a){var b=this._longDateFormat[a];return!b&&this._longDateFormat[a.toUpperCase()]&&(b=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),this._longDateFormat[a]=b),b},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,b,c){return a>11?c?"pm":"PM":c?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,b){var c=this._calendar[a];return"function"==typeof c?c.apply(b):c},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,b,c,d){var e=this._relativeTime[c];return"function"==typeof e?e(a,b,c,d):e.replace(/%d/i,a)},pastFuture:function(a,b){var c=this._relativeTime[a>0?"future":"past"];return"function"==typeof c?c(b):c.replace(/%s/i,b)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",preparse:function(a){return a},postformat:function(a){return a},week:function(a){return $(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),ib=function(c,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._i=c,g._f=d,g._l=e,g._strict=f,g._isUTC=!1,g._pf=b(),ab(g)},ib.suppressDeprecationWarnings=!1,ib.createFromInputFallback=c("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(a){a._d=new Date(a._i)}),ib.utc=function(c,d,e,f){var g;return"boolean"==typeof e&&(f=e,e=a),g={},g._isAMomentObject=!0,g._useUTC=!0,g._isUTC=!0,g._l=e,g._i=c,g._f=d,g._strict=f,g._pf=b(),ab(g).utc()},ib.unix=function(a){return ib(1e3*a)},ib.duration=function(a,b){var c,d,e,f=a,g=null;return ib.isDuration(a)?f={ms:a._milliseconds,d:a._days,M:a._months}:"number"==typeof a?(f={},b?f[b]=a:f.milliseconds=a):(g=zb.exec(a))?(c="-"===g[1]?-1:1,f={y:0,d:t(g[qb])*c,h:t(g[rb])*c,m:t(g[sb])*c,s:t(g[tb])*c,ms:t(g[ub])*c}):(g=Ab.exec(a))&&(c="-"===g[1]?-1:1,e=function(a){var b=a&&parseFloat(a.replace(",","."));return(isNaN(b)?0:b)*c},f={y:e(g[2]),M:e(g[3]),d:e(g[4]),h:e(g[5]),m:e(g[6]),s:e(g[7]),w:e(g[8])}),d=new h(f),ib.isDuration(a)&&a.hasOwnProperty("_lang")&&(d._lang=a._lang),d},ib.version=lb,ib.defaultFormat=Ub,ib.momentProperties=wb,ib.updateOffset=function(){},ib.lang=function(a,b){var c;return a?(b?C(A(a),b):null===b?(D(a),a="en"):vb[a]||E(a),c=ib.duration.fn._lang=ib.fn._lang=E(a),c._abbr):ib.fn._lang._abbr},ib.langData=function(a){return a&&a._lang&&a._lang._abbr&&(a=a._lang._abbr),E(a)},ib.isMoment=function(a){return a instanceof g||null!=a&&a.hasOwnProperty("_isAMomentObject")},ib.isDuration=function(a){return a instanceof h},kb=dc.length-1;kb>=0;--kb)s(dc[kb]);ib.normalizeUnits=function(a){return q(a)},ib.invalid=function(a){var b=ib.utc(0/0);return null!=a?i(b._pf,a):b._pf.userInvalidated=!0,b},ib.parseZone=function(){return ib.apply(null,arguments).parseZone()},ib.parseTwoDigitYear=function(a){return t(a)+(t(a)>68?1900:2e3)},i(ib.fn=g.prototype,{clone:function(){return ib(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=ib(this).utc();return 0<a.year()&&a.year()<=9999?H(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var a=this;return[a.year(),a.month(),a.date(),a.hours(),a.minutes(),a.seconds(),a.milliseconds()]},isValid:function(){return z(this)},isDSTShifted:function(){return this._a?this.isValid()&&p(this._a,(this._isUTC?ib.utc(this._a):ib(this._a)).toArray())>0:!1},parsingFlags:function(){return i({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(a){var b=H(this,a||ib.defaultFormat);return this.lang().postformat(b)},add:function(a,b){var c;return c="string"==typeof a?ib.duration(+b,a):ib.duration(a,b),m(this,c,1),this},subtract:function(a,b){var c;return c="string"==typeof a?ib.duration(+b,a):ib.duration(a,b),m(this,c,-1),this},diff:function(a,b,c){var d,e,f=B(a,this),g=6e4*(this.zone()-f.zone());return b=q(b),"year"===b||"month"===b?(d=432e5*(this.daysInMonth()+f.daysInMonth()),e=12*(this.year()-f.year())+(this.month()-f.month()),e+=(this-ib(this).startOf("month")-(f-ib(f).startOf("month")))/d,e-=6e4*(this.zone()-ib(this).startOf("month").zone()-(f.zone()-ib(f).startOf("month").zone()))/d,"year"===b&&(e/=12)):(d=this-f,e="second"===b?d/1e3:"minute"===b?d/6e4:"hour"===b?d/36e5:"day"===b?(d-g)/864e5:"week"===b?(d-g)/6048e5:d),c?e:k(e)},from:function(a,b){return ib.duration(this.diff(a)).lang(this.lang()._abbr).humanize(!b)},fromNow:function(a){return this.from(ib(),a)},calendar:function(){var a=B(ib(),this).startOf("day"),b=this.diff(a,"days",!0),c=-6>b?"sameElse":-1>b?"lastWeek":0>b?"lastDay":1>b?"sameDay":2>b?"nextDay":7>b?"nextWeek":"sameElse";return this.format(this.lang().calendar(c,this))},isLeapYear:function(){return x(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(a){var b=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=a?(a=X(a,this.lang()),this.add({d:a-b})):b},month:eb("Month",!0),startOf:function(a){switch(a=q(a)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1),"quarter"===a&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(a){return a=q(a),this.startOf(a).add("isoWeek"===a?"week":a,1).subtract("ms",1)},isAfter:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)>+ib(a).startOf(b)},isBefore:function(a,b){return b="undefined"!=typeof b?b:"millisecond",+this.clone().startOf(b)<+ib(a).startOf(b)},isSame:function(a,b){return b=b||"ms",+this.clone().startOf(b)===+B(a,this).startOf(b)},min:function(a){return a=ib.apply(null,arguments),this>a?this:a},max:function(a){return a=ib.apply(null,arguments),a>this?this:a},zone:function(a,b){var c=this._offset||0;return null==a?this._isUTC?c:this._d.getTimezoneOffset():("string"==typeof a&&(a=K(a)),Math.abs(a)<16&&(a=60*a),this._offset=a,this._isUTC=!0,c!==a&&(!b||this._changeInProgress?m(this,ib.duration(c-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ib.updateOffset(this,!0),this._changeInProgress=null)),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(a){return a=a?ib(a).zone():0,(this.zone()-a)%60===0},daysInMonth:function(){return u(this.year(),this.month())},dayOfYear:function(a){var b=nb((ib(this).startOf("day")-ib(this).startOf("year"))/864e5)+1;return null==a?b:this.add("d",a-b)},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var b=$(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==a?b:this.add("y",a-b)},isoWeekYear:function(a){var b=$(this,1,4).year;return null==a?b:this.add("y",a-b)},week:function(a){var b=this.lang().week(this);return null==a?b:this.add("d",7*(a-b))},isoWeek:function(a){var b=$(this,1,4).week;return null==a?b:this.add("d",7*(a-b))},weekday:function(a){var b=(this.day()+7-this.lang()._week.dow)%7;return null==a?b:this.add("d",a-b)},isoWeekday:function(a){return null==a?this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return v(this.year(),1,4)},weeksInYear:function(){var a=this._lang._week;return v(this.year(),a.dow,a.doy)},get:function(a){return a=q(a),this[a]()},set:function(a,b){return a=q(a),"function"==typeof this[a]&&this[a](b),this},lang:function(b){return b===a?this._lang:(this._lang=E(b),this)}}),ib.fn.millisecond=ib.fn.milliseconds=eb("Milliseconds",!1),ib.fn.second=ib.fn.seconds=eb("Seconds",!1),ib.fn.minute=ib.fn.minutes=eb("Minutes",!1),ib.fn.hour=ib.fn.hours=eb("Hours",!0),ib.fn.date=eb("Date",!0),ib.fn.dates=c("dates accessor is deprecated. Use date instead.",eb("Date",!0)),ib.fn.year=eb("FullYear",!0),ib.fn.years=c("years accessor is deprecated. Use year instead.",eb("FullYear",!0)),ib.fn.days=ib.fn.day,ib.fn.months=ib.fn.month,ib.fn.weeks=ib.fn.week,ib.fn.isoWeeks=ib.fn.isoWeek,ib.fn.quarters=ib.fn.quarter,ib.fn.toJSON=ib.fn.toISOString,i(ib.duration.fn=h.prototype,{_bubble:function(){var a,b,c,d,e=this._milliseconds,f=this._days,g=this._months,h=this._data;h.milliseconds=e%1e3,a=k(e/1e3),h.seconds=a%60,b=k(a/60),h.minutes=b%60,c=k(b/60),h.hours=c%24,f+=k(c/24),h.days=f%30,g+=k(f/30),h.months=g%12,d=k(g/12),h.years=d},weeks:function(){return k(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*t(this._months/12)},humanize:function(a){var b=+this,c=Z(b,!a,this.lang());return a&&(c=this.lang().pastFuture(b,c)),this.lang().postformat(c)},add:function(a,b){var c=ib.duration(a,b);return this._milliseconds+=c._milliseconds,this._days+=c._days,this._months+=c._months,this._bubble(),this},subtract:function(a,b){var c=ib.duration(a,b);return this._milliseconds-=c._milliseconds,this._days-=c._days,this._months-=c._months,this._bubble(),this},get:function(a){return a=q(a),this[a.toLowerCase()+"s"]()},as:function(a){return a=q(a),this["as"+a.charAt(0).toUpperCase()+a.slice(1)+"s"]()},lang:ib.fn.lang,toIsoString:function(){var a=Math.abs(this.years()),b=Math.abs(this.months()),c=Math.abs(this.days()),d=Math.abs(this.hours()),e=Math.abs(this.minutes()),f=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(a?a+"Y":"")+(b?b+"M":"")+(c?c+"D":"")+(d||e||f?"T":"")+(d?d+"H":"")+(e?e+"M":"")+(f?f+"S":""):"P0D"}});for(kb in Yb)Yb.hasOwnProperty(kb)&&(gb(kb,Yb[kb]),fb(kb.toLowerCase()));gb("Weeks",6048e5),ib.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},ib.lang("en",{ordinal:function(a){var b=a%10,c=1===t(a%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return a+c}}),xb?module.exports=ib:"function"==typeof define&&define.amd?(define("moment",function(a,b,c){return c.config&&c.config()&&c.config().noGlobal===!0&&(mb.moment=jb),ib}),hb(!0)):hb()}.call(this),function(){function a(a){var c=!1;return function(){if(c)throw new Error("Callback was already called.");c=!0,a.apply(b,arguments)}}var b,c,d={};b=this,null!=b&&(c=b.async),d.noConflict=function(){return b.async=c,d};var e=Object.prototype.toString,f=Array.isArray||function(a){return"[object Array]"===e.call(a)},g=function(a,b){if(a.forEach)return a.forEach(b);for(var c=0;c<a.length;c+=1)b(a[c],c,a)},h=function(a,b){if(a.map)return a.map(b);var c=[];return g(a,function(a,d,e){c.push(b(a,d,e))}),c},i=function(a,b,c){return a.reduce?a.reduce(b,c):(g(a,function(a,d,e){c=b(c,a,d,e)}),c)},j=function(a){if(Object.keys)return Object.keys(a);var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b};"undefined"!=typeof process&&process.nextTick?(d.nextTick=process.nextTick,d.setImmediate="undefined"!=typeof setImmediate?function(a){setImmediate(a)}:d.nextTick):"function"==typeof setImmediate?(d.nextTick=function(a){setImmediate(a)},d.setImmediate=d.nextTick):(d.nextTick=function(a){setTimeout(a,0)},d.setImmediate=d.nextTick),d.each=function(b,c,d){function e(a){a?(d(a),d=function(){}):(f+=1,f>=b.length&&d())}if(d=d||function(){},!b.length)return d();var f=0;g(b,function(b){c(b,a(e))})},d.forEach=d.each,d.eachSeries=function(a,b,c){if(c=c||function(){},!a.length)return c();var d=0,e=function(){b(a[d],function(b){b?(c(b),c=function(){}):(d+=1,d>=a.length?c():e())})};e()},d.forEachSeries=d.eachSeries,d.eachLimit=function(a,b,c,d){var e=k(b);e.apply(null,[a,c,d])},d.forEachLimit=d.eachLimit;var k=function(a){return function(b,c,d){if(d=d||function(){},!b.length||0>=a)return d();var e=0,f=0,g=0;!function h(){if(e>=b.length)return d();for(;a>g&&f<b.length;)f+=1,g+=1,c(b[f-1],function(a){a?(d(a),d=function(){}):(e+=1,g-=1,e>=b.length?d():h())})}()}},l=function(a){return function(){var b=Array.prototype.slice.call(arguments);
return a.apply(null,[d.each].concat(b))}},m=function(a,b){return function(){var c=Array.prototype.slice.call(arguments);return b.apply(null,[k(a)].concat(c))}},n=function(a){return function(){var b=Array.prototype.slice.call(arguments);return a.apply(null,[d.eachSeries].concat(b))}},o=function(a,b,c,d){if(b=h(b,function(a,b){return{index:b,value:a}}),d){var e=[];a(b,function(a,b){c(a.value,function(c,d){e[a.index]=d,b(c)})},function(a){d(a,e)})}else a(b,function(a,b){c(a.value,function(a){b(a)})})};d.map=l(o),d.mapSeries=n(o),d.mapLimit=function(a,b,c,d){return p(b)(a,c,d)};var p=function(a){return m(a,o)};d.reduce=function(a,b,c,e){d.eachSeries(a,function(a,d){c(b,a,function(a,c){b=c,d(a)})},function(a){e(a,b)})},d.inject=d.reduce,d.foldl=d.reduce,d.reduceRight=function(a,b,c,e){var f=h(a,function(a){return a}).reverse();d.reduce(f,b,c,e)},d.foldr=d.reduceRight;var q=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c&&e.push(a),b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};d.filter=l(q),d.filterSeries=n(q),d.select=d.filter,d.selectSeries=d.filterSeries;var r=function(a,b,c,d){var e=[];b=h(b,function(a,b){return{index:b,value:a}}),a(b,function(a,b){c(a.value,function(c){c||e.push(a),b()})},function(){d(h(e.sort(function(a,b){return a.index-b.index}),function(a){return a.value}))})};d.reject=l(r),d.rejectSeries=n(r);var s=function(a,b,c,d){a(b,function(a,b){c(a,function(c){c?(d(a),d=function(){}):b()})},function(){d()})};d.detect=l(s),d.detectSeries=n(s),d.some=function(a,b,c){d.each(a,function(a,d){b(a,function(a){a&&(c(!0),c=function(){}),d()})},function(){c(!1)})},d.any=d.some,d.every=function(a,b,c){d.each(a,function(a,d){b(a,function(a){a||(c(!1),c=function(){}),d()})},function(){c(!0)})},d.all=d.every,d.sortBy=function(a,b,c){d.map(a,function(a,c){b(a,function(b,d){b?c(b):c(null,{value:a,criteria:d})})},function(a,b){if(a)return c(a);var d=function(a,b){var c=a.criteria,d=b.criteria;return d>c?-1:c>d?1:0};c(null,h(b.sort(d),function(a){return a.value}))})},d.auto=function(a,b){b=b||function(){};var c=j(a),e=c.length;if(!e)return b();var h={},k=[],l=function(a){k.unshift(a)},m=function(a){for(var b=0;b<k.length;b+=1)if(k[b]===a)return void k.splice(b,1)},n=function(){e--,g(k.slice(0),function(a){a()})};l(function(){if(!e){var a=b;b=function(){},a(null,h)}}),g(c,function(c){var e=f(a[c])?a[c]:[a[c]],k=function(a){var e=Array.prototype.slice.call(arguments,1);if(e.length<=1&&(e=e[0]),a){var f={};g(j(h),function(a){f[a]=h[a]}),f[c]=e,b(a,f),b=function(){}}else h[c]=e,d.setImmediate(n)},o=e.slice(0,Math.abs(e.length-1))||[],p=function(){return i(o,function(a,b){return a&&h.hasOwnProperty(b)},!0)&&!h.hasOwnProperty(c)};if(p())e[e.length-1](k,h);else{var q=function(){p()&&(m(q),e[e.length-1](k,h))};l(q)}})},d.retry=function(a,b,c){var e=5,f=[];"function"==typeof a&&(c=b,b=a,a=e),a=parseInt(a,10)||e;var g=function(e,g){for(var h=function(a,b){return function(c){a(function(a,d){c(!a||b,{err:a,result:d})},g)}};a;)f.push(h(b,!(a-=1)));d.series(f,function(a,b){b=b[b.length-1],(e||c)(b.err,b.result)})};return c?g():g},d.waterfall=function(a,b){if(b=b||function(){},!f(a)){var c=new Error("First argument to waterfall must be an array of functions");return b(c)}if(!a.length)return b();var e=function(a){return function(c){if(c)b.apply(null,arguments),b=function(){};else{var f=Array.prototype.slice.call(arguments,1),g=a.next();f.push(g?e(g):b),d.setImmediate(function(){a.apply(null,f)})}}};e(d.iterator(a))()};var t=function(a,b,c){if(c=c||function(){},f(b))a.map(b,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},c);else{var d={};a.each(j(b),function(a,c){b[a](function(b){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),d[a]=e,c(b)})},function(a){c(a,d)})}};d.parallel=function(a,b){t({map:d.map,each:d.each},a,b)},d.parallelLimit=function(a,b,c){t({map:p(b),each:k(b)},a,c)},d.series=function(a,b){if(b=b||function(){},f(a))d.mapSeries(a,function(a,b){a&&a(function(a){var c=Array.prototype.slice.call(arguments,1);c.length<=1&&(c=c[0]),b.call(null,a,c)})},b);else{var c={};d.eachSeries(j(a),function(b,d){a[b](function(a){var e=Array.prototype.slice.call(arguments,1);e.length<=1&&(e=e[0]),c[b]=e,d(a)})},function(a){b(a,c)})}},d.iterator=function(a){var b=function(c){var d=function(){return a.length&&a[c].apply(null,arguments),d.next()};return d.next=function(){return c<a.length-1?b(c+1):null},d};return b(0)},d.apply=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b.concat(Array.prototype.slice.call(arguments)))}};var u=function(a,b,c,d){var e=[];a(b,function(a,b){c(a,function(a,c){e=e.concat(c||[]),b(a)})},function(a){d(a,e)})};d.concat=l(u),d.concatSeries=n(u),d.whilst=function(a,b,c){a()?b(function(e){return e?c(e):void d.whilst(a,b,c)}):c()},d.doWhilst=function(a,b,c){a(function(e){if(e)return c(e);var f=Array.prototype.slice.call(arguments,1);b.apply(null,f)?d.doWhilst(a,b,c):c()})},d.until=function(a,b,c){a()?c():b(function(e){return e?c(e):void d.until(a,b,c)})},d.doUntil=function(a,b,c){a(function(e){if(e)return c(e);var f=Array.prototype.slice.call(arguments,1);b.apply(null,f)?c():d.doUntil(a,b,c)})},d.queue=function(b,c){function e(a,b,c,e){return a.started||(a.started=!0),f(b)||(b=[b]),0==b.length?d.setImmediate(function(){a.drain&&a.drain()}):void g(b,function(b){var f={data:b,callback:"function"==typeof e?e:null};c?a.tasks.unshift(f):a.tasks.push(f),a.saturated&&a.tasks.length===a.concurrency&&a.saturated(),d.setImmediate(a.process)})}void 0===c&&(c=1);var h=0,i={tasks:[],concurrency:c,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(a,b){e(i,a,!1,b)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(a,b){e(i,a,!0,b)},process:function(){if(!i.paused&&h<i.concurrency&&i.tasks.length){var c=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),h+=1;var d=function(){h-=1,c.callback&&c.callback.apply(c,arguments),i.drain&&i.tasks.length+h===0&&i.drain(),i.process()},e=a(d);b(c.data,e)}},length:function(){return i.tasks.length},running:function(){return h},idle:function(){return i.tasks.length+h===0},pause:function(){i.paused!==!0&&(i.paused=!0,i.process())},resume:function(){i.paused!==!1&&(i.paused=!1,i.process())}};return i},d.priorityQueue=function(a,b){function c(a,b){return a.priority-b.priority}function e(a,b,c){for(var d=-1,e=a.length-1;e>d;){var f=d+(e-d+1>>>1);c(b,a[f])>=0?d=f:e=f-1}return d}function h(a,b,h,i){return a.started||(a.started=!0),f(b)||(b=[b]),0==b.length?d.setImmediate(function(){a.drain&&a.drain()}):void g(b,function(b){var f={data:b,priority:h,callback:"function"==typeof i?i:null};a.tasks.splice(e(a.tasks,f,c)+1,0,f),a.saturated&&a.tasks.length===a.concurrency&&a.saturated(),d.setImmediate(a.process)})}var i=d.queue(a,b);return i.push=function(a,b,c){h(i,a,b,c)},delete i.unshift,i},d.cargo=function(a,b){var c=!1,e=[],i={tasks:e,payload:b,saturated:null,empty:null,drain:null,drained:!0,push:function(a,c){f(a)||(a=[a]),g(a,function(a){e.push({data:a,callback:"function"==typeof c?c:null}),i.drained=!1,i.saturated&&e.length===b&&i.saturated()}),d.setImmediate(i.process)},process:function j(){if(!c){if(0===e.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var d="number"==typeof b?e.splice(0,b):e.splice(0,e.length),f=h(d,function(a){return a.data});i.empty&&i.empty(),c=!0,a(f,function(){c=!1;var a=arguments;g(d,function(b){b.callback&&b.callback.apply(null,a)}),j()})}},length:function(){return e.length},running:function(){return c}};return i};var v=function(a){return function(b){var c=Array.prototype.slice.call(arguments,1);b.apply(null,c.concat([function(b){var c=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(b?console.error&&console.error(b):console[a]&&g(c,function(b){console[a](b)}))}]))}};d.log=v("log"),d.dir=v("dir"),d.memoize=function(a,b){var c={},e={};b=b||function(a){return a};var f=function(){var f=Array.prototype.slice.call(arguments),g=f.pop(),h=b.apply(null,f);h in c?d.nextTick(function(){g.apply(null,c[h])}):h in e?e[h].push(g):(e[h]=[g],a.apply(null,f.concat([function(){c[h]=arguments;var a=e[h];delete e[h];for(var b=0,d=a.length;d>b;b++)a[b].apply(null,arguments)}])))};return f.memo=c,f.unmemoized=a,f},d.unmemoize=function(a){return function(){return(a.unmemoized||a).apply(null,arguments)}},d.times=function(a,b,c){for(var e=[],f=0;a>f;f++)e.push(f);return d.map(e,b,c)},d.timesSeries=function(a,b,c){for(var e=[],f=0;a>f;f++)e.push(f);return d.mapSeries(e,b,c)},d.seq=function(){var a=arguments;return function(){var b=this,c=Array.prototype.slice.call(arguments),e=c.pop();d.reduce(a,c,function(a,c,d){c.apply(b,a.concat([function(){var a=arguments[0],b=Array.prototype.slice.call(arguments,1);d(a,b)}]))},function(a,c){e.apply(b,[a].concat(c))})}},d.compose=function(){return d.seq.apply(null,Array.prototype.reverse.call(arguments))};var w=function(a,b){var c=function(){var c=this,d=Array.prototype.slice.call(arguments),e=d.pop();return a(b,function(a,b){a.apply(c,d.concat([b]))},e)};if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return c.apply(this,d)}return c};d.applyEach=l(w),d.applyEachSeries=n(w),d.forever=function(a,b){function c(d){if(d){if(b)return b(d);throw d}a(c)}c()},"undefined"!=typeof module&&module.exports?module.exports=d:"undefined"!=typeof define&&define.amd?define([],function(){return d}):b.async=d}(),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]'),b=!0;if(a.length){var c=this.$element.find("input");"radio"===c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?b=!1:a.find(".active").removeClass("active")),b&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}b&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){"use strict";function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()
})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);{var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})}},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery),function(){var a=null;!function(b){function c(b){if(c[b]!==f)return c[b];var d;if("bug-string-char-index"==b)d="a"!="a"[0];else if("json"==b)d=c("json-stringify")&&c("json-parse");else{var e;if("json-stringify"==b){d=j.stringify;var h="function"==typeof d&&k;if(h){(e=function(){return 1}).toJSON=e;try{h="0"===d(0)&&"0"===d(new Number)&&'""'==d(new String)&&d(g)===f&&d(f)===f&&d()===f&&"1"===d(e)&&"[1]"==d([e])&&"[null]"==d([f])&&"null"==d(a)&&"[null,null,null]"==d([f,g,a])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[e,!0,!1,a,"\x00\b\n\f\r	"]})&&"1"===d(a,e)&&"[\n 1,\n 2\n]"==d([1,2],a,1)&&'"-271821-04-20T00:00:00.000Z"'==d(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==d(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==d(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==d(new Date(-1))}catch(i){h=!1}}d=h}if("json-parse"==b){if(d=j.parse,"function"==typeof d)try{if(0===d("0")&&!d(!1)){e=d('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var l=5==e.a.length&&1===e.a[0];if(l){try{l=!d('"	"')}catch(m){}if(l)try{l=1!==d("01")}catch(n){}if(l)try{l=1!==d("1.")}catch(o){}}}}catch(p){l=!1}d=l}}return c[b]=!!d}var d,e,f,g={}.toString,h="function"==typeof define&&define.amd,i="object"==typeof JSON&&JSON,j="object"==typeof exports&&exports&&!exports.nodeType&&exports;j&&i?(j.stringify=i.stringify,j.parse=i.parse):j=b.JSON=i||{};var k=new Date(-0xc782b5b800cec);try{k=-109252==k.getUTCFullYear()&&0===k.getUTCMonth()&&1===k.getUTCDate()&&10==k.getUTCHours()&&37==k.getUTCMinutes()&&6==k.getUTCSeconds()&&708==k.getUTCMilliseconds()}catch(l){}if(!c("json")){var m=c("bug-string-char-index");if(!k)var n=Math.floor,o=[0,31,59,90,120,151,181,212,243,273,304,334],p=function(a,b){return o[b]+365*(a-1970)+n((a-1969+(b=+(b>1)))/4)-n((a-1901+b)/100)+n((a-1601+b)/400)};(d={}.hasOwnProperty)||(d=function(b){var c,e={};return(e.__proto__=a,e.__proto__={toString:1},e).toString!=g?d=function(b){var c=this.__proto__,b=b in(this.__proto__=a,this);return this.__proto__=c,b}:(c=e.constructor,d=function(a){var b=(this.constructor||c).prototype;return a in this&&!(a in b&&this[a]===b[a])}),e=a,d.call(this,b)});var q={"boolean":1,number:1,string:1,undefined:1};if(e=function(b,c){var f,h,i,j=0;(f=function(){this.valueOf=0}).prototype.valueOf=0,h=new f;for(i in h)d.call(h,i)&&j++;return f=h=a,j?e=2==j?function(a,b){var c,e={},f="[object Function]"==g.call(a);for(c in a)!(f&&"prototype"==c)&&!d.call(e,c)&&(e[c]=1)&&d.call(a,c)&&b(c)}:function(a,b){var c,e,f="[object Function]"==g.call(a);for(c in a)!(f&&"prototype"==c)&&d.call(a,c)&&!(e="constructor"===c)&&b(c);(e||d.call(a,c="constructor"))&&b(c)}:(h=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],e=function(a,b){var c,e,f="[object Function]"==g.call(a);(e=!f)&&(e="function"!=typeof a.constructor)&&(e=typeof a.hasOwnProperty,e="object"==e?!!a.hasOwnProperty:!q[e]),e=e?a.hasOwnProperty:d;for(c in a)!(f&&"prototype"==c)&&e.call(a,c)&&b(c);for(f=h.length;c=h[--f];e.call(a,c)&&b(c));}),e(b,c)},!c("json-stringify")){var r={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},s=function(a,b){return("000000"+(b||0)).slice(-a)},t=function(a){var b,c='"',d=0,e=a.length,f=e>10&&m;for(f&&(b=a.split(""));e>d;d++){var g=a.charCodeAt(d);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=r[g];break;default:if(32>g){c+="\\u00"+s(2,g.toString(16));break}c+=f?b[d]:m?a.charAt(d):a[d]}}return c+'"'},u=function(b,c,h,i,j,k,l){var m,o,q,r,v,w,x,y,z;try{m=c[b]}catch(A){}if("object"==typeof m&&m)if(o=g.call(m),"[object Date]"!=o||d.call(m,"toJSON"))"function"==typeof m.toJSON&&("[object Number]"!=o&&"[object String]"!=o&&"[object Array]"!=o||d.call(m,"toJSON"))&&(m=m.toJSON(b));else if(m>-1/0&&1/0>m){if(p){for(r=n(m/864e5),o=n(r/365.2425)+1970-1;p(o+1,0)<=r;o++);for(q=n((r-p(o,0))/30.42);p(o,q+1)<=r;q++);r=1+r-p(o,q),v=(m%864e5+864e5)%864e5,w=n(v/36e5)%24,x=n(v/6e4)%60,y=n(v/1e3)%60,v%=1e3}else o=m.getUTCFullYear(),q=m.getUTCMonth(),r=m.getUTCDate(),w=m.getUTCHours(),x=m.getUTCMinutes(),y=m.getUTCSeconds(),v=m.getUTCMilliseconds();m=(0>=o||o>=1e4?(0>o?"-":"+")+s(6,0>o?-o:o):s(4,o))+"-"+s(2,q+1)+"-"+s(2,r)+"T"+s(2,w)+":"+s(2,x)+":"+s(2,y)+"."+s(3,v)+"Z"}else m=a;if(h&&(m=h.call(c,b,m)),m===a)return"null";if(o=g.call(m),"[object Boolean]"==o)return""+m;if("[object Number]"==o)return m>-1/0&&1/0>m?""+m:"null";if("[object String]"==o)return t(""+m);if("object"==typeof m){for(b=l.length;b--;)if(l[b]===m)throw TypeError();if(l.push(m),z=[],c=k,k+=j,"[object Array]"==o){for(q=0,b=m.length;b>q;q++)o=u(q,m,h,i,j,k,l),z.push(o===f?"null":o);b=z.length?j?"[\n"+k+z.join(",\n"+k)+"\n"+c+"]":"["+z.join(",")+"]":"[]"}else e(i||m,function(a){var b=u(a,m,h,i,j,k,l);b!==f&&z.push(t(a)+":"+(j?" ":"")+b)}),b=z.length?j?"{\n"+k+z.join(",\n"+k)+"\n"+c+"}":"{"+z.join(",")+"}":"{}";return l.pop(),b}};j.stringify=function(a,b,c){var d,e,f,h;if("function"==typeof b||"object"==typeof b&&b)if("[object Function]"==(h=g.call(b)))e=b;else if("[object Array]"==h){f={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=g.call(i),("[object String]"==h||"[object Number]"==h)&&(f[i]=1));}if(c)if("[object Number]"==(h=g.call(c))){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else"[object String]"==h&&(d=c.length<=10?c:c.slice(0,10));return u("",(i={},i[""]=a,i),e,f,d,"",[])}}if(!c("json-parse")){var v,w,x=String.fromCharCode,y={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},z=function(){throw v=w=a,SyntaxError()},A=function(){for(var b,c,d,e,f,g=w,h=g.length;h>v;)switch(f=g.charCodeAt(v)){case 9:case 10:case 13:case 32:v++;break;case 123:case 125:case 91:case 93:case 58:case 44:return b=m?g.charAt(v):g[v],v++,b;case 34:for(b="@",v++;h>v;)if(f=g.charCodeAt(v),32>f)z();else if(92==f)switch(f=g.charCodeAt(++v)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:b+=y[f],v++;break;case 117:for(c=++v,d=v+4;d>v;v++)f=g.charCodeAt(v),f>=48&&57>=f||f>=97&&102>=f||f>=65&&70>=f||z();b+=x("0x"+g.slice(c,v));break;default:z()}else{if(34==f)break;for(f=g.charCodeAt(v),c=v;f>=32&&92!=f&&34!=f;)f=g.charCodeAt(++v);b+=g.slice(c,v)}if(34==g.charCodeAt(v))return v++,b;z();default:if(c=v,45==f&&(e=!0,f=g.charCodeAt(++v)),f>=48&&57>=f){for(48==f&&(f=g.charCodeAt(v+1),f>=48&&57>=f)&&z();h>v&&(f=g.charCodeAt(v),f>=48&&57>=f);v++);if(46==g.charCodeAt(v)){for(d=++v;h>d&&(f=g.charCodeAt(d),f>=48&&57>=f);d++);d==v&&z(),v=d}if(f=g.charCodeAt(v),101==f||69==f){for(f=g.charCodeAt(++v),(43==f||45==f)&&v++,d=v;h>d&&(f=g.charCodeAt(d),f>=48&&57>=f);d++);d==v&&z(),v=d}return+g.slice(c,v)}if(e&&z(),"true"==g.slice(v,v+4))return v+=4,!0;if("false"==g.slice(v,v+5))return v+=5,!1;if("null"==g.slice(v,v+4))return v+=4,a;z()}return"$"},B=function(a){var b,c;if("$"==a&&z(),"string"==typeof a){if("@"==(m?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=A(),"]"!=a;c||(c=!0))c&&(","==a?(a=A(),"]"==a&&z()):z()),","==a&&z(),b.push(B(a));return b}if("{"==a){for(b={};a=A(),"}"!=a;c||(c=!0))c&&(","==a?(a=A(),"}"==a&&z()):z()),(","==a||"string"!=typeof a||"@"!=(m?a.charAt(0):a[0])||":"!=A())&&z(),b[a.slice(1)]=B(A());return b}z()}return a},C=function(a,b,c){c=D(a,b,c),c===f?delete a[b]:a[b]=c},D=function(a,b,c){var d,f=a[b];if("object"==typeof f&&f)if("[object Array]"==g.call(f))for(d=f.length;d--;)C(f,d,c);else e(f,function(a){C(f,a,c)});return c.call(a,b,f)};j.parse=function(b,c){var d,e;return v=0,w=""+b,d=B(A()),"$"!=A()&&z(),v=w=a,c&&"[object Function]"==g.call(c)?D((e={},e[""]=d,e),"",c):d}}}h&&define(function(){return j})}(this)}(),function(a,b,c){"use strict";function d(a){return function(){var b,c,d=arguments[0],e="["+(a?a+":":"")+d+"] ",f=arguments[1],g=arguments,h=function(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?JSON.stringify(a):a};for(b=e+f.replace(/\{\d+\}/g,function(a){var b,c=+a.slice(1,-1);return c+2<g.length?(b=g[c+2],"function"==typeof b?b.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof b?"undefined":"string"!=typeof b?Q(b):b):a}),b=b+"\nhttp://errors.angularjs.org/1.2.20/"+(a?a+"/":"")+d,c=2;c<arguments.length;c++)b=b+(2==c?"?":"&")+"p"+(c-2)+"="+encodeURIComponent(h(arguments[c]));return new Error(b)}}function e(a){if(null==a||z(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:u(a)||Cd(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b,c){var d;if(a)if(x(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d);else if(a.forEach&&a.forEach!==f)a.forEach(b,c);else if(e(a))for(d=0;d<a.length;d++)b.call(c,a[d],d);else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d);return a}function g(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function h(a,b,c){for(var d=g(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function i(a){return function(b,c){a(c,b)}}function j(){for(var a,b=Bd.length;b;){if(b--,a=Bd[b].charCodeAt(0),57==a)return Bd[b]="A",Bd.join("");if(90!=a)return Bd[b]=String.fromCharCode(a+1),Bd.join("");Bd[b]="0"}return Bd.unshift("0"),Bd.join("")}function k(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function l(a){var b=a.$$hashKey;return f(arguments,function(b){b!==a&&f(b,function(b,c){a[c]=b})}),k(a,b),a}function m(a){return parseInt(a,10)}function n(a,b){return l(new(l(function(){},{prototype:a})),b)}function o(){}function p(a){return a}function q(a){return function(){return a}}function r(a){return"undefined"==typeof a}function s(a){return"undefined"!=typeof a}function t(a){return null!=a&&"object"==typeof a}function u(a){return"string"==typeof a}function v(a){return"number"==typeof a}function w(a){return"[object Date]"===yd.call(a)}function x(a){return"function"==typeof a}function y(a){return"[object RegExp]"===yd.call(a)}function z(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function A(a){return a&&a.$evalAsync&&a.$watch}function B(a){return"[object File]"===yd.call(a)}function C(a){return"[object Blob]"===yd.call(a)}function D(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function E(a,b,c){var d=[];return f(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d}function F(a,b){return-1!=G(a,b)}function G(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}function H(a,b){var c=G(a,b);return c>=0&&a.splice(c,1),b}function I(a,b,c,d){if(z(a)||A(a))throw zd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw zd("cpi","Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],t(a)){var e=G(c,a);if(-1!==e)return d[e];c.push(a),d.push(b)}var g;if(Cd(a)){b.length=0;for(var h=0;h<a.length;h++)g=I(a[h],null,c,d),t(a[h])&&(c.push(a[h]),d.push(g)),b.push(g)}else{var i=b.$$hashKey;f(b,function(a,c){delete b[c]});for(var j in a)g=I(a[j],null,c,d),t(a[j])&&(c.push(a[j]),d.push(g)),b[j]=g;k(b,i)}}else b=a,a&&(Cd(a)?b=I(a,[],c,d):w(a)?b=new Date(a.getTime()):y(a)?b=new RegExp(a.source):t(a)&&(b=I(a,{},c,d)));return b}function J(a,b){if(Cd(a)){b=b||[];for(var c=0;c<a.length;c++)b[c]=a[c]}else if(t(a)){b=b||{};for(var d in a)!nd.call(a,d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(b[d]=a[d])}return b||a}function K(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var d,e,f,g=typeof a,h=typeof b;if(g==h&&"object"==g){if(!Cd(a)){if(w(a))return w(b)&&a.getTime()==b.getTime();if(y(a)&&y(b))return a.toString()==b.toString();if(A(a)||A(b)||z(a)||z(b)||Cd(b))return!1;f={};for(e in a)if("$"!==e.charAt(0)&&!x(a[e])){if(!K(a[e],b[e]))return!1;f[e]=!0}for(e in b)if(!f.hasOwnProperty(e)&&"$"!==e.charAt(0)&&b[e]!==c&&!x(b[e]))return!1;return!0}if(!Cd(b))return!1;if((d=a.length)==b.length){for(e=0;d>e;e++)if(!K(a[e],b[e]))return!1;return!0}}return!1}function L(){return b.securityPolicy&&b.securityPolicy.isActive||b.querySelector&&!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"))}function M(a,b,c){return a.concat(wd.call(b,c))}function N(a,b){return wd.call(a,b||0)}function O(a,b){var c=arguments.length>2?N(arguments,2):[];return!x(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,c.concat(wd.call(arguments,0))):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function P(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)?e=c:z(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":A(d)&&(e="$SCOPE"),e}function Q(a,b){return"undefined"==typeof a?c:JSON.stringify(a,P,b?"  ":null)}function R(a){return u(a)?JSON.parse(a):a}function S(a){if("function"==typeof a)a=!0;else if(a&&0!==a.length){var b=md(""+a);a=!("f"==b||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)}else a=!1;return a}function T(a){a=sd(a).clone();try{a.empty()}catch(b){}var c=3,d=sd("<div>").append(a).html();try{return a[0].nodeType===c?md(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+md(b)})}catch(b){return md(d)}}function U(a){try{return decodeURIComponent(a)}catch(b){}}function V(a){var b,c,d={};return f((a||"").split("&"),function(a){if(a&&(b=a.split("="),c=U(b[0]),s(c))){var e=s(b[1])?U(b[1]):!0;nd.call(d,c)?Cd(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}}),d}function W(a){var b=[];return f(a,function(a,c){Cd(a)?f(a,function(a){b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}):b.push(Y(c,!0)+(a===!0?"":"="+Y(a,!0)))}),b.length?b.join("&"):""}function X(a){return Y(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Y(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function Z(a,c){function d(a){a&&h.push(a)}var e,g,h=[a],i=["ng:app","ng-app","x-ng-app","data-ng-app"],j=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;f(i,function(c){i[c]=!0,d(b.getElementById(c)),c=c.replace(":","\\:"),a.querySelectorAll&&(f(a.querySelectorAll("."+c),d),f(a.querySelectorAll("."+c+"\\:"),d),f(a.querySelectorAll("["+c+"]"),d))}),f(h,function(a){if(!e){var b=" "+a.className+" ",c=j.exec(b);c?(e=a,g=(c[2]||"").replace(/\s+/g,",")):f(a.attributes,function(b){!e&&i[b.name]&&(e=a,g=b.value)})}}),e&&c(e,g?[g]:[])}function $(c,d){var e=function(){if(c=sd(c),c.injector()){var a=c[0]===b?"document":T(c);throw zd("btstrpd","App Already Bootstrapped with this Element '{0}'",a)}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),d.unshift("ng");var e=Hb(d);return e.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),e},g=/^NG_DEFER_BOOTSTRAP!/;return a&&!g.test(a.name)?e():(a.name=a.name.replace(g,""),void(Ad.resumeBootstrap=function(a){f(a,function(a){d.push(a)}),e()}))}function _(a,b){return b=b||"_",a.replace(Ed,function(a,c){return(c?b:"")+a.toLowerCase()})}function ab(){td=a.jQuery,td&&td.fn.on?(sd=td,l(td.fn,{scope:Sd.scope,isolateScope:Sd.isolateScope,controller:Sd.controller,injector:Sd.injector,inheritedData:Sd.inheritedData}),kb("remove",!0,!0,!1),kb("empty",!1,!1,!1),kb("html",!1,!1,!0)):sd=ob,Ad.element=sd}function bb(a,b,c){if(!a)throw zd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function cb(a,b,c){return c&&Cd(a)&&(a=a[a.length-1]),bb(x(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function db(a,b){if("hasOwnProperty"===a)throw zd("badname","hasOwnProperty is not a valid {0} name",b)}function eb(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&x(a)?O(f,a):a}function fb(a){var b=a[0],c=a[a.length-1];if(b===c)return sd(b);var d=b,e=[d];do{if(d=d.nextSibling,!d)break;e.push(d)}while(d!==c);return sd(e)}function gb(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,c,d){return function(){return b[d||"push"]([a,c,arguments]),i}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var b=[],e=[],h=a("$injector","invoke"),i={_invokeQueue:b,_runBlocks:e,requires:f,name:d,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:h,run:function(a){return e.push(a),this}};return g&&h(g),i})}})}function hb(b){l(b,{bootstrap:$,copy:I,extend:l,equals:K,element:sd,forEach:f,injector:Hb,noop:o,bind:O,toJson:Q,fromJson:R,identity:p,isUndefined:r,isDefined:s,isString:u,isFunction:x,isObject:t,isNumber:v,isElement:D,isArray:Cd,version:Fd,isDate:w,lowercase:md,uppercase:od,callbacks:{counter:0},$$minErr:d,$$csp:L}),ud=gb(a);try{ud("ngLocale")}catch(c){ud("ngLocale",[]).provider("$locale",cc)}ud("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Cc}),a.provider("$compile",Ob).directive({a:Be,input:Me,textarea:Me,form:Fe,script:uf,select:xf,style:zf,option:yf,ngBind:Ye,ngBindHtml:$e,ngBindTemplate:Ze,ngClass:_e,ngClassEven:bf,ngClassOdd:af,ngCloak:cf,ngController:df,ngForm:Ge,ngHide:of,ngIf:ff,ngInclude:gf,ngInit:jf,ngNonBindable:kf,ngPluralize:lf,ngRepeat:mf,ngShow:nf,ngStyle:pf,ngSwitch:qf,ngSwitchWhen:rf,ngSwitchDefault:sf,ngOptions:wf,ngTransclude:tf,ngModel:Se,ngList:Ve,ngChange:Te,required:Ue,ngRequired:Ue,ngValue:Xe}).directive({ngInclude:hf}).directive(Ce).directive(ef),a.provider({$anchorScroll:Ib,$animate:_d,$browser:Lb,$cacheFactory:Mb,$controller:Rb,$document:Sb,$exceptionHandler:Tb,$filter:Nc,$interpolate:ac,$interval:bc,$http:Yb,$httpBackend:$b,$location:pc,$log:qc,$parse:xc,$rootScope:Bc,$q:yc,$sce:Hc,$sceDelegate:Gc,$sniffer:Ic,$templateCache:Nb,$timeout:Jc,$window:Mc,$$rAF:Ac,$$asyncCallback:Jb})}])}function ib(){return++Hd}function jb(a){return a.replace(Kd,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Ld,"Moz$1")}function kb(a,b,c,d){function e(a){var e,g,h,i,j,k,l,m=c&&a?[this.filter(a)]:[this],n=b;if(!d||null!=a)for(;m.length;)for(e=m.shift(),g=0,h=e.length;h>g;g++)for(i=sd(e[g]),n?i.triggerHandler("$destroy"):n=!n,j=0,k=(l=i.children()).length;k>j;j++)m.push(td(l[j]));return f.apply(this,arguments)}var f=td.fn[a];f=f.$original||f,e.$original=f,td.fn[a]=e}function lb(a){return!Od.test(a)}function mb(a,b){var c,d,e,f,g,h,i=b.createDocumentFragment(),j=[];if(lb(a))j.push(b.createTextNode(a));else{for(c=i.appendChild(b.createElement("div")),d=(Pd.exec(a)||["",""])[1].toLowerCase(),e=Rd[d]||Rd._default,c.innerHTML="<div>&#160;</div>"+e[1]+a.replace(Qd,"<$1></$2>")+e[2],c.removeChild(c.firstChild),f=e[0];f--;)c=c.lastChild;for(g=0,h=c.childNodes.length;h>g;++g)j.push(c.childNodes[g]);c=i.firstChild,c.textContent=""}return i.textContent="",i.innerHTML="",j}function nb(a,c){c=c||b;var d;return(d=Nd.exec(a))?[c.createElement(d[1])]:mb(a,c)}function ob(a){if(a instanceof ob)return a;if(u(a)&&(a=Dd(a)),!(this instanceof ob)){if(u(a)&&"<"!=a.charAt(0))throw Md("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new ob(a)}if(u(a)){yb(this,nb(a));var c=sd(b.createDocumentFragment());c.append(this)}else yb(this,a)}function pb(a){return a.cloneNode(!0)}function qb(a){sb(a);for(var b=0,c=a.childNodes||[];b<c.length;b++)qb(c[b])}function rb(a,b,c,d){if(s(d))throw Md("offargs","jqLite#off() does not support the `selector` argument");var e=tb(a,"events"),g=tb(a,"handle");g&&(r(b)?f(e,function(b,c){Jd(a,c,b),delete e[c]}):f(b.split(" "),function(b){r(c)?(Jd(a,b,e[b]),delete e[b]):H(e[b]||[],c)}))}function sb(a,b){var d=a.ng339,e=Gd[d];if(e){if(b)return void delete Gd[d].data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),rb(a)),delete Gd[d],a.ng339=c}}function tb(a,b,c){var d=a.ng339,e=Gd[d||-1];return s(c)?(e||(a.ng339=d=ib(),e=Gd[d]={}),void(e[b]=c)):e&&e[b]}function ub(a,b,c){var d=tb(a,"data"),e=s(c),f=!e&&s(b),g=f&&!t(b);if(d||g||tb(a,"data",d={}),e)d[b]=c;else{if(!f)return d;if(g)return d&&d[b];l(d,b)}}function vb(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function wb(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",Dd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Dd(b)+" "," ")))})}function xb(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=Dd(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Dd(c))}}function yb(a,b){if(b){b=b.nodeName||!s(b.length)||z(b)?[b]:b;for(var c=0;c<b.length;c++)a.push(b[c])}}function zb(a,b){return Ab(a,"$"+(b||"ngController")+"Controller")}function Ab(a,b,d){a=sd(a),9==a[0].nodeType&&(a=a.find("html"));for(var e=Cd(b)?b:[b];a.length;){for(var f=a[0],g=0,h=e.length;h>g;g++)if((d=a.data(e[g]))!==c)return d;a=sd(f.parentNode||11===f.nodeType&&f.host)}}function Bb(a){for(var b=0,c=a.childNodes;b<c.length;b++)qb(c[b]);for(;a.firstChild;)a.removeChild(a.firstChild)}function Cb(a,b){var c=Td[b.toLowerCase()];return c&&Ud[a.nodeName]&&c}function Db(a,c){var d=function(d,e){if(d.preventDefault||(d.preventDefault=function(){d.returnValue=!1}),d.stopPropagation||(d.stopPropagation=function(){d.cancelBubble=!0}),d.target||(d.target=d.srcElement||b),r(d.defaultPrevented)){var g=d.preventDefault;d.preventDefault=function(){d.defaultPrevented=!0,g.call(d)},d.defaultPrevented=!1}d.isDefaultPrevented=function(){return d.defaultPrevented||d.returnValue===!1};var h=J(c[e||d.type]||[]);f(h,function(b){b.call(a,d)}),8>=rd?(d.preventDefault=null,d.stopPropagation=null,d.isDefaultPrevented=null):(delete d.preventDefault,delete d.stopPropagation,delete d.isDefaultPrevented)};return d.elem=a,d}function Eb(a,b){var d,e=typeof a;return"function"==e||"object"==e&&null!==a?"function"==typeof(d=a.$$hashKey)?d=a.$$hashKey():d===c&&(d=a.$$hashKey=(b||j)()):d=a,e+":"+d}function Fb(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function Gb(a){var b,c,d,e;return"function"==typeof a?(b=a.$inject)||(b=[],a.length&&(c=a.toString().replace(Yd,""),d=c.match(Vd),f(d[1].split(Wd),function(a){a.replace(Xd,function(a,c,d){b.push(d)})})),a.$inject=b):Cd(a)?(e=a.length-1,cb(a[e],"fn"),b=a.slice(0,e)):cb(a,"fn",!0),b}function Hb(a){function b(a){return function(b,c){return t(b)?void f(b,i(a)):a(b,c)}}function c(a,b){if(db(a,"service"),(x(b)||Cd(b))&&(b=v.instantiate(b)),!b.$get)throw Zd("pget","Provider '{0}' must define $get factory method.",a);return s[a+n]=b}function d(a,b){return c(a,{$get:b})}function e(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}function g(a,b){return d(a,q(b))}function h(a,b){db(a,"constant"),s[a]=b,w[a]=b}function j(a,b){var c=v.get(a+n),d=c.$get;c.$get=function(){var a=y.invoke(d,c);return y.invoke(b,null,{$delegate:a})}}function k(a){var b,c,d,e,g=[];return f(a,function(a){if(!r.get(a)){r.put(a,!0);try{if(u(a))for(b=ud(a),g=g.concat(k(b.requires)).concat(b._runBlocks),c=b._invokeQueue,d=0,e=c.length;e>d;d++){var f=c[d],h=v.get(f[0]);h[f[1]].apply(h,f[2])}else x(a)?g.push(v.invoke(a)):Cd(a)?g.push(v.invoke(a)):cb(a,"module")}catch(i){throw Cd(a)&&(a=a[a.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Zd("modulerr","Failed to instantiate module {0} due to:\n{1}",a,i.stack||i.message||i)}}}),g}function l(a,b){function c(c){if(a.hasOwnProperty(c)){if(a[c]===m)throw Zd("cdep","Circular dependency found: {0}",c+" <- "+p.join(" <- "));return a[c]}try{return p.unshift(c),a[c]=m,a[c]=b(c)}catch(d){throw a[c]===m&&delete a[c],d}finally{p.shift()}}function d(a,b,d){var e,f,g,h=[],i=Gb(a);for(f=0,e=i.length;e>f;f++){if(g=i[f],"string"!=typeof g)throw Zd("itkn","Incorrect injection token! Expected service name as string, got {0}",g);h.push(d&&d.hasOwnProperty(g)?d[g]:c(g))}return Cd(a)&&(a=a[e]),a.apply(b,h)}function e(a,b){var c,e,f=function(){};return f.prototype=(Cd(a)?a[a.length-1]:a).prototype,c=new f,e=d(a,c,b),t(e)||x(e)?e:c}return{invoke:d,instantiate:e,get:c,annotate:Gb,has:function(b){return s.hasOwnProperty(b+n)||a.hasOwnProperty(b)}}}var m={},n="Provider",p=[],r=new Fb([],!0),s={$provide:{provider:b(c),factory:b(d),service:b(e),value:b(g),constant:b(h),decorator:j}},v=s.$injector=l(s,function(){throw Zd("unpr","Unknown provider: {0}",p.join(" <- "))}),w={},y=w.$injector=l(w,function(a){var b=v.get(a+n);return y.invoke(b.$get,b)});return f(k(a),function(a){y.invoke(a||o)}),y}function Ib(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return f(a,function(a){b||"a"!==md(a.nodeName)||(b=a)}),b}function g(){var a,d=c.hash();d?(a=h.getElementById(d))?a.scrollIntoView():(a=e(h.getElementsByName(d)))?a.scrollIntoView():"top"===d&&b.scrollTo(0,0):b.scrollTo(0,0)}var h=b.document;return a&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(g)}),g}]}function Jb(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Kb(a,b,d,e){function g(a){try{a.apply(null,N(arguments,1))}finally{if(s--,0===s)for(;t.length;)try{t.pop()()}catch(b){d.error(b)}}}function h(a,b){!function c(){f(w,function(a){a()}),v=b(c,a)}()}function i(){z=null,x!=j.url()&&(x=j.url(),f(A,function(a){a(j.url())}))}var j=this,k=b[0],l=a.location,m=a.history,n=a.setTimeout,p=a.clearTimeout,q={};j.isMock=!1;var s=0,t=[];j.$$completeOutstandingRequest=g,j.$$incOutstandingRequestCount=function(){s++},j.notifyWhenNoOutstandingRequests=function(a){f(w,function(a){a()}),0===s?a():t.push(a)};var v,w=[];j.addPollFn=function(a){return r(v)&&h(100,n),w.push(a),a};var x=l.href,y=b.find("base"),z=null;j.url=function(b,c){if(l!==a.location&&(l=a.location),m!==a.history&&(m=a.history),b){if(x==b)return;return x=b,e.history?c?m.replaceState(null,"",b):(m.pushState(null,"",b),y.attr("href",y.attr("href"))):(z=b,c?l.replace(b):l.href=b),j}return z||l.href.replace(/%27/g,"'")};var A=[],B=!1;j.onUrlChange=function(b){return B||(e.history&&sd(a).on("popstate",i),e.hashchange?sd(a).on("hashchange",i):j.addPollFn(i),B=!0),A.push(b),b},j.baseHref=function(){var a=y.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var C={},D="",E=j.baseHref();j.cookies=function(a,b){var e,f,g,h,i;if(!a){if(k.cookie!==D)for(D=k.cookie,f=D.split("; "),C={},h=0;h<f.length;h++)g=f[h],i=g.indexOf("="),i>0&&(a=unescape(g.substring(0,i)),C[a]===c&&(C[a]=unescape(g.substring(i+1))));
return C}b===c?k.cookie=escape(a)+"=;path="+E+";expires=Thu, 01 Jan 1970 00:00:00 GMT":u(b)&&(e=(k.cookie=escape(a)+"="+escape(b)+";path="+E).length+1,e>4096&&d.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+e+" > 4096 bytes)!"))},j.defer=function(a,b){var c;return s++,c=n(function(){delete q[c],g(a)},b||0),q[c]=!0,c},j.defer.cancel=function(a){return q[a]?(delete q[a],p(a),g(o),!0):!1}}function Lb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Kb(a,d,b,c)}]}function Mb(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i={},j=c&&c.capacity||Number.MAX_VALUE,k={},m=null,n=null;return b[a]={put:function(a,b){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}if(!r(b))return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}delete i[a],g--},removeAll:function(){i={},g=0,k={},m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Nb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Ob(a,d){var e={},g="Directive",h=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,j=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,k=/^(on[a-z]+|formaction)$/;this.directive=function m(b,c){return db(b,"directive"),u(b)?(bb(c,"directiveFactory"),e.hasOwnProperty(b)||(e[b]=[],a.factory(b+g,["$injector","$exceptionHandler",function(a,c){var d=[];return f(e[b],function(e,f){try{var g=a.invoke(e);x(g)?g={compile:q(g)}:!g.compile&&g.link&&(g.compile=q(g.link)),g.priority=g.priority||0,g.index=f,g.name=g.name||b,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"A",d.push(g)}catch(h){c(h)}}),d}])),e[b].push(c)):f(b,i(m)),this},this.aHrefSanitizationWhitelist=function(a){return s(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,d,i,m,o,q,r,s,v,w,y,z){function A(a,b,c,d,e){a instanceof sd||(a=sd(a)),f(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=b=sd(b).wrap("<span></span>").parent()[0])});var g=C(a,b,a,c,d,e);return B(a,"ng-scope"),function(b,c,d,e){bb(b,"scope");var h=c?Sd.clone.call(a):a;f(d,function(a,b){h.data("$"+b+"Controller",a)});for(var i=0,j=h.length;j>i;i++){var k=h[i],l=k.nodeType;(1===l||9===l)&&h.eq(i).data("$scope",b)}return c&&c(h,b),g&&g(b,h,h,e),h}}function B(a,b){try{a.addClass(b)}catch(c){}}function C(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,p,q=d.length,r=new Array(q);for(l=0;q>l;l++)r[l]=d[l];for(l=0,n=0,m=o.length;m>l;n++)i=r[n],g=o[l++],h=o[l++],j=sd(i),g?(g.scope?(k=a.$new(),j.data("$scope",k)):k=a,p=g.transcludeOnThisElement?D(a,g.transclude,f):!g.templateOnThisElement&&f?f:!f&&b?D(a,b):null,g(h,k,i,e,p)):h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o=[],p=0;p<a.length;p++)i=new X,j=E(a[p],[],i,0===p?e:c,f),k=j.length?H(j,a[p],i,b,d,null,[],[],g):null,k&&k.scope&&B(sd(a[p]),"ng-scope"),m=k&&k.terminal||!(l=a[p].childNodes)||!l.length?null:C(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),o.push(k,m),n=n||k||m,g=null;return n?h:null}function D(a,b,c){var d=function(d,e,f){var g=!1;d||(d=a.$new(),d.$$transcluded=!0,g=!0);var h=b(d,e,f,c);return g&&h.on("$destroy",function(){d.$destroy()}),h};return d}function E(a,b,c,d,e){var f,g,i=a.nodeType,k=c.$attr;switch(i){case 1:L(b,Pb(vd(a).toLowerCase()),"E",d,e);for(var l,m,n,o,p,q,r=a.attributes,s=0,t=r&&r.length;t>s;s++){var v=!1,w=!1;if(l=r[s],!rd||rd>=8||l.specified){m=l.name,p=Dd(l.value),o=Pb(m),(q=ab.test(o))&&(m=_(o.substr(6),"-"));var x=o.replace(/(Start|End)$/,"");o===x+"Start"&&(v=m,w=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),n=Pb(m.toLowerCase()),k[n]=m,(q||!c.hasOwnProperty(n))&&(c[n]=p,Cb(a,n)&&(c[n]=!0)),U(a,b,p,n),L(b,n,"A",d,e,v,w)}}if(g=a.className,u(g)&&""!==g)for(;f=j.exec(g);)n=Pb(f[2]),L(b,n,"C",d,e)&&(c[n]=Dd(f[3])),g=g.substr(f.index+f[0].length);break;case 3:R(b,a.nodeValue);break;case 8:try{f=h.exec(a.nodeValue),f&&(n=Pb(f[1]),L(b,n,"M",d,e)&&(c[n]=Dd(f[2])))}catch(y){}}return b.sort(P),b}function F(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw ae("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return sd(d)}function G(a,b,c){return function(d,e,f,g,h){return e=F(e[0],b,c),a(d,e,f,g,h)}}function H(a,e,g,h,j,k,l,m,n){function o(a,b,c,d){a&&(c&&(a=G(a,c,d)),a.require=w.require,a.directiveName=y,(P===w||w.$$isolateScope)&&(a=W(a,{isolateScope:!0})),l.push(a)),b&&(c&&(b=G(b,c,d)),b.require=w.require,b.directiveName=y,(P===w||w.$$isolateScope)&&(b=W(b,{isolateScope:!0})),m.push(b))}function p(a,b,c,d){var e,g="data",h=!1;if(u(b)){for(;"^"==(e=b.charAt(0))||"?"==e;)b=b.substr(1),"^"==e&&(g="inheritedData"),h=h||"?"==e;if(e=null,d&&"data"===g&&(e=d[b]),e=e||c[g]("$"+b+"Controller"),!e&&!h)throw ae("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a);return e}return Cd(b)&&(e=[],f(b,function(b){e.push(p(a,b,c,d))})),e}function s(a,b,h,j,k){function n(a,b){var d;return arguments.length<2&&(b=a,a=c),Z&&(d=z),k(a,b,d)}var o,s,t,u,v,w,x,y,z={};if(o=e===h?g:J(g,new X(sd(h),g.$attr)),s=o.$$element,P){var A=/^\s*([@=&])(\??)\s*(\w*)\s*$/,C=sd(h);x=b.$new(!0),!R||R!==P&&R!==P.$$originalDirective?C.data("$isolateScopeNoTemplate",x):C.data("$isolateScope",x),B(C,"ng-isolate-scope"),f(P.scope,function(a,c){var e,f,g,h,i=a.match(A)||[],j=i[3]||c,k="?"==i[2],l=i[1];switch(x.$$isolateBindings[c]=l+j,l){case"@":o.$observe(j,function(a){x[c]=a}),o.$$observers[j].$$scope=b,o[j]&&(x[c]=d(o[j])(b));break;case"=":if(k&&!o[j])return;f=q(o[j]),h=f.literal?K:function(a,b){return a===b},g=f.assign||function(){throw e=x[c]=f(b),ae("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",o[j],P.name)},e=x[c]=f(b),x.$watch(function(){var a=f(b);return h(a,x[c])||(h(a,e)?g(b,a=x[c]):x[c]=a),e=a},null,f.literal);break;case"&":f=q(o[j]),x[c]=function(a){return f(b,a)};break;default:throw ae("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",P.name,c,a)}})}for(y=k&&n,L&&f(L,function(a){var c,d={$scope:a===P||a.$$isolateScope?x:b,$element:s,$attrs:o,$transclude:y};w=a.controller,"@"==w&&(w=o[a.name]),c=r(w,d),z[a.name]=c,Z||s.data("$"+a.name+"Controller",c),a.controllerAs&&(d.$scope[a.controllerAs]=c)}),t=0,u=l.length;u>t;t++)try{v=l[t],v(v.isolateScope?x:b,s,o,v.require&&p(v.directiveName,v.require,s,z),y)}catch(D){i(D,T(s))}var E=b;for(P&&(P.template||null===P.templateUrl)&&(E=x),a&&a(E,h.childNodes,c,k),t=m.length-1;t>=0;t--)try{v=m[t],v(v.isolateScope?x:b,s,o,v.require&&p(v.directiveName,v.require,s,z),y)}catch(D){i(D,T(s))}}n=n||{};for(var v,w,y,z,C,D,H=-Number.MAX_VALUE,L=n.controllerDirectives,P=n.newIsolateScopeDirective,R=n.templateDirective,S=n.nonTlbTranscludeDirective,U=!1,Y=!1,Z=n.hasElementTranscludeDirective,_=g.$$element=sd(e),ab=k,bb=h,cb=0,db=a.length;db>cb;cb++){w=a[cb];var eb=w.$$start,fb=w.$$end;if(eb&&(_=F(e,eb,fb)),z=c,H>w.priority)break;if((D=w.scope)&&(v=v||w,w.templateUrl||(Q("new/isolated scope",P,w,_),t(D)&&(P=w))),y=w.name,!w.templateUrl&&w.controller&&(D=w.controller,L=L||{},Q("'"+y+"' controller",L[y],w,_),L[y]=w),(D=w.transclude)&&(U=!0,w.$$tlb||(Q("transclusion",S,w,_),S=w),"element"==D?(Z=!0,H=w.priority,z=F(e,eb,fb),_=g.$$element=sd(b.createComment(" "+y+": "+g[y]+" ")),e=_[0],V(j,sd(N(z)),e),bb=A(z,h,H,ab&&ab.name,{nonTlbTranscludeDirective:S})):(z=sd(pb(e)).contents(),_.empty(),bb=A(z,h))),w.template)if(Y=!0,Q("template",R,w,_),R=w,D=x(w.template)?w.template(_,g):w.template,D=$(D),w.replace){if(ab=w,z=lb(D)?[]:sd(Dd(D)),e=z[0],1!=z.length||1!==e.nodeType)throw ae("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");V(j,_,e);var gb={$attr:{}},hb=E(e,[],gb),ib=a.splice(cb+1,a.length-(cb+1));P&&I(hb),a=a.concat(hb).concat(ib),M(g,gb),db=a.length}else _.html(D);if(w.templateUrl)Y=!0,Q("template",R,w,_),R=w,w.replace&&(ab=w),s=O(a.splice(cb,a.length-cb),_,g,j,U&&bb,l,m,{controllerDirectives:L,newIsolateScopeDirective:P,templateDirective:R,nonTlbTranscludeDirective:S}),db=a.length;else if(w.compile)try{C=w.compile(_,g,bb),x(C)?o(null,C,eb,fb):C&&o(C.pre,C.post,eb,fb)}catch(jb){i(jb,T(_))}w.terminal&&(s.terminal=!0,H=Math.max(H,w.priority))}return s.scope=v&&v.scope===!0,s.transcludeOnThisElement=U,s.templateOnThisElement=Y,s.transclude=bb,n.hasElementTranscludeDirective=Z,s}function I(a){for(var b=0,c=a.length;c>b;b++)a[b]=n(a[b],{$$isolateScope:!0})}function L(b,d,f,h,j,k,l){if(d===j)return null;var m=null;if(e.hasOwnProperty(d))for(var o,p=a.get(d+g),q=0,r=p.length;r>q;q++)try{o=p[q],(h===c||h>o.priority)&&-1!=o.restrict.indexOf(f)&&(k&&(o=n(o,{$$start:k,$$end:l})),b.push(o),m=o)}catch(s){i(s)}return m}function M(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(B(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function O(a,b,c,d,e,g,h,i){var j,k,n=[],p=b[0],q=a.shift(),r=l({},q,{templateUrl:null,transclude:null,replace:null,$$originalDirective:q}),s=x(q.templateUrl)?q.templateUrl(b,c):q.templateUrl;return b.empty(),m.get(w.getTrustedResourceUrl(s),{cache:o}).success(function(l){var m,o,u,v;if(l=$(l),q.replace){if(u=lb(l)?[]:sd(Dd(l)),m=u[0],1!=u.length||1!==m.nodeType)throw ae("tplrt","Template for directive '{0}' must have exactly one root element. {1}",q.name,s);o={$attr:{}},V(d,b,m);var w=E(m,[],o);t(q.scope)&&I(w),a=w.concat(a),M(c,o)}else m=p,b.html(l);for(a.unshift(r),j=H(a,m,c,e,b,q,g,h,i),f(d,function(a,c){a==m&&(d[c]=b[0])}),k=C(b[0].childNodes,e);n.length;){var x=n.shift(),y=n.shift(),z=n.shift(),A=n.shift(),F=b[0];if(y!==p){var G=y.className;i.hasElementTranscludeDirective&&q.replace||(F=pb(m)),V(z,sd(y),F),B(sd(F),G)}v=j.transcludeOnThisElement?D(x,j.transclude,A):A,j(k,x,F,d,v)}n=null}).error(function(a,b,c,d){throw ae("tpload","Failed to load template: {0}",d.url)}),function(a,b,c,d,e){var f=e;n?(n.push(b),n.push(c),n.push(d),n.push(f)):(j.transcludeOnThisElement&&(f=D(b,j.transclude,e)),j(k,b,c,d,f))}}function P(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function Q(a,b,c,d){if(b)throw ae("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,T(d))}function R(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=b.length;return d&&B(a.parent(),"ng-binding"),function(a,b){var e=b.parent(),f=e.data("$binding")||[];f.push(c),e.data("$binding",f),d||B(e,"ng-binding"),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function S(a,b){if("srcdoc"==b)return w.HTML;var c=vd(a);return"xlinkHref"==b||"FORM"==c&&"action"==b||"IMG"!=c&&("src"==b||"ngSrc"==b)?w.RESOURCE_URL:void 0}function U(a,b,c,e){var f=d(c,!0);if(f){if("multiple"===e&&"SELECT"===vd(a))throw ae("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",T(a));b.push({priority:100,compile:function(){return{pre:function(b,c,g){var h=g.$$observers||(g.$$observers={});if(k.test(e))throw ae("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");f=d(g[e],!0,S(a,e)),f&&(g[e]=f(b),(h[e]||(h[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||b).$watch(f,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function V(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1;break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),d[sd.expando]=g[sd.expando];for(var n=1,o=c.length;o>n;n++){var p=c[n];sd(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function W(a,b){return l(function(){return a.apply(null,arguments)},a,b)}var X=function(a,b){this.$$element=a,this.$attr=b||{}};X.prototype={$normalize:Pb,$addClass:function(a){a&&a.length>0&&y.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&y.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Qb(a,b),d=Qb(b,a);0===c.length?y.removeClass(this.$$element,d):0===d.length?y.addClass(this.$$element,c):y.setClass(this.$$element,c,d)},$set:function(a,b,d,e){var g,h=Cb(this.$$element[0],a);h&&(this.$$element.prop(a,b),e=h),this[a]=b,e?this.$attr[a]=e:(e=this.$attr[a],e||(this.$attr[a]=e=_(a,"-"))),g=vd(this.$$element),("A"===g&&"href"===a||"IMG"===g&&"src"===a)&&(this[a]=b=z(b,"src"===a)),d!==!1&&(null===b||b===c?this.$$element.removeAttr(e):this.$$element.attr(e,b));var j=this.$$observers;j&&f(j[a],function(a){try{a(b)}catch(c){i(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);return e.push(b),s.$evalAsync(function(){e.$$inter||b(c[a])}),b}};var Y=d.startSymbol(),Z=d.endSymbol(),$="{{"==Y||"}}"==Z?p:function(a){return a.replace(/\{\{/g,Y).replace(/}}/g,Z)},ab=/^ngAttr[A-Z]/;return A}]}function Pb(a){return jb(a.replace(be,""))}function Qb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function Rb(){var a={},b=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){db(b,"controller"),t(b)?l(a,b):a[b]=c},this.$get=["$injector","$window",function(c,e){return function(f,g){var h,i,j,k;if(u(f)&&(i=f.match(b),j=i[1],k=i[3],f=a.hasOwnProperty(j)?a[j]:eb(g.$scope,j,!0)||eb(e,j,!0),cb(f,j,!0)),h=c.instantiate(f,g),k){if(!g||"object"!=typeof g.$scope)throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",j||f.name,k);g.$scope[k]=h}return h}}]}function Sb(){this.$get=["$window",function(a){return sd(a.document)}]}function Tb(){this.$get=["$log",function(a){return function(){a.error.apply(a,arguments)}}]}function Ub(a){var b,c,d,e={};return a?(f(a.split("\n"),function(a){d=a.indexOf(":"),b=md(Dd(a.substr(0,d))),c=Dd(a.substr(d+1)),b&&(e[b]?e[b]+=", "+c:e[b]=c)}),e):e}function Vb(a){var b=t(a)?a:c;return function(c){return b||(b=Ub(a)),c?b[md(c)]||null:b}}function Wb(a,b,c){return x(c)?c(a,b):(f(c,function(c){a=c(a,b)}),a)}function Xb(a){return a>=200&&300>a}function Yb(){var a=/^\s*(\[|\{[^\{])/,b=/[\}\]]\s*$/,d=/^\)\]\}',?\n/,e={"Content-Type":"application/json;charset=utf-8"},g=this.defaults={transformResponse:[function(c){return u(c)&&(c=c.replace(d,""),a.test(c)&&b.test(c)&&(c=R(c))),c}],transformRequest:[function(a){return!t(a)||B(a)||C(a)?a:Q(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:J(e),put:J(e),patch:J(e)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},i=this.interceptors=[],j=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,d,e,k,m){function n(a){function b(a){var b=l({},a,{data:Wb(a.data,a.headers,e.transformResponse)});return Xb(a.status)?b:k.reject(b)}function d(a){function b(a){var b;f(a,function(c,d){x(c)&&(b=c(),null!=b?a[d]=b:delete a[d])})}var c,d,e,h=g.headers,i=l({},a.headers);h=l({},h.common,h[md(a.method)]);a:for(c in h){d=md(c);for(e in i)if(md(e)===d)continue a;i[c]=h[c]}return b(i),i}var e={method:"get",transformRequest:g.transformRequest,transformResponse:g.transformResponse},h=d(a);l(e,a),e.headers=h,e.method=od(e.method);var i=function(a){h=a.headers;var c=Wb(a.data,Vb(h),a.transformRequest);return r(c)&&f(h,function(a,b){"content-type"===md(b)&&delete h[b]}),r(a.withCredentials)&&!r(g.withCredentials)&&(a.withCredentials=g.withCredentials),q(a,c,h).then(b,b)},j=[i,c],m=k.when(e);for(f(y,function(a){(a.request||a.requestError)&&j.unshift(a.request,a.requestError),(a.response||a.responseError)&&j.push(a.response,a.responseError)});j.length;){var n=j.shift(),o=j.shift();m=m.then(n,o)}return m.success=function(a){return m.then(function(b){a(b.data,b.status,b.headers,e)}),m},m.error=function(a){return m.then(null,function(b){a(b.data,b.status,b.headers,e)}),m},m}function o(){f(arguments,function(a){n[a]=function(b,c){return n(l(c||{},{method:a,url:b}))}})}function p(){f(arguments,function(a){n[a]=function(b,c,d){return n(l(d||{},{method:a,url:b,data:c}))}})}function q(d,f,h){function i(a,b,c,d){m&&(Xb(a)?m.put(u,[a,b,Ub(c),d]):m.remove(u)),j(b,a,c,d),e.$$phase||e.$apply()}function j(a,b,c,e){b=Math.max(b,0),(Xb(b)?p.resolve:p.reject)({data:a,status:b,headers:Vb(c),config:d,statusText:e})}function l(){var a=G(n.pendingRequests,d);-1!==a&&n.pendingRequests.splice(a,1)}var m,o,p=k.defer(),q=p.promise,u=v(d.url,d.params);if(n.pendingRequests.push(d),q.then(l,l),(d.cache||g.cache)&&d.cache!==!1&&"GET"==d.method&&(m=t(d.cache)?d.cache:t(g.cache)?g.cache:w),m)if(o=m.get(u),s(o)){if(o.then)return o.then(l,l),o;Cd(o)?j(o[1],o[0],J(o[2]),o[3]):j(o,200,{},"OK")}else m.put(u,q);if(r(o)){var x=Lc(d.url)?b.cookies()[d.xsrfCookieName||g.xsrfCookieName]:c;x&&(h[d.xsrfHeaderName||g.xsrfHeaderName]=x),a(d.method,u,f,i,h,d.timeout,d.withCredentials,d.responseType)}return q}function v(a,b){if(!b)return a;var c=[];return h(b,function(a,b){null===a||r(a)||(Cd(a)||(a=[a]),f(a,function(a){t(a)&&(a=Q(a)),c.push(Y(b)+"="+Y(a))}))}),c.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var w=d("$http"),y=[];return f(i,function(a){y.unshift(u(a)?m.get(a):m.invoke(a))}),f(j,function(a,b){var c=u(a)?m.get(a):m.invoke(a);y.splice(b,0,{response:function(a){return c(k.when(a))},responseError:function(a){return c(k.reject(a))}})}),n.pendingRequests=[],o("get","delete","head","jsonp"),p("post","put"),n.defaults=g,n}]}function Zb(b){if(8>=rd&&(!b.match(/^(get|post|head|put|delete|options)$/i)||!a.XMLHttpRequest))return new a.ActiveXObject("Microsoft.XMLHTTP");if(a.XMLHttpRequest)return new a.XMLHttpRequest;throw d("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function $b(){this.$get=["$browser","$window","$document",function(a,b,c){return _b(a,Zb,a.defer,b.angular.callbacks,c[0])}]}function _b(a,b,c,d,e){function g(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){Jd(f,"load",g),Jd(f,"error",g),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},Id(f,"load",g),Id(f,"error",g),8>=rd&&(f.onreadystatechange=function(){u(f.readyState)&&/loaded|complete/.test(f.readyState)&&(f.onreadystatechange=null,g({type:"load"}))}),e.body.appendChild(f),g}var h=-1;return function(e,i,j,k,l,m,n,p){function q(){t=h,v&&v(),w&&w.abort()}function r(b,d,e,f,g){y&&c.cancel(y),v=w=null,0===d&&(d=e?200:"file"==Kc(i).protocol?404:0),d=1223===d?204:d,g=g||"",b(d,e,f,g),a.$$completeOutstandingRequest(o)}var t;if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==md(e)){var u="_"+(d.counter++).toString(36);d[u]=function(a){d[u].data=a,d[u].called=!0};var v=g(i.replace("JSON_CALLBACK","angular.callbacks."+u),u,function(a,b){r(k,a,d[u].data,"",b),d[u]=o})}else{var w=b(e);if(w.open(e,i,!0),f(l,function(a,b){s(a)&&w.setRequestHeader(b,a)}),w.onreadystatechange=function(){if(w&&4==w.readyState){var a=null,b=null,c="";t!==h&&(a=w.getAllResponseHeaders(),b="response"in w?w.response:w.responseText),t===h&&10>rd||(c=w.statusText),r(k,t||w.status,b,a,c)}},n&&(w.withCredentials=!0),p)try{w.responseType=p}catch(x){if("json"!==p)throw x}w.send(j||null)}if(m>0)var y=c(q,m);else m&&m.then&&m.then(q)}}function ac(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(f,i,j){for(var k,l,m,n,o=0,p=[],q=f.length,r=!1,s=[];q>o;)-1!=(k=f.indexOf(a,o))&&-1!=(l=f.indexOf(b,k+g))?(o!=k&&p.push(f.substring(o,k)),p.push(m=c(n=f.substring(k+g,l))),m.exp=n,o=l+h,r=!0):(o!=q&&p.push(f.substring(o)),o=q);if((q=p.length)||(p.push(""),q=1),j&&p.length>1)throw ce("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",f);return!i||r?(s.length=q,m=function(a){try{for(var b,c=0,g=q;g>c;c++){if("function"==typeof(b=p[c]))if(b=b(a),b=j?e.getTrusted(j,b):e.valueOf(b),null==b)b="";else switch(typeof b){case"string":break;case"number":b=""+b;break;default:b=Q(b)}s[c]=b}return s.join("")}catch(h){var i=ce("interr","Can't interpolate: {0}\n{1}",f,h.toString());d(i)}},m.exp=f,m.parts=p,m):void 0}var g=a.length,h=b.length;return f.startSymbol=function(){return a},f.endSymbol=function(){return b},f}]}function bc(){this.$get=["$rootScope","$window","$q",function(a,b,c){function d(d,f,g,h){var i=b.setInterval,j=b.clearInterval,k=c.defer(),l=k.promise,m=0,n=s(h)&&!h;return g=s(g)?g:0,l.then(null,null,d),l.$$intervalId=i(function(){k.notify(m++),g>0&&m>=g&&(k.resolve(m),j(l.$$intervalId),delete e[l.$$intervalId]),n||a.$apply()},f),e[l.$$intervalId]=k,l}var e={};return d.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1},d}]}function cc(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function dc(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=X(b[c]);return b.join("/")}function ec(a,b,c){var d=Kc(a,c);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=m(d.port)||ee[d.protocol]||null}function fc(a,b,c){var d="/"!==a.charAt(0);d&&(a="/"+a);var e=Kc(a,c);b.$$path=decodeURIComponent(d&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname),b.$$search=V(e.search),b.$$hash=decodeURIComponent(e.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function gc(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function hc(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function ic(a){return a.substr(0,hc(a).lastIndexOf("/")+1)}function jc(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function kc(a,b){this.$$html5=!0,b=b||"";var d=ic(a);ec(a,this,a),this.$$parse=function(b){var c=gc(d,b);if(!u(c))throw fe("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',b,d);fc(c,this,a),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=W(this.$$search),b=this.$$hash?"#"+X(this.$$hash):"";this.$$url=dc(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=d+this.$$url.substr(1)},this.$$rewrite=function(e){var f,g;return(f=gc(a,e))!==c?(g=f,(f=gc(b,f))!==c?d+(gc("/",f)||f):a+g):(f=gc(d,e))!==c?d+f:d==e+"/"?d:void 0}}function lc(a,b){var c=ic(a);ec(a,this,a),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f=gc(a,d)||gc(c,d),g="#"==f.charAt(0)?gc(b,f):this.$$html5?f:"";if(!u(g))throw fe("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',d,b);fc(g,this,a),this.$$path=e(this.$$path,g,a),this.$$compose()},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=dc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$rewrite=function(b){return hc(a)==hc(b)?b:void 0}}function mc(a,b){this.$$html5=!0,lc.apply(this,arguments);var c=ic(a);this.$$rewrite=function(d){var e;return a==hc(d)?d:(e=gc(c,d))?a+b+e:c===d+"/"?c:void 0},this.$$compose=function(){var c=W(this.$$search),d=this.$$hash?"#"+X(this.$$hash):"";this.$$url=dc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}function nc(a){return function(){return this[a]}}function oc(a,b){return function(c){return r(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function pc(){var b="",c=!1;this.hashPrefix=function(a){return s(a)?(b=a,this):b},this.html5Mode=function(a){return s(a)?(c=a,this):c},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(d,e,f,g){function h(a){d.$broadcast("$locationChangeSuccess",i.absUrl(),a)}var i,j,k,l=e.baseHref(),m=e.url();c?(k=jc(m)+(l||"/"),j=f.history?kc:mc):(k=hc(m),j=lc),i=new j(k,"#"+b),i.$$parse(i.$$rewrite(m)),g.on("click",function(c){if(!c.ctrlKey&&!c.metaKey&&2!=c.which){for(var f=sd(c.target);"a"!==md(f[0].nodeName);)if(f[0]===g[0]||!(f=f.parent())[0])return;var h=f.prop("href");if(t(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Kc(h.animVal).href),j===mc){var l=f.attr("href")||f.attr("xlink:href");if(l.indexOf("://")<0){var m="#"+b;if("/"==l[0])h=k+m+l;else if("#"==l[0])h=k+m+(i.path()||"/")+l;else{for(var n=i.path().split("/"),o=l.split("/"),p=0;p<o.length;p++)"."!=o[p]&&(".."==o[p]?n.pop():o[p].length&&n.push(o[p]));h=k+m+n.join("/")}}}var q=i.$$rewrite(h);h&&!f.attr("target")&&q&&!c.isDefaultPrevented()&&(c.preventDefault(),q!=e.url()&&(i.$$parse(q),d.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),i.absUrl()!=m&&e.url(i.absUrl(),!0),e.onUrlChange(function(a){i.absUrl()!=a&&(d.$evalAsync(function(){var b=i.absUrl();i.$$parse(a),d.$broadcast("$locationChangeStart",a,b).defaultPrevented?(i.$$parse(b),e.url(b)):h(b)}),d.$$phase||d.$digest())});var n=0;return d.$watch(function(){var a=e.url(),b=i.$$replace;return n&&a==i.absUrl()||(n++,d.$evalAsync(function(){d.$broadcast("$locationChangeStart",i.absUrl(),a).defaultPrevented?i.$$parse(a):(e.url(i.absUrl(),b),h(a))})),i.$$replace=!1,n}),i}]}function qc(){var a=!0,b=this;this.debugEnabled=function(b){return s(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||o,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function rc(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw he("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function sc(a,b){if(a){if(a.constructor===a)throw he("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.document&&a.location&&a.alert&&a.setInterval)throw he("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw he("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw he("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function tc(a,b){if(a){if(a.constructor===a)throw he("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===je||a===ke||le&&a===le)throw he("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function uc(a,b,d,e,f){f=f||{};for(var g,h=b.split("."),i=0;h.length>1;i++){g=rc(h.shift(),e);var j=a[g];j||(j={},a[g]=j),a=j,a.then&&f.unwrapPromises&&(ge(e),"$$v"in a||!function(a){a.then(function(b){a.$$v=b})}(a),a.$$v===c&&(a.$$v={}),a=a.$$v)}return g=rc(h.shift(),e),sc(a,e),sc(a[g],e),a[g]=d,d}function vc(a,b,d,e,f,g,h){return rc(a,g),rc(b,g),rc(d,g),rc(e,g),rc(f,g),h.unwrapPromises?function(h,i){var j,k=i&&i.hasOwnProperty(a)?i:h;return null==k?k:(k=k[a],k&&k.then&&(ge(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),b?null==k?c:(k=k[b],k&&k.then&&(ge(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),d?null==k?c:(k=k[d],k&&k.then&&(ge(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),e?null==k?c:(k=k[e],k&&k.then&&(ge(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),f?null==k?c:(k=k[f],k&&k.then&&(ge(g),"$$v"in k||(j=k,j.$$v=c,j.then(function(a){j.$$v=a})),k=k.$$v),k):k):k):k):k)}:function(g,h){var i=h&&h.hasOwnProperty(a)?h:g;return null==i?i:(i=i[a],b?null==i?c:(i=i[b],d?null==i?c:(i=i[d],e?null==i?c:(i=i[e],f?null==i?c:i=i[f]:i):i):i):i)}}function wc(a,b,d){if(qe.hasOwnProperty(a))return qe[a];var e,g=a.split("."),h=g.length;if(b.csp)e=6>h?vc(g[0],g[1],g[2],g[3],g[4],d,b):function(a,e){var f,i=0;do f=vc(g[i++],g[i++],g[i++],g[i++],g[i++],d,b)(a,e),e=c,a=f;while(h>i);return f};else{var i="var p;\n";f(g,function(a,c){rc(a,d),i+="if(s == null) return undefined;\ns="+(c?"s":'((k&&k.hasOwnProperty("'+a+'"))?k:s)')+'["'+a+'"];\n'+(b.unwrapPromises?'if (s && s.then) {\n pw("'+d.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),i+="return s;";var j=new Function("s","k","pw",i);j.toString=q(i),e=b.unwrapPromises?function(a,b){return j(a,b,ge)}:j}return"hasOwnProperty"!==a&&(qe[a]=e),e}function xc(){var a={},b={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(a){return s(a)?(b.unwrapPromises=!!a,this):b.unwrapPromises},this.logPromiseWarnings=function(a){return s(a)?(b.logPromiseWarnings=a,this):b.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(c,d,e){return b.csp=d.csp,ge=function(a){b.logPromiseWarnings&&!ie.hasOwnProperty(a)&&(ie[a]=!0,e.warn("[$parse] Promise found in the expression `"+a+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(d){var e;switch(typeof d){case"string":if(a.hasOwnProperty(d))return a[d];var f=new oe(b),g=new pe(f,c,b);return e=g.parse(d),"hasOwnProperty"!==d&&(a[d]=e),e;case"function":return d;default:return o}}}]}function yc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return zc(function(b){a.$evalAsync(b)},b)}]}function zc(a,b){function d(a){return a}function e(a){return j(a)}function g(a){var b=h(),c=0,d=Cd(a)?[]:{};return f(a,function(a,e){c++,i(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var h=function(){var f,g,j=[];return g={resolve:function(b){if(j){var d=j;j=c,f=i(b),d.length&&a(function(){for(var a,b=0,c=d.length;c>b;b++)a=d[b],f.then(a[0],a[1],a[2])
})}},reject:function(a){g.resolve(k(a))},notify:function(b){if(j){var c=j;j.length&&a(function(){for(var a,d=0,e=c.length;e>d;d++)a=c[d],a[2](b)})}},promise:{then:function(a,c,g){var i=h(),k=function(c){try{i.resolve((x(a)?a:d)(c))}catch(e){i.reject(e),b(e)}},l=function(a){try{i.resolve((x(c)?c:e)(a))}catch(d){i.reject(d),b(d)}},m=function(a){try{i.notify((x(g)?g:d)(a))}catch(c){b(c)}};return j?j.push([k,l,m]):f.then(k,l,m),i.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,b){var c=h();return b?c.resolve(a):c.reject(a),c.promise}function c(c,e){var f=null;try{f=(a||d)()}catch(g){return b(g,!1)}return f&&x(f.then)?f.then(function(){return b(c,e)},function(a){return b(a,!1)}):b(c,e)}return this.then(function(a){return c(a,!0)},function(a){return c(a,!1)})}}}},i=function(b){return b&&x(b.then)?b:{then:function(c){var d=h();return a(function(){d.resolve(c(b))}),d.promise}}},j=function(a){var b=h();return b.reject(a),b.promise},k=function(c){return{then:function(d,f){var g=h();return a(function(){try{g.resolve((x(f)?f:e)(c))}catch(a){g.reject(a),b(a)}}),g.promise}}},l=function(c,f,g,k){var l,m=h(),n=function(a){try{return(x(f)?f:d)(a)}catch(c){return b(c),j(c)}},o=function(a){try{return(x(g)?g:e)(a)}catch(c){return b(c),j(c)}},p=function(a){try{return(x(k)?k:d)(a)}catch(c){b(c)}};return a(function(){i(c).then(function(a){l||(l=!0,m.resolve(i(a).then(n,o,p)))},function(a){l||(l=!0,m.resolve(o(a)))},function(a){l||m.notify(p(a))})}),m.promise};return{defer:h,reject:j,when:l,all:g}}function Ac(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Bc(){var a=10,b=d("$rootScope"),c=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(d,g,h,i){function k(){this.$id=j(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function l(a){if(r.$$phase)throw b("inprog","{0} already in progress",r.$$phase);r.$$phase=a}function m(){r.$$phase=null}function n(a,b){var c=h(a);return cb(c,b),c}function p(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function q(){}k.prototype={constructor:k,$new:function(a){var b;return a?(b=new k,b.$root=this.$root,b.$$asyncQueue=this.$$asyncQueue,b.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=j(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),b=new this.$$childScopeClass),b["this"]=b,b.$parent=this,b.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=b,this.$$childTail=b):this.$$childHead=this.$$childTail=b,b},$watch:function(a,b,d){var e=this,f=n(a,"watch"),g=e.$$watchers,h={fn:b,last:q,get:f,exp:a,eq:!!d};if(c=null,!x(b)){var i=n(b||o,"listener");h.fn=function(a,b,c){i(c)}}if("string"==typeof a&&f.constant){var j=h.fn;h.fn=function(a,b,c){j.call(this,a,b,c),H(g,h)}}return g||(g=e.$$watchers=[]),g.unshift(h),function(){H(g,h),c=null}},$watchCollection:function(a,b){function c(){f=m(j);var a,b;if(t(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),a=f.length,q!==a&&(l++,g.length=q=a);for(var c=0;a>c;c++){var d=g[c]!==g[c]&&f[c]!==f[c];d||g[c]===f[c]||(l++,g[c]=f[c])}}else{g!==o&&(g=o={},q=0,l++),a=0;for(b in f)f.hasOwnProperty(b)&&(a++,g.hasOwnProperty(b)?g[b]!==f[b]&&(l++,g[b]=f[b]):(q++,g[b]=f[b],l++));if(q>a){l++;for(b in g)g.hasOwnProperty(b)&&!f.hasOwnProperty(b)&&(q--,delete g[b])}}else g!==f&&(g=f,l++);return l}function d(){if(p?(p=!1,b(f,f,j)):b(f,i,j),k)if(t(f))if(e(f)){i=new Array(f.length);for(var a=0;a<f.length;a++)i[a]=f[a]}else{i={};for(var c in f)nd.call(f,c)&&(i[c]=f[c])}else i=f}var f,g,i,j=this,k=b.length>1,l=0,m=h(a),n=[],o={},p=!0,q=0;return this.$watch(c,d)},$digest:function(){var d,e,f,h,i,j,k,n,o,p,r,s=this.$$asyncQueue,t=this.$$postDigestQueue,u=a,v=this,w=[];l("$digest"),c=null;do{for(j=!1,n=v;s.length;){try{r=s.shift(),r.scope.$eval(r.expression)}catch(y){m(),g(y)}c=null}a:do{if(h=n.$$watchers)for(i=h.length;i--;)try{if(d=h[i])if((e=d.get(n))===(f=d.last)||(d.eq?K(e,f):"number"==typeof e&&"number"==typeof f&&isNaN(e)&&isNaN(f))){if(d===c){j=!1;break a}}else j=!0,c=d,d.last=d.eq?I(e,null):e,d.fn(e,f===q?e:f,n),5>u&&(o=4-u,w[o]||(w[o]=[]),p=x(d.exp)?"fn: "+(d.exp.name||d.exp.toString()):d.exp,p+="; newVal: "+Q(e)+"; oldVal: "+Q(f),w[o].push(p))}catch(y){m(),g(y)}if(!(k=n.$$childHead||n!==v&&n.$$nextSibling))for(;n!==v&&!(k=n.$$nextSibling);)n=n.$parent}while(n=k);if((j||s.length)&&!u--)throw m(),b("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,Q(w))}while(j||s.length);for(m();t.length;)try{t.shift()()}catch(y){g(y)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==r&&(f(this.$$listenerCount,O(null,p,this)),a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=o,this.$on=this.$watch=function(){return o})}},$eval:function(a,b){return h(a)(this,b)},$evalAsync:function(a){r.$$phase||r.$$asyncQueue.length||i.defer(function(){r.$$asyncQueue.length&&r.$digest()}),this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return l("$apply"),this.$eval(a)}catch(b){g(b)}finally{m();try{r.$digest()}catch(b){throw g(b),b}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){c[G(c,b)]=null,p(e,1,a)}},$emit:function(a){var b,c,d,e=[],f=this,h=!1,i={name:a,targetScope:f,stopPropagation:function(){h=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=M([i],arguments,1);do{for(b=f.$$listeners[a]||e,i.currentScope=f,c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){g(k)}else b.splice(c,1),c--,d--;if(h)return i;f=f.$parent}while(f);return i},$broadcast:function(a){for(var b,c,d,e=this,f=e,h=e,i={name:a,targetScope:e,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=M([i],arguments,1);f=h;){for(i.currentScope=f,b=f.$$listeners[a]||[],c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){g(k)}else b.splice(c,1),c--,d--;if(!(h=f.$$listenerCount[a]&&f.$$childHead||f!==e&&f.$$nextSibling))for(;f!==e&&!(h=f.$$nextSibling);)f=f.$parent}return i}};var r=new k;return r}]}function Cc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(b){return s(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return s(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return rd&&!(rd>=8)||(e=Kc(c).href,""===e||e.match(f))?c:"unsafe:"+e}}}function Dc(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Ec(a){if("self"===a)return a;if(u(a)){if(a.indexOf("***")>-1)throw re("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Dc(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(y(a))return new RegExp("^"+a.source+"$");throw re("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Fc(a){var b=[];return s(a)&&f(a,function(a){b.push(Ec(a))}),b}function Gc(){this.SCE_CONTEXTS=se;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Fc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Fc(a)),b},this.$get=["$injector",function(d){function e(a,b){return"self"===a?Lc(b):!!a.exec(b.href)}function f(c){var d,f,g=Kc(c.toString()),h=!1;for(d=0,f=a.length;f>d;d++)if(e(a[d],g)){h=!0;break}if(h)for(d=0,f=b.length;f>d;d++)if(e(b[d],g)){h=!1;break}return h}function g(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function h(a,b){var d=m.hasOwnProperty(a)?m[a]:null;if(!d)throw re("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||b===c||""===b)return b;if("string"!=typeof b)throw re("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new d(b)}function i(a){return a instanceof l?a.$$unwrapTrustedValue():a}function j(a,b){if(null===b||b===c||""===b)return b;var d=m.hasOwnProperty(a)?m[a]:null;if(d&&b instanceof d)return b.$$unwrapTrustedValue();if(a===se.RESOURCE_URL){if(f(b))return b;throw re("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===se.HTML)return k(b);throw re("unsafe","Attempting to use an unsafe value in a safe context.")}var k=function(){throw re("unsafe","Attempting to use an unsafe value in a safe context.")};d.has("$sanitize")&&(k=d.get("$sanitize"));var l=g(),m={};return m[se.HTML]=g(l),m[se.CSS]=g(l),m[se.URL]=g(l),m[se.JS]=g(l),m[se.RESOURCE_URL]=g(m[se.URL]),{trustAs:h,getTrusted:j,valueOf:i}}]}function Hc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sniffer","$sceDelegate",function(b,c,d){if(a&&c.msie&&c.msieDocumentMode<8)throw re("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var e=J(se);e.isEnabled=function(){return a},e.trustAs=d.trustAs,e.getTrusted=d.getTrusted,e.valueOf=d.valueOf,a||(e.trustAs=e.getTrusted=function(a,b){return b},e.valueOf=p),e.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:function(b,c){return e.getTrusted(a,d(b,c))}};var g=e.parseAs,h=e.getTrusted,i=e.trustAs;return f(se,function(a,b){var c=md(b);e[jb("parse_as_"+c)]=function(b){return g(a,b)},e[jb("get_trusted_"+c)]=function(b){return h(a,b)},e[jb("trust_as_"+c)]=function(b){return i(a,b)}}),e}]}function Ic(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=m((/android (\d+)/.exec(md((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=h.documentMode,j=/^(Moz|webkit|O|ms)(?=[A-Z])/,k=h.body&&h.body.style,l=!1,n=!1;if(k){for(var o in k)if(d=j.exec(o)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in k&&"webkit"),l=!!("transition"in k||c+"Transition"in k),n=!!("animation"in k||c+"Animation"in k),!f||l&&n||(l=u(h.body.style.webkitTransition),n=u(h.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hashchange:"onhashchange"in a&&(!i||i>7),hasEvent:function(a){if("input"==a&&9==rd)return!1;if(r(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:L(),vendorPrefix:c,transitions:l,animations:n,android:f,msie:rd,msieDocumentMode:i}}]}function Jc(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,b,c,d){function e(e,g,h){var i,j=c.defer(),k=j.promise,l=s(h)&&!h;return i=b.defer(function(){try{j.resolve(e())}catch(b){j.reject(b),d(b)}finally{delete f[k.$$timeoutId]}l||a.$apply()},g),k.$$timeoutId=i,f[i]=j,k}var f={};return e.cancel=function(a){return a&&a.$$timeoutId in f?(f[a.$$timeoutId].reject("canceled"),delete f[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},e}]}function Kc(a){var b=a;return rd&&(te.setAttribute("href",b),b=te.href),te.setAttribute("href",b),{href:te.href,protocol:te.protocol?te.protocol.replace(/:$/,""):"",host:te.host,search:te.search?te.search.replace(/^\?/,""):"",hash:te.hash?te.hash.replace(/^#/,""):"",hostname:te.hostname,port:te.port,pathname:"/"===te.pathname.charAt(0)?te.pathname:"/"+te.pathname}}function Lc(a){var b=u(a)?Kc(a):a;return b.protocol===ue.protocol&&b.host===ue.host}function Mc(){this.$get=q(a)}function Nc(a){function b(d,e){if(t(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Pc),b("date",Xc),b("filter",Oc),b("json",Yc),b("limitTo",Zc),b("lowercase",ze),b("number",Qc),b("orderBy",$c),b("uppercase",Ae)}function Oc(){return function(a,b,c){if(!Cd(a))return a;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0},"function"!==d&&(c="boolean"===d&&c?function(a,b){return Ad.equals(a,b)}:function(a,b){if(a&&b&&"object"==typeof a&&"object"==typeof b){for(var d in a)if("$"!==d.charAt(0)&&nd.call(a,d)&&c(a[d],b[d]))return!0;return!1}return b=(""+b).toLowerCase(),(""+a).toLowerCase().indexOf(b)>-1});var f=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case"boolean":case"number":case"string":return c(a,b);case"object":switch(typeof b){case"object":return c(a,b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case"array":for(var e=0;e<a.length;e++)if(f(a[e],b))return!0;return!1;default:return!1}};switch(typeof b){case"boolean":case"number":case"string":b={$:b};case"object":for(var g in b)!function(a){"undefined"!=typeof b[a]&&e.push(function(c){return f("$"==a?c:c&&c[a],b[a])})}(g);break;case"function":e.push(b);break;default:return a}for(var h=[],i=0;i<a.length;i++){var j=a[i];e.check(j)&&h.push(j)}return h}}function Pc(a){var b=a.NUMBER_FORMATS;return function(a,c){return r(c)&&(c=b.CURRENCY_SYM),Rc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,2).replace(/\u00A4/g,c)}}function Qc(a){var b=a.NUMBER_FORMATS;return function(a,c){return Rc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Rc(a,b,c,d,e){if(null==a||!isFinite(a)||t(a))return"";var f=0>a;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?(g="0",a=0):(h=g,j=!0)}if(j)e>0&&a>-1&&1>a&&(h=a.toFixed(e));else{var l=(g.split(ve)[1]||"").length;r(e)&&(e=Math.min(Math.max(b.minFrac,l),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var m=(""+a).split(ve),n=m[0];m=m[1]||"";var o,p=0,q=b.lgSize,s=b.gSize;if(n.length>=q+s)for(p=n.length-q,o=0;p>o;o++)(p-o)%s===0&&0!==o&&(h+=c),h+=n.charAt(o);for(o=p;o<n.length;o++)(n.length-o)%q===0&&0!==o&&(h+=c),h+=n.charAt(o);for(;m.length<e;)m+="0";e&&"0"!==e&&(h+=d+m.substr(0,e))}return i.push(f?b.negPre:b.posPre),i.push(h),i.push(f?b.negSuf:b.posSuf),i.join("")}function Sc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function Tc(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),Sc(f,b,d)}}function Uc(a,b){return function(c,d){var e=c["get"+a](),f=od(b?"SHORT"+a:a);return d[f][e]}}function Vc(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=Sc(Math[b>0?"floor":"ceil"](b/60),2)+Sc(Math.abs(b%60),2)}function Wc(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function Xc(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=m(b[9]+b[10]),f=m(b[9]+b[11])),g.call(d,m(b[1]),m(b[2])-1,m(b[3]));var i=m(b[4]||0)-e,j=m(b[5]||0)-f,k=m(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d){var e,g,h="",i=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,u(c)&&(c=ye.test(c)?m(c):b(c)),v(c)&&(c=new Date(c)),!w(c))return c;for(;d;)g=xe.exec(d),g?(i=M(i,g,1),d=i.pop()):(i.push(d),d=null);return f(i,function(b){e=we[b],h+=e?e(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}}function Yc(){return function(a){return Q(a,!0)}}function Zc(){return function(a,b){if(!Cd(a)&&!u(a))return a;if(b=1/0===Math.abs(Number(b))?Number(b):m(b),u(a))return b?b>=0?a.slice(0,b):a.slice(b,a.length):"";var c,d,e=[];for(b>a.length?b=a.length:b<-a.length&&(b=-a.length),b>0?(c=0,d=b):(c=a.length+b,d=a.length);d>c;c++)e.push(a[c]);return e}}function $c(a){return function(b,c,d){function e(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0}function f(a,b){return S(b)?function(b,c){return a(c,b)}:a}function g(a,b){var c=typeof a,d=typeof b;return c==d?("string"==c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}if(!Cd(b))return b;if(!c)return b;c=Cd(c)?c:[c],c=E(c,function(b){var c=!1,d=b||p;if(u(b)&&(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),d=a(b),d.constant)){var e=d();return f(function(a,b){return g(a[e],b[e])},c)}return f(function(a,b){return g(d(a),d(b))},c)});for(var h=[],i=0;i<b.length;i++)h.push(b[i]);return h.sort(f(e,d))}}function _c(a){return x(a)&&(a={link:a}),a.restrict=a.restrict||"AC",q(a)}function ad(a,b,c,d){function e(b,c){c=c?"-"+_(c,"-"):"",d.removeClass(a,(b?Oe:Ne)+c),d.addClass(a,(b?Ne:Oe)+c)}var g=this,h=a.parent().controller("form")||De,i=0,j=g.$error={},k=[];g.$name=b.name||b.ngForm,g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,h.$addControl(g),a.addClass(Pe),e(!0),g.$addControl=function(a){db(a.$name,"input"),k.push(a),a.$name&&(g[a.$name]=a)},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],f(j,function(b,c){g.$setValidity(c,!0,a)}),H(k,a)},g.$setValidity=function(a,b,c){var d=j[a];if(b)d&&(H(d,c),d.length||(i--,i||(e(b),g.$valid=!0,g.$invalid=!1),j[a]=!1,e(!0,a),h.$setValidity(a,!0,g)));else{if(i||e(b),d){if(F(d,c))return}else j[a]=d=[],i++,e(!1,a),h.$setValidity(a,!1,g);d.push(c),g.$valid=!1,g.$invalid=!0}},g.$setDirty=function(){d.removeClass(a,Pe),d.addClass(a,Qe),g.$dirty=!0,g.$pristine=!1,h.$setDirty()},g.$setPristine=function(){d.removeClass(a,Qe),d.addClass(a,Pe),g.$dirty=!1,g.$pristine=!0,f(k,function(a){a.$setPristine()})}}function bd(a,b,d,e){return a.$setValidity(b,d),d?e:c}function cd(a,b){var c,d;if(b)for(c=0;c<b.length;++c)if(d=b[c],a[d])return!0;return!1}function dd(a,b,c,d,e){if(t(e)){a.$$hasNativeValidators=!0;var f=function(f){return a.$error[b]||cd(e,d)||!cd(e,c)?f:void a.$setValidity(b,!1)};a.$parsers.push(f)}}function ed(a,b,c,e,f,g){var h=b.prop(ld),i=b[0].placeholder,j={};if(e.$$validityState=h,!f.android){var k=!1;b.on("compositionstart",function(){k=!0}),b.on("compositionend",function(){k=!1,l()})}var l=function(d){if(!k){var f=b.val();if(rd&&"input"===(d||j).type&&b[0].placeholder!==i)return void(i=b[0].placeholder);S(c.ngTrim||"T")&&(f=Dd(f));var g=h&&e.$$hasNativeValidators;(e.$viewValue!==f||""===f&&g)&&(a.$$phase?e.$setViewValue(f):a.$apply(function(){e.$setViewValue(f)}))}};if(f.hasEvent("input"))b.on("input",l);else{var n,o=function(){n||(n=g.defer(function(){l(),n=null}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||o()}),f.hasEvent("paste")&&b.on("paste cut",o)}b.on("change",l),e.$render=function(){b.val(e.$isEmpty(e.$viewValue)?"":e.$viewValue)};var p,q,r=c.ngPattern;if(r){var s=function(a,b){return bd(e,"pattern",e.$isEmpty(b)||a.test(b),b)};q=r.match(/^\/(.*)\/([gim]*)$/),q?(r=new RegExp(q[1],q[2]),p=function(a){return s(r,a)}):p=function(c){var e=a.$eval(r);if(!e||!e.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",r,e,T(b));return s(e,c)},e.$formatters.push(p),e.$parsers.push(p)}if(c.ngMinlength){var t=m(c.ngMinlength),u=function(a){return bd(e,"minlength",e.$isEmpty(a)||a.length>=t,a)};e.$parsers.push(u),e.$formatters.push(u)}if(c.ngMaxlength){var v=m(c.ngMaxlength),w=function(a){return bd(e,"maxlength",e.$isEmpty(a)||a.length<=v,a)};e.$parsers.push(w),e.$formatters.push(w)}}function fd(a,b,d,e,f,g){if(ed(a,b,d,e,f,g),e.$parsers.push(function(a){var b=e.$isEmpty(a);return b||Je.test(a)?(e.$setValidity("number",!0),""===a?null:b?a:parseFloat(a)):(e.$setValidity("number",!1),c)}),dd(e,"number",Le,null,e.$$validityState),e.$formatters.push(function(a){return e.$isEmpty(a)?"":""+a}),d.min){var h=function(a){var b=parseFloat(d.min);return bd(e,"min",e.$isEmpty(a)||a>=b,a)};e.$parsers.push(h),e.$formatters.push(h)}if(d.max){var i=function(a){var b=parseFloat(d.max);return bd(e,"max",e.$isEmpty(a)||b>=a,a)};e.$parsers.push(i),e.$formatters.push(i)}e.$formatters.push(function(a){return bd(e,"number",e.$isEmpty(a)||v(a),a)})}function gd(a,b,c,d,e,f){ed(a,b,c,d,e,f);var g=function(a){return bd(d,"url",d.$isEmpty(a)||He.test(a),a)};d.$formatters.push(g),d.$parsers.push(g)}function hd(a,b,c,d,e,f){ed(a,b,c,d,e,f);var g=function(a){return bd(d,"email",d.$isEmpty(a)||Ie.test(a),a)};d.$formatters.push(g),d.$parsers.push(g)}function id(a,b,c,d){r(c.name)&&b.attr("name",j()),b.on("click",function(){b[0].checked&&a.$apply(function(){d.$setViewValue(c.value)})}),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function jd(a,b,c,d){var e=c.ngTrueValue,f=c.ngFalseValue;u(e)||(e=!0),u(f)||(f=!1),b.on("click",function(){a.$apply(function(){d.$setViewValue(b[0].checked)})}),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a!==e},d.$formatters.push(function(a){return a===e}),d.$parsers.push(function(a){return a?e:f})}function kd(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){if(Cd(a))return a;if(u(a))return a.split(" ");if(t(a)){var b=[];return f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}return a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||{},d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);f=l(f,-1),e=l(e,1),0===e.length?c.removeClass(h,f):0===f.length?c.addClass(h,e):c.setClass(h,e,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!K(a,o)){var d=e(o);m(d,c)}}else j(c)}o=J(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}var ld="validity",md=function(a){return u(a)?a.toLowerCase():a},nd=Object.prototype.hasOwnProperty,od=function(a){return u(a)?a.toUpperCase():a},pd=function(a){return u(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},qd=function(a){return u(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(md=pd,od=qd);var rd,sd,td,ud,vd,wd=[].slice,xd=[].push,yd=Object.prototype.toString,zd=d("ng"),Ad=a.angular||(a.angular={}),Bd=["0","0","0"];rd=m((/msie (\d+)/.exec(md(navigator.userAgent))||[])[1]),isNaN(rd)&&(rd=m((/trident\/.*; rv:(\d+)/.exec(md(navigator.userAgent))||[])[1])),o.$inject=[],p.$inject=[];var Cd=function(){return x(Array.isArray)?Array.isArray:function(a){return"[object Array]"===yd.call(a)}}(),Dd=function(){return String.prototype.trim?function(a){return u(a)?a.trim():a}:function(a){return u(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}();vd=9>rd?function(a){return a=a.nodeName?a:a[0],a.scopeName&&"HTML"!=a.scopeName?od(a.scopeName+":"+a.nodeName):a.nodeName}:function(a){return a.nodeName?a.nodeName:a[0].nodeName};var Ed=/[A-Z]/g,Fd={full:"1.2.20",major:1,minor:2,dot:20,codeName:"accidental-beautification"};ob.expando="ng339";var Gd=ob.cache={},Hd=1,Id=a.document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},Jd=a.document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},Kd=(ob._data=function(a){return this.cache[a[this.expando]]||{}},/([\:\-\_]+(.))/g),Ld=/^moz([A-Z])/,Md=d("jqLite"),Nd=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Od=/<|&#?\w+;/,Pd=/<([\w:]+)/,Qd=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rd={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Rd.optgroup=Rd.option,Rd.tbody=Rd.tfoot=Rd.colgroup=Rd.caption=Rd.thead,Rd.th=Rd.td;var Sd=ob.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),ob(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return sd(a>=0?this[a]:this[this.length+a])},length:0,push:xd,sort:[].sort,splice:[].splice},Td={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Td[md(a)]=a});var Ud={};f("input,select,option,textarea,button,form,details".split(","),function(a){Ud[od(a)]=!0}),f({data:ub,inheritedData:Ab,scope:function(a){return sd(a).data("$scope")||Ab(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return sd(a).data("$isolateScope")||sd(a).data("$isolateScopeNoTemplate")},controller:zb,injector:function(a){return Ab(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:vb,css:function(a,b,d){if(b=jb(b),!s(d)){var e;return 8>=rd&&(e=a.currentStyle&&a.currentStyle[b],""===e&&(e="auto")),e=e||a.style[b],8>=rd&&(e=""===e?c:e),e}a.style[b]=d},attr:function(a,b,d){var e=md(b);if(Td[e]){if(!s(d))return a[b]||(a.attributes.getNamedItem(b)||o).specified?e:c;d?(a[b]=!0,a.setAttribute(b,e)):(a[b]=!1,a.removeAttribute(e))}else if(s(d))a.setAttribute(b,d);else if(a.getAttribute){var f=a.getAttribute(b,2);return null===f?c:f}},prop:function(a,b,c){return s(c)?void(a[b]=c):a[b]},text:function(){function a(a,c){var d=b[a.nodeType];return r(c)?d?a[d]:"":void(a[d]=c)}var b=[];return 9>rd?(b[1]="innerText",b[3]="nodeValue"):b[1]=b[3]="textContent",a.$dv="",a}(),val:function(a,b){if(r(b)){if("SELECT"===vd(a)&&a.multiple){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){if(r(b))return a.innerHTML;for(var c=0,d=a.childNodes;c<d.length;c++)qb(d[c]);a.innerHTML=b},empty:Bb},function(a,b){ob.prototype[b]=function(b,d){var e,f,g=this.length;if(a!==Bb&&(2==a.length&&a!==vb&&a!==zb?b:d)===c){if(t(b)){for(e=0;g>e;e++)if(a===ub)a(this[e],b);else for(f in b)a(this[e],f,b[f]);return this}for(var h=a.$dv,i=h===c?Math.min(g,1):g,j=0;i>j;j++){var k=a(this[j],b,d);h=h?h+k:k}return h}for(e=0;g>e;e++)a(this[e],b,d);return this}}),f({removeData:sb,dealoc:qb,on:function Af(a,c,d,e){if(s(e))throw Md("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var g=tb(a,"events"),h=tb(a,"handle");g||tb(a,"events",g={}),h||tb(a,"handle",h=Db(a,g)),f(c.split(" "),function(c){var e=g[c];if(!e){if("mouseenter"==c||"mouseleave"==c){var f=b.body.contains||b.body.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};g[c]=[];var i={mouseleave:"mouseout",mouseenter:"mouseover"};Af(a,i[c],function(a){var b=this,d=a.relatedTarget;(!d||d!==b&&!f(b,d))&&h(a,c)})}else Id(a,c,h),g[c]=[];e=g[c]}e.push(d)})},off:rb,one:function(a,b,c){a=sd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;qb(a),f(new ob(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){f(new ob(b),function(b){(1===a.nodeType||11===a.nodeType)&&a.appendChild(b)})},prepend:function(a,b){if(1===a.nodeType){var c=a.firstChild;f(new ob(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=sd(b)[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:function(a){qb(a);var b=a.parentNode;b&&b.removeChild(a)},after:function(a,b){var c=a,d=a.parentNode;f(new ob(b),function(a){d.insertBefore(a,c.nextSibling),c=a})},addClass:xb,removeClass:wb,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;r(d)&&(d=!vb(a,b)),(d?xb:wb)(a,b)})},parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(var b=a.nextSibling;null!=b&&1!==b.nodeType;)b=b.nextSibling;return b},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:pb,triggerHandler:function(a,b,c){var d=(tb(a,"events")||{})[b];c=c||[];var e=[{preventDefault:o,stopPropagation:o}];f(d,function(b){b.apply(a,e.concat(c))})}},function(a,b){ob.prototype[b]=function(b,c,d){for(var e,f=0;f<this.length;f++)r(e)?(e=a(this[f],b,c,d),s(e)&&(e=sd(e))):yb(e,a(this[f],b,c,d));return s(e)?e:this},ob.prototype.bind=ob.prototype.on,ob.prototype.unbind=ob.prototype.off}),Fb.prototype={put:function(a,b){this[Eb(a,this.nextUid)]=b},get:function(a){return this[Eb(a,this.nextUid)]},remove:function(a){var b=this[a=Eb(a,this.nextUid)];return delete this[a],b}};var Vd=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Wd=/,/,Xd=/^\s*(_?)(\S+?)\1\s*$/,Yd=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Zd=d("$injector"),$d=d("$animate"),_d=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw $d("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(a,b){function c(a){a&&b(a)}return{enter:function(a,b,d,e){d?d.after(a):(b&&b[0]||(b=d.parent()),b.append(a)),c(e)},leave:function(a,b){a.remove(),c(b)},move:function(a,b,c,d){this.enter(a,b,c,d)},addClass:function(a,b,d){b=u(b)?b:Cd(b)?b.join(" "):"",f(a,function(a){xb(a,b)}),c(d)},removeClass:function(a,b,d){b=u(b)?b:Cd(b)?b.join(" "):"",f(a,function(a){wb(a,b)}),c(d)},setClass:function(a,b,d,e){f(a,function(a){xb(a,b),wb(a,d)}),c(e)},enabled:o}}]}],ae=d("$compile");Ob.$inject=["$provide","$$sanitizeUriProvider"];var be=/^(x[\:\-_]|data[\:\-_])/i,ce=d("$interpolate"),de=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,ee={http:80,https:443,ftp:21},fe=d("$location");mc.prototype=lc.prototype=kc.prototype={$$html5:!1,$$replace:!1,absUrl:nc("$$absUrl"),url:function(a,b){if(r(a))return this.$$url;var c=de.exec(a);return c[1]&&this.path(decodeURIComponent(c[1])),(c[2]||c[1])&&this.search(c[3]||""),this.hash(c[5]||"",b),this},protocol:nc("$$protocol"),host:nc("$$host"),port:nc("$$port"),path:oc("$$path",function(a){return"/"==a.charAt(0)?a:"/"+a
}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(u(a))this.$$search=V(a);else{if(!t(a))throw fe("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:r(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:oc("$$hash",p),replace:function(){return this.$$replace=!0,this}};var ge,he=d("$parse"),ie={},je=Function.prototype.call,ke=Function.prototype.apply,le=Function.prototype.bind,me={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:o,"+":function(a,b,d,e){return d=d(a,b),e=e(a,b),s(d)?s(e)?d+e:d:s(e)?e:c},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(s(c)?c:0)-(s(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"^":function(a,b,c,d){return c(a,b)^d(a,b)},"=":o,"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"&":function(a,b,c,d){return c(a,b)&d(a,b)},"|":function(a,b,c,d){return d(a,b)(a,b,c(a,b))},"!":function(a,b,c){return!c(a,b)}},ne={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},oe=function(a){this.options=a};oe.prototype={constructor:oe,lex:function(a){for(this.text=a,this.index=0,this.ch=c,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var b=this.ch+this.peek(),d=b+this.peek(2),e=me[this.ch],f=me[b],g=me[d];g?(this.tokens.push({index:this.index,text:d,fn:g}),this.index+=3):f?(this.tokens.push({index:this.index,text:b,fn:f}),this.index+=2):e?(this.tokens.push({index:this.index,text:this.ch,fn:e}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=s(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw he("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=md(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}a=1*a,this.tokens.push({index:b,text:a,literal:!0,constant:!0,fn:function(){return a}})},readIdent:function(){for(var a,b,c,d,e=this,f="",g=this.index;this.index<this.text.length&&(d=this.text.charAt(this.index),"."===d||this.isIdent(d)||this.isNumber(d));)"."===d&&(a=this.index),f+=d,this.index++;if(a)for(b=this.index;b<this.text.length;){if(d=this.text.charAt(b),"("===d){c=f.substr(a-g+1),f=f.substr(0,a-g),this.index=b;break}if(!this.isWhitespace(d))break;b++}var h={index:g,text:f};if(me.hasOwnProperty(f))h.fn=me[f],h.literal=!0,h.constant=!0;else{var i=wc(f,this.options,this.text);h.fn=l(function(a,b){return i(a,b)},{assign:function(a,b){return uc(a,f,b,e.text,e.options)}})}this.tokens.push(h),c&&(this.tokens.push({index:a,text:"."}),this.tokens.push({index:a+1,text:c}))},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=ne[f];c+=h?h:f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,string:c,literal:!0,constant:!0,fn:function(){return c}});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var pe=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};pe.ZERO=l(function(){return 0},{constant:!0}),pe.prototype={constructor:pe,parse:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b.literal=!!b.literal,b.constant=!!b.constant,b},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var b=this.expect();a=b.fn,a||this.throwError("not a primary expression",b),a.literal=!!b.literal,a.constant=!!b.constant}for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw he("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw he("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){if(this.tokens.length>0){var e=this.tokens[0],f=e.text;if(f===a||f===b||f===c||f===d||!a&&!b&&!c&&!d)return e}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,b){return l(function(c,d){return a(c,d,b)},{constant:b.constant})},ternaryFn:function(a,b,c){return l(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})},binaryFn:function(a,b,c){return l(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})},statements:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var f=a[e];f&&(d=f(b,c))}return d}},filterChain:function(){for(var a,b=this.expression();;){if(!(a=this.expect("|")))return b;b=this.binaryFn(b,a.fn,this.filter())}},filter:function(){for(var a=this.expect(),b=this.$filter(a.text),c=[];;){if(!(a=this.expect(":"))){var d=function(a,d,e){for(var f=[e],g=0;g<c.length;g++)f.push(c[g](a,d));return b.apply(a,f)};return function(){return d}}c.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),function(b,d){return c.assign(b,a(b,d),d)}):c},ternary:function(){var a,b,c=this.logicalOR();return(b=this.expect("?"))?(a=this.ternary(),(b=this.expect(":"))?this.ternaryFn(c,a,this.ternary()):void this.throwError("expected :",b)):c},logicalOR:function(){for(var a,b=this.logicalAND();;){if(!(a=this.expect("||")))return b;b=this.binaryFn(b,a.fn,this.logicalAND())}},logicalAND:function(){var a,b=this.equality();return(a=this.expect("&&"))&&(b=this.binaryFn(b,a.fn,this.logicalAND())),b},equality:function(){var a,b=this.relational();return(a=this.expect("==","!=","===","!=="))&&(b=this.binaryFn(b,a.fn,this.equality())),b},relational:function(){var a,b=this.additive();return(a=this.expect("<",">","<=",">="))&&(b=this.binaryFn(b,a.fn,this.relational())),b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.fn,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.fn,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(pe.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var b=this,c=this.expect().text,d=wc(c,this.options,this.text);return l(function(b,c,e){return d(e||a(b,c))},{assign:function(d,e,f){return uc(a(d,f),c,e,b.text,b.options)}})},objectIndex:function(a){var b=this,d=this.expression();return this.consume("]"),l(function(e,f){var g,h,i=a(e,f),j=d(e,f);return rc(j,b.text),i?(g=sc(i[j],b.text),g&&g.then&&b.options.unwrapPromises&&(h=g,"$$v"in g||(h.$$v=c,h.then(function(a){h.$$v=a})),g=g.$$v),g):c},{assign:function(c,e,f){var g=d(c,f),h=sc(a(c,f),b.text);return h[g]=e}})},functionCall:function(a,b){var c=[];if(")"!==this.peekToken().text)do c.push(this.expression());while(this.expect(","));this.consume(")");var d=this;return function(e,f){for(var g=[],h=b?b(e,f):e,i=0;i<c.length;i++)g.push(c[i](e,f));var j=a(e,f,h)||o;sc(h,d.text),tc(j,d.text);var k=j.apply?j.apply(h,g):j(g[0],g[1],g[2],g[3],g[4]);return sc(k,d.text)}},arrayDeclaration:function(){var a=[],b=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var c=this.expression();a.push(c),c.constant||(b=!1)}while(this.expect(","));return this.consume("]"),l(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},{literal:!0,constant:b})},object:function(){var a=[],b=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.expect(),d=c.string||c.text;this.consume(":");var e=this.expression();a.push({key:d,value:e}),e.constant||(b=!1)}while(this.expect(","));return this.consume("}"),l(function(b,c){for(var d={},e=0;e<a.length;e++){var f=a[e];d[f.key]=f.value(b,c)}return d},{literal:!0,constant:b})}};var qe={},re=d("$sce"),se={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},te=b.createElement("a"),ue=Kc(a.location.href,!0);Nc.$inject=["$provide"],Pc.$inject=["$locale"],Qc.$inject=["$locale"];var ve=".",we={yyyy:Tc("FullYear",4),yy:Tc("FullYear",2,0,!0),y:Tc("FullYear",1),MMMM:Uc("Month"),MMM:Uc("Month",!0),MM:Tc("Month",2,1),M:Tc("Month",1,1),dd:Tc("Date",2),d:Tc("Date",1),HH:Tc("Hours",2),H:Tc("Hours",1),hh:Tc("Hours",2,-12),h:Tc("Hours",1,-12),mm:Tc("Minutes",2),m:Tc("Minutes",1),ss:Tc("Seconds",2),s:Tc("Seconds",1),sss:Tc("Milliseconds",3),EEEE:Uc("Day"),EEE:Uc("Day",!0),a:Wc,Z:Vc},xe=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,ye=/^\-?\d+$/;Xc.$inject=["$locale"];var ze=q(md),Ae=q(od);$c.$inject=["$parse"];var Be=q({restrict:"E",compile:function(a,c){return 8>=rd&&(c.href||c.name||c.$set("href",""),a.append(b.createComment("IE fix"))),c.href||c.xlinkHref||c.name?void 0:function(a,b){var c="[object SVGAnimatedString]"===yd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}),Ce={};f(Td,function(a,b){if("multiple"!=a){var c=Pb("ng-"+b);Ce[c]=function(){return{priority:100,link:function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}),f(["src","srcset","href"],function(a){var b=Pb("ng-"+a);Ce[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===yd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(a){a&&(e.$set(g,a),rd&&f&&d.prop(f,e[g]))})}}}});var De={$addControl:o,$removeControl:o,$setValidity:o,$setDirty:o,$setPristine:o};ad.$inject=["$element","$attrs","$scope","$animate"];var Ee=function(a){return["$timeout",function(b){var d={name:"form",restrict:a?"EAC":"E",controller:ad,compile:function(){return{pre:function(a,d,e,f){if(!e.action){var g=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};Id(d[0],"submit",g),d.on("$destroy",function(){b(function(){Jd(d[0],"submit",g)},0,!1)})}var h=d.parent().controller("form"),i=e.name||e.ngForm;i&&uc(a,i,f,i),h&&d.on("$destroy",function(){h.$removeControl(f),i&&uc(a,i,c,i),l(f,De)})}}}};return d}]},Fe=Ee(),Ge=Ee(!0),He=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Ie=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Je=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Ke={text:ed,number:fd,url:gd,email:hd,radio:id,checkbox:jd,hidden:o,button:o,submit:o,reset:o,file:o},Le=["badInput"],Me=["$browser","$sniffer",function(a,b){return{restrict:"E",require:"?ngModel",link:function(c,d,e,f){f&&(Ke[md(e.type)]||Ke.text)(c,d,e,f,b,a)}}}],Ne="ng-valid",Oe="ng-invalid",Pe="ng-pristine",Qe="ng-dirty",Re=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,b,c,e,g,h){function i(a,b){b=b?"-"+_(b,"-"):"",h.removeClass(e,(a?Oe:Ne)+b),h.addClass(e,(a?Ne:Oe)+b)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=c.name;var j=g(c.ngModel),k=j.assign;if(!k)throw d("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",c.ngModel,T(e));this.$render=o,this.$isEmpty=function(a){return r(a)||""===a||null===a||a!==a};var l=e.inheritedData("$formController")||De,m=0,n=this.$error={};e.addClass(Pe),i(!0),this.$setValidity=function(a,b){n[a]!==!b&&(b?(n[a]&&m--,m||(i(!0),this.$valid=!0,this.$invalid=!1)):(i(!1),this.$invalid=!0,this.$valid=!1,m++),n[a]=!b,i(b,a),l.$setValidity(a,b,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,h.removeClass(e,Qe),h.addClass(e,Pe)},this.$setViewValue=function(c){this.$viewValue=c,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,h.removeClass(e,Pe),h.addClass(e,Qe),l.$setDirty()),f(this.$parsers,function(a){c=a(c)}),this.$modelValue!==c&&(this.$modelValue=c,k(a,c),f(this.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}}))};var p=this;a.$watch(function(){var b=j(a);if(p.$modelValue!==b){var c=p.$formatters,d=c.length;for(p.$modelValue=b;d--;)b=c[d](b);p.$viewValue!==b&&(p.$viewValue=b,p.$render())}return b})}],Se=function(){return{require:["ngModel","^?form"],controller:Re,link:function(a,b,c,d){var e=d[0],f=d[1]||De;f.$addControl(e),a.$on("$destroy",function(){f.$removeControl(e)})}}},Te=q({require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Ue=function(){return{require:"?ngModel",link:function(a,b,c,d){if(d){c.required=!0;var e=function(a){return c.required&&d.$isEmpty(a)?void d.$setValidity("required",!1):(d.$setValidity("required",!0),a)};d.$formatters.push(e),d.$parsers.unshift(e),c.$observe("required",function(){e(d.$viewValue)})}}}},Ve=function(){return{require:"ngModel",link:function(a,b,d,e){var g=/\/(.*)\//.exec(d.ngList),h=g&&new RegExp(g[1])||d.ngList||",",i=function(a){if(!r(a)){var b=[];return a&&f(a.split(h),function(a){a&&b.push(Dd(a))}),b}};e.$parsers.push(i),e.$formatters.push(function(a){return Cd(a)?a.join(", "):c}),e.$isEmpty=function(a){return!a||!a.length}}}},We=/^(true|false|\d+)$/,Xe=function(){return{priority:100,compile:function(a,b){return We.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Ye=_c({compile:function(a){return a.addClass("ng-binding"),function(a,b,d){b.data("$binding",d.ngBind),a.$watch(d.ngBind,function(a){b.text(a==c?"":a)})}}}),Ze=["$interpolate",function(a){return function(b,c,d){var e=a(c.attr(d.$attr.ngBindTemplate));c.addClass("ng-binding").data("$binding",e),d.$observe("ngBindTemplate",function(a){c.text(a)})}}],$e=["$sce","$parse",function(a,b){return function(c,d,e){function f(){return(g(c)||"").toString()}d.addClass("ng-binding").data("$binding",e.ngBindHtml);var g=b(e.ngBindHtml);c.$watch(f,function(){d.html(a.getTrustedHtml(g(c))||"")})}}],_e=kd("",!0),af=kd("Odd",0),bf=kd("Even",1),cf=_c({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),df=[function(){return{scope:!0,controller:"@",priority:500}}],ef={};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Pb("ng-"+a);ef[b]=["$parse",function(c){return{compile:function(d,e){var f=c(e[b]);return function(b,c){c.on(md(a),function(a){b.$apply(function(){f(b,{$event:a})})})}}}}]});var ff=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(f){S(f)?i||(i=c.$new(),g(i,function(c){c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)})):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=fb(h.clone),a.leave(j,function(){j=null}),h=null))})}}}],gf=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,b,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ad.noop,compile:function(f,g){var h=g.ngInclude||g.src,i=g.onload||"",j=g.autoscroll;return function(f,g,k,l,m){var n,o,p,q=0,r=function(){o&&(o.remove(),o=null),n&&(n.$destroy(),n=null),p&&(d.leave(p,function(){o=null}),o=p,p=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=function(){!s(j)||j&&!f.$eval(j)||c()},k=++q;e?(a.get(e,{cache:b}).success(function(a){if(k===q){var b=f.$new();l.template=a;var c=m(b,function(a){r(),d.enter(a,null,g,h)});n=b,p=c,n.$emit("$includeContentLoaded"),f.$eval(i)}}).error(function(){k===q&&r()}),f.$emit("$includeContentRequested")):(r(),l.template=null)})}}}}],hf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,c,d,e){c.html(e.template),a(c.contents())(b)}}}],jf=_c({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),kf=_c({terminal:!0,priority:1e3}),lf=["$locale","$interpolate",function(a,b){var c=/{}/g;return{restrict:"EA",link:function(d,e,g){var h=g.count,i=g.$attr.when&&e.attr(g.$attr.when),j=g.offset||0,k=d.$eval(i)||{},l={},m=b.startSymbol(),n=b.endSymbol(),o=/^when(Minus)?(.+)$/;f(g,function(a,b){o.test(b)&&(k[md(b.replace("when","").replace("Minus","-"))]=e.attr(g.$attr[b]))}),f(k,function(a,d){l[d]=b(a.replace(c,m+h+"-"+j+n))}),d.$watch(function(){var b=parseFloat(d.$eval(h));return isNaN(b)?"":(b in k||(b=a.pluralCat(b-j)),l[b](d,e,!0))},function(a){e.text(a)})}}}],mf=["$parse","$animate",function(a,c){function g(a){return a.clone[0]}function h(a){return a.clone[a.clone.length-1]}var i="$$NG_REMOVED",j=d("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(d,k,l,m,n){var o,p,q,r,s,t,u,v,w,x=l.ngRepeat,y=x.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),z={$id:Eb};if(!y)throw j("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",x);if(t=y[1],u=y[2],o=y[3],o?(p=a(o),q=function(a,b,c){return w&&(z[w]=a),z[v]=b,z.$index=c,p(d,z)}):(r=function(a,b){return Eb(b)},s=function(a){return a}),y=t.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!y)throw j("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",t);v=y[3]||y[1],w=y[2];var A={};d.$watchCollection(u,function(a){var l,m,o,p,t,u,y,z,B,C,D,E,F=k[0],G={},H=[];if(e(a))C=a,B=q||r;else{B=q||s,C=[];for(u in a)a.hasOwnProperty(u)&&"$"!=u.charAt(0)&&C.push(u);C.sort()}for(p=C.length,m=H.length=C.length,l=0;m>l;l++)if(u=a===C?l:C[l],y=a[u],z=B(u,y,l),db(z,"`track by` id"),A.hasOwnProperty(z))D=A[z],delete A[z],G[z]=D,H[l]=D;else{if(G.hasOwnProperty(z))throw f(H,function(a){a&&a.scope&&(A[a.id]=a)}),j("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",x,z);H[l]={id:z},G[z]=!1}for(u in A)A.hasOwnProperty(u)&&(D=A[u],E=fb(D.clone),c.leave(E),f(E,function(a){a[i]=!0}),D.scope.$destroy());for(l=0,m=C.length;m>l;l++){if(u=a===C?l:C[l],y=a[u],D=H[l],H[l-1]&&(F=h(H[l-1])),D.scope){t=D.scope,o=F;do o=o.nextSibling;while(o&&o[i]);g(D)!=o&&c.move(fb(D.clone),null,sd(F)),F=h(D)}else t=d.$new();t[v]=y,w&&(t[w]=u),t.$index=l,t.$first=0===l,t.$last=l===p-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&l)),D.scope||n(t,function(a){a[a.length++]=b.createComment(" end ngRepeat: "+x+" "),c.enter(a,null,sd(F)),F=a,D.scope=t,D.clone=a,G[D.id]=D})}A=G})}}}],nf=["$animate",function(a){return function(b,c,d){b.$watch(d.ngShow,function(b){a[S(b)?"removeClass":"addClass"](c,"ng-hide")})}}],of=["$animate",function(a){return function(b,c,d){b.$watch(d.ngHide,function(b){a[S(b)?"addClass":"removeClass"](c,"ng-hide")})}}],pf=_c(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),qf=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(b,c,d,e){var g=d.ngSwitch||d.on,h=[],i=[],j=[],k=[];b.$watch(g,function(c){var g,l;for(g=0,l=j.length;l>g;++g)j[g].remove();for(j.length=0,g=0,l=k.length;l>g;++g){var m=i[g];k[g].$destroy(),j[g]=m,a.leave(m,function(){j.splice(g,1)})}i.length=0,k.length=0,(h=e.cases["!"+c]||e.cases["?"])&&(b.$eval(d.change),f(h,function(c){var d=b.$new();k.push(d),c.transclude(d,function(b){var d=c.element;i.push(b),a.enter(b,d.parent(),d)})}))})}}}],rf=_c({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),sf=_c({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),tf=_c({link:function(a,b,c,e,f){if(!f)throw d("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",T(b));f(function(a){b.empty(),b.append(a)})}}),uf=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],vf=d("ngOptions"),wf=q({terminal:!0}),xf=["$compile","$parse",function(a,d){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,h={$setViewValue:o};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e,f=this,g={},i=h;f.databound=c.ngModel,f.init=function(a,b,c){i=a,d=b,e=c},f.addOption=function(b){db(b,'"option value"'),g[b]=!0,i.$viewValue==b&&(a.val(b),e.parent()&&e.remove())},f.removeOption=function(a){this.hasOption(a)&&(delete g[a],i.$viewValue==a&&this.renderUnknownOption(a))},f.renderUnknownOption=function(b){var c="? "+Eb(b)+" ?";e.val(c),a.prepend(e),a.val(c),e.prop("selected",!0)},f.hasOption=function(a){return g.hasOwnProperty(a)},b.$on("$destroy",function(){f.renderUnknownOption=o})}],link:function(h,i,j,k){function l(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(y.parent()&&y.remove(),b.val(a),""===a&&o.prop("selected",!0)):r(a)&&o?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){y.parent()&&y.remove(),c.$setViewValue(b.val())})})}function m(a,b,c){var d;c.$render=function(){var a=new Fb(c.$viewValue);f(b.find("option"),function(b){b.selected=s(a.get(b.value))})},a.$watch(function(){K(d,c.$viewValue)||(d=J(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];f(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function n(b,f,h){function i(){var a,c,d,e,i,j,q,u,z,A,B,C,D,E,F,G={"":[]},H=[""],I=h.$modelValue,J=p(b)||[],K=m?g(J):J,L={},M=!1;if(t)if(r&&Cd(I)){M=new Fb([]);for(var N=0;N<I.length;N++)L[l]=I[N],M.put(r(b,L),I[N])}else M=new Fb(I);for(B=0;z=K.length,z>B;B++){if(q=B,m){if(q=K[B],"$"===q.charAt(0))continue;L[m]=q}if(L[l]=J[q],a=n(b,L)||"",(c=G[a])||(c=G[a]=[],H.push(a)),t)C=s(M.remove(r?r(b,L):o(b,L)));else{if(r){var O={};O[l]=I,C=r(b,O)===r(b,L)}else C=I===o(b,L);M=M||C}F=k(b,L),F=s(F)?F:"",c.push({id:r?r(b,L):m?K[B]:B,label:F,selected:C})}for(t||(v||null===I?G[""].unshift({id:"",label:"",selected:!M}):M||G[""].unshift({id:"?",label:"",selected:!0})),A=0,u=H.length;u>A;A++){for(a=H[A],c=G[a],y.length<=A?(e={element:x.clone().attr("label",a),label:c.label},i=[e],y.push(i),f.append(e.element)):(i=y[A],e=i[0],e.label!=a&&e.element.attr("label",e.label=a)),D=null,B=0,z=c.length;z>B;B++)d=c[B],(j=i[B+1])?(D=j.element,j.label!==d.label&&D.text(j.label=d.label),j.id!==d.id&&D.val(j.id=d.id),j.selected!==d.selected&&D.prop("selected",j.selected=d.selected)):(""===d.id&&v?E=v:(E=w.clone()).val(d.id).prop("selected",d.selected).text(d.label),i.push(j={element:E,label:d.label,id:d.id,selected:d.selected}),D?D.after(E):e.element.append(E),D=E);for(B++;i.length>B;)i.pop().element.remove()}for(;y.length>A;)y.pop()[0].element.remove()}var j;if(!(j=u.match(e)))throw vf("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",u,T(f));var k=d(j[2]||j[1]),l=j[4]||j[6],m=j[5],n=d(j[3]||""),o=d(j[2]?j[1]:l),p=d(j[7]),q=j[8],r=q?d(j[8]):null,y=[[{element:f,label:""}]];v&&(a(v)(b),v.removeClass("ng-scope"),v.remove()),f.empty(),f.on("change",function(){b.$apply(function(){var a,d,e,g,i,j,k,n,q,s=p(b)||[],u={};if(t){for(e=[],j=0,n=y.length;n>j;j++)for(a=y[j],i=1,k=a.length;k>i;i++)if((g=a[i].element)[0].selected){if(d=g.val(),m&&(u[m]=d),r)for(q=0;q<s.length&&(u[l]=s[q],r(b,u)!=d);q++);else u[l]=s[d];e.push(o(b,u))}}else{if(d=f.val(),"?"==d)e=c;else if(""===d)e=null;else if(r){for(q=0;q<s.length;q++)if(u[l]=s[q],r(b,u)==d){e=o(b,u);break}}else u[l]=s[d],m&&(u[m]=d),e=o(b,u);y[0].length>1&&y[0][1].id!==d&&(y[0][1].selected=!1)}h.$setViewValue(e)})}),h.$render=i,b.$watch(i)}if(k[1]){for(var o,p=k[0],q=k[1],t=j.multiple,u=j.ngOptions,v=!1,w=sd(b.createElement("option")),x=sd(b.createElement("optgroup")),y=w.clone(),z=0,A=i.children(),B=A.length;B>z;z++)if(""===A[z].value){o=v=A.eq(z);break}p.init(q,v,y),t&&(q.$isEmpty=function(a){return!a||0===a.length}),u?n(h,i,q):t?m(h,i,q):l(h,i,q,p)}}}}],yf=["$interpolate",function(a){var b={addOption:o,removeOption:o};return{restrict:"E",priority:100,compile:function(c,d){if(r(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.databound?c.prop("selected",!1):h=b,e?a.$watch(e,function(a,b){d.$set("value",a),a!==b&&h.removeOption(b),h.addOption(a)}):h.addOption(d.value),c.on("$destroy",function(){h.removeOption(d.value)})}}}}],zf=q({restrict:"E",terminal:!0});return a.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ab(),hb(Ad),void sd(b).ready(function(){Z(b,$)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}.ng-hide-add-active,.ng-hide-remove{display:block!important;}</style>'),function(a,b){"use strict";function c(){function a(a,c){return b.extend(new(b.extend(function(){},{prototype:a})),c)}function c(a,b){var c=b.caseInsensitiveMatch,d={originalPath:a,regexp:a},e=d.keys=[];return a=a.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?\*])?/g,function(a,b,c,d){var f="?"===d?d:null,g="*"===d?d:null;return e.push({name:c,optional:!!f}),b=b||"",""+(f?"":b)+"(?:"+(f?b:"")+(g&&"(.+?)"||"([^/]+)")+(f||"")+")"+(f||"")}).replace(/([\/$\*])/g,"\\$1"),d.regexp=new RegExp("^"+a+"$",c?"i":""),d}var d={};this.when=function(a,e){if(d[a]=b.extend({reloadOnSearch:!0},e,a&&c(a,e)),a){var f="/"==a[a.length-1]?a.substr(0,a.length-1):a+"/";d[f]=b.extend({redirectTo:a},c(f,e))}return this},this.otherwise=function(a){return this.when(null,a),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function(c,e,f,g,h,i,j,k){function l(a,b){var c=b.keys,d={};if(!b.regexp)return null;var e=b.regexp.exec(a);if(!e)return null;for(var f=1,g=e.length;g>f;++f){var h=c[f-1],i="string"==typeof e[f]?decodeURIComponent(e[f]):e[f];h&&i&&(d[h.name]=i)}return d}function m(){var a=n(),d=q.current;a&&d&&a.$$route===d.$$route&&b.equals(a.pathParams,d.pathParams)&&!a.reloadOnSearch&&!p?(d.params=a.params,b.copy(d.params,f),c.$broadcast("$routeUpdate",d)):(a||d)&&(p=!1,c.$broadcast("$routeChangeStart",a,d),q.current=a,a&&a.redirectTo&&(b.isString(a.redirectTo)?e.path(o(a.redirectTo,a.params)).search(a.params).replace():e.url(a.redirectTo(a.pathParams,e.path(),e.search())).replace()),g.when(a).then(function(){if(a){var c,d,e=b.extend({},a.resolve);return b.forEach(e,function(a,c){e[c]=b.isString(a)?h.get(a):h.invoke(a)}),b.isDefined(c=a.template)?b.isFunction(c)&&(c=c(a.params)):b.isDefined(d=a.templateUrl)&&(b.isFunction(d)&&(d=d(a.params)),d=k.getTrustedResourceUrl(d),b.isDefined(d)&&(a.loadedTemplateUrl=d,c=i.get(d,{cache:j}).then(function(a){return a.data}))),b.isDefined(c)&&(e.$template=c),g.all(e)}}).then(function(e){a==q.current&&(a&&(a.locals=e,b.copy(a.params,f)),c.$broadcast("$routeChangeSuccess",a,d))},function(b){a==q.current&&c.$broadcast("$routeChangeError",a,d,b)}))}function n(){var c,f;return b.forEach(d,function(d){!f&&(c=l(e.path(),d))&&(f=a(d,{params:b.extend({},e.search(),c),pathParams:c}),f.$$route=d)}),f||d[null]&&a(d[null],{params:{},pathParams:{}})}function o(a,c){var d=[];return b.forEach((a||"").split(":"),function(a,b){if(0===b)d.push(a);else{var e=a.match(/(\w+)(.*)/),f=e[1];d.push(c[f]),d.push(e[2]||""),delete c[f]}}),d.join("")}var p=!1,q={routes:d,reload:function(){p=!0,c.$evalAsync(m)}};return c.$on("$locationChangeSuccess",m),q}]}function d(){this.$get=function(){return{}}}function e(a,c,d){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(e,f,g,h,i){function j(){n&&(n.remove(),n=null),l&&(l.$destroy(),l=null),m&&(d.leave(m,function(){n=null}),n=m,m=null)}function k(){var g=a.current&&a.current.locals,h=g&&g.$template;if(b.isDefined(h)){var k=e.$new(),n=a.current,q=i(k,function(a){d.enter(a,null,m||f,function(){!b.isDefined(o)||o&&!e.$eval(o)||c()}),j()});m=q,l=n.scope=k,l.$emit("$viewContentLoaded"),l.$eval(p)}else j()}var l,m,n,o=g.autoscroll,p=g.onload||"";e.$on("$routeChangeSuccess",k),k()}}}function f(a,b,c){return{restrict:"ECA",priority:-400,link:function(d,e){var f=c.current,g=f.locals;e.html(g.$template);var h=a(e.contents());if(f.controller){g.$scope=d;var i=b(f.controller,g);f.controllerAs&&(d[f.controllerAs]=i),e.data("$ngControllerController",i),e.children().data("$ngControllerController",i)}h(d)}}}var g=b.module("ngRoute",["ng"]).provider("$route",c);g.provider("$routeParams",d),g.directive("ngView",e),g.directive("ngView",f),e.$inject=["$route","$anchorScroll","$animate"],f.$inject=["$compile","$controller","$route"]}(window,window.angular),function(a,b,c){"use strict";function d(a){return null!=a&&""!==a&&"hasOwnProperty"!==a&&h.test("."+a)
}function e(a,b){if(!d(b))throw g("badmember",'Dotted member path "@{0}" is invalid.',b);for(var e=b.split("."),f=0,h=e.length;h>f&&a!==c;f++){var i=e[f];a=null!==a?a[i]:c}return a}function f(a,c){c=c||{},b.forEach(c,function(a,b){delete c[b]});for(var d in a)!a.hasOwnProperty(d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(c[d]=a[d]);return c}var g=b.$$minErr("$resource"),h=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;b.module("ngResource",["ng"]).factory("$resource",["$http","$q",function(a,d){function h(a){return i(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function i(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function j(a,b){this.template=a,this.defaults=b||{},this.urlParams={}}function k(h,i,r){function s(a,b){var c={};return b=o({},i,b),n(b,function(b,d){q(b)&&(b=b()),c[d]=b&&b.charAt&&"@"==b.charAt(0)?e(a,b.substr(1)):b}),c}function t(a){return a.resource}function u(a){f(a||{},this)}var v=new j(h);return r=o({},l,r),n(r,function(e,h){var i=/^(POST|PUT|PATCH)$/i.test(e.method);u[h]=function(h,j,k,l){var r,w,x,y={};switch(arguments.length){case 4:x=l,w=k;case 3:case 2:if(!q(j)){y=h,r=j,w=k;break}if(q(h)){w=h,x=j;break}w=j,x=k;case 1:q(h)?w=h:i?r=h:y=h;break;case 0:break;default:throw g("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var z=this instanceof u,A=z?r:e.isArray?[]:new u(r),B={},C=e.interceptor&&e.interceptor.response||t,D=e.interceptor&&e.interceptor.responseError||c;n(e,function(a,b){"params"!=b&&"isArray"!=b&&"interceptor"!=b&&(B[b]=p(a))}),i&&(B.data=r),v.setUrlParams(B,o({},s(r,e.params||{}),y),e.url);var E=a(B).then(function(a){var c=a.data,d=A.$promise;if(c){if(b.isArray(c)!==!!e.isArray)throw g("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",e.isArray?"array":"object",b.isArray(c)?"array":"object");e.isArray?(A.length=0,n(c,function(a){A.push("object"==typeof a?new u(a):a)})):(f(c,A),A.$promise=d)}return A.$resolved=!0,a.resource=A,a},function(a){return A.$resolved=!0,(x||m)(a),d.reject(a)});return E=E.then(function(a){var b=C(a);return(w||m)(b,a.headers),b},D),z?E:(A.$promise=E,A.$resolved=!1,A)},u.prototype["$"+h]=function(a,b,c){q(a)&&(c=b,b=a,a={});var d=u[h].call(this,a,this,b,c);return d.$promise||d}}),u.bind=function(a){return k(h,o({},i,a),r)},u}var l={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},m=b.noop,n=b.forEach,o=b.extend,p=b.copy,q=b.isFunction;return j.prototype={setUrlParams:function(a,c,d){var e,f,i=this,j=d||i.template,k=i.urlParams={};n(j.split(/\W/),function(a){if("hasOwnProperty"===a)throw g("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(a)&&a&&new RegExp("(^|[^\\\\]):"+a+"(\\W|$)").test(j)&&(k[a]=!0)}),j=j.replace(/\\:/g,":"),c=c||{},n(i.urlParams,function(a,d){e=c.hasOwnProperty(d)?c[d]:i.defaults[d],b.isDefined(e)&&null!==e?(f=h(e),j=j.replace(new RegExp(":"+d+"(\\W|$)","g"),function(a,b){return f+b})):j=j.replace(new RegExp("(/?):"+d+"(\\W|$)","g"),function(a,b,c){return"/"==c.charAt(0)?c:b+c})}),j=j.replace(/\/+$/,"")||"/",j=j.replace(/\/\.(?=\w+($|\?))/,"."),a.url=j.replace(/\/\\\./,"/."),n(c,function(b,c){i.urlParams[c]||(a.params=a.params||{},a.params[c]=b)})}},k}])}(window,window.angular),function(a,b,c){"use strict";function d(a){var b;if(b=a.match(j)){var c=new Date(0),d=0,f=0;return b[9]&&(d=e(b[9]+b[10]),f=e(b[9]+b[11])),c.setUTCFullYear(e(b[1]),e(b[2])-1,e(b[3])),c.setUTCHours(e(b[4]||0)-d,e(b[5]||0)-f,e(b[6]||0),e(b[7]||0)),c}return a}function e(a){return parseInt(a,10)}function f(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function g(a,d,e){function f(a,c,d,e){return b.isFunction(a)?a:function(){return b.isNumber(a)?[a,c,d,e]:[200,a,c]}}function g(a,f,g,h,j,p,q){function r(a){return b.isString(a)||b.isFunction(a)||a instanceof RegExp?a:b.toJson(a)}function s(b){function d(){var c=b.response(a,f,g,j);t.$$respHeaders=c[2],h(o(c[0]),o(c[1]),t.getAllResponseHeaders(),o(c[3]||""))}function i(){for(var a=0,b=m.length;b>a;a++)if(m[a]===d){m.splice(a,1),h(-1,c,"");break}}return!e&&p&&p.then&&p.then(i),d}var t=new i,u=l[0],v=!1;if(u&&u.match(a,f)){if(!u.matchData(g))throw new Error("Expected "+u+" with different data\nEXPECTED: "+r(u.data)+"\nGOT:      "+g);if(!u.matchHeaders(j))throw new Error("Expected "+u+" with different headers\nEXPECTED: "+r(u.headers)+"\nGOT:      "+r(j));if(l.shift(),u.response)return void m.push(s(u));v=!0}for(var w,x=-1;w=k[++x];)if(w.match(a,f,g,j||{})){if(w.response)(e?e.defer:n)(s(w));else{if(!w.passThrough)throw new Error("No response defined !");d(a,f,g,h,j,p,q)}return}throw new Error(v?"No response defined !":"Unexpected request: "+a+" "+f+"\n"+(u?"Expected "+u:"No more request expected"))}function j(a){b.forEach(["GET","DELETE","JSONP"],function(b){g[a+b]=function(d,e){return g[a](b,d,c,e)}}),b.forEach(["PUT","POST","PATCH"],function(b){g[a+b]=function(c,d,e){return g[a](b,c,d,e)}})}var k=[],l=[],m=[],n=b.bind(m,m.push),o=b.copy;return g.when=function(a,b,c,d){var g=new h(a,b,c,d),i={respond:function(a,b,c,d){g.response=f(a,b,c,d)}};return e&&(i.passThrough=function(){g.passThrough=!0}),k.push(g),i},j("when"),g.expect=function(a,b,c,d){var e=new h(a,b,c,d);return l.push(e),{respond:function(a,b,c,d){e.response=f(a,b,c,d)}}},j("expect"),g.flush=function(c){if(a.$digest(),!m.length)throw new Error("No pending request to flush !");if(b.isDefined(c))for(;c--;){if(!m.length)throw new Error("No more pending request to flush !");m.shift()()}else for(;m.length;)m.shift()();g.verifyNoOutstandingExpectation()},g.verifyNoOutstandingExpectation=function(){if(a.$digest(),l.length)throw new Error("Unsatisfied requests: "+l.join(", "))},g.verifyNoOutstandingRequest=function(){if(m.length)throw new Error("Unflushed requests: "+m.length)},g.resetExpectations=function(){l.length=0,m.length=0},g}function h(a,c,d,e){this.data=d,this.headers=e,this.match=function(c,d,e,f){return a!=c?!1:this.matchUrl(d)?b.isDefined(e)&&!this.matchData(e)?!1:b.isDefined(f)&&!this.matchHeaders(f)?!1:!0:!1},this.matchUrl=function(a){return c?b.isFunction(c.test)?c.test(a):c==a:!0},this.matchHeaders=function(a){return b.isUndefined(e)?!0:b.isFunction(e)?e(a):b.equals(e,a)},this.matchData=function(a){return b.isUndefined(d)?!0:d&&b.isFunction(d.test)?d.test(a):d&&b.isFunction(d)?d(a):d&&!b.isString(d)?b.equals(d,b.fromJson(a)):d==a},this.toString=function(){return a+" "+c}}function i(){i.$$lastInstance=this,this.open=function(a,b,c){this.$$method=a,this.$$url=b,this.$$async=c,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(a){this.$$data=a},this.setRequestHeader=function(a,b){this.$$reqHeaders[a]=b},this.getResponseHeader=function(a){var d=this.$$respHeaders[a];return d?d:(a=b.lowercase(a),(d=this.$$respHeaders[a])?d:(d=c,b.forEach(this.$$respHeaders,function(c,e){d||b.lowercase(e)!=a||(d=c)}),d))},this.getAllResponseHeaders=function(){var a=[];return b.forEach(this.$$respHeaders,function(b,c){a.push(c+": "+b)}),a.join("\n")},this.abort=b.noop}b.mock={},b.mock.$BrowserProvider=function(){this.$get=function(){return new b.mock.$Browser}},b.mock.$Browser=function(){var a=this;this.isMock=!0,a.$$url="http://server/",a.$$lastUrl=a.$$url,a.pollFns=[],a.$$completeOutstandingRequest=b.noop,a.$$incOutstandingRequestCount=b.noop,a.onUrlChange=function(b){return a.pollFns.push(function(){a.$$lastUrl!=a.$$url&&(a.$$lastUrl=a.$$url,b(a.$$url))}),b},a.cookieHash={},a.lastCookieHash={},a.deferredFns=[],a.deferredNextId=0,a.defer=function(b,c){return c=c||0,a.deferredFns.push({time:a.defer.now+c,fn:b,id:a.deferredNextId}),a.deferredFns.sort(function(a,b){return a.time-b.time}),a.deferredNextId++},a.defer.now=0,a.defer.cancel=function(d){var e;return b.forEach(a.deferredFns,function(a,b){a.id===d&&(e=b)}),e!==c?(a.deferredFns.splice(e,1),!0):!1},a.defer.flush=function(c){if(b.isDefined(c))a.defer.now+=c;else{if(!a.deferredFns.length)throw new Error("No deferred tasks to be flushed");a.defer.now=a.deferredFns[a.deferredFns.length-1].time}for(;a.deferredFns.length&&a.deferredFns[0].time<=a.defer.now;)a.deferredFns.shift().fn()},a.$$baseHref="",a.baseHref=function(){return this.$$baseHref}},b.mock.$Browser.prototype={poll:function(){b.forEach(this.pollFns,function(a){a()})},addPollFn:function(a){return this.pollFns.push(a),a},url:function(a){return a?(this.$$url=a,this):this.$$url},cookies:function(a,c){return a?void(b.isUndefined(c)?delete this.cookieHash[a]:b.isString(c)&&c.length<=4096&&(this.cookieHash[a]=c)):(b.equals(this.cookieHash,this.lastCookieHash)||(this.lastCookieHash=b.copy(this.cookieHash),this.cookieHash=b.copy(this.cookieHash)),this.cookieHash)},notifyWhenNoOutstandingRequests:function(a){a()}},b.mock.$ExceptionHandlerProvider=function(){var a;this.mode=function(b){switch(b){case"rethrow":a=function(a){throw a};break;case"log":var c=[];a=function(a){c.push(1==arguments.length?a:[].slice.call(arguments,0))},a.errors=c;break;default:throw new Error("Unknown mode '"+b+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return a},this.mode("rethrow")},b.mock.$LogProvider=function(){function a(a,b,c){return a.concat(Array.prototype.slice.call(b,c))}var c=!0;this.debugEnabled=function(a){return b.isDefined(a)?(c=a,this):c},this.$get=function(){var d={log:function(){d.log.logs.push(a([],arguments,0))},warn:function(){d.warn.logs.push(a([],arguments,0))},info:function(){d.info.logs.push(a([],arguments,0))},error:function(){d.error.logs.push(a([],arguments,0))},debug:function(){c&&d.debug.logs.push(a([],arguments,0))}};return d.reset=function(){d.log.logs=[],d.info.logs=[],d.warn.logs=[],d.error.logs=[],d.debug.logs=[]},d.assertEmpty=function(){var a=[];if(b.forEach(["error","warn","info","log","debug"],function(c){b.forEach(d[c].logs,function(d){b.forEach(d,function(b){a.push("MOCK $log ("+c+"): "+String(b)+"\n"+(b.stack||""))})})}),a.length)throw a.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),a.push(""),new Error(a.join("\n---------\n"))},d.reset(),d}},b.mock.$IntervalProvider=function(){this.$get=["$rootScope","$q",function(a,d){var e=[],f=0,g=0,h=function(h,i,j,k){function l(){if(m.notify(o++),j>0&&o>=j){var d;m.resolve(o),b.forEach(e,function(a,b){a.id===n.$$intervalId&&(d=b)}),d!==c&&e.splice(d,1)}p||a.$apply()}var m=d.defer(),n=m.promise,o=0,p=b.isDefined(k)&&!k;return j=b.isDefined(j)?j:0,n.then(null,null,h),n.$$intervalId=f,e.push({nextTime:g+i,delay:i,fn:l,id:f,deferred:m}),e.sort(function(a,b){return a.nextTime-b.nextTime}),f++,n};return h.cancel=function(a){if(!a)return!1;var d;return b.forEach(e,function(b,c){b.id===a.$$intervalId&&(d=c)}),d!==c?(e[d].deferred.reject("canceled"),e.splice(d,1),!0):!1},h.flush=function(a){for(g+=a;e.length&&e[0].nextTime<=g;){var b=e[0];b.fn(),b.nextTime+=b.delay,e.sort(function(a,b){return a.nextTime-b.nextTime})}return a},h}]};var j=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(b.mock.TzDate=function(a,c){var e=new Date(0);if(b.isString(c)){var g=c;if(e.origDate=d(c),c=e.origDate.getTime(),isNaN(c))throw{name:"Illegal Argument",message:"Arg '"+g+"' passed into TzDate constructor is not a valid date string"}}else e.origDate=new Date(c);var h=new Date(c).getTimezoneOffset();e.offsetDiff=60*h*1e3-1e3*a*60*60,e.date=new Date(c+e.offsetDiff),e.getTime=function(){return e.date.getTime()-e.offsetDiff},e.toLocaleDateString=function(){return e.date.toLocaleDateString()},e.getFullYear=function(){return e.date.getFullYear()},e.getMonth=function(){return e.date.getMonth()},e.getDate=function(){return e.date.getDate()},e.getHours=function(){return e.date.getHours()},e.getMinutes=function(){return e.date.getMinutes()},e.getSeconds=function(){return e.date.getSeconds()},e.getMilliseconds=function(){return e.date.getMilliseconds()},e.getTimezoneOffset=function(){return 60*a},e.getUTCFullYear=function(){return e.origDate.getUTCFullYear()},e.getUTCMonth=function(){return e.origDate.getUTCMonth()},e.getUTCDate=function(){return e.origDate.getUTCDate()},e.getUTCHours=function(){return e.origDate.getUTCHours()},e.getUTCMinutes=function(){return e.origDate.getUTCMinutes()},e.getUTCSeconds=function(){return e.origDate.getUTCSeconds()},e.getUTCMilliseconds=function(){return e.origDate.getUTCMilliseconds()},e.getDay=function(){return e.date.getDay()},e.toISOString&&(e.toISOString=function(){return f(e.origDate.getUTCFullYear(),4)+"-"+f(e.origDate.getUTCMonth()+1,2)+"-"+f(e.origDate.getUTCDate(),2)+"T"+f(e.origDate.getUTCHours(),2)+":"+f(e.origDate.getUTCMinutes(),2)+":"+f(e.origDate.getUTCSeconds(),2)+"."+f(e.origDate.getUTCMilliseconds(),3)+"Z"});var i=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return b.forEach(i,function(a){e[a]=function(){throw new Error("Method '"+a+"' is not implemented in the TzDate mock")}}),e},b.mock.TzDate.prototype=Date.prototype,b.mock.animate=b.module("ngAnimateMock",["ng"]).config(["$provide",function(a){var c=[];a.value("$$animateReflow",function(a){var b=c.length;return c.push(a),function(){c.splice(b,1)}}),a.decorator("$animate",function(a,d){var e={queue:[],enabled:a.enabled,triggerCallbacks:function(){d.flush()},triggerReflow:function(){b.forEach(c,function(a){a()}),c=[]}};return b.forEach(["enter","leave","move","addClass","removeClass","setClass"],function(b){e[b]=function(){e.queue.push({event:b,element:arguments[0],args:arguments}),a[b].apply(a,arguments)}}),e})}]),b.mock.dump=function(a){function c(a){var e;return b.isElement(a)?(a=b.element(a),e=b.element("<div></div>"),b.forEach(a,function(a){e.append(b.element(a).clone())}),e=e.html()):b.isArray(a)?(e=[],b.forEach(a,function(a){e.push(c(a))}),e="[ "+e.join(", ")+" ]"):e=b.isObject(a)?b.isFunction(a.$eval)&&b.isFunction(a.$apply)?d(a):a instanceof Error?a.stack||""+a.name+": "+a.message:b.toJson(a,!0):String(a),e}function d(a,c){c=c||"  ";var e=[c+"Scope("+a.$id+"): {"];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&!f.match(/^(\$|this)/)&&e.push("  "+f+": "+b.toJson(a[f]));for(var g=a.$$childHead;g;)e.push(d(g,c+"  ")),g=g.$$nextSibling;return e.push("}"),e.join("\n"+c)}return c(a)},b.mock.$HttpBackendProvider=function(){this.$get=["$rootScope",g]},b.mock.$TimeoutDecorator=function(a,c){function d(a){var c=[];return b.forEach(a,function(a){c.push("{id: "+a.id+", time: "+a.time+"}")}),c.join(", ")}return a.flush=function(a){c.defer.flush(a)},a.verifyNoPendingTasks=function(){if(c.deferredFns.length)throw new Error("Deferred tasks to flush ("+c.deferredFns.length+"): "+d(c.deferredFns))},a},b.mock.$RAFDecorator=function(a){var b=[],c=function(a){var c=b.length;return b.push(a),function(){b.splice(c,1)}};return c.supported=a.supported,c.flush=function(){if(0===b.length)throw new Error("No rAF callbacks present");for(var a=b.length,c=0;a>c;c++)b[c]();b=[]},c},b.mock.$AsyncCallbackDecorator=function(){var a=[],c=function(b){a.push(b)};return c.flush=function(){b.forEach(a,function(a){a()}),a=[]},c},b.mock.$RootElementProvider=function(){this.$get=function(){return b.element("<div ng-app></div>")}},b.module("ngMock",["ng"]).provider({$browser:b.mock.$BrowserProvider,$exceptionHandler:b.mock.$ExceptionHandlerProvider,$log:b.mock.$LogProvider,$interval:b.mock.$IntervalProvider,$httpBackend:b.mock.$HttpBackendProvider,$rootElement:b.mock.$RootElementProvider}).config(["$provide",function(a){a.decorator("$timeout",b.mock.$TimeoutDecorator),a.decorator("$$rAF",b.mock.$RAFDecorator),a.decorator("$$asyncCallback",b.mock.$AsyncCallbackDecorator)}]),b.module("ngMockE2E",["ng"]).config(["$provide",function(a){a.decorator("$httpBackend",b.mock.e2e.$httpBackendDecorator)}]),b.mock.e2e={},b.mock.e2e.$httpBackendDecorator=["$rootScope","$delegate","$browser",g],b.mock.clearDataCache=function(){var a,c=b.element.cache;for(a in c)if(Object.prototype.hasOwnProperty.call(c,a)){var d=c[a].handle;d&&b.element(d.elem).off(),delete c[a]}},a.jasmine||a.mocha){var k=null,l=function(){return!!k};(a.beforeEach||a.setup)(function(){k=this}),(a.afterEach||a.teardown)(function(){var a=k.$injector;b.forEach(k.$modules,function(a){a&&a.$$hashKey&&(a.$$hashKey=c)}),k.$injector=null,k.$modules=null,k=null,a&&(a.get("$rootElement").off(),a.get("$browser").pollFns.length=0),b.mock.clearDataCache(),b.forEach(b.element.fragments,function(a,c){delete b.element.fragments[c]}),i.$$lastInstance=null,b.forEach(b.callbacks,function(a,c){delete b.callbacks[c]}),b.callbacks.counter=0}),a.module=b.mock.module=function(){function a(){if(k.$injector)throw new Error("Injector already created, can not register a module!");var a=k.$modules||(k.$modules=[]);b.forEach(c,function(c){a.push(b.isObject(c)&&!b.isArray(c)?function(a){b.forEach(c,function(b,c){a.value(c,b)})}:c)})}var c=Array.prototype.slice.call(arguments,0);return l()?a():a};var m=function(a,b){this.message=a.message,this.name=a.name,a.line&&(this.line=a.line),a.sourceId&&(this.sourceId=a.sourceId),a.stack&&b&&(this.stack=a.stack+"\n"+b.stack),a.stackArray&&(this.stackArray=a.stackArray)};m.prototype.toString=Error.prototype.toString,a.inject=b.mock.inject=function(){function a(){var a=k.$modules||[];a.unshift("ngMock"),a.unshift("ng");var e=k.$injector;e||(e=k.$injector=b.injector(a));for(var f=0,g=c.length;g>f;f++)try{e.invoke(c[f]||b.noop,this)}catch(h){if(h.stack&&d)throw new m(h,d);throw h}finally{d=null}}var c=Array.prototype.slice.call(arguments,0),d=new Error("Declaration Location");return l()?a.call(k):a}}}(window,window.angular),function(a,b,c){"use strict";b.module("ngAnimate",["ng"]).factory("$$animateReflow",["$$rAF","$document",function(a,b){var c=b[0].body;return function(b){return a(function(){c.offsetWidth+1;b()})}}]).config(["$provide","$animateProvider",function(d,e){function f(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==l)return c}}function g(a){return b.element(f(a))}function h(a,b){return f(a)==f(b)}var i=b.noop,j=b.forEach,k=e.$$selectors,l=1,m="$$ngAnimateState",n="ng-animate",o={running:!0};d.decorator("$animate",["$delegate","$injector","$sniffer","$rootElement","$$asyncCallback","$rootScope","$document",function(a,c,d,l,p,q){function r(a){if(a){var b=[],e={},f=a.substr(1).split(".");(d.transitions||d.animations)&&b.push(c.get(k[""]));for(var g=0;g<f.length;g++){var h=f[g],i=k[h];i&&!e[h]&&(b.push(c.get(i)),e[h]=!0)}return b}}function s(a,c,d){function e(a,b){var c=a[b],d=a["before"+b.charAt(0).toUpperCase()+b.substr(1)];return c||d?("leave"==b&&(d=c,c=null),v.push({event:b,fn:c}),s.push({event:b,fn:d}),!0):void 0}function f(b,c,e){function f(a){if(c){if((c[a]||i)(),++l<g.length)return;c=null}e()}var g=[];j(b,function(a){a.fn&&g.push(a)});var l=0;j(g,function(b,e){var g=function(){f(e)};switch(b.event){case"setClass":c.push(b.fn(a,h,k,g));break;case"addClass":c.push(b.fn(a,h||d,g));break;case"removeClass":c.push(b.fn(a,k||d,g));break;default:c.push(b.fn(a,g))}}),c&&0===c.length&&e()}var g=a[0];if(g){var h,k,l="setClass"==c,m=l||"addClass"==c||"removeClass"==c;b.isArray(d)&&(h=d[0],k=d[1],d=h+" "+k);var n=a.attr("class"),o=n+" "+d;if(z(o)){var p=i,q=[],s=[],t=i,u=[],v=[],w=(" "+o).replace(/\s+/g,".");return j(r(w),function(a){var b=e(a,c);!b&&l&&(e(a,"addClass"),e(a,"removeClass"))}),{node:g,event:c,className:d,isClassBased:m,isSetClassOperation:l,before:function(a){p=a,f(s,q,function(){p=i,a()})},after:function(a){t=a,f(v,u,function(){t=i,a()})},cancel:function(){q&&(j(q,function(a){(a||i)(!0)}),p(!0)),u&&(j(u,function(a){(a||i)(!0)}),t(!0))}}}}}function t(a,c,d,e,f,g,h){function i(b){var e="$animate:"+b;u&&u[e]&&u[e].length>0&&p(function(){d.triggerHandler(e,{event:a,className:c})})}function k(){i("before")}function l(){i("after")}function o(){i("close"),h&&p(function(){h()})}function q(){q.hasBeenRun||(q.hasBeenRun=!0,g())}function r(){if(!r.hasBeenRun){r.hasBeenRun=!0;var b=d.data(m);b&&(t&&t.isClassBased?v(d,c):(p(function(){var b=d.data(m)||{};H==b.index&&v(d,c,a)}),d.data(m,b))),o()}}var t=s(d,a,c);if(!t)return q(),k(),l(),void r();c=t.className;var u=b.element._data(t.node);u=u&&u.events,e||(e=f?f.parent():d.parent());var y=d.data(m)||{},z=y.active||{},A=y.totalActive||0,B=y.last,C=t.isClassBased?y.disabled||B&&!B.isClassBased:!1;if(C||w(d,e))return q(),k(),l(),void r();var D=!1;if(A>0){var E=[];if(t.isClassBased){if("setClass"==B.event)E.push(B),v(d,c);else if(z[c]){var F=z[c];F.event==a?D=!0:(E.push(F),v(d,c))}}else if("leave"==a&&z["ng-leave"])D=!0;else{for(var G in z)E.push(z[G]),v(d,G);z={},A=0}E.length>0&&j(E,function(a){a.cancel()})}if(!t.isClassBased||t.isSetClassOperation||D||(D="addClass"==a==d.hasClass(c)),D)return k(),l(),void o();"leave"==a&&d.one("$destroy",function(){var a=b.element(this),c=a.data(m);if(c){var d=c.active["ng-leave"];d&&(d.cancel(),v(a,"ng-leave"))}}),d.addClass(n);var H=x++;A++,z[c]=t,d.data(m,{last:t,active:z,index:H,totalActive:A}),k(),t.before(function(b){var e=d.data(m);b=b||!e||!e.active[c]||t.isClassBased&&e.active[c].event!=a,q(),b===!0?r():(l(),t.after(r))})}function u(a){var c=f(a);if(c){var d=b.isFunction(c.getElementsByClassName)?c.getElementsByClassName(n):c.querySelectorAll("."+n);j(d,function(a){a=b.element(a);var c=a.data(m);c&&c.active&&j(c.active,function(a){a.cancel()})})}}function v(a,b){if(h(a,l))o.disabled||(o.running=!1,o.structural=!1);else if(b){var c=a.data(m)||{},d=b===!0;!d&&c.active&&c.active[b]&&(c.totalActive--,delete c.active[b]),(d||!c.totalActive)&&(a.removeClass(n),a.removeData(m))}}function w(a,b){if(o.disabled)return!0;if(h(a,l))return o.disabled||o.running;do{if(0===b.length)break;var c=h(b,l),d=c?o:b.data(m),e=d&&(!!d.disabled||d.running||d.totalActive>0);if(c||e)return e;if(c)return!0}while(b=b.parent());return!0}var x=0;l.data(m,o),q.$$postDigest(function(){q.$$postDigest(function(){o.running=!1})});var y=e.classNameFilter(),z=y?function(a){return y.test(a)}:function(){return!0};return{enter:function(b,c,d,e){this.enabled(!1,b),a.enter(b,c,d),q.$$postDigest(function(){b=g(b),t("enter","ng-enter",b,c,d,i,e)})},leave:function(b,c){u(b),this.enabled(!1,b),q.$$postDigest(function(){t("leave","ng-leave",g(b),null,null,function(){a.leave(b)},c)})},move:function(b,c,d,e){u(b),this.enabled(!1,b),a.move(b,c,d),q.$$postDigest(function(){b=g(b),t("move","ng-move",b,c,d,i,e)})},addClass:function(b,c,d){b=g(b),t("addClass",c,b,null,null,function(){a.addClass(b,c)},d)},removeClass:function(b,c,d){b=g(b),t("removeClass",c,b,null,null,function(){a.removeClass(b,c)},d)},setClass:function(b,c,d,e){b=g(b),t("setClass",[c,d],b,null,null,function(){a.setClass(b,c,d)},e)},enabled:function(a,b){switch(arguments.length){case 2:if(a)v(b);else{var c=b.data(m)||{};c.disabled=!0,b.data(m,c)}break;case 1:o.disabled=!a;break;default:a=!o.disabled}return!!a}}}]),e.register("",["$window","$sniffer","$timeout","$$animateReflow",function(d,e,g,h){function k(a,b){J&&J(),W.push(b),J=h(function(){j(W,function(a){a()}),W=[],J=null,U={}})}function m(a,c){var d=f(a);a=b.element(d),Z.push(a);var e=Date.now()+c;Y>=e||(g.cancel(X),Y=e,X=g(function(){n(Z),Z=[]},c,!1))}function n(a){j(a,function(a){var b=a.data(P);b&&(b.closeAnimationFn||i)()})}function o(a,b){var c=b?U[b]:null;if(!c){var e,f,g,h,i=0,k=0,m=0,n=0;j(a,function(a){if(a.nodeType==l){var b=d.getComputedStyle(a)||{};g=b[E+K],i=Math.max(p(g),i),h=b[E+L],e=b[E+M],k=Math.max(p(e),k),f=b[G+M],n=Math.max(p(f),n);var c=p(b[G+K]);c>0&&(c*=parseInt(b[G+N],10)||1),m=Math.max(c,m)}}),c={total:0,transitionPropertyStyle:h,transitionDurationStyle:g,transitionDelayStyle:e,transitionDelay:k,transitionDuration:i,animationDelayStyle:f,animationDelay:n,animationDuration:m},b&&(U[b]=c)}return c}function p(a){var c=0,d=b.isString(a)?a.split(/\s*,\s*/):[];return j(d,function(a){c=Math.max(parseFloat(a)||0,c)}),c}function q(a){var b=a.parent(),c=b.data(O);return c||(b.data(O,++V),c=V),c+"-"+f(a).getAttribute("class")}function r(a,b,c,d){var e=q(b),f=e+" "+c,g=U[f]?++U[f].total:0,h={};if(g>0){var j=c+"-stagger",k=e+" "+j,l=!U[k];l&&b.addClass(j),h=o(b,k),l&&b.removeClass(j)}d=d||function(a){return a()},b.addClass(c);var m=b.data(P)||{},n=d(function(){return o(b,f)}),p=n.transitionDuration,r=n.animationDuration;if(0===p&&0===r)return b.removeClass(c),!1;b.data(P,{running:m.running||0,itemIndex:g,stagger:h,timings:n,closeAnimationFn:i});var s=m.running>0||"setClass"==a;return p>0&&t(b,c,s),r>0&&h.animationDelay>0&&0===h.animationDuration&&u(b),!0}function s(a){return"ng-enter"==a||"ng-move"==a||"ng-leave"==a}function t(a,b,c){s(b)||!c?f(a).style[E+L]="none":a.addClass(Q)}function u(a){f(a).style[G]="none 0s"}function v(a){var b=E+L,c=f(a);c.style[b]&&c.style[b].length>0&&(c.style[b]=""),a.removeClass(Q)}function w(a){var b=G,c=f(a);c.style[b]&&c.style[b].length>0&&(c.style[b]="")}function x(a,b,c,d){function e(){b.off(t,g),b.removeClass(k),C(b,c);var a=f(b);for(var d in v)a.style.removeProperty(v[d])}function g(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||b.timeStamp||Date.now(),e=parseFloat(b.elapsedTime.toFixed(R));Math.max(c-s,0)>=r&&e>=p&&d()}var h=f(b),i=b.data(P);if(-1==h.getAttribute("class").indexOf(c)||!i)return void d();var k="";j(c.split(" "),function(a,b){k+=(b>0?" ":"")+a+"-active"});var l=i.stagger,n=i.timings,o=i.itemIndex,p=Math.max(n.transitionDuration,n.animationDuration),q=Math.max(n.transitionDelay,n.animationDelay),r=q*T,s=Date.now(),t=H+" "+F,u="",v=[];if(n.transitionDuration>0){var w=n.transitionPropertyStyle;-1==w.indexOf("all")&&(u+=I+"transition-property: "+w+";",u+=I+"transition-duration: "+n.transitionDurationStyle+";",v.push(I+"transition-property"),v.push(I+"transition-duration"))}if(o>0){if(l.transitionDelay>0&&0===l.transitionDuration){var x=n.transitionDelayStyle;u+=I+"transition-delay: "+y(x,l.transitionDelay,o)+"; ",v.push(I+"transition-delay")}l.animationDelay>0&&0===l.animationDuration&&(u+=I+"animation-delay: "+y(n.animationDelayStyle,l.animationDelay,o)+"; ",v.push(I+"animation-delay"))}if(v.length>0){var z=h.getAttribute("style")||"";h.setAttribute("style",z+" "+u)}b.on(t,g),b.addClass(k),i.closeAnimationFn=function(){e(),d()};var A=o*(Math.max(l.animationDelay,l.transitionDelay)||0),B=(q+p)*S,D=(A+B)*T;return i.running++,m(b,D),e}function y(a,b,c){var d="";return j(a.split(","),function(a,e){d+=(e>0?",":"")+(c*b+parseInt(a,10))+"s"}),d}function z(a,b,c,d){return r(a,b,c,d)?function(a){a&&C(b,c)}:void 0}function A(a,b,c,d){return b.data(P)?x(a,b,c,d):(C(b,c),void d())}function B(a,b,c,d){var e=z(a,b,c);if(!e)return void d();var f=e;return k(b,function(){v(b,c),w(b),f=A(a,b,c,d)}),function(a){(f||i)(a)}}function C(a,b){a.removeClass(b);var c=a.data(P);c&&(c.running&&c.running--,c.running&&0!==c.running||a.removeData(P))}function D(a,c){var d="";return a=b.isArray(a)?a:a.split(/\s+/),j(a,function(a,b){a&&a.length>0&&(d+=(b>0?" ":"")+a+c)}),d}var E,F,G,H,I="";a.ontransitionend===c&&a.onwebkittransitionend!==c?(I="-webkit-",E="WebkitTransition",F="webkitTransitionEnd transitionend"):(E="transition",F="transitionend"),a.onanimationend===c&&a.onwebkitanimationend!==c?(I="-webkit-",G="WebkitAnimation",H="webkitAnimationEnd animationend"):(G="animation",H="animationend");var J,K="Duration",L="Property",M="Delay",N="IterationCount",O="$$ngAnimateKey",P="$$ngAnimateCSS3Data",Q="ng-animate-block-transitions",R=3,S=1.5,T=1e3,U={},V=0,W=[],X=null,Y=0,Z=[];return{enter:function(a,b){return B("enter",a,"ng-enter",b)},leave:function(a,b){return B("leave",a,"ng-leave",b)},move:function(a,b){return B("move",a,"ng-move",b)},beforeSetClass:function(a,b,c,d){var e=D(c,"-remove")+" "+D(b,"-add"),f=z("setClass",a,e,function(d){var e=a.attr("class");a.removeClass(c),a.addClass(b);var f=d();return a.attr("class",e),f});return f?(k(a,function(){v(a,e),w(a),d()}),f):void d()},beforeAddClass:function(a,b,c){var d=z("addClass",a,D(b,"-add"),function(c){a.addClass(b);var d=c();return a.removeClass(b),d});return d?(k(a,function(){v(a,b),w(a),c()}),d):void c()},setClass:function(a,b,c,d){c=D(c,"-remove"),b=D(b,"-add");var e=c+" "+b;return A("setClass",a,e,d)},addClass:function(a,b,c){return A("addClass",a,D(b,"-add"),c)},beforeRemoveClass:function(a,b,c){var d=z("removeClass",a,D(b,"-remove"),function(c){var d=a.attr("class");a.removeClass(b);var e=c();return a.attr("class",d),e});return d?(k(a,function(){v(a,b),w(a),c()}),d):void c()},removeClass:function(a,b,c){return A("removeClass",a,D(b,"-remove"),c)}}}])}])}(window,window.angular),function(a,b){"use strict";function c(a){var b=a.length,c=kb.type(a);return kb.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function d(a){var b=zb[a]={};return kb.each(a.match(mb)||[],function(a,c){b[c]=!0}),b}function e(a,c,d,e){if(kb.acceptData(a)){var f,g,h=kb.expando,i=a.nodeType,j=i?kb.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||d!==b||"string"!=typeof c)return k||(k=i?a[h]=bb.pop()||kb.guid++:h),j[k]||(j[k]=i?{}:{toJSON:kb.noop}),("object"==typeof c||"function"==typeof c)&&(e?j[k]=kb.extend(j[k],c):j[k].data=kb.extend(j[k].data,c)),g=j[k],e||(g.data||(g.data={}),g=g.data),d!==b&&(g[kb.camelCase(c)]=d),"string"==typeof c?(f=g[c],null==f&&(f=g[kb.camelCase(c)])):f=g,f}}function f(a,b,c){if(kb.acceptData(a)){var d,e,f=a.nodeType,g=f?kb.cache:a,i=f?a[kb.expando]:kb.expando;if(g[i]){if(b&&(d=c?g[i]:g[i].data)){kb.isArray(b)?b=b.concat(kb.map(b,kb.camelCase)):b in d?b=[b]:(b=kb.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;for(;e--;)delete d[b[e]];if(c?!h(d):!kb.isEmptyObject(d))return}(c||(delete g[i].data,h(g[i])))&&(f?kb.cleanData([a],!0):kb.support.deleteExpando||g!=g.window?delete g[i]:g[i]=null)}}}function g(a,c,d){if(d===b&&1===a.nodeType){var e="data-"+c.replace(Bb,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:Ab.test(d)?kb.parseJSON(d):d}catch(f){}kb.data(a,c,d)}else d=b}return d}function h(a){var b;for(b in a)if(("data"!==b||!kb.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function i(){return!0}function j(){return!1}function k(){try{return Y.activeElement}catch(a){}}function l(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function m(a,b,c){if(kb.isFunction(b))return kb.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return kb.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(Qb.test(b))return kb.filter(b,a,c);b=kb.filter(b,a)}return kb.grep(a,function(a){return kb.inArray(a,b)>=0!==c})}function n(a){var b=Ub.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){return kb.nodeName(a,"table")&&kb.nodeName(1===b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function p(a){return a.type=(null!==kb.find.attr(a,"type"))+"/"+a.type,a}function q(a){var b=ec.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function r(a,b){for(var c,d=0;null!=(c=a[d]);d++)kb._data(c,"globalEval",!b||kb._data(b[d],"globalEval"))}function s(a,b){if(1===b.nodeType&&kb.hasData(a)){var c,d,e,f=kb._data(a),g=kb._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)kb.event.add(b,c,h[c][d])}g.data&&(g.data=kb.extend({},g.data))}}function t(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!kb.support.noCloneEvent&&b[kb.expando]){e=kb._data(b);for(d in e.events)kb.removeEvent(b,d,e.handle);b.removeAttribute(kb.expando)}"script"===c&&b.text!==a.text?(p(b).text=a.text,q(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),kb.support.html5Clone&&a.innerHTML&&!kb.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&bc.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)
}}function u(a,c){var d,e,f=0,g=typeof a.getElementsByTagName!==W?a.getElementsByTagName(c||"*"):typeof a.querySelectorAll!==W?a.querySelectorAll(c||"*"):b;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!c||kb.nodeName(e,c)?g.push(e):kb.merge(g,u(e,c));return c===b||c&&kb.nodeName(a,c)?kb.merge([a],g):g}function v(a){bc.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=yc.length;e--;)if(b=yc[e]+c,b in a)return b;return d}function x(a,b){return a=b||a,"none"===kb.css(a,"display")||!kb.contains(a.ownerDocument,a)}function y(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=kb._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&x(d)&&(f[g]=kb._data(d,"olddisplay",C(d.nodeName)))):f[g]||(e=x(d),(c&&"none"!==c||!e)&&kb._data(d,"olddisplay",e?c:kb.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function z(a,b,c){var d=rc.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=kb.css(a,c+xc[f],!0,e)),d?("content"===c&&(g-=kb.css(a,"padding"+xc[f],!0,e)),"margin"!==c&&(g-=kb.css(a,"border"+xc[f]+"Width",!0,e))):(g+=kb.css(a,"padding"+xc[f],!0,e),"padding"!==c&&(g+=kb.css(a,"border"+xc[f]+"Width",!0,e)));return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=kc(a),g=kb.support.boxSizing&&"border-box"===kb.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=lc(a,b,f),(0>e||null==e)&&(e=a.style[b]),sc.test(e))return e;d=g&&(kb.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a){var b=Y,c=uc[a];return c||(c=D(a,b),"none"!==c&&c||(jc=(jc||kb("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(jc[0].contentWindow||jc[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=D(a,b),jc.detach()),uc[a]=c),c}function D(a,b){var c=kb(b.createElement(a)).appendTo(b.body),d=kb.css(c[0],"display");return c.remove(),d}function E(a,b,c,d){var e;if(kb.isArray(b))kb.each(b,function(b,e){c||Ac.test(a)?d(a,e):E(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==kb.type(b))d(a,b);else for(e in b)E(a+"["+e+"]",b[e],c,d)}function F(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(mb)||[];if(kb.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function G(a,b,c,d){function e(h){var i;return f[h]=!0,kb.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Rc;return e(b.dataTypes[0])||!f["*"]&&e("*")}function H(a,c){var d,e,f=kb.ajaxSettings.flatOptions||{};for(e in c)c[e]!==b&&((f[e]?a:d||(d={}))[e]=c[e]);return d&&kb.extend(!0,a,d),a}function I(a,c,d){for(var e,f,g,h,i=a.contents,j=a.dataTypes;"*"===j[0];)j.shift(),f===b&&(f=a.mimeType||c.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):void 0}function J(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function K(){try{return new a.XMLHttpRequest}catch(b){}}function L(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function M(){return setTimeout(function(){$c=b}),$c=kb.now()}function N(a,b,c){for(var d,e=(ed[b]||[]).concat(ed["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function O(a,b,c){var d,e,f=0,g=dd.length,h=kb.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$c||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:kb.extend({},b),opts:kb.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$c||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=kb.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(P(k,j.opts.specialEasing);g>f;f++)if(d=dd[f].call(j,a,k,j.opts))return d;return kb.map(k,N,j),kb.isFunction(j.opts.start)&&j.opts.start.call(a,j),kb.fx.timer(kb.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function P(a,b){var c,d,e,f,g;for(c in a)if(d=kb.camelCase(c),e=b[d],f=a[c],kb.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=kb.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Q(a,b,c){var d,e,f,g,h,i,j=this,k={},l=a.style,m=a.nodeType&&x(a),n=kb._data(a,"fxshow");c.queue||(h=kb._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,j.always(function(){j.always(function(){h.unqueued--,kb.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[l.overflow,l.overflowX,l.overflowY],"inline"===kb.css(a,"display")&&"none"===kb.css(a,"float")&&(kb.support.inlineBlockNeedsLayout&&"inline"!==C(a.nodeName)?l.zoom=1:l.display="inline-block")),c.overflow&&(l.overflow="hidden",kb.support.shrinkWrapBlocks||j.always(function(){l.overflow=c.overflow[0],l.overflowX=c.overflow[1],l.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],ad.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(m?"hide":"show"))continue;k[d]=n&&n[d]||kb.style(a,d)}if(!kb.isEmptyObject(k)){n?"hidden"in n&&(m=n.hidden):n=kb._data(a,"fxshow",{}),f&&(n.hidden=!m),m?kb(a).show():j.done(function(){kb(a).hide()}),j.done(function(){var b;kb._removeData(a,"fxshow");for(b in k)kb.style(a,b,k[b])});for(d in k)g=N(m?n[d]:0,d,j),d in n||(n[d]=g.start,m&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=xc[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function T(a){return kb.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var U,V,W=typeof b,X=a.location,Y=a.document,Z=Y.documentElement,$=a.jQuery,_=a.$,ab={},bb=[],cb="1.10.2",db=bb.concat,eb=bb.push,fb=bb.slice,gb=bb.indexOf,hb=ab.toString,ib=ab.hasOwnProperty,jb=cb.trim,kb=function(a,b){return new kb.fn.init(a,b,V)},lb=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,mb=/\S+/g,nb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ob=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,qb=/^[\],:{}\s]*$/,rb=/(?:^|:|,)(?:\s*\[)+/g,sb=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,tb=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ub=/^-ms-/,vb=/-([\da-z])/gi,wb=function(a,b){return b.toUpperCase()},xb=function(a){(Y.addEventListener||"load"===a.type||"complete"===Y.readyState)&&(yb(),kb.ready())},yb=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",xb,!1),a.removeEventListener("load",xb,!1)):(Y.detachEvent("onreadystatechange",xb),a.detachEvent("onload",xb))};kb.fn=kb.prototype={jquery:cb,constructor:kb,init:function(a,c,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:ob.exec(a),!e||!e[1]&&c)return!c||c.jquery?(c||d).find(a):this.constructor(c).find(a);if(e[1]){if(c=c instanceof kb?c[0]:c,kb.merge(this,kb.parseHTML(e[1],c&&c.nodeType?c.ownerDocument||c:Y,!0)),pb.test(e[1])&&kb.isPlainObject(c))for(e in c)kb.isFunction(this[e])?this[e](c[e]):this.attr(e,c[e]);return this}if(f=Y.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=Y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):kb.isFunction(a)?d.ready(a):(a.selector!==b&&(this.selector=a.selector,this.context=a.context),kb.makeArray(a,this))},selector:"",length:0,toArray:function(){return fb.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=kb.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return kb.each(this,a,b)},ready:function(a){return kb.ready.promise().done(a),this},slice:function(){return this.pushStack(fb.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(kb.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:eb,sort:[].sort,splice:[].splice},kb.fn.init.prototype=kb.fn,kb.extend=kb.fn.extend=function(){var a,c,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||kb.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(kb.isPlainObject(d)||(c=kb.isArray(d)))?(c?(c=!1,g=a&&kb.isArray(a)?a:[]):g=a&&kb.isPlainObject(a)?a:{},h[e]=kb.extend(k,g,d)):d!==b&&(h[e]=d));return h},kb.extend({expando:"jQuery"+(cb+Math.random()).replace(/\D/g,""),noConflict:function(b){return a.$===kb&&(a.$=_),b&&a.jQuery===kb&&(a.jQuery=$),kb},isReady:!1,readyWait:1,holdReady:function(a){a?kb.readyWait++:kb.ready(!0)},ready:function(a){if(a===!0?!--kb.readyWait:!kb.isReady){if(!Y.body)return setTimeout(kb.ready);kb.isReady=!0,a!==!0&&--kb.readyWait>0||(U.resolveWith(Y,[kb]),kb.fn.trigger&&kb(Y).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===kb.type(a)},isArray:Array.isArray||function(a){return"array"===kb.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?String(a):"object"==typeof a||"function"==typeof a?ab[hb.call(a)]||"object":typeof a},isPlainObject:function(a){var c;if(!a||"object"!==kb.type(a)||a.nodeType||kb.isWindow(a))return!1;try{if(a.constructor&&!ib.call(a,"constructor")&&!ib.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(d){return!1}if(kb.support.ownLast)for(c in a)return ib.call(a,c);for(c in a);return c===b||ib.call(a,c)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},error:function(a){throw new Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Y;var d=pb.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=kb.buildFragment([a],b,e),e&&kb(e).remove(),kb.merge([],d.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=kb.trim(b),b&&qb.test(b.replace(sb,"@").replace(tb,"]").replace(rb,"")))?new Function("return "+b)():void kb.error("Invalid JSON: "+b)},parseXML:function(c){var d,e;if(!c||"string"!=typeof c)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(f){d=b}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||kb.error("Invalid XML: "+c),d},noop:function(){},globalEval:function(b){b&&kb.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(ub,"ms-").replace(vb,wb)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:jb&&!jb.call("﻿ ")?function(a){return null==a?"":jb.call(a)}:function(a){return null==a?"":(a+"").replace(nb,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?kb.merge(d,"string"==typeof a?[a]:a):eb.call(d,a)),d},inArray:function(a,b,c){var d;if(b){if(gb)return gb.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=c.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=c[f];else for(;c[f]!==b;)a[e++]=c[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,d),null!=e&&(i[i.length]=e);return db.apply([],i)},guid:1,proxy:function(a,c){var d,e,f;return"string"==typeof c&&(f=a[c],c=a,a=f),kb.isFunction(a)?(d=fb.call(arguments,2),e=function(){return a.apply(c||this,d.concat(fb.call(arguments)))},e.guid=a.guid=a.guid||kb.guid++,e):b},access:function(a,c,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===kb.type(d)){f=!0;for(i in d)kb.access(a,c,i,d[i],!0,g,h)}else if(e!==b&&(f=!0,kb.isFunction(e)||(h=!0),k&&(h?(c.call(a,e),c=null):(k=c,c=function(a,b,c){return k.call(kb(a),c)})),c))for(;j>i;i++)c(a[i],d,h?e:e.call(a[i],i,c(a[i],d)));return f?a:k?c.call(a):j?c(a[0],d):g},now:function(){return(new Date).getTime()},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),kb.ready.promise=function(b){if(!U)if(U=kb.Deferred(),"complete"===Y.readyState)setTimeout(kb.ready);else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",xb,!1),a.addEventListener("load",xb,!1);else{Y.attachEvent("onreadystatechange",xb),a.attachEvent("onload",xb);var c=!1;try{c=null==a.frameElement&&Y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!kb.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}yb(),kb.ready()}}()}return U.promise(b)},kb.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ab["[object "+b+"]"]=b.toLowerCase()}),V=kb(Y),function(a,b){function c(a,b,c,d){var e,f,g,h,i,j,k,l,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(I&&!d){if(e=tb.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return ab.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&x.getElementsByClassName&&b.getElementsByClassName)return ab.apply(c,b.getElementsByClassName(g)),c}if(x.qsa&&(!J||!J.test(a))){if(l=k=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=m(a),(k=b.getAttribute("id"))?l=k.replace(wb,"\\$&"):b.setAttribute("id",l),l="[id='"+l+"'] ",i=j.length;i--;)j[i]=l+n(j[i]);o=nb.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return ab.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return v(a.replace(jb,"$1"),b,c,d)}function d(){function a(c,d){return b.push(c+=" ")>z.cacheLength&&delete a[b.shift()],a[c]=d}var b=[];return a}function e(a){return a[N]=!0,a}function f(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function g(a,b){for(var c=a.split("|"),d=a.length;d--;)z.attrHandle[c[d]]=b}function h(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||X)-(~a.sourceIndex||X);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(){}function m(a,b){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=z.preFilter;h;){(!d||(e=lb.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=mb.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(jb," ")}),h=h.slice(d.length));for(g in z.filter)!(e=rb[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return b?h.length:h?c.error(a):S(a,i).slice(0)}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=P+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===y)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||y,i[1]===!0)return!0}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,d,f,g){return d&&!d[N]&&(d=r(d)),f&&!f[N]&&(f=r(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=e||u(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?p:q(p,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=q(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?cb.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=q(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):ab.apply(g,s)})}function s(a){for(var b,c,d,e=a.length,f=z.relative[a[0].type],g=f||z.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return cb.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=z.relative[a[h].type])k=[o(p(k),c)];else{if(c=z.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!z.relative[a[d].type];d++);return r(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(jb,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function t(a,b){var d=0,f=b.length>0,g=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],p=0,r="0",s=e&&[],t=null!=k,u=D,v=e||g&&z.find.TAG("*",k&&h.parentNode||h),w=P+=null==u?1:Math.random()||.1;for(t&&(D=h!==G&&h,y=d);null!=(l=v[r]);r++){if(g&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(P=w,y=++d)}f&&((l=!n&&l)&&p--,e&&s.push(l))}if(p+=r,f&&r!==p){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(p>0)for(;r--;)s[r]||o[r]||(o[r]=$.call(j));o=q(o)}ab.apply(j,o),t&&!e&&o.length>0&&p+b.length>1&&c.uniqueSort(j)}return t&&(P=w,D=u),s};return f?e(h):h}function u(a,b,d){for(var e=0,f=b.length;f>e;e++)c(a,b[e],d);return d}function v(a,b,c,d){var e,f,g,h,i,j=m(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&x.getById&&9===b.nodeType&&I&&z.relative[f[1].type]){if(b=(z.find.ID(g.matches[0].replace(xb,yb),b)||[])[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=rb.needsContext.test(a)?0:f.length;e--&&(g=f[e],!z.relative[h=g.type]);)if((i=z.find[h])&&(d=i(g.matches[0].replace(xb,yb),nb.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return ab.apply(c,d),c;break}}return C(a,j)(d,b,!I,c,nb.test(a)),c}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P=0,Q=0,R=d(),S=d(),T=d(),U=!1,V=function(a,b){return a===b?(U=!0,0):0},W=typeof b,X=1<<31,Y={}.hasOwnProperty,Z=[],$=Z.pop,_=Z.push,ab=Z.push,bb=Z.slice,cb=Z.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},db="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",eb="[\\x20\\t\\r\\n\\f]",fb="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",gb=fb.replace("w","w#"),hb="\\["+eb+"*("+fb+")"+eb+"*(?:([*^$|!~]?=)"+eb+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+gb+")|)|)"+eb+"*\\]",ib=":("+fb+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+hb.replace(3,8)+")*)|.*)\\)|)",jb=new RegExp("^"+eb+"+|((?:^|[^\\\\])(?:\\\\.)*)"+eb+"+$","g"),lb=new RegExp("^"+eb+"*,"+eb+"*"),mb=new RegExp("^"+eb+"*([>+~]|"+eb+")"+eb+"*"),nb=new RegExp(eb+"*[+~]"),ob=new RegExp("="+eb+"*([^\\]'\"]*)"+eb+"*\\]","g"),pb=new RegExp(ib),qb=new RegExp("^"+gb+"$"),rb={ID:new RegExp("^#("+fb+")"),CLASS:new RegExp("^\\.("+fb+")"),TAG:new RegExp("^("+fb.replace("w","w*")+")"),ATTR:new RegExp("^"+hb),PSEUDO:new RegExp("^"+ib),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+eb+"*(even|odd|(([+-]|)(\\d*)n|)"+eb+"*(?:([+-]|)"+eb+"*(\\d+)|))"+eb+"*\\)|)","i"),bool:new RegExp("^(?:"+db+")$","i"),needsContext:new RegExp("^"+eb+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+eb+"*((?:-\\d)?\\d*)"+eb+"*\\)|)(?=[^-]|$)","i")},sb=/^[^{]+\{\s*\[native \w/,tb=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ub=/^(?:input|select|textarea|button)$/i,vb=/^h\d$/i,wb=/'|\\/g,xb=new RegExp("\\\\([\\da-f]{1,6}"+eb+"?|("+eb+")|.)","ig"),yb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{ab.apply(Z=bb.call(O.childNodes),O.childNodes),Z[O.childNodes.length].nodeType}catch(zb){ab={apply:Z.length?function(a,b){_.apply(a,bb.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}B=c.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},x=c.support={},F=c.setDocument=function(a){var b=a?a.ownerDocument||a:O,c=b.defaultView;return b!==G&&9===b.nodeType&&b.documentElement?(G=b,H=b.documentElement,I=!B(b),c&&c.attachEvent&&c!==c.top&&c.attachEvent("onbeforeunload",function(){F()}),x.attributes=f(function(a){return a.className="i",!a.getAttribute("className")}),x.getElementsByTagName=f(function(a){return a.appendChild(b.createComment("")),!a.getElementsByTagName("*").length}),x.getElementsByClassName=f(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),x.getById=f(function(a){return H.appendChild(a).id=N,!b.getElementsByName||!b.getElementsByName(N).length}),x.getById?(z.find.ID=function(a,b){if(typeof b.getElementById!==W&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){return a.getAttribute("id")===b}}):(delete z.find.ID,z.filter.ID=function(a){var b=a.replace(xb,yb);return function(a){var c=typeof a.getAttributeNode!==W&&a.getAttributeNode("id");return c&&c.value===b}}),z.find.TAG=x.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==W?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},z.find.CLASS=x.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==W&&I?b.getElementsByClassName(a):void 0},K=[],J=[],(x.qsa=sb.test(b.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||J.push("\\["+eb+"*(?:value|"+db+")"),a.querySelectorAll(":checked").length||J.push(":checked")}),f(function(a){var c=b.createElement("input");c.setAttribute("type","hidden"),a.appendChild(c).setAttribute("t",""),a.querySelectorAll("[t^='']").length&&J.push("[*^$]="+eb+"*(?:''|\"\")"),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(x.matchesSelector=sb.test(L=H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&f(function(a){x.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ib)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),M=sb.test(H.contains)||H.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=H.compareDocumentPosition?function(a,c){if(a===c)return U=!0,0;var d=c.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(c);return d?1&d||!x.sortDetached&&c.compareDocumentPosition(a)===d?a===b||M(O,a)?-1:c===b||M(O,c)?1:E?cb.call(E,a)-cb.call(E,c):0:4&d?-1:1:a.compareDocumentPosition?-1:1}:function(a,c){var d,e=0,f=a.parentNode,g=c.parentNode,i=[a],j=[c];if(a===c)return U=!0,0;if(!f||!g)return a===b?-1:c===b?1:f?-1:g?1:E?cb.call(E,a)-cb.call(E,c):0;if(f===g)return h(a,c);for(d=a;d=d.parentNode;)i.unshift(d);for(d=c;d=d.parentNode;)j.unshift(d);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},b):G},c.matches=function(a,b){return c(a,null,null,b)},c.matchesSelector=function(a,b){if((a.ownerDocument||a)!==G&&F(a),b=b.replace(ob,"='$1']"),!(!x.matchesSelector||!I||K&&K.test(b)||J&&J.test(b)))try{var d=L.call(a,b);if(d||x.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return c(b,G,null,[a]).length>0},c.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},c.attr=function(a,c){(a.ownerDocument||a)!==G&&F(a);var d=z.attrHandle[c.toLowerCase()],e=d&&Y.call(z.attrHandle,c.toLowerCase())?d(a,c,!I):b;return e===b?x.attributes||!I?a.getAttribute(c):(e=a.getAttributeNode(c))&&e.specified?e.value:null:e},c.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},c.uniqueSort=function(a){var b,c=[],d=0,e=0;if(U=!x.detectDuplicates,E=!x.sortStable&&a.slice(0),a.sort(V),U){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return a},A=c.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=A(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=A(b);return c},z=c.selectors={cacheLength:50,createPseudo:e,match:rb,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(xb,yb),a[3]=(a[4]||a[5]||"").replace(xb,yb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||c.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&c.error(a[0]),a},PSEUDO:function(a){var c,d=!a[5]&&a[2];return rb.CHILD.test(a[0])?null:(a[3]&&a[4]!==b?a[2]=a[4]:d&&pb.test(d)&&(c=m(d,!0))&&(c=d.indexOf(")",d.length-c)-d.length)&&(a[0]=a[0].slice(0,c),a[2]=d.slice(0,c)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(xb,yb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+eb+")"+a+"("+eb+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==W&&a.getAttribute("class")||"")})},ATTR:function(a,b,d){return function(e){var f=c.attr(e,a);return null==f?"!="===b:b?(f+="","="===b?f===d:"!="===b?f!==d:"^="===b?d&&0===f.indexOf(d):"*="===b?d&&f.indexOf(d)>-1:"$="===b?d&&f.slice(-d.length)===d:"~="===b?(" "+f+" ").indexOf(d)>-1:"|="===b?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var d,f=z.pseudos[a]||z.setFilters[a.toLowerCase()]||c.error("unsupported pseudo: "+a);return f[N]?f(b):f.length>1?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var d,e=f(a,b),g=e.length;g--;)d=cb.call(a,e[g]),a[d]=!(c[d]=e[g])}):function(a){return f(a,0,d)}):f}},pseudos:{not:e(function(a){var b=[],c=[],d=C(a.replace(jb,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return c(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||A(b)).indexOf(a)>-1}}),lang:e(function(a){return qb.test(a||"")||c.error("unsupported lang: "+a),a=a.replace(xb,yb).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return vb.test(a.nodeName)},input:function(a){return ub.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},z.pseudos.nth=z.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})z.pseudos[w]=j(w);l.prototype=z.filters=z.pseudos,z.setFilters=new l,C=c.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=m(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);
f=T(a,t(e,d))}return f},x.sortStable=N.split("").sort(V).join("")===N,x.detectDuplicates=U,F(),x.sortDetached=f(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),f(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||g("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),x.attributes&&f(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||g("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),f(function(a){return null==a.getAttribute("disabled")})||g(db,function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&d.specified?d.value:a[b]===!0?b.toLowerCase():null}),kb.find=c,kb.expr=c.selectors,kb.expr[":"]=kb.expr.pseudos,kb.unique=c.uniqueSort,kb.text=c.getText,kb.isXMLDoc=c.isXML,kb.contains=c.contains}(a);var zb={};kb.Callbacks=function(a){a="string"==typeof a?zb[a]||d(a):kb.extend({},a);var c,e,f,g,h,i,j=[],k=!a.once&&[],l=function(b){for(e=a.memory&&b,f=!0,h=i||0,i=0,g=j.length,c=!0;j&&g>h;h++)if(j[h].apply(b[0],b[1])===!1&&a.stopOnFalse){e=!1;break}c=!1,j&&(k?k.length&&l(k.shift()):e?j=[]:m.disable())},m={add:function(){if(j){var b=j.length;!function d(b){kb.each(b,function(b,c){var e=kb.type(c);"function"===e?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==e&&d(c)})}(arguments),c?g=j.length:e&&(i=b,l(e))}return this},remove:function(){return j&&kb.each(arguments,function(a,b){for(var d;(d=kb.inArray(b,j,d))>-1;)j.splice(d,1),c&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?kb.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],g=0,this},disable:function(){return j=k=e=b,this},disabled:function(){return!j},lock:function(){return k=b,e||m.disable(),this},locked:function(){return!k},fireWith:function(a,b){return!j||f&&!k||(b=b||[],b=[a,b.slice?b.slice():b],c?k.push(b):l(b)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},kb.extend({Deferred:function(a){var b=[["resolve","done",kb.Callbacks("once memory"),"resolved"],["reject","fail",kb.Callbacks("once memory"),"rejected"],["notify","progress",kb.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return kb.Deferred(function(c){kb.each(b,function(b,f){var g=f[0],h=kb.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&kb.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?kb.extend(a,d):d}},e={};return d.pipe=d.then,kb.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=fb.call(arguments),g=f.length,h=1!==g||a&&kb.isFunction(a.promise)?g:0,i=1===h?a:kb.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?fb.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&kb.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),kb.support=function(b){var c,d,e,f,g,h,i,j,k,l=Y.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*")||[],d=l.getElementsByTagName("a")[0],!d||!d.style||!c.length)return b;f=Y.createElement("select"),h=f.appendChild(Y.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b.getSetAttribute="t"!==l.className,b.leadingWhitespace=3===l.firstChild.nodeType,b.tbody=!l.getElementsByTagName("tbody").length,b.htmlSerialize=!!l.getElementsByTagName("link").length,b.style=/top/.test(d.getAttribute("style")),b.hrefNormalized="/a"===d.getAttribute("href"),b.opacity=/^0.5/.test(d.style.opacity),b.cssFloat=!!d.style.cssFloat,b.checkOn=!!e.value,b.optSelected=h.selected,b.enctype=!!Y.createElement("form").enctype,b.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,b.inlineBlockNeedsLayout=!1,b.shrinkWrapBlocks=!1,b.pixelPosition=!1,b.deleteExpando=!0,b.noCloneEvent=!0,b.reliableMarginRight=!0,b.boxSizingReliable=!0,e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=Y.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=Y.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip;for(k in kb(b))break;return b.ownLast="0"!==k,kb(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=Y.getElementsByTagName("body")[0];g&&(c=Y.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",kb.swap(g,null!=g.style.zoom?{zoom:1}:{},function(){b.boxSizing=4===l.offsetWidth}),a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(Y.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==W&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}({});var Ab=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Bb=/([A-Z])/g;kb.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?kb.cache[a[kb.expando]]:a[kb.expando],!!a&&!h(a)},data:function(a,b,c){return e(a,b,c)},removeData:function(a,b){return f(a,b)},_data:function(a,b,c){return e(a,b,c,!0)},_removeData:function(a,b){return f(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&kb.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),kb.fn.extend({data:function(a,c){var d,e,f=null,h=0,i=this[0];if(a===b){if(this.length&&(f=kb.data(i),1===i.nodeType&&!kb._data(i,"parsedAttrs"))){for(d=i.attributes;h<d.length;h++)e=d[h].name,0===e.indexOf("data-")&&(e=kb.camelCase(e.slice(5)),g(i,e,f[e]));kb._data(i,"parsedAttrs",!0)}return f}return"object"==typeof a?this.each(function(){kb.data(this,a)}):arguments.length>1?this.each(function(){kb.data(this,a,c)}):i?g(i,a,kb.data(i,a)):null},removeData:function(a){return this.each(function(){kb.removeData(this,a)})}}),kb.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=kb._data(a,b),c&&(!d||kb.isArray(c)?d=kb._data(a,b,kb.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=kb.queue(a,b),d=c.length,e=c.shift(),f=kb._queueHooks(a,b),g=function(){kb.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return kb._data(a,c)||kb._data(a,c,{empty:kb.Callbacks("once memory").add(function(){kb._removeData(a,b+"queue"),kb._removeData(a,c)})})}}),kb.fn.extend({queue:function(a,c){var d=2;return"string"!=typeof a&&(c=a,a="fx",d--),arguments.length<d?kb.queue(this[0],a):c===b?this:this.each(function(){var b=kb.queue(this,a,c);kb._queueHooks(this,a),"fx"===a&&"inprogress"!==b[0]&&kb.dequeue(this,a)})},dequeue:function(a){return this.each(function(){kb.dequeue(this,a)})},delay:function(a,b){return a=kb.fx?kb.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){var d,e=1,f=kb.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(c=a,a=b),a=a||"fx";h--;)d=kb._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(c)}});var Cb,Db,Eb=/[\t\r\n\f]/g,Fb=/\r/g,Gb=/^(?:input|select|textarea|button|object)$/i,Hb=/^(?:a|area)$/i,Ib=/^(?:checked|selected)$/i,Jb=kb.support.getSetAttribute,Kb=kb.support.input;kb.fn.extend({attr:function(a,b){return kb.access(this,kb.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){kb.removeAttr(this,a)})},prop:function(a,b){return kb.access(this,kb.prop,a,b,arguments.length>1)},removeProp:function(a){return a=kb.propFix[a]||a,this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(kb.isFunction(a))return this.each(function(b){kb(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(mb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");c.className=kb.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(kb.isFunction(a))return this.each(function(b){kb(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(mb)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Eb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?kb.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(kb.isFunction(a)?function(c){kb(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=kb(this),f=a.match(mb)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===W||"boolean"===c)&&(this.className&&kb._data(this,"__className__",this.className),this.className=this.className||a===!1?"":kb._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Eb," ").indexOf(b)>=0)return!0;return!1},val:function(a){var c,d,e,f=this[0];{if(arguments.length)return e=kb.isFunction(a),this.each(function(c){var f;1===this.nodeType&&(f=e?a.call(this,c,kb(this).val()):a,null==f?f="":"number"==typeof f?f+="":kb.isArray(f)&&(f=kb.map(f,function(a){return null==a?"":a+""})),d=kb.valHooks[this.type]||kb.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==b||(this.value=f))});if(f)return d=kb.valHooks[f.type]||kb.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(c=d.get(f,"value"))!==b?c:(c=f.value,"string"==typeof c?c.replace(Fb,""):null==c?"":c)}}}),kb.extend({valHooks:{option:{get:function(a){var b=kb.find.attr(a,"value");return null!=b?b:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(kb.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&kb.nodeName(c.parentNode,"optgroup"))){if(b=kb(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=kb.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=kb.inArray(kb(d).val(),f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}},attr:function(a,c,d){var e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return typeof a.getAttribute===W?kb.prop(a,c,d):(1===g&&kb.isXMLDoc(a)||(c=c.toLowerCase(),e=kb.attrHooks[c]||(kb.expr.match.bool.test(c)?Db:Cb)),d===b?e&&"get"in e&&null!==(f=e.get(a,c))?f:(f=kb.find.attr(a,c),null==f?b:f):null!==d?e&&"set"in e&&(f=e.set(a,d,c))!==b?f:(a.setAttribute(c,d+""),d):void kb.removeAttr(a,c))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(mb);if(f&&1===a.nodeType)for(;c=f[e++];)d=kb.propFix[c]||c,kb.expr.match.bool.test(c)?Kb&&Jb||!Ib.test(c)?a[d]=!1:a[kb.camelCase("default-"+c)]=a[d]=!1:kb.attr(a,c,""),a.removeAttribute(Jb?c:d)},attrHooks:{type:{set:function(a,b){if(!kb.support.radioValue&&"radio"===b&&kb.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(a,c,d){var e,f,g,h=a.nodeType;if(a&&3!==h&&8!==h&&2!==h)return g=1!==h||!kb.isXMLDoc(a),g&&(c=kb.propFix[c]||c,f=kb.propHooks[c]),d!==b?f&&"set"in f&&(e=f.set(a,d,c))!==b?e:a[c]=d:f&&"get"in f&&null!==(e=f.get(a,c))?e:a[c]},propHooks:{tabIndex:{get:function(a){var b=kb.find.attr(a,"tabindex");return b?parseInt(b,10):Gb.test(a.nodeName)||Hb.test(a.nodeName)&&a.href?0:-1}}}}),Db={set:function(a,b,c){return b===!1?kb.removeAttr(a,c):Kb&&Jb||!Ib.test(c)?a.setAttribute(!Jb&&kb.propFix[c]||c,c):a[kb.camelCase("default-"+c)]=a[c]=!0,c}},kb.each(kb.expr.match.bool.source.match(/\w+/g),function(a,c){var d=kb.expr.attrHandle[c]||kb.find.attr;kb.expr.attrHandle[c]=Kb&&Jb||!Ib.test(c)?function(a,c,e){var f=kb.expr.attrHandle[c],g=e?b:(kb.expr.attrHandle[c]=b)!=d(a,c,e)?c.toLowerCase():null;return kb.expr.attrHandle[c]=f,g}:function(a,c,d){return d?b:a[kb.camelCase("default-"+c)]?c.toLowerCase():null}}),Kb&&Jb||(kb.attrHooks.value={set:function(a,b,c){return kb.nodeName(a,"input")?void(a.defaultValue=b):Cb&&Cb.set(a,b,c)}}),Jb||(Cb={set:function(a,c,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=c+="","value"===d||c===a.getAttribute(d)?c:b}},kb.expr.attrHandle.id=kb.expr.attrHandle.name=kb.expr.attrHandle.coords=function(a,c,d){var e;return d?b:(e=a.getAttributeNode(c))&&""!==e.value?e.value:null},kb.valHooks.button={get:function(a,c){var d=a.getAttributeNode(c);return d&&d.specified?d.value:b},set:Cb.set},kb.attrHooks.contenteditable={set:function(a,b,c){Cb.set(a,""===b?!1:b,c)}},kb.each(["width","height"],function(a,b){kb.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),kb.support.hrefNormalized||kb.each(["href","src"],function(a,b){kb.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),kb.support.style||(kb.attrHooks.style={get:function(a){return a.style.cssText||b},set:function(a,b){return a.style.cssText=b+""}}),kb.support.optSelected||(kb.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),kb.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){kb.propFix[this.toLowerCase()]=this}),kb.support.enctype||(kb.propFix.enctype="encoding"),kb.each(["radio","checkbox"],function(){kb.valHooks[this]={set:function(a,b){return kb.isArray(b)?a.checked=kb.inArray(kb(a).val(),b)>=0:void 0}},kb.support.checkOn||(kb.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Lb=/^(?:input|select|textarea)$/i,Mb=/^key/,Nb=/^(?:mouse|contextmenu)|click/,Ob=/^(?:focusinfocus|focusoutblur)$/,Pb=/^([^.]*)(?:\.(.+)|)$/;kb.event={global:{},add:function(a,c,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=kb._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=kb.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof kb===W||a&&kb.event.triggered===a.type?b:kb.event.dispatch.apply(l.elem,arguments)},l.elem=a),c=(c||"").match(mb)||[""],i=c.length;i--;)g=Pb.exec(c[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),o&&(k=kb.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=kb.event.special[o]||{},m=kb.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&kb.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),kb.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=kb.hasData(a)&&kb._data(a);if(q&&(k=q.events)){for(b=(b||"").match(mb)||[""],j=b.length;j--;)if(h=Pb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=kb.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||kb.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)kb.event.remove(a,n+b[j],c,d,!0);kb.isEmptyObject(k)&&(delete q.handle,kb._removeData(a,"events"))}},trigger:function(c,d,e,f){var g,h,i,j,k,l,m,n=[e||Y],o=ib.call(c,"type")?c.type:c,p=ib.call(c,"namespace")?c.namespace.split("."):[];if(i=l=e=e||Y,3!==e.nodeType&&8!==e.nodeType&&!Ob.test(o+kb.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=o.indexOf(":")<0&&"on"+o,c=c[kb.expando]?c:new kb.Event(o,"object"==typeof c&&c),c.isTrigger=f?2:3,c.namespace=p.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c.result=b,c.target||(c.target=e),d=null==d?[c]:kb.makeArray(d,[c]),k=kb.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!kb.isWindow(e)){for(j=k.delegateType||o,Ob.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||Y)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!c.isPropagationStopped();)c.type=m>1?j:k.bindType||o,g=(kb._data(i,"events")||{})[c.type]&&kb._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],g&&kb.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&c.preventDefault();if(c.type=o,!f&&!c.isDefaultPrevented()&&(!k._default||k._default.apply(n.pop(),d)===!1)&&kb.acceptData(e)&&h&&e[o]&&!kb.isWindow(e)){l=e[h],l&&(e[h]=null),kb.event.triggered=o;try{e[o]()}catch(q){}kb.event.triggered=b,l&&(e[h]=l)}return c.result}},dispatch:function(a){a=kb.event.fix(a);var c,d,e,f,g,h=[],i=fb.call(arguments),j=(kb._data(this,"events")||{})[a.type]||[],k=kb.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=kb.event.handlers.call(this,a,j),c=0;(f=h[c++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((kb.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==b&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,c){var d,e,f,g,h=[],i=c.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=c[g],d=e.selector+" ",f[d]===b&&(f[d]=e.needsContext?kb(d,this).index(j)>=0:kb.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return i<c.length&&h.push({elem:this,handlers:c.slice(i)}),h},fix:function(a){if(a[kb.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Nb.test(e)?this.mouseHooks:Mb.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new kb.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||Y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,c){var d,e,f,g=c.button,h=c.fromElement;return null==a.pageX&&null!=c.clientX&&(e=a.target.ownerDocument||Y,f=e.documentElement,d=e.body,a.pageX=c.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=c.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?c.toElement:h),a.which||g===b||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==k()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===k()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return kb.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return kb.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){a.result!==b&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=kb.extend(new kb.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?kb.event.trigger(e,null,b):kb.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},kb.removeEvent=Y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===W&&(a[d]=null),a.detachEvent(d,c))},kb.Event=function(a,b){return this instanceof kb.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?i:j):this.type=a,b&&kb.extend(this,b),this.timeStamp=a&&a.timeStamp||kb.now(),void(this[kb.expando]=!0)):new kb.Event(a,b)},kb.Event.prototype={isDefaultPrevented:j,isPropagationStopped:j,isImmediatePropagationStopped:j,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=i,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=i,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=i,this.stopPropagation()}},kb.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){kb.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!kb.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),kb.support.submitBubbles||(kb.event.special.submit={setup:function(){return kb.nodeName(this,"form")?!1:void kb.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=kb.nodeName(c,"input")||kb.nodeName(c,"button")?c.form:b;d&&!kb._data(d,"submitBubbles")&&(kb.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),kb._data(d,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&kb.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return kb.nodeName(this,"form")?!1:void kb.event.remove(this,"._submit")}}),kb.support.changeBubbles||(kb.event.special.change={setup:function(){return Lb.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(kb.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),kb.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),kb.event.simulate("change",this,a,!0)})),!1):void kb.event.add(this,"beforeactivate._change",function(a){var b=a.target;Lb.test(b.nodeName)&&!kb._data(b,"changeBubbles")&&(kb.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||kb.event.simulate("change",this.parentNode,a,!0)}),kb._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return kb.event.remove(this,"._change"),!Lb.test(this.nodeName)}}),kb.support.focusinBubbles||kb.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){kb.event.simulate(b,a.target,kb.event.fix(a),!0)};kb.event.special[b]={setup:function(){0===c++&&Y.addEventListener(a,d,!0)},teardown:function(){0===--c&&Y.removeEventListener(a,d,!0)}}}),kb.fn.extend({on:function(a,c,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof c&&(d=d||c,c=b);for(g in a)this.on(g,c,d,a[g],f);return this}if(null==d&&null==e?(e=c,d=c=b):null==e&&("string"==typeof c?(e=d,d=b):(e=d,d=c,c=b)),e===!1)e=j;else if(!e)return this;return 1===f&&(h=e,e=function(a){return kb().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=kb.guid++)),this.each(function(){kb.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,kb(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,c,a[f]);return this}return(c===!1||"function"==typeof c)&&(d=c,c=b),d===!1&&(d=j),this.each(function(){kb.event.remove(this,a,d,c)})},trigger:function(a,b){return this.each(function(){kb.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?kb.event.trigger(a,b,c,!0):void 0}});var Qb=/^.[^:#\[\.,]*$/,Rb=/^(?:parents|prev(?:Until|All))/,Sb=kb.expr.match.needsContext,Tb={children:!0,contents:!0,next:!0,prev:!0};kb.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(kb(a).filter(function(){for(b=0;e>b;b++)if(kb.contains(d[b],this))return!0}));for(b=0;e>b;b++)kb.find(a,d[b],c);return c=this.pushStack(e>1?kb.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},has:function(a){var b,c=kb(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(kb.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a||[],!0))},filter:function(a){return this.pushStack(m(this,a||[],!1))},is:function(a){return!!m(this,"string"==typeof a&&Sb.test(a)?kb(a):a||[],!1).length},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Sb.test(a)||"string"!=typeof a?kb(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&kb.find.matchesSelector(c,a))){c=f.push(c);break}return this.pushStack(f.length>1?kb.unique(f):f)},index:function(a){return a?"string"==typeof a?kb.inArray(this[0],kb(a)):kb.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?kb(a,b):kb.makeArray(a&&a.nodeType?[a]:a),d=kb.merge(this.get(),c);return this.pushStack(kb.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),kb.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return kb.dir(a,"parentNode")},parentsUntil:function(a,b,c){return kb.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return kb.dir(a,"nextSibling")},prevAll:function(a){return kb.dir(a,"previousSibling")},nextUntil:function(a,b,c){return kb.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return kb.dir(a,"previousSibling",c)},siblings:function(a){return kb.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return kb.sibling(a.firstChild)},contents:function(a){return kb.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:kb.merge([],a.childNodes)}},function(a,b){kb.fn[a]=function(c,d){var e=kb.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=kb.filter(d,e)),this.length>1&&(Tb[a]||(e=kb.unique(e)),Rb.test(a)&&(e=e.reverse())),this.pushStack(e)}}),kb.extend({filter:function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?kb.find.matchesSelector(d,a)?[d]:[]:kb.find.matches(a,kb.grep(b,function(a){return 1===a.nodeType}))},dir:function(a,c,d){for(var e=[],f=a[c];f&&9!==f.nodeType&&(d===b||1!==f.nodeType||!kb(f).is(d));)1===f.nodeType&&e.push(f),f=f[c];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var Ub="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Vb=/ jQuery\d+="(?:null|\d+)"/g,Wb=new RegExp("<(?:"+Ub+")[\\s/>]","i"),Xb=/^\s+/,Yb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Zb=/<([\w:]+)/,$b=/<tbody/i,_b=/<|&#?\w+;/,ac=/<(?:script|style|link)/i,bc=/^(?:checkbox|radio)$/i,cc=/checked\s*(?:[^=]|=\s*.checked.)/i,dc=/^$|\/(?:java|ecma)script/i,ec=/^true\/(.*)/,fc=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,gc={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:kb.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},hc=n(Y),ic=hc.appendChild(Y.createElement("div"));gc.optgroup=gc.option,gc.tbody=gc.tfoot=gc.colgroup=gc.caption=gc.thead,gc.th=gc.td,kb.fn.extend({text:function(a){return kb.access(this,function(a){return a===b?kb.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=o(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?kb.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||kb.cleanData(u(c)),c.parentNode&&(b&&kb.contains(c.ownerDocument,c)&&r(u(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&kb.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);
a.options&&kb.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return kb.clone(this,a,b)})},html:function(a){return kb.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return 1===c.nodeType?c.innerHTML.replace(Vb,""):b;if(!("string"!=typeof a||ac.test(a)||!kb.support.htmlSerialize&&Wb.test(a)||!kb.support.leadingWhitespace&&Xb.test(a)||gc[(Zb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(Yb,"<$1></$2>");try{for(;e>d;d++)c=this[d]||{},1===c.nodeType&&(kb.cleanData(u(c,!1)),c.innerHTML=a);c=0}catch(f){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=kb.map(this,function(a){return[a.nextSibling,a.parentNode]}),b=0;return this.domManip(arguments,function(c){var d=a[b++],e=a[b++];e&&(d&&d.parentNode!==e&&(d=this.nextSibling),kb(this).remove(),e.insertBefore(c,d))},!0),b?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,c){a=db.apply([],a);var d,e,f,g,h,i,j=0,k=this.length,l=this,m=k-1,n=a[0],o=kb.isFunction(n);if(o||!(1>=k||"string"!=typeof n||kb.support.checkClone)&&cc.test(n))return this.each(function(d){var e=l.eq(d);o&&(a[0]=n.call(this,d,e.html())),e.domManip(a,b,c)});if(k&&(i=kb.buildFragment(a,this[0].ownerDocument,!1,!c&&this),d=i.firstChild,1===i.childNodes.length&&(i=d),d)){for(g=kb.map(u(i,"script"),p),f=g.length;k>j;j++)e=i,j!==m&&(e=kb.clone(e,!0,!0),f&&kb.merge(g,u(e,"script"))),b.call(this[j],e,j);if(f)for(h=g[g.length-1].ownerDocument,kb.map(g,q),j=0;f>j;j++)e=g[j],dc.test(e.type||"")&&!kb._data(e,"globalEval")&&kb.contains(h,e)&&(e.src?kb._evalUrl(e.src):kb.globalEval((e.text||e.textContent||e.innerHTML||"").replace(fc,"")));i=d=null}return this}}),kb.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){kb.fn[a]=function(a){for(var c,d=0,e=[],f=kb(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),kb(f[d])[b](c),eb.apply(e,c.get());return this.pushStack(e)}}),kb.extend({clone:function(a,b,c){var d,e,f,g,h,i=kb.contains(a.ownerDocument,a);if(kb.support.html5Clone||kb.isXMLDoc(a)||!Wb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ic.innerHTML=a.outerHTML,ic.removeChild(f=ic.firstChild)),!(kb.support.noCloneEvent&&kb.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||kb.isXMLDoc(a)))for(d=u(f),h=u(a),g=0;null!=(e=h[g]);++g)d[g]&&t(e,d[g]);if(b)if(c)for(h=h||u(a),d=d||u(f),g=0;null!=(e=h[g]);g++)s(e,d[g]);else s(a,f);return d=u(f,"script"),d.length>0&&r(d,!i&&u(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=n(b),o=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===kb.type(f))kb.merge(o,f.nodeType?[f]:f);else if(_b.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(Zb.exec(f)||["",""])[1].toLowerCase(),k=gc[i]||gc._default,h.innerHTML=k[1]+f.replace(Yb,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!kb.support.leadingWhitespace&&Xb.test(f)&&o.push(b.createTextNode(Xb.exec(f)[0])),!kb.support.tbody)for(f="table"!==i||$b.test(f)?"<table>"!==k[1]||$b.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)kb.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(kb.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else o.push(b.createTextNode(f));for(h&&m.removeChild(h),kb.support.appendChecked||kb.grep(u(o,"input"),v),p=0;f=o[p++];)if((!d||-1===kb.inArray(f,d))&&(g=kb.contains(f.ownerDocument,f),h=u(m.appendChild(f),"script"),g&&r(h),c))for(e=0;f=h[e++];)dc.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=kb.expando,i=kb.cache,j=kb.support.deleteExpando,k=kb.event.special;null!=(c=a[g]);g++)if((b||kb.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?kb.event.remove(c,d):kb.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==W?c.removeAttribute(h):c[h]=null,bb.push(e))}},_evalUrl:function(a){return kb.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),kb.fn.extend({wrapAll:function(a){if(kb.isFunction(a))return this.each(function(b){kb(this).wrapAll(a.call(this,b))});if(this[0]){var b=kb(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(kb.isFunction(a)?function(b){kb(this).wrapInner(a.call(this,b))}:function(){var b=kb(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=kb.isFunction(a);return this.each(function(c){kb(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){kb.nodeName(this,"body")||kb(this).replaceWith(this.childNodes)}).end()}});var jc,kc,lc,mc=/alpha\([^)]*\)/i,nc=/opacity\s*=\s*([^)]*)/,oc=/^(top|right|bottom|left)$/,pc=/^(none|table(?!-c[ea]).+)/,qc=/^margin/,rc=new RegExp("^("+lb+")(.*)$","i"),sc=new RegExp("^("+lb+")(?!px)[a-z%]+$","i"),tc=new RegExp("^([+-])=("+lb+")","i"),uc={BODY:"block"},vc={position:"absolute",visibility:"hidden",display:"block"},wc={letterSpacing:0,fontWeight:400},xc=["Top","Right","Bottom","Left"],yc=["Webkit","O","Moz","ms"];kb.fn.extend({css:function(a,c){return kb.access(this,function(a,c,d){var e,f,g={},h=0;if(kb.isArray(c)){for(f=kc(a),e=c.length;e>h;h++)g[c[h]]=kb.css(a,c[h],!1,f);return g}return d!==b?kb.style(a,c,d):kb.css(a,c)},a,c,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){x(this)?kb(this).show():kb(this).hide()})}}),kb.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=lc(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":kb.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=kb.camelCase(c),j=a.style;if(c=kb.cssProps[i]||(kb.cssProps[i]=w(j,i)),h=kb.cssHooks[c]||kb.cssHooks[i],d===b)return h&&"get"in h&&(f=h.get(a,!1,e))!==b?f:j[c];if(g=typeof d,"string"===g&&(f=tc.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(kb.css(a,c)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||kb.cssNumber[i]||(d+="px"),kb.support.clearCloneStyle||""!==d||0!==c.indexOf("background")||(j[c]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===b)))try{j[c]=d}catch(k){}}},css:function(a,c,d,e){var f,g,h,i=kb.camelCase(c);return c=kb.cssProps[i]||(kb.cssProps[i]=w(a.style,i)),h=kb.cssHooks[c]||kb.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===b&&(g=lc(a,c,e)),"normal"===g&&c in wc&&(g=wc[c]),""===d||d?(f=parseFloat(g),d===!0||kb.isNumeric(f)?f||0:g):g}}),a.getComputedStyle?(kc=function(b){return a.getComputedStyle(b,null)},lc=function(a,c,d){var e,f,g,h=d||kc(a),i=h?h.getPropertyValue(c)||h[c]:b,j=a.style;return h&&(""!==i||kb.contains(a.ownerDocument,a)||(i=kb.style(a,c)),sc.test(i)&&qc.test(c)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):Y.documentElement.currentStyle&&(kc=function(a){return a.currentStyle},lc=function(a,c,d){var e,f,g,h=d||kc(a),i=h?h[c]:b,j=a.style;return null==i&&j&&j[c]&&(i=j[c]),sc.test(i)&&!oc.test(c)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===c?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),kb.each(["height","width"],function(a,b){kb.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&pc.test(kb.css(a,"display"))?kb.swap(a,vc,function(){return B(a,b,d)}):B(a,b,d):void 0},set:function(a,c,d){var e=d&&kc(a);return z(a,c,d?A(a,b,d,kb.support.boxSizing&&"border-box"===kb.css(a,"boxSizing",!1,e),e):0)}}}),kb.support.opacity||(kb.cssHooks.opacity={get:function(a,b){return nc.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=kb.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===kb.trim(f.replace(mc,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=mc.test(f)?f.replace(mc,e):f+" "+e)}}),kb(function(){kb.support.reliableMarginRight||(kb.cssHooks.marginRight={get:function(a,b){return b?kb.swap(a,{display:"inline-block"},lc,[a,"marginRight"]):void 0}}),!kb.support.pixelPosition&&kb.fn.position&&kb.each(["top","left"],function(a,b){kb.cssHooks[b]={get:function(a,c){return c?(c=lc(a,b),sc.test(c)?kb(a).position()[b]+"px":c):void 0}}})}),kb.expr&&kb.expr.filters&&(kb.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!kb.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||kb.css(a,"display"))},kb.expr.filters.visible=function(a){return!kb.expr.filters.hidden(a)}),kb.each({margin:"",padding:"",border:"Width"},function(a,b){kb.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+xc[d]+b]=f[d]||f[d-2]||f[0];return e}},qc.test(a)||(kb.cssHooks[a+b].set=z)});var zc=/%20/g,Ac=/\[\]$/,Bc=/\r?\n/g,Cc=/^(?:submit|button|image|reset|file)$/i,Dc=/^(?:input|select|textarea|keygen)/i;kb.fn.extend({serialize:function(){return kb.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=kb.prop(this,"elements");return a?kb.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!kb(this).is(":disabled")&&Dc.test(this.nodeName)&&!Cc.test(a)&&(this.checked||!bc.test(a))}).map(function(a,b){var c=kb(this).val();return null==c?null:kb.isArray(c)?kb.map(c,function(a){return{name:b.name,value:a.replace(Bc,"\r\n")}}):{name:b.name,value:c.replace(Bc,"\r\n")}}).get()}}),kb.param=function(a,c){var d,e=[],f=function(a,b){b=kb.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b&&(c=kb.ajaxSettings&&kb.ajaxSettings.traditional),kb.isArray(a)||a.jquery&&!kb.isPlainObject(a))kb.each(a,function(){f(this.name,this.value)});else for(d in a)E(d,a[d],c,f);return e.join("&").replace(zc,"+")},kb.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){kb.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),kb.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var Ec,Fc,Gc=kb.now(),Hc=/\?/,Ic=/#.*$/,Jc=/([?&])_=[^&]*/,Kc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Lc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Mc=/^(?:GET|HEAD)$/,Nc=/^\/\//,Oc=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Pc=kb.fn.load,Qc={},Rc={},Sc="*/".concat("*");try{Fc=X.href}catch(Tc){Fc=Y.createElement("a"),Fc.href="",Fc=Fc.href}Ec=Oc.exec(Fc.toLowerCase())||[],kb.fn.load=function(a,c,d){if("string"!=typeof a&&Pc)return Pc.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),kb.isFunction(c)?(d=c,c=b):c&&"object"==typeof c&&(g="POST"),h.length>0&&kb.ajax({url:a,type:g,dataType:"html",data:c}).done(function(a){f=arguments,h.html(e?kb("<div>").append(kb.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},kb.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){kb.fn[b]=function(a){return this.on(b,a)}}),kb.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fc,type:"GET",isLocal:Lc.test(Ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Sc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":kb.parseJSON,"text xml":kb.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?H(H(a,kb.ajaxSettings),b):H(kb.ajaxSettings,a)},ajaxPrefilter:F(Qc),ajaxTransport:F(Rc),ajax:function(a,c){function d(a,c,d,e){var f,l,s,t,v,x=c;2!==u&&(u=2,i&&clearTimeout(i),k=b,h=e||"",w.readyState=a>0?4:0,f=a>=200&&300>a||304===a,d&&(t=I(m,w,d)),t=J(m,t,w,f),f?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(kb.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(kb.etag[g]=v)),204===a||"HEAD"===m.type?x="nocontent":304===a?x="notmodified":(x=t.state,l=t.data,s=t.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(c||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=b,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--kb.active||kb.event.trigger("ajaxStop")))}"object"==typeof a&&(c=a,a=b),c=c||{};var e,f,g,h,i,j,k,l,m=kb.ajaxSetup({},c),n=m.context||m,o=m.context&&(n.nodeType||n.jquery)?kb(n):kb.event,p=kb.Deferred(),q=kb.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Kc.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Fc)+"").replace(Ic,"").replace(Nc,Ec[1]+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=kb.trim(m.dataType||"*").toLowerCase().match(mb)||[""],null==m.crossDomain&&(e=Oc.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Ec[1]&&e[2]===Ec[2]&&(e[3]||("http:"===e[1]?"80":"443"))===(Ec[3]||("http:"===Ec[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=kb.param(m.data,m.traditional)),G(Qc,m,c,w),2===u)return w;j=m.global,j&&0===kb.active++&&kb.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Mc.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Hc.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Jc.test(g)?g.replace(Jc,"$1_="+Gc++):g+(Hc.test(g)?"&":"?")+"_="+Gc++)),m.ifModified&&(kb.lastModified[g]&&w.setRequestHeader("If-Modified-Since",kb.lastModified[g]),kb.etag[g]&&w.setRequestHeader("If-None-Match",kb.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Sc+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=G(Rc,m,c,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getJSON:function(a,b,c){return kb.get(a,b,c,"json")},getScript:function(a,c){return kb.get(a,b,c,"script")}}),kb.each(["get","post"],function(a,c){kb[c]=function(a,d,e,f){return kb.isFunction(d)&&(f=f||e,e=d,d=b),kb.ajax({url:a,type:c,dataType:f,data:d,success:e})}}),kb.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return kb.globalEval(a),a}}}),kb.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),kb.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=Y.head||kb("head")[0]||Y.documentElement;return{send:function(b,e){c=Y.createElement("script"),c.async=!0,a.scriptCharset&&(c.charset=a.scriptCharset),c.src=a.url,c.onload=c.onreadystatechange=function(a,b){(b||!c.readyState||/loaded|complete/.test(c.readyState))&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),c=null,b||e(200,"success"))},d.insertBefore(c,d.firstChild)},abort:function(){c&&c.onload(b,!0)}}}});var Uc=[],Vc=/(=)\?(?=&|$)|\?\?/;kb.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Uc.pop()||kb.expando+"_"+Gc++;return this[a]=!0,a}}),kb.ajaxPrefilter("json jsonp",function(c,d,e){var f,g,h,i=c.jsonp!==!1&&(Vc.test(c.url)?"url":"string"==typeof c.data&&!(c.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vc.test(c.data)&&"data");return i||"jsonp"===c.dataTypes[0]?(f=c.jsonpCallback=kb.isFunction(c.jsonpCallback)?c.jsonpCallback():c.jsonpCallback,i?c[i]=c[i].replace(Vc,"$1"+f):c.jsonp!==!1&&(c.url+=(Hc.test(c.url)?"&":"?")+c.jsonp+"="+f),c.converters["script json"]=function(){return h||kb.error(f+" was not called"),h[0]},c.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,c[f]&&(c.jsonpCallback=d.jsonpCallback,Uc.push(f)),h&&kb.isFunction(g)&&g(h[0]),h=g=b}),"script"):void 0});var Wc,Xc,Yc=0,Zc=a.ActiveXObject&&function(){var a;for(a in Wc)Wc[a](b,!0)};kb.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&K()||L()}:K,Xc=kb.ajaxSettings.xhr(),kb.support.cors=!!Xc&&"withCredentials"in Xc,Xc=kb.support.ajax=!!Xc,Xc&&kb.ajaxTransport(function(c){if(!c.crossDomain||kb.support.cors){var d;return{send:function(e,f){var g,h,i=c.xhr();if(c.username?i.open(c.type,c.url,c.async,c.username,c.password):i.open(c.type,c.url,c.async),c.xhrFields)for(h in c.xhrFields)i[h]=c.xhrFields[h];c.mimeType&&i.overrideMimeType&&i.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(c.hasContent&&c.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=b,g&&(i.onreadystatechange=kb.noop,Zc&&delete Wc[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!c.isLocal||c.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},c.async?4===i.readyState?setTimeout(d):(g=++Yc,Zc&&(Wc||(Wc={},kb(a).unload(Zc)),Wc[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(b,!0)}}}});var $c,_c,ad=/^(?:toggle|show|hide)$/,bd=new RegExp("^(?:([+-])=|)("+lb+")([a-z%]*)$","i"),cd=/queueHooks$/,dd=[Q],ed={"*":[function(a,b){var c=this.createTween(a,b),d=c.current(),e=bd.exec(b),f=e&&e[3]||(kb.cssNumber[a]?"":"px"),g=(kb.cssNumber[a]||"px"!==f&&+d)&&bd.exec(kb.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,kb.style(c.elem,a,g+f);while(h!==(h=c.current()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};kb.Animation=kb.extend(O,{tweener:function(a,b){kb.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ed[c]=ed[c]||[],ed[c].unshift(b)},prefilter:function(a,b){b?dd.unshift(a):dd.push(a)}}),kb.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.current(),this.end=d,this.unit=f||(kb.cssNumber[c]?"":"px")},current:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.pos=b=this.options.duration?kb.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=kb.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){kb.fx.step[a.prop]?kb.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[kb.cssProps[a.prop]]||kb.cssHooks[a.prop])?kb.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},kb.each(["toggle","show","hide"],function(a,b){var c=kb.fn[b];kb.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(S(b,!0),a,d,e)}}),kb.fn.extend({fadeTo:function(a,b,c,d){return this.filter(x).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=kb.isEmptyObject(a),f=kb.speed(b,c,d),g=function(){var b=O(this,kb.extend({},a),f);(e||kb._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,c,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=kb.timers,g=kb._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cd.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&kb.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=kb._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=kb.timers,g=d?d.length:0;for(c.finish=!0,kb.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),kb.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){kb.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),kb.speed=function(a,b,c){var d=a&&"object"==typeof a?kb.extend({},a):{complete:c||!c&&b||kb.isFunction(a)&&a,duration:a,easing:c&&b||b&&!kb.isFunction(b)&&b};return d.duration=kb.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in kb.fx.speeds?kb.fx.speeds[d.duration]:kb.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){kb.isFunction(d.old)&&d.old.call(this),d.queue&&kb.dequeue(this,d.queue)},d},kb.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},kb.timers=[],kb.fx=R.prototype.init,kb.fx.tick=function(){var a,c=kb.timers,d=0;for($c=kb.now();d<c.length;d++)a=c[d],a()||c[d]!==a||c.splice(d--,1);c.length||kb.fx.stop(),$c=b},kb.fx.timer=function(a){a()&&kb.timers.push(a)&&kb.fx.start()},kb.fx.interval=13,kb.fx.start=function(){_c||(_c=setInterval(kb.fx.tick,kb.fx.interval))},kb.fx.stop=function(){clearInterval(_c),_c=null},kb.fx.speeds={slow:600,fast:200,_default:400},kb.fx.step={},kb.expr&&kb.expr.filters&&(kb.expr.filters.animated=function(a){return kb.grep(kb.timers,function(b){return a===b.elem}).length}),kb.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){kb.offset.setOffset(this,a,b)});var c,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;if(g)return c=g.documentElement,kb.contains(c,f)?(typeof f.getBoundingClientRect!==W&&(e=f.getBoundingClientRect()),d=T(g),{top:e.top+(d.pageYOffset||c.scrollTop)-(c.clientTop||0),left:e.left+(d.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}):e},kb.offset={setOffset:function(a,b,c){var d=kb.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=kb(a),h=g.offset(),i=kb.css(a,"top"),j=kb.css(a,"left"),k=("absolute"===d||"fixed"===d)&&kb.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),kb.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},kb.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===kb.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),kb.nodeName(a[0],"html")||(c=a.offset()),c.top+=kb.css(a[0],"borderTopWidth",!0),c.left+=kb.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-kb.css(d,"marginTop",!0),left:b.left-c.left-kb.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Z;a&&!kb.nodeName(a,"html")&&"static"===kb.css(a,"position");)a=a.offsetParent;return a||Z})}}),kb.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);kb.fn[a]=function(e){return kb.access(this,function(a,e,f){var g=T(a);return f===b?g?c in g?g[c]:g.document.documentElement[e]:a[e]:void(g?g.scrollTo(d?kb(g).scrollLeft():f,d?f:kb(g).scrollTop()):a[e]=f)},a,e,arguments.length,null)}}),kb.each({Height:"height",Width:"width"},function(a,c){kb.each({padding:"inner"+a,content:c,"":"outer"+a},function(d,e){kb.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return kb.access(this,function(c,d,e){var f;return kb.isWindow(c)?c.document.documentElement["client"+a]:9===c.nodeType?(f=c.documentElement,Math.max(c.body["scroll"+a],f["scroll"+a],c.body["offset"+a],f["offset"+a],f["client"+a])):e===b?kb.css(c,d,h):kb.style(c,d,e,h)},c,g?e:b,g,null)}})}),kb.fn.size=function(){return this.length},kb.fn.andSelf=kb.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=kb:(a.jQuery=a.$=kb,"function"==typeof define&&define.amd&&define("jquery",[],function(){return kb}))}(window),function(a,b){function c(a){return function(){var b,c,d=arguments[0],e="["+(a?a+":":"")+d+"] ",f=arguments[1],g=arguments,h=function(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof a?"undefined":"string"!=typeof a?JSON.stringify(a):a};for(b=e+f.replace(/\{\d+\}/g,function(a){var b,c=+a.slice(1,-1);return c+2<g.length?(b=g[c+2],"function"==typeof b?b.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof b?"undefined":"string"!=typeof b?P(b):b):a}),b=b+"\nhttp://errors.angularjs.org/1.2.20/"+(a?a+"/":"")+d,c=2;c<arguments.length;c++)b=b+(2==c?"?":"&")+"p"+(c-2)+"="+encodeURIComponent(h(arguments[c]));return new Error(b)}}function d(a){if(null==a||y(a))return!1;var b=a.length;return 1===a.nodeType&&b?!0:t(a)||Fd(a)||0===b||"number"==typeof b&&b>0&&b-1 in a}function e(a,b,c){var f;if(a)if(w(a))for(f in a)"prototype"==f||"length"==f||"name"==f||a.hasOwnProperty&&!a.hasOwnProperty(f)||b.call(c,a[f],f);else if(a.forEach&&a.forEach!==e)a.forEach(b,c);else if(d(a))for(f=0;f<a.length;f++)b.call(c,a[f],f);else for(f in a)a.hasOwnProperty(f)&&b.call(c,a[f],f);return a}function f(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b.sort()}function g(a,b,c){for(var d=f(a),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function h(a){return function(b,c){a(c,b)}}function i(){for(var a,b=Ed.length;b;){if(b--,a=Ed[b].charCodeAt(0),57==a)return Ed[b]="A",Ed.join("");if(90!=a)return Ed[b]=String.fromCharCode(a+1),Ed.join("");Ed[b]="0"}return Ed.unshift("0"),Ed.join("")}function j(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function k(a){var b=a.$$hashKey;return e(arguments,function(b){b!==a&&e(b,function(b,c){a[c]=b})}),j(a,b),a}function l(a){return parseInt(a,10)}function m(a,b){return k(new(k(function(){},{prototype:a})),b)}function n(){}function o(a){return a}function p(a){return function(){return a}}function q(a){return"undefined"==typeof a}function r(a){return"undefined"!=typeof a}function s(a){return null!=a&&"object"==typeof a}function t(a){return"string"==typeof a}function u(a){return"number"==typeof a}function v(a){return"[object Date]"===Bd.call(a)}function w(a){return"function"==typeof a}function x(a){return"[object RegExp]"===Bd.call(a)}function y(a){return a&&a.document&&a.location&&a.alert&&a.setInterval}function z(a){return a&&a.$evalAsync&&a.$watch}function A(a){return"[object File]"===Bd.call(a)}function B(a){return"[object Blob]"===Bd.call(a)}function C(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function D(a,b,c){var d=[];return e(a,function(a,e,f){d.push(b.call(c,a,e,f))}),d}function E(a,b){return-1!=F(a,b)}function F(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}function G(a,b){var c=F(a,b);return c>=0&&a.splice(c,1),b}function H(a,b,c,d){if(y(a)||z(a))throw Cd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(b){if(a===b)throw Cd("cpi","Can't copy! Source and destination are identical.");if(c=c||[],d=d||[],s(a)){var f=F(c,a);if(-1!==f)return d[f];c.push(a),d.push(b)}var g;if(Fd(a)){b.length=0;for(var h=0;h<a.length;h++)g=H(a[h],null,c,d),s(a[h])&&(c.push(a[h]),d.push(g)),b.push(g)}else{var i=b.$$hashKey;e(b,function(a,c){delete b[c]});for(var k in a)g=H(a[k],null,c,d),s(a[k])&&(c.push(a[k]),d.push(g)),b[k]=g;j(b,i)}}else b=a,a&&(Fd(a)?b=H(a,[],c,d):v(a)?b=new Date(a.getTime()):x(a)?b=new RegExp(a.source):s(a)&&(b=H(a,{},c,d)));return b}function I(a,b){if(Fd(a)){b=b||[];for(var c=0;c<a.length;c++)b[c]=a[c]}else if(s(a)){b=b||{};for(var d in a)!qd.call(a,d)||"$"===d.charAt(0)&&"$"===d.charAt(1)||(b[d]=a[d])}return b||a}function J(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f==g&&"object"==f){if(!Fd(a)){if(v(a))return v(b)&&a.getTime()==b.getTime();if(x(a)&&x(b))return a.toString()==b.toString();if(z(a)||z(b)||y(a)||y(b)||Fd(b))return!1;e={};for(d in a)if("$"!==d.charAt(0)&&!w(a[d])){if(!J(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!e.hasOwnProperty(d)&&"$"!==d.charAt(0)&&void 0!==b[d]&&!w(b[d]))return!1;return!0}if(!Fd(b))return!1;if((c=a.length)==b.length){for(d=0;c>d;d++)if(!J(a[d],b[d]))return!1;return!0}}return!1}function K(){return b.securityPolicy&&b.securityPolicy.isActive||b.querySelector&&!(!b.querySelector("[ng-csp]")&&!b.querySelector("[data-ng-csp]"))}function L(a,b,c){return a.concat(zd.call(b,c))}function M(a,b){return zd.call(a,b||0)}function N(a,b){var c=arguments.length>2?M(arguments,2):[];return!w(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,c.concat(zd.call(arguments,0))):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function O(a,c){var d=c;return"string"==typeof a&&"$"===a.charAt(0)?d=void 0:y(c)?d="$WINDOW":c&&b===c?d="$DOCUMENT":z(c)&&(d="$SCOPE"),d}function P(a,b){return"undefined"==typeof a?void 0:JSON.stringify(a,O,b?"  ":null)}function Q(a){return t(a)?JSON.parse(a):a}function R(a){if("function"==typeof a)a=!0;else if(a&&0!==a.length){var b=pd(""+a);a=!("f"==b||"0"==b||"false"==b||"no"==b||"n"==b||"[]"==b)}else a=!1;return a}function S(a){a=vd(a).clone();try{a.empty()}catch(b){}var c=3,d=vd("<div>").append(a).html();try{return a[0].nodeType===c?pd(d):d.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+pd(b)})}catch(b){return pd(d)}}function T(a){try{return decodeURIComponent(a)}catch(b){}}function U(a){var b,c,d={};return e((a||"").split("&"),function(a){if(a&&(b=a.split("="),c=T(b[0]),r(c))){var e=r(b[1])?T(b[1]):!0;qd.call(d,c)?Fd(d[c])?d[c].push(e):d[c]=[d[c],e]:d[c]=e}}),d}function V(a){var b=[];return e(a,function(a,c){Fd(a)?e(a,function(a){b.push(X(c,!0)+(a===!0?"":"="+X(a,!0)))}):b.push(X(c,!0)+(a===!0?"":"="+X(a,!0)))}),b.length?b.join("&"):""}function W(a){return X(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")
}function X(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,b?"%20":"+")}function Y(a,c){function d(a){a&&h.push(a)}var f,g,h=[a],i=["ng:app","ng-app","x-ng-app","data-ng-app"],j=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;e(i,function(c){i[c]=!0,d(b.getElementById(c)),c=c.replace(":","\\:"),a.querySelectorAll&&(e(a.querySelectorAll("."+c),d),e(a.querySelectorAll("."+c+"\\:"),d),e(a.querySelectorAll("["+c+"]"),d))}),e(h,function(a){if(!f){var b=" "+a.className+" ",c=j.exec(b);c?(f=a,g=(c[2]||"").replace(/\s+/g,",")):e(a.attributes,function(b){!f&&i[b.name]&&(f=a,g=b.value)})}}),f&&c(f,g?[g]:[])}function Z(c,d){var f=function(){if(c=vd(c),c.injector()){var a=c[0]===b?"document":S(c);throw Cd("btstrpd","App Already Bootstrapped with this Element '{0}'",a)}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),d.unshift("ng");var e=Gb(d);return e.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),e},g=/^NG_DEFER_BOOTSTRAP!/;return a&&!g.test(a.name)?f():(a.name=a.name.replace(g,""),void(Dd.resumeBootstrap=function(a){e(a,function(a){d.push(a)}),f()}))}function $(a,b){return b=b||"_",a.replace(Hd,function(a,c){return(c?b:"")+a.toLowerCase()})}function _(){wd=a.jQuery,wd&&wd.fn.on?(vd=wd,k(wd.fn,{scope:Vd.scope,isolateScope:Vd.isolateScope,controller:Vd.controller,injector:Vd.injector,inheritedData:Vd.inheritedData}),jb("remove",!0,!0,!1),jb("empty",!1,!1,!1),jb("html",!1,!1,!0)):vd=nb,Dd.element=vd}function ab(a,b,c){if(!a)throw Cd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function bb(a,b,c){return c&&Fd(a)&&(a=a[a.length-1]),ab(w(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function cb(a,b){if("hasOwnProperty"===a)throw Cd("badname","hasOwnProperty is not a valid {0} name",b)}function db(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&w(a)?N(f,a):a}function eb(a){var b=a[0],c=a[a.length-1];if(b===c)return vd(b);var d=b,e=[d];do{if(d=d.nextSibling,!d)break;e.push(d)}while(d!==c);return vd(e)}function fb(a){function b(a,b,c){return a[b]||(a[b]=c())}var d=c("$injector"),e=c("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||c,b(f,"module",function(){var a={};return function(c,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(c,"module"),f&&a.hasOwnProperty(c)&&(a[c]=null),b(a,c,function(){function a(a,c,d){return function(){return b[d||"push"]([a,c,arguments]),i}}if(!f)throw d("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",c);var b=[],e=[],h=a("$injector","invoke"),i={_invokeQueue:b,_runBlocks:e,requires:f,name:c,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),config:h,run:function(a){return e.push(a),this}};return g&&h(g),i})}})}function gb(b){k(b,{bootstrap:Z,copy:H,extend:k,equals:J,element:vd,forEach:e,injector:Gb,noop:n,bind:N,toJson:P,fromJson:Q,identity:o,isUndefined:q,isDefined:r,isString:t,isFunction:w,isObject:s,isNumber:u,isElement:C,isArray:Fd,version:Id,isDate:v,lowercase:pd,uppercase:rd,callbacks:{counter:0},$$minErr:c,$$csp:K}),xd=fb(a);try{xd("ngLocale")}catch(d){xd("ngLocale",[]).provider("$locale",bc)}xd("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:Bc}),a.provider("$compile",Nb).directive({a:Ee,input:Pe,textarea:Pe,form:Ie,script:xf,select:Af,style:Cf,option:Bf,ngBind:_e,ngBindHtml:bf,ngBindTemplate:af,ngClass:cf,ngClassEven:ef,ngClassOdd:df,ngCloak:ff,ngController:gf,ngForm:Je,ngHide:rf,ngIf:jf,ngInclude:kf,ngInit:mf,ngNonBindable:nf,ngPluralize:of,ngRepeat:pf,ngShow:qf,ngStyle:sf,ngSwitch:tf,ngSwitchWhen:uf,ngSwitchDefault:vf,ngOptions:zf,ngTransclude:wf,ngModel:Ve,ngList:Ye,ngChange:We,required:Xe,ngRequired:Xe,ngValue:$e}).directive({ngInclude:lf}).directive(Fe).directive(hf),a.provider({$anchorScroll:Hb,$animate:ce,$browser:Kb,$cacheFactory:Lb,$controller:Qb,$document:Rb,$exceptionHandler:Sb,$filter:Mc,$interpolate:_b,$interval:ac,$http:Xb,$httpBackend:Zb,$location:oc,$log:pc,$parse:wc,$rootScope:Ac,$q:xc,$sce:Gc,$sceDelegate:Fc,$sniffer:Hc,$templateCache:Mb,$timeout:Ic,$window:Lc,$$rAF:zc,$$asyncCallback:Ib})}])}function hb(){return++Kd}function ib(a){return a.replace(Nd,function(a,b,c,d){return d?c.toUpperCase():c}).replace(Od,"Moz$1")}function jb(a,b,c,d){function e(a){var e,g,h,i,j,k,l,m=c&&a?[this.filter(a)]:[this],n=b;if(!d||null!=a)for(;m.length;)for(e=m.shift(),g=0,h=e.length;h>g;g++)for(i=vd(e[g]),n?i.triggerHandler("$destroy"):n=!n,j=0,k=(l=i.children()).length;k>j;j++)m.push(wd(l[j]));return f.apply(this,arguments)}var f=wd.fn[a];f=f.$original||f,e.$original=f,wd.fn[a]=e}function kb(a){return!Rd.test(a)}function lb(a,b){var c,d,e,f,g,h,i=b.createDocumentFragment(),j=[];if(kb(a))j.push(b.createTextNode(a));else{for(c=i.appendChild(b.createElement("div")),d=(Sd.exec(a)||["",""])[1].toLowerCase(),e=Ud[d]||Ud._default,c.innerHTML="<div>&#160;</div>"+e[1]+a.replace(Td,"<$1></$2>")+e[2],c.removeChild(c.firstChild),f=e[0];f--;)c=c.lastChild;for(g=0,h=c.childNodes.length;h>g;++g)j.push(c.childNodes[g]);c=i.firstChild,c.textContent=""}return i.textContent="",i.innerHTML="",j}function mb(a,c){c=c||b;var d;return(d=Qd.exec(a))?[c.createElement(d[1])]:lb(a,c)}function nb(a){if(a instanceof nb)return a;if(t(a)&&(a=Gd(a)),!(this instanceof nb)){if(t(a)&&"<"!=a.charAt(0))throw Pd("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new nb(a)}if(t(a)){xb(this,mb(a));var c=vd(b.createDocumentFragment());c.append(this)}else xb(this,a)}function ob(a){return a.cloneNode(!0)}function pb(a){rb(a);for(var b=0,c=a.childNodes||[];b<c.length;b++)pb(c[b])}function qb(a,b,c,d){if(r(d))throw Pd("offargs","jqLite#off() does not support the `selector` argument");var f=sb(a,"events"),g=sb(a,"handle");g&&(q(b)?e(f,function(b,c){Md(a,c,b),delete f[c]}):e(b.split(" "),function(b){q(c)?(Md(a,b,f[b]),delete f[b]):G(f[b]||[],c)}))}function rb(a,b){var c=a.ng339,d=Jd[c];if(d){if(b)return void delete Jd[c].data[b];d.handle&&(d.events.$destroy&&d.handle({},"$destroy"),qb(a)),delete Jd[c],a.ng339=void 0}}function sb(a,b,c){var d=a.ng339,e=Jd[d||-1];return r(c)?(e||(a.ng339=d=hb(),e=Jd[d]={}),void(e[b]=c)):e&&e[b]}function tb(a,b,c){var d=sb(a,"data"),e=r(c),f=!e&&r(b),g=f&&!s(b);if(d||g||sb(a,"data",d={}),e)d[b]=c;else{if(!f)return d;if(g)return d&&d[b];k(d,b)}}function ub(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function vb(a,b){b&&a.setAttribute&&e(b.split(" "),function(b){a.setAttribute("class",Gd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Gd(b)+" "," ")))})}function wb(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");e(b.split(" "),function(a){a=Gd(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Gd(c))}}function xb(a,b){if(b){b=b.nodeName||!r(b.length)||y(b)?[b]:b;for(var c=0;c<b.length;c++)a.push(b[c])}}function yb(a,b){return zb(a,"$"+(b||"ngController")+"Controller")}function zb(a,b,c){a=vd(a),9==a[0].nodeType&&(a=a.find("html"));for(var d=Fd(b)?b:[b];a.length;){for(var e=a[0],f=0,g=d.length;g>f;f++)if(void 0!==(c=a.data(d[f])))return c;a=vd(e.parentNode||11===e.nodeType&&e.host)}}function Ab(a){for(var b=0,c=a.childNodes;b<c.length;b++)pb(c[b]);for(;a.firstChild;)a.removeChild(a.firstChild)}function Bb(a,b){var c=Wd[b.toLowerCase()];return c&&Xd[a.nodeName]&&c}function Cb(a,c){var d=function(d,f){if(d.preventDefault||(d.preventDefault=function(){d.returnValue=!1}),d.stopPropagation||(d.stopPropagation=function(){d.cancelBubble=!0}),d.target||(d.target=d.srcElement||b),q(d.defaultPrevented)){var g=d.preventDefault;d.preventDefault=function(){d.defaultPrevented=!0,g.call(d)},d.defaultPrevented=!1}d.isDefaultPrevented=function(){return d.defaultPrevented||d.returnValue===!1};var h=I(c[f||d.type]||[]);e(h,function(b){b.call(a,d)}),8>=ud?(d.preventDefault=null,d.stopPropagation=null,d.isDefaultPrevented=null):(delete d.preventDefault,delete d.stopPropagation,delete d.isDefaultPrevented)};return d.elem=a,d}function Db(a,b){var c,d=typeof a;return"function"==d||"object"==d&&null!==a?"function"==typeof(c=a.$$hashKey)?c=a.$$hashKey():void 0===c&&(c=a.$$hashKey=(b||i)()):c=a,d+":"+c}function Eb(a,b){if(b){var c=0;this.nextUid=function(){return++c}}e(a,this.put,this)}function Fb(a){var b,c,d,f;return"function"==typeof a?(b=a.$inject)||(b=[],a.length&&(c=a.toString().replace(_d,""),d=c.match(Yd),e(d[1].split(Zd),function(a){a.replace($d,function(a,c,d){b.push(d)})})),a.$inject=b):Fd(a)?(f=a.length-1,bb(a[f],"fn"),b=a.slice(0,f)):bb(a,"fn",!0),b}function Gb(a){function b(a){return function(b,c){return s(b)?void e(b,h(a)):a(b,c)}}function c(a,b){if(cb(a,"service"),(w(b)||Fd(b))&&(b=v.instantiate(b)),!b.$get)throw ae("pget","Provider '{0}' must define $get factory method.",a);return u[a+o]=b}function d(a,b){return c(a,{$get:b})}function f(a,b){return d(a,["$injector",function(a){return a.instantiate(b)}])}function g(a,b){return d(a,p(b))}function i(a,b){cb(a,"constant"),u[a]=b,x[a]=b}function j(a,b){var c=v.get(a+o),d=c.$get;c.$get=function(){var a=y.invoke(d,c);return y.invoke(b,null,{$delegate:a})}}function k(a){var b,c,d,f,g=[];return e(a,function(a){if(!r.get(a)){r.put(a,!0);try{if(t(a))for(b=xd(a),g=g.concat(k(b.requires)).concat(b._runBlocks),c=b._invokeQueue,d=0,f=c.length;f>d;d++){var e=c[d],h=v.get(e[0]);h[e[1]].apply(h,e[2])}else w(a)?g.push(v.invoke(a)):Fd(a)?g.push(v.invoke(a)):bb(a,"module")}catch(i){throw Fd(a)&&(a=a[a.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),ae("modulerr","Failed to instantiate module {0} due to:\n{1}",a,i.stack||i.message||i)}}}),g}function l(a,b){function c(c){if(a.hasOwnProperty(c)){if(a[c]===m)throw ae("cdep","Circular dependency found: {0}",c+" <- "+q.join(" <- "));return a[c]}try{return q.unshift(c),a[c]=m,a[c]=b(c)}catch(d){throw a[c]===m&&delete a[c],d}finally{q.shift()}}function d(a,b,d){var e,f,g,h=[],i=Fb(a);for(f=0,e=i.length;e>f;f++){if(g=i[f],"string"!=typeof g)throw ae("itkn","Incorrect injection token! Expected service name as string, got {0}",g);h.push(d&&d.hasOwnProperty(g)?d[g]:c(g))}return Fd(a)&&(a=a[e]),a.apply(b,h)}function e(a,b){var c,e,f=function(){};return f.prototype=(Fd(a)?a[a.length-1]:a).prototype,c=new f,e=d(a,c,b),s(e)||w(e)?e:c}return{invoke:d,instantiate:e,get:c,annotate:Fb,has:function(b){return u.hasOwnProperty(b+o)||a.hasOwnProperty(b)}}}var m={},o="Provider",q=[],r=new Eb([],!0),u={$provide:{provider:b(c),factory:b(d),service:b(f),value:b(g),constant:b(i),decorator:j}},v=u.$injector=l(u,function(){throw ae("unpr","Unknown provider: {0}",q.join(" <- "))}),x={},y=x.$injector=l(x,function(a){var b=v.get(a+o);return y.invoke(b.$get,b)});return e(k(a),function(a){y.invoke(a||n)}),y}function Hb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function f(a){var b=null;return e(a,function(a){b||"a"!==pd(a.nodeName)||(b=a)}),b}function g(){var a,d=c.hash();d?(a=h.getElementById(d))?a.scrollIntoView():(a=f(h.getElementsByName(d)))?a.scrollIntoView():"top"===d&&b.scrollTo(0,0):b.scrollTo(0,0)}var h=b.document;return a&&d.$watch(function(){return c.hash()},function(){d.$evalAsync(g)}),g}]}function Ib(){this.$get=["$$rAF","$timeout",function(a,b){return a.supported?function(b){return a(b)}:function(a){return b(a,0,!1)}}]}function Jb(a,b,c,d){function f(a){try{a.apply(null,M(arguments,1))}finally{if(r--,0===r)for(;s.length;)try{s.pop()()}catch(b){c.error(b)}}}function g(a,b){!function c(){e(v,function(a){a()}),u=b(c,a)}()}function h(){y=null,w!=i.url()&&(w=i.url(),e(z,function(a){a(i.url())}))}var i=this,j=b[0],k=a.location,l=a.history,m=a.setTimeout,o=a.clearTimeout,p={};i.isMock=!1;var r=0,s=[];i.$$completeOutstandingRequest=f,i.$$incOutstandingRequestCount=function(){r++},i.notifyWhenNoOutstandingRequests=function(a){e(v,function(a){a()}),0===r?a():s.push(a)};var u,v=[];i.addPollFn=function(a){return q(u)&&g(100,m),v.push(a),a};var w=k.href,x=b.find("base"),y=null;i.url=function(b,c){if(k!==a.location&&(k=a.location),l!==a.history&&(l=a.history),b){if(w==b)return;return w=b,d.history?c?l.replaceState(null,"",b):(l.pushState(null,"",b),x.attr("href",x.attr("href"))):(y=b,c?k.replace(b):k.href=b),i}return y||k.href.replace(/%27/g,"'")};var z=[],A=!1;i.onUrlChange=function(b){return A||(d.history&&vd(a).on("popstate",h),d.hashchange?vd(a).on("hashchange",h):i.addPollFn(h),A=!0),z.push(b),b},i.baseHref=function(){var a=x.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var B={},C="",D=i.baseHref();i.cookies=function(a,b){var d,e,f,g,h;if(!a){if(j.cookie!==C)for(C=j.cookie,e=C.split("; "),B={},g=0;g<e.length;g++)f=e[g],h=f.indexOf("="),h>0&&(a=unescape(f.substring(0,h)),void 0===B[a]&&(B[a]=unescape(f.substring(h+1))));return B}void 0===b?j.cookie=escape(a)+"=;path="+D+";expires=Thu, 01 Jan 1970 00:00:00 GMT":t(b)&&(d=(j.cookie=escape(a)+"="+escape(b)+";path="+D).length+1,d>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+d+" > 4096 bytes)!"))},i.defer=function(a,b){var c;return r++,c=m(function(){delete p[c],f(a)},b||0),p[c]=!0,c},i.defer.cancel=function(a){return p[a]?(delete p[a],o(a),f(n),!0):!1}}function Kb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new Jb(a,d,b,c)}]}function Lb(){this.$get=function(){function a(a,d){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw c("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=k({},d,{id:a}),i={},j=d&&d.capacity||Number.MAX_VALUE,l={},m=null,n=null;return b[a]={put:function(a,b){if(j<Number.MAX_VALUE){var c=l[a]||(l[a]={key:a});e(c)}if(!q(b))return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b},get:function(a){if(j<Number.MAX_VALUE){var b=l[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=l[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete l[a]}delete i[a],g--},removeAll:function(){i={},g=0,l={},m=n=null},destroy:function(){i=null,h=null,l=null,delete b[a]},info:function(){return k({},h,{size:g})}}}var b={};return a.info=function(){var a={};return e(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function Mb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function Nb(a,c){var d={},f="Directive",g=/^\s*directive\:\s*([\d\w_\-]+)\s+(.*)$/,i=/(([\d\w_\-]+)(?:\:([^;]+))?;?)/,j=/^(on[a-z]+|formaction)$/;this.directive=function l(b,c){return cb(b,"directive"),t(b)?(ab(c,"directiveFactory"),d.hasOwnProperty(b)||(d[b]=[],a.factory(b+f,["$injector","$exceptionHandler",function(a,c){var f=[];return e(d[b],function(d,e){try{var g=a.invoke(d);w(g)?g={compile:p(g)}:!g.compile&&g.link&&(g.compile=p(g.link)),g.priority=g.priority||0,g.index=e,g.name=g.name||b,g.require=g.require||g.controller&&g.name,g.restrict=g.restrict||"A",f.push(g)}catch(h){c(h)}}),f}])),d[b].push(c)):e(b,h(l)),this},this.aHrefSanitizationWhitelist=function(a){return r(a)?(c.aHrefSanitizationWhitelist(a),this):c.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return r(a)?(c.imgSrcSanitizationWhitelist(a),this):c.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(a,c,h,l,n,p,q,r,u,v,x,y){function z(a,b,c,d,f){a instanceof vd||(a=vd(a)),e(a,function(b,c){3==b.nodeType&&b.nodeValue.match(/\S+/)&&(a[c]=b=vd(b).wrap("<span></span>").parent()[0])});var g=B(a,b,a,c,d,f);return A(a,"ng-scope"),function(b,c,d,f){ab(b,"scope");var h=c?Vd.clone.call(a):a;e(d,function(a,b){h.data("$"+b+"Controller",a)});for(var i=0,j=h.length;j>i;i++){var k=h[i],l=k.nodeType;(1===l||9===l)&&h.eq(i).data("$scope",b)}return c&&c(h,b),g&&g(b,h,h,f),h}}function A(a,b){try{a.addClass(b)}catch(c){}}function B(a,b,c,d,e,f){function g(a,c,d,e){var f,g,h,i,j,k,l,m,o,p=c.length,q=new Array(p);for(k=0;p>k;k++)q[k]=c[k];for(k=0,m=0,l=n.length;l>k;m++)h=q[m],f=n[k++],g=n[k++],i=vd(h),f?(f.scope?(j=a.$new(),i.data("$scope",j)):j=a,o=f.transcludeOnThisElement?C(a,f.transclude,e):!f.templateOnThisElement&&e?e:!e&&b?C(a,b):null,f(g,j,h,d,o)):g&&g(a,h.childNodes,void 0,e)}for(var h,i,j,k,l,m,n=[],o=0;o<a.length;o++)h=new W,i=D(a[o],[],h,0===o?d:void 0,e),j=i.length?G(i,a[o],h,b,c,null,[],[],f):null,j&&j.scope&&A(vd(a[o]),"ng-scope"),l=j&&j.terminal||!(k=a[o].childNodes)||!k.length?null:B(k,j?(j.transcludeOnThisElement||!j.templateOnThisElement)&&j.transclude:b),n.push(j,l),m=m||j||l,f=null;return m?g:null}function C(a,b,c){var d=function(d,e,f){var g=!1;d||(d=a.$new(),d.$$transcluded=!0,g=!0);var h=b(d,e,f,c);return g&&h.on("$destroy",function(){d.$destroy()}),h};return d}function D(a,b,c,d,e){var f,h,j=a.nodeType,k=c.$attr;switch(j){case 1:K(b,Ob(yd(a).toLowerCase()),"E",d,e);for(var l,m,n,o,p,q,r=a.attributes,s=0,u=r&&r.length;u>s;s++){var v=!1,w=!1;if(l=r[s],!ud||ud>=8||l.specified){m=l.name,p=Gd(l.value),o=Ob(m),(q=_.test(o))&&(m=$(o.substr(6),"-"));var x=o.replace(/(Start|End)$/,"");o===x+"Start"&&(v=m,w=m.substr(0,m.length-5)+"end",m=m.substr(0,m.length-6)),n=Ob(m.toLowerCase()),k[n]=m,(q||!c.hasOwnProperty(n))&&(c[n]=p,Bb(a,n)&&(c[n]=!0)),T(a,b,p,n),K(b,n,"A",d,e,v,w)}}if(h=a.className,t(h)&&""!==h)for(;f=i.exec(h);)n=Ob(f[2]),K(b,n,"C",d,e)&&(c[n]=Gd(f[3])),h=h.substr(f.index+f[0].length);break;case 3:Q(b,a.nodeValue);break;case 8:try{f=g.exec(a.nodeValue),f&&(n=Ob(f[1]),K(b,n,"M",d,e)&&(c[n]=Gd(f[2])))}catch(y){}}return b.sort(O),b}function E(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw de("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);1==a.nodeType&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return vd(d)}function F(a,b,c){return function(d,e,f,g,h){return e=E(e[0],b,c),a(d,e,f,g,h)}}function G(a,d,f,g,i,j,k,l,m){function n(a,b,c,d){a&&(c&&(a=F(a,c,d)),a.require=v.require,a.directiveName=x,(O===v||v.$$isolateScope)&&(a=V(a,{isolateScope:!0})),k.push(a)),b&&(c&&(b=F(b,c,d)),b.require=v.require,b.directiveName=x,(O===v||v.$$isolateScope)&&(b=V(b,{isolateScope:!0})),l.push(b))}function o(a,b,c,d){var f,g="data",h=!1;if(t(b)){for(;"^"==(f=b.charAt(0))||"?"==f;)b=b.substr(1),"^"==f&&(g="inheritedData"),h=h||"?"==f;if(f=null,d&&"data"===g&&(f=d[b]),f=f||c[g]("$"+b+"Controller"),!f&&!h)throw de("ctreq","Controller '{0}', required by directive '{1}', can't be found!",b,a);return f}return Fd(b)&&(f=[],e(b,function(b){f.push(o(a,b,c,d))})),f}function r(a,b,g,i,j){function m(a,b){var c;return arguments.length<2&&(b=a,a=void 0),Y&&(c=y),j(a,b,c)}var n,r,s,t,u,v,w,x,y={};if(n=d===g?f:I(f,new W(vd(g),f.$attr)),r=n.$$element,O){var z=/^\s*([@=&])(\??)\s*(\w*)\s*$/,B=vd(g);w=b.$new(!0),!Q||Q!==O&&Q!==O.$$originalDirective?B.data("$isolateScopeNoTemplate",w):B.data("$isolateScope",w),A(B,"ng-isolate-scope"),e(O.scope,function(a,d){var e,f,g,h,i=a.match(z)||[],j=i[3]||d,k="?"==i[2],l=i[1];switch(w.$$isolateBindings[d]=l+j,l){case"@":n.$observe(j,function(a){w[d]=a}),n.$$observers[j].$$scope=b,n[j]&&(w[d]=c(n[j])(b));break;case"=":if(k&&!n[j])return;f=p(n[j]),h=f.literal?J:function(a,b){return a===b},g=f.assign||function(){throw e=w[d]=f(b),de("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",n[j],O.name)},e=w[d]=f(b),w.$watch(function(){var a=f(b);return h(a,w[d])||(h(a,e)?g(b,a=w[d]):w[d]=a),e=a},null,f.literal);break;case"&":f=p(n[j]),w[d]=function(a){return f(b,a)};break;default:throw de("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",O.name,d,a)}})}for(x=j&&m,K&&e(K,function(a){var c,d={$scope:a===O||a.$$isolateScope?w:b,$element:r,$attrs:n,$transclude:x};v=a.controller,"@"==v&&(v=n[a.name]),c=q(v,d),y[a.name]=c,Y||r.data("$"+a.name+"Controller",c),a.controllerAs&&(d.$scope[a.controllerAs]=c)}),s=0,t=k.length;t>s;s++)try{u=k[s],u(u.isolateScope?w:b,r,n,u.require&&o(u.directiveName,u.require,r,y),x)}catch(C){h(C,S(r))}var D=b;for(O&&(O.template||null===O.templateUrl)&&(D=w),a&&a(D,g.childNodes,void 0,j),s=l.length-1;s>=0;s--)try{u=l[s],u(u.isolateScope?w:b,r,n,u.require&&o(u.directiveName,u.require,r,y),x)}catch(C){h(C,S(r))}}m=m||{};for(var u,v,x,y,B,C,G=-Number.MAX_VALUE,K=m.controllerDirectives,O=m.newIsolateScopeDirective,Q=m.templateDirective,R=m.nonTlbTranscludeDirective,T=!1,X=!1,Y=m.hasElementTranscludeDirective,$=f.$$element=vd(d),_=j,ab=g,bb=0,cb=a.length;cb>bb;bb++){v=a[bb];var db=v.$$start,eb=v.$$end;if(db&&($=E(d,db,eb)),y=void 0,G>v.priority)break;if((C=v.scope)&&(u=u||v,v.templateUrl||(P("new/isolated scope",O,v,$),s(C)&&(O=v))),x=v.name,!v.templateUrl&&v.controller&&(C=v.controller,K=K||{},P("'"+x+"' controller",K[x],v,$),K[x]=v),(C=v.transclude)&&(T=!0,v.$$tlb||(P("transclusion",R,v,$),R=v),"element"==C?(Y=!0,G=v.priority,y=E(d,db,eb),$=f.$$element=vd(b.createComment(" "+x+": "+f[x]+" ")),d=$[0],U(i,vd(M(y)),d),ab=z(y,g,G,_&&_.name,{nonTlbTranscludeDirective:R})):(y=vd(ob(d)).contents(),$.empty(),ab=z(y,g))),v.template)if(X=!0,P("template",Q,v,$),Q=v,C=w(v.template)?v.template($,f):v.template,C=Z(C),v.replace){if(_=v,y=kb(C)?[]:vd(Gd(C)),d=y[0],1!=y.length||1!==d.nodeType)throw de("tplrt","Template for directive '{0}' must have exactly one root element. {1}",x,"");U(i,$,d);var fb={$attr:{}},gb=D(d,[],fb),hb=a.splice(bb+1,a.length-(bb+1));O&&H(gb),a=a.concat(gb).concat(hb),L(f,fb),cb=a.length}else $.html(C);if(v.templateUrl)X=!0,P("template",Q,v,$),Q=v,v.replace&&(_=v),r=N(a.splice(bb,a.length-bb),$,f,i,T&&ab,k,l,{controllerDirectives:K,newIsolateScopeDirective:O,templateDirective:Q,nonTlbTranscludeDirective:R}),cb=a.length;else if(v.compile)try{B=v.compile($,f,ab),w(B)?n(null,B,db,eb):B&&n(B.pre,B.post,db,eb)}catch(ib){h(ib,S($))}v.terminal&&(r.terminal=!0,G=Math.max(G,v.priority))}return r.scope=u&&u.scope===!0,r.transcludeOnThisElement=T,r.templateOnThisElement=X,r.transclude=ab,m.hasElementTranscludeDirective=Y,r}function H(a){for(var b=0,c=a.length;c>b;b++)a[b]=m(a[b],{$$isolateScope:!0})}function K(b,c,e,g,i,j,k){if(c===i)return null;var l=null;if(d.hasOwnProperty(c))for(var n,o=a.get(c+f),p=0,q=o.length;q>p;p++)try{n=o[p],(void 0===g||g>n.priority)&&-1!=n.restrict.indexOf(e)&&(j&&(n=m(n,{$$start:j,$$end:k})),b.push(n),l=n)}catch(r){h(r)}return l}function L(a,b){var c=b.$attr,d=a.$attr,f=a.$$element;e(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),e(b,function(b,e){"class"==e?(A(f,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==e?(f.attr("style",f.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==e.charAt(0)||a.hasOwnProperty(e)||(a[e]=b,d[e]=c[e])})}function N(a,b,c,d,f,g,h,i){var j,m,o=[],p=b[0],q=a.shift(),r=k({},q,{templateUrl:null,transclude:null,replace:null,$$originalDirective:q}),t=w(q.templateUrl)?q.templateUrl(b,c):q.templateUrl;return b.empty(),l.get(v.getTrustedResourceUrl(t),{cache:n}).success(function(k){var l,n,u,v;if(k=Z(k),q.replace){if(u=kb(k)?[]:vd(Gd(k)),l=u[0],1!=u.length||1!==l.nodeType)throw de("tplrt","Template for directive '{0}' must have exactly one root element. {1}",q.name,t);n={$attr:{}},U(d,b,l);var w=D(l,[],n);s(q.scope)&&H(w),a=w.concat(a),L(c,n)}else l=p,b.html(k);for(a.unshift(r),j=G(a,l,c,f,b,q,g,h,i),e(d,function(a,c){a==l&&(d[c]=b[0])}),m=B(b[0].childNodes,f);o.length;){var x=o.shift(),y=o.shift(),z=o.shift(),E=o.shift(),F=b[0];if(y!==p){var I=y.className;i.hasElementTranscludeDirective&&q.replace||(F=ob(l)),U(z,vd(y),F),A(vd(F),I)}v=j.transcludeOnThisElement?C(x,j.transclude,E):E,j(m,x,F,d,v)}o=null}).error(function(a,b,c,d){throw de("tpload","Failed to load template: {0}",d.url)}),function(a,b,c,d,e){var f=e;o?(o.push(b),o.push(c),o.push(d),o.push(f)):(j.transcludeOnThisElement&&(f=C(b,j.transclude,e)),j(m,b,c,d,f))}}function O(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function P(a,b,c,d){if(b)throw de("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",b.name,c.name,a,S(d))}function Q(a,b){var d=c(b,!0);d&&a.push({priority:0,compile:function(a){var b=a.parent(),c=b.length;return c&&A(a.parent(),"ng-binding"),function(a,b){var e=b.parent(),f=e.data("$binding")||[];f.push(d),e.data("$binding",f),c||A(e,"ng-binding"),a.$watch(d,function(a){b[0].nodeValue=a})}}})}function R(a,b){if("srcdoc"==b)return v.HTML;var c=yd(a);return"xlinkHref"==b||"FORM"==c&&"action"==b||"IMG"!=c&&("src"==b||"ngSrc"==b)?v.RESOURCE_URL:void 0}function T(a,b,d,e){var f=c(d,!0);if(f){if("multiple"===e&&"SELECT"===yd(a))throw de("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",S(a));b.push({priority:100,compile:function(){return{pre:function(b,d,g){var h=g.$$observers||(g.$$observers={});if(j.test(e))throw de("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");f=c(g[e],!0,R(a,e)),f&&(g[e]=f(b),(h[e]||(h[e]=[])).$$inter=!0,(g.$$observers&&g.$$observers[e].$$scope||b).$watch(f,function(a,b){"class"===e&&a!=b?g.$updateClass(a,b):g.$set(e,a)}))}}}})}}function U(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1;break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();m.appendChild(g),d[vd.expando]=g[vd.expando];for(var n=1,o=c.length;o>n;n++){var p=c[n];vd(p).remove(),m.appendChild(p),delete c[n]}c[0]=d,c.length=1}function V(a,b){return k(function(){return a.apply(null,arguments)},a,b)}var W=function(a,b){this.$$element=a,this.$attr=b||{}};W.prototype={$normalize:Ob,$addClass:function(a){a&&a.length>0&&x.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&x.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=Pb(a,b),d=Pb(b,a);0===c.length?x.removeClass(this.$$element,d):0===d.length?x.addClass(this.$$element,c):x.setClass(this.$$element,c,d)},$set:function(a,b,c,d){var f,g=Bb(this.$$element[0],a);g&&(this.$$element.prop(a,b),d=g),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a],d||(this.$attr[a]=d=$(a,"-"))),f=yd(this.$$element),("A"===f&&"href"===a||"IMG"===f&&"src"===a)&&(this[a]=b=y(b,"src"===a)),c!==!1&&(null===b||void 0===b?this.$$element.removeAttr(d):this.$$element.attr(d,b));var i=this.$$observers;i&&e(i[a],function(a){try{a(b)}catch(c){h(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers={}),e=d[a]||(d[a]=[]);return e.push(b),r.$evalAsync(function(){e.$$inter||b(c[a])}),b}};var X=c.startSymbol(),Y=c.endSymbol(),Z="{{"==X||"}}"==Y?o:function(a){return a.replace(/\{\{/g,X).replace(/}}/g,Y)},_=/^ngAttr[A-Z]/;return z}]}function Ob(a){return ib(a.replace(ee,""))}function Pb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function Qb(){var a={},b=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(b,c){cb(b,"controller"),s(b)?k(a,b):a[b]=c},this.$get=["$injector","$window",function(d,e){return function(f,g){var h,i,j,k;if(t(f)&&(i=f.match(b),j=i[1],k=i[3],f=a.hasOwnProperty(j)?a[j]:db(g.$scope,j,!0)||db(e,j,!0),bb(f,j,!0)),h=d.instantiate(f,g),k){if(!g||"object"!=typeof g.$scope)throw c("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",j||f.name,k);g.$scope[k]=h}return h}}]}function Rb(){this.$get=["$window",function(a){return vd(a.document)}]}function Sb(){this.$get=["$log",function(a){return function(){a.error.apply(a,arguments)}}]}function Tb(a){var b,c,d,f={};return a?(e(a.split("\n"),function(a){d=a.indexOf(":"),b=pd(Gd(a.substr(0,d))),c=Gd(a.substr(d+1)),b&&(f[b]?f[b]+=", "+c:f[b]=c)}),f):f}function Ub(a){var b=s(a)?a:void 0;return function(c){return b||(b=Tb(a)),c?b[pd(c)]||null:b}}function Vb(a,b,c){return w(c)?c(a,b):(e(c,function(c){a=c(a,b)}),a)}function Wb(a){return a>=200&&300>a}function Xb(){var a=/^\s*(\[|\{[^\{])/,b=/[\}\]]\s*$/,c=/^\)\]\}',?\n/,d={"Content-Type":"application/json;charset=utf-8"},f=this.defaults={transformResponse:[function(d){return t(d)&&(d=d.replace(c,""),a.test(d)&&b.test(d)&&(d=Q(d))),d}],transformRequest:[function(a){return!s(a)||A(a)||B(a)?a:P(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:I(d),put:I(d),patch:I(d)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},h=this.interceptors=[],i=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(a,b,c,d,j,l){function m(a){function b(a){var b=k({},a,{data:Vb(a.data,a.headers,d.transformResponse)});return Wb(a.status)?b:j.reject(b)}function c(a){function b(a){var b;e(a,function(c,d){w(c)&&(b=c(),null!=b?a[d]=b:delete a[d])})}var c,d,g,h=f.headers,i=k({},a.headers);h=k({},h.common,h[pd(a.method)]);a:for(c in h){d=pd(c);for(g in i)if(pd(g)===d)continue a;i[c]=h[c]}return b(i),i}var d={method:"get",transformRequest:f.transformRequest,transformResponse:f.transformResponse},g=c(a);k(d,a),d.headers=g,d.method=rd(d.method);var h=function(a){g=a.headers;var c=Vb(a.data,Ub(g),a.transformRequest);return q(c)&&e(g,function(a,b){"content-type"===pd(b)&&delete g[b]}),q(a.withCredentials)&&!q(f.withCredentials)&&(a.withCredentials=f.withCredentials),p(a,c,g).then(b,b)},i=[h,void 0],l=j.when(d);for(e(x,function(a){(a.request||a.requestError)&&i.unshift(a.request,a.requestError),(a.response||a.responseError)&&i.push(a.response,a.responseError)});i.length;){var m=i.shift(),n=i.shift();l=l.then(m,n)}return l.success=function(a){return l.then(function(b){a(b.data,b.status,b.headers,d)}),l},l.error=function(a){return l.then(null,function(b){a(b.data,b.status,b.headers,d)}),l},l}function n(){e(arguments,function(a){m[a]=function(b,c){return m(k(c||{},{method:a,url:b}))}})}function o(){e(arguments,function(a){m[a]=function(b,c,d){return m(k(d||{},{method:a,url:b,data:c}))}})}function p(c,e,g){function h(a,b,c,e){l&&(Wb(a)?l.put(t,[a,b,Tb(c),e]):l.remove(t)),i(b,a,c,e),d.$$phase||d.$apply()}function i(a,b,d,e){b=Math.max(b,0),(Wb(b)?o.resolve:o.reject)({data:a,status:b,headers:Ub(d),config:c,statusText:e})}function k(){var a=F(m.pendingRequests,c);-1!==a&&m.pendingRequests.splice(a,1)}var l,n,o=j.defer(),p=o.promise,t=u(c.url,c.params);if(m.pendingRequests.push(c),p.then(k,k),(c.cache||f.cache)&&c.cache!==!1&&"GET"==c.method&&(l=s(c.cache)?c.cache:s(f.cache)?f.cache:v),l)if(n=l.get(t),r(n)){if(n.then)return n.then(k,k),n;Fd(n)?i(n[1],n[0],I(n[2]),n[3]):i(n,200,{},"OK")}else l.put(t,p);if(q(n)){var w=Kc(c.url)?b.cookies()[c.xsrfCookieName||f.xsrfCookieName]:void 0;w&&(g[c.xsrfHeaderName||f.xsrfHeaderName]=w),a(c.method,t,e,h,g,c.timeout,c.withCredentials,c.responseType)}return p}function u(a,b){if(!b)return a;var c=[];return g(b,function(a,b){null===a||q(a)||(Fd(a)||(a=[a]),e(a,function(a){s(a)&&(a=P(a)),c.push(X(b)+"="+X(a))}))}),c.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+c.join("&")),a}var v=c("$http"),x=[];return e(h,function(a){x.unshift(t(a)?l.get(a):l.invoke(a))}),e(i,function(a,b){var c=t(a)?l.get(a):l.invoke(a);x.splice(b,0,{response:function(a){return c(j.when(a))
},responseError:function(a){return c(j.reject(a))}})}),m.pendingRequests=[],n("get","delete","head","jsonp"),o("post","put"),m.defaults=f,m}]}function Yb(b){if(8>=ud&&(!b.match(/^(get|post|head|put|delete|options)$/i)||!a.XMLHttpRequest))return new a.ActiveXObject("Microsoft.XMLHTTP");if(a.XMLHttpRequest)return new a.XMLHttpRequest;throw c("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function Zb(){this.$get=["$browser","$window","$document",function(a,b,c){return $b(a,Yb,a.defer,b.angular.callbacks,c[0])}]}function $b(a,b,c,d,f){function g(a,b,c){var e=f.createElement("script"),g=null;return e.type="text/javascript",e.src=a,e.async=!0,g=function(a){Md(e,"load",g),Md(e,"error",g),f.body.removeChild(e),e=null;var h=-1,i="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},Ld(e,"load",g),Ld(e,"error",g),8>=ud&&(e.onreadystatechange=function(){t(e.readyState)&&/loaded|complete/.test(e.readyState)&&(e.onreadystatechange=null,g({type:"load"}))}),f.body.appendChild(e),g}var h=-1;return function(f,i,j,k,l,m,o,p){function q(){t=h,v&&v(),w&&w.abort()}function s(b,d,e,f,g){y&&c.cancel(y),v=w=null,0===d&&(d=e?200:"file"==Jc(i).protocol?404:0),d=1223===d?204:d,g=g||"",b(d,e,f,g),a.$$completeOutstandingRequest(n)}var t;if(a.$$incOutstandingRequestCount(),i=i||a.url(),"jsonp"==pd(f)){var u="_"+(d.counter++).toString(36);d[u]=function(a){d[u].data=a,d[u].called=!0};var v=g(i.replace("JSON_CALLBACK","angular.callbacks."+u),u,function(a,b){s(k,a,d[u].data,"",b),d[u]=n})}else{var w=b(f);if(w.open(f,i,!0),e(l,function(a,b){r(a)&&w.setRequestHeader(b,a)}),w.onreadystatechange=function(){if(w&&4==w.readyState){var a=null,b=null,c="";t!==h&&(a=w.getAllResponseHeaders(),b="response"in w?w.response:w.responseText),t===h&&10>ud||(c=w.statusText),s(k,t||w.status,b,a,c)}},o&&(w.withCredentials=!0),p)try{w.responseType=p}catch(x){if("json"!==p)throw x}w.send(j||null)}if(m>0)var y=c(q,m);else m&&m.then&&m.then(q)}}function _b(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(f,i,j){for(var k,l,m,n,o=0,p=[],q=f.length,r=!1,s=[];q>o;)-1!=(k=f.indexOf(a,o))&&-1!=(l=f.indexOf(b,k+g))?(o!=k&&p.push(f.substring(o,k)),p.push(m=c(n=f.substring(k+g,l))),m.exp=n,o=l+h,r=!0):(o!=q&&p.push(f.substring(o)),o=q);if((q=p.length)||(p.push(""),q=1),j&&p.length>1)throw fe("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",f);return!i||r?(s.length=q,m=function(a){try{for(var b,c=0,g=q;g>c;c++){if("function"==typeof(b=p[c]))if(b=b(a),b=j?e.getTrusted(j,b):e.valueOf(b),null==b)b="";else switch(typeof b){case"string":break;case"number":b=""+b;break;default:b=P(b)}s[c]=b}return s.join("")}catch(h){var i=fe("interr","Can't interpolate: {0}\n{1}",f,h.toString());d(i)}},m.exp=f,m.parts=p,m):void 0}var g=a.length,h=b.length;return f.startSymbol=function(){return a},f.endSymbol=function(){return b},f}]}function ac(){this.$get=["$rootScope","$window","$q",function(a,b,c){function d(d,f,g,h){var i=b.setInterval,j=b.clearInterval,k=c.defer(),l=k.promise,m=0,n=r(h)&&!h;return g=r(g)?g:0,l.then(null,null,d),l.$$intervalId=i(function(){k.notify(m++),g>0&&m>=g&&(k.resolve(m),j(l.$$intervalId),delete e[l.$$intervalId]),n||a.$apply()},f),e[l.$$intervalId]=k,l}var e={};return d.cancel=function(a){return a&&a.$$intervalId in e?(e[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete e[a.$$intervalId],!0):!1},d}]}function bc(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(a){return 1===a?"one":"other"}}}}function cc(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=W(b[c]);return b.join("/")}function dc(a,b,c){var d=Jc(a,c);b.$$protocol=d.protocol,b.$$host=d.hostname,b.$$port=l(d.port)||he[d.protocol]||null}function ec(a,b,c){var d="/"!==a.charAt(0);d&&(a="/"+a);var e=Jc(a,c);b.$$path=decodeURIComponent(d&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname),b.$$search=U(e.search),b.$$hash=decodeURIComponent(e.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function fc(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function gc(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function hc(a){return a.substr(0,gc(a).lastIndexOf("/")+1)}function ic(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function jc(a,b){this.$$html5=!0,b=b||"";var c=hc(a);dc(a,this,a),this.$$parse=function(b){var d=fc(c,b);if(!t(d))throw ie("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',b,c);ec(d,this,a),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=V(this.$$search),b=this.$$hash?"#"+W(this.$$hash):"";this.$$url=cc(this.$$path)+(a?"?"+a:"")+b,this.$$absUrl=c+this.$$url.substr(1)},this.$$rewrite=function(d){var e,f;return void 0!==(e=fc(a,d))?(f=e,void 0!==(e=fc(b,e))?c+(fc("/",e)||e):a+f):void 0!==(e=fc(c,d))?c+e:c==d+"/"?c:void 0}}function kc(a,b){var c=hc(a);dc(a,this,a),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f=fc(a,d)||fc(c,d),g="#"==f.charAt(0)?fc(b,f):this.$$html5?f:"";if(!t(g))throw ie("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',d,b);ec(g,this,a),this.$$path=e(this.$$path,g,a),this.$$compose()},this.$$compose=function(){var c=V(this.$$search),d=this.$$hash?"#"+W(this.$$hash):"";this.$$url=cc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+(this.$$url?b+this.$$url:"")},this.$$rewrite=function(b){return gc(a)==gc(b)?b:void 0}}function lc(a,b){this.$$html5=!0,kc.apply(this,arguments);var c=hc(a);this.$$rewrite=function(d){var e;return a==gc(d)?d:(e=fc(c,d))?a+b+e:c===d+"/"?c:void 0},this.$$compose=function(){var c=V(this.$$search),d=this.$$hash?"#"+W(this.$$hash):"";this.$$url=cc(this.$$path)+(c?"?"+c:"")+d,this.$$absUrl=a+b+this.$$url}}function mc(a){return function(){return this[a]}}function nc(a,b){return function(c){return q(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function oc(){var b="",c=!1;this.hashPrefix=function(a){return r(a)?(b=a,this):b},this.html5Mode=function(a){return r(a)?(c=a,this):c},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(d,e,f,g){function h(a){d.$broadcast("$locationChangeSuccess",i.absUrl(),a)}var i,j,k,l=e.baseHref(),m=e.url();c?(k=ic(m)+(l||"/"),j=f.history?jc:lc):(k=gc(m),j=kc),i=new j(k,"#"+b),i.$$parse(i.$$rewrite(m)),g.on("click",function(c){if(!c.ctrlKey&&!c.metaKey&&2!=c.which){for(var f=vd(c.target);"a"!==pd(f[0].nodeName);)if(f[0]===g[0]||!(f=f.parent())[0])return;var h=f.prop("href");if(s(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Jc(h.animVal).href),j===lc){var l=f.attr("href")||f.attr("xlink:href");if(l.indexOf("://")<0){var m="#"+b;if("/"==l[0])h=k+m+l;else if("#"==l[0])h=k+m+(i.path()||"/")+l;else{for(var n=i.path().split("/"),o=l.split("/"),p=0;p<o.length;p++)"."!=o[p]&&(".."==o[p]?n.pop():o[p].length&&n.push(o[p]));h=k+m+n.join("/")}}}var q=i.$$rewrite(h);h&&!f.attr("target")&&q&&!c.isDefaultPrevented()&&(c.preventDefault(),q!=e.url()&&(i.$$parse(q),d.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),i.absUrl()!=m&&e.url(i.absUrl(),!0),e.onUrlChange(function(a){i.absUrl()!=a&&(d.$evalAsync(function(){var b=i.absUrl();i.$$parse(a),d.$broadcast("$locationChangeStart",a,b).defaultPrevented?(i.$$parse(b),e.url(b)):h(b)}),d.$$phase||d.$digest())});var n=0;return d.$watch(function(){var a=e.url(),b=i.$$replace;return n&&a==i.absUrl()||(n++,d.$evalAsync(function(){d.$broadcast("$locationChangeStart",i.absUrl(),a).defaultPrevented?i.$$parse(a):(e.url(i.absUrl(),b),h(a))})),i.$$replace=!1,n}),i}]}function pc(){var a=!0,b=this;this.debugEnabled=function(b){return r(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function f(a){var b=c.console||{},f=b[a]||b.log||n,g=!1;try{g=!!f.apply}catch(h){}return g?function(){var a=[];return e(arguments,function(b){a.push(d(b))}),f.apply(b,a)}:function(a,b){f(a,null==b?"":b)}}return{log:f("log"),info:f("info"),warn:f("warn"),error:f("error"),debug:function(){var c=f("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function qc(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ke("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function rc(a,b){if(a){if(a.constructor===a)throw ke("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.document&&a.location&&a.alert&&a.setInterval)throw ke("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ke("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw ke("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function sc(a,b){if(a){if(a.constructor===a)throw ke("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===me||a===ne||oe&&a===oe)throw ke("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function tc(a,b,c,d,e){e=e||{};for(var f,g=b.split("."),h=0;g.length>1;h++){f=qc(g.shift(),d);var i=a[f];i||(i={},a[f]=i),a=i,a.then&&e.unwrapPromises&&(je(d),"$$v"in a||!function(a){a.then(function(b){a.$$v=b})}(a),void 0===a.$$v&&(a.$$v={}),a=a.$$v)}return f=qc(g.shift(),d),rc(a,d),rc(a[f],d),a[f]=c,c}function uc(a,b,c,d,e,f,g){return qc(a,f),qc(b,f),qc(c,f),qc(d,f),qc(e,f),g.unwrapPromises?function(g,h){var i,j=h&&h.hasOwnProperty(a)?h:g;return null==j?j:(j=j[a],j&&j.then&&(je(f),"$$v"in j||(i=j,i.$$v=void 0,i.then(function(a){i.$$v=a})),j=j.$$v),b?null==j?void 0:(j=j[b],j&&j.then&&(je(f),"$$v"in j||(i=j,i.$$v=void 0,i.then(function(a){i.$$v=a})),j=j.$$v),c?null==j?void 0:(j=j[c],j&&j.then&&(je(f),"$$v"in j||(i=j,i.$$v=void 0,i.then(function(a){i.$$v=a})),j=j.$$v),d?null==j?void 0:(j=j[d],j&&j.then&&(je(f),"$$v"in j||(i=j,i.$$v=void 0,i.then(function(a){i.$$v=a})),j=j.$$v),e?null==j?void 0:(j=j[e],j&&j.then&&(je(f),"$$v"in j||(i=j,i.$$v=void 0,i.then(function(a){i.$$v=a})),j=j.$$v),j):j):j):j):j)}:function(f,g){var h=g&&g.hasOwnProperty(a)?g:f;return null==h?h:(h=h[a],b?null==h?void 0:(h=h[b],c?null==h?void 0:(h=h[c],d?null==h?void 0:(h=h[d],e?null==h?void 0:h=h[e]:h):h):h):h)}}function vc(a,b,c){if(te.hasOwnProperty(a))return te[a];var d,f=a.split("."),g=f.length;if(b.csp)d=6>g?uc(f[0],f[1],f[2],f[3],f[4],c,b):function(a,d){var e,h=0;do e=uc(f[h++],f[h++],f[h++],f[h++],f[h++],c,b)(a,d),d=void 0,a=e;while(g>h);return e};else{var h="var p;\n";e(f,function(a,d){qc(a,c),h+="if(s == null) return undefined;\ns="+(d?"s":'((k&&k.hasOwnProperty("'+a+'"))?k:s)')+'["'+a+'"];\n'+(b.unwrapPromises?'if (s && s.then) {\n pw("'+c.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),h+="return s;";var i=new Function("s","k","pw",h);i.toString=p(h),d=b.unwrapPromises?function(a,b){return i(a,b,je)}:i}return"hasOwnProperty"!==a&&(te[a]=d),d}function wc(){var a={},b={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(a){return r(a)?(b.unwrapPromises=!!a,this):b.unwrapPromises},this.logPromiseWarnings=function(a){return r(a)?(b.logPromiseWarnings=a,this):b.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function(c,d,e){return b.csp=d.csp,je=function(a){b.logPromiseWarnings&&!le.hasOwnProperty(a)&&(le[a]=!0,e.warn("[$parse] Promise found in the expression `"+a+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(d){var e;switch(typeof d){case"string":if(a.hasOwnProperty(d))return a[d];var f=new re(b),g=new se(f,c,b);return e=g.parse(d),"hasOwnProperty"!==d&&(a[d]=e),e;case"function":return d;default:return n}}}]}function xc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return yc(function(b){a.$evalAsync(b)},b)}]}function yc(a,b){function c(a){return a}function d(a){return i(a)}function f(a){var b=g(),c=0,d=Fd(a)?[]:{};return e(a,function(a,e){c++,h(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var g=function(){var e,f,i=[];return f={resolve:function(b){if(i){var c=i;i=void 0,e=h(b),c.length&&a(function(){for(var a,b=0,d=c.length;d>b;b++)a=c[b],e.then(a[0],a[1],a[2])})}},reject:function(a){f.resolve(j(a))},notify:function(b){if(i){var c=i;i.length&&a(function(){for(var a,d=0,e=c.length;e>d;d++)a=c[d],a[2](b)})}},promise:{then:function(a,f,h){var j=g(),k=function(d){try{j.resolve((w(a)?a:c)(d))}catch(e){j.reject(e),b(e)}},l=function(a){try{j.resolve((w(f)?f:d)(a))}catch(c){j.reject(c),b(c)}},m=function(a){try{j.notify((w(h)?h:c)(a))}catch(d){b(d)}};return i?i.push([k,l,m]):e.then(k,l,m),j.promise},"catch":function(a){return this.then(null,a)},"finally":function(a){function b(a,b){var c=g();return b?c.resolve(a):c.reject(a),c.promise}function d(d,e){var f=null;try{f=(a||c)()}catch(g){return b(g,!1)}return f&&w(f.then)?f.then(function(){return b(d,e)},function(a){return b(a,!1)}):b(d,e)}return this.then(function(a){return d(a,!0)},function(a){return d(a,!1)})}}}},h=function(b){return b&&w(b.then)?b:{then:function(c){var d=g();return a(function(){d.resolve(c(b))}),d.promise}}},i=function(a){var b=g();return b.reject(a),b.promise},j=function(c){return{then:function(e,f){var h=g();return a(function(){try{h.resolve((w(f)?f:d)(c))}catch(a){h.reject(a),b(a)}}),h.promise}}},k=function(e,f,j,k){var l,m=g(),n=function(a){try{return(w(f)?f:c)(a)}catch(d){return b(d),i(d)}},o=function(a){try{return(w(j)?j:d)(a)}catch(c){return b(c),i(c)}},p=function(a){try{return(w(k)?k:c)(a)}catch(d){b(d)}};return a(function(){h(e).then(function(a){l||(l=!0,m.resolve(h(a).then(n,o,p)))},function(a){l||(l=!0,m.resolve(o(a)))},function(a){l||m.notify(p(a))})}),m.promise};return{defer:g,reject:i,when:k,all:f}}function zc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.mozCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function Ac(){var a=10,b=c("$rootScope"),f=null;this.digestTtl=function(b){return arguments.length&&(a=b),a},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(c,g,h,j){function k(){this.$id=i(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function l(a){if(r.$$phase)throw b("inprog","{0} already in progress",r.$$phase);r.$$phase=a}function m(){r.$$phase=null}function o(a,b){var c=h(a);return bb(c,b),c}function p(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function q(){}k.prototype={constructor:k,$new:function(a){var b;return a?(b=new k,b.$root=this.$root,b.$$asyncQueue=this.$$asyncQueue,b.$$postDigestQueue=this.$$postDigestQueue):(this.$$childScopeClass||(this.$$childScopeClass=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=i(),this.$$childScopeClass=null},this.$$childScopeClass.prototype=this),b=new this.$$childScopeClass),b["this"]=b,b.$parent=this,b.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=b,this.$$childTail=b):this.$$childHead=this.$$childTail=b,b},$watch:function(a,b,c){var d=this,e=o(a,"watch"),g=d.$$watchers,h={fn:b,last:q,get:e,exp:a,eq:!!c};if(f=null,!w(b)){var i=o(b||n,"listener");h.fn=function(a,b,c){i(c)}}if("string"==typeof a&&e.constant){var j=h.fn;h.fn=function(a,b,c){j.call(this,a,b,c),G(g,h)}}return g||(g=d.$$watchers=[]),g.unshift(h),function(){G(g,h),f=null}},$watchCollection:function(a,b){function c(){f=m(j);var a,b;if(s(f))if(d(f)){g!==n&&(g=n,q=g.length=0,l++),a=f.length,q!==a&&(l++,g.length=q=a);for(var c=0;a>c;c++){var e=g[c]!==g[c]&&f[c]!==f[c];e||g[c]===f[c]||(l++,g[c]=f[c])}}else{g!==o&&(g=o={},q=0,l++),a=0;for(b in f)f.hasOwnProperty(b)&&(a++,g.hasOwnProperty(b)?g[b]!==f[b]&&(l++,g[b]=f[b]):(q++,g[b]=f[b],l++));if(q>a){l++;for(b in g)g.hasOwnProperty(b)&&!f.hasOwnProperty(b)&&(q--,delete g[b])}}else g!==f&&(g=f,l++);return l}function e(){if(p?(p=!1,b(f,f,j)):b(f,i,j),k)if(s(f))if(d(f)){i=new Array(f.length);for(var a=0;a<f.length;a++)i[a]=f[a]}else{i={};for(var c in f)qd.call(f,c)&&(i[c]=f[c])}else i=f}var f,g,i,j=this,k=b.length>1,l=0,m=h(a),n=[],o={},p=!0,q=0;return this.$watch(c,e)},$digest:function(){var c,d,e,h,i,j,k,n,o,p,r,s=this.$$asyncQueue,t=this.$$postDigestQueue,u=a,v=this,x=[];l("$digest"),f=null;do{for(j=!1,n=v;s.length;){try{r=s.shift(),r.scope.$eval(r.expression)}catch(y){m(),g(y)}f=null}a:do{if(h=n.$$watchers)for(i=h.length;i--;)try{if(c=h[i])if((d=c.get(n))===(e=c.last)||(c.eq?J(d,e):"number"==typeof d&&"number"==typeof e&&isNaN(d)&&isNaN(e))){if(c===f){j=!1;break a}}else j=!0,f=c,c.last=c.eq?H(d,null):d,c.fn(d,e===q?d:e,n),5>u&&(o=4-u,x[o]||(x[o]=[]),p=w(c.exp)?"fn: "+(c.exp.name||c.exp.toString()):c.exp,p+="; newVal: "+P(d)+"; oldVal: "+P(e),x[o].push(p))}catch(y){m(),g(y)}if(!(k=n.$$childHead||n!==v&&n.$$nextSibling))for(;n!==v&&!(k=n.$$nextSibling);)n=n.$parent}while(n=k);if((j||s.length)&&!u--)throw m(),b("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",a,P(x))}while(j||s.length);for(m();t.length;)try{t.shift()()}catch(y){g(y)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==r&&(e(this.$$listenerCount,N(null,p,this)),a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=null,this.$$listeners={},this.$$watchers=this.$$asyncQueue=this.$$postDigestQueue=[],this.$destroy=this.$digest=this.$apply=n,this.$on=this.$watch=function(){return n})}},$eval:function(a,b){return h(a)(this,b)},$evalAsync:function(a){r.$$phase||r.$$asyncQueue.length||j.defer(function(){r.$$asyncQueue.length&&r.$digest()}),this.$$asyncQueue.push({scope:this,expression:a})},$$postDigest:function(a){this.$$postDigestQueue.push(a)},$apply:function(a){try{return l("$apply"),this.$eval(a)}catch(b){g(b)}finally{m();try{r.$digest()}catch(b){throw g(b),b}}},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){c[F(c,b)]=null,p(e,1,a)}},$emit:function(a){var b,c,d,e=[],f=this,h=!1,i={name:a,targetScope:f,stopPropagation:function(){h=!0},preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=L([i],arguments,1);do{for(b=f.$$listeners[a]||e,i.currentScope=f,c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){g(k)}else b.splice(c,1),c--,d--;if(h)return i;f=f.$parent}while(f);return i},$broadcast:function(a){for(var b,c,d,e=this,f=e,h=e,i={name:a,targetScope:e,preventDefault:function(){i.defaultPrevented=!0},defaultPrevented:!1},j=L([i],arguments,1);f=h;){for(i.currentScope=f,b=f.$$listeners[a]||[],c=0,d=b.length;d>c;c++)if(b[c])try{b[c].apply(null,j)}catch(k){g(k)}else b.splice(c,1),c--,d--;if(!(h=f.$$listenerCount[a]&&f.$$childHead||f!==e&&f.$$nextSibling))for(;f!==e&&!(h=f.$$nextSibling);)f=f.$parent}return i}};var r=new k;return r}]}function Bc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(b){return r(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return r(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return ud&&!(ud>=8)||(e=Jc(c).href,""===e||e.match(f))?c:"unsafe:"+e}}}function Cc(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function Dc(a){if("self"===a)return a;if(t(a)){if(a.indexOf("***")>-1)throw ue("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Cc(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(x(a))return new RegExp("^"+a.source+"$");throw ue("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Ec(a){var b=[];return r(a)&&e(a,function(a){b.push(Dc(a))}),b}function Fc(){this.SCE_CONTEXTS=ve;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=Ec(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=Ec(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Kc(b):!!a.exec(b.href)}function e(c){var e,f,g=Jc(c.toString()),h=!1;for(e=0,f=a.length;f>e;e++)if(d(a[e],g)){h=!0;break}if(h)for(e=0,f=b.length;f>e;e++)if(d(b[e],g)){h=!1;break}return h}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function g(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw ue("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||void 0===b||""===b)return b;if("string"!=typeof b)throw ue("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function h(a){return a instanceof k?a.$$unwrapTrustedValue():a}function i(a,b){if(null===b||void 0===b||""===b)return b;var c=l.hasOwnProperty(a)?l[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===ve.RESOURCE_URL){if(e(b))return b;throw ue("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===ve.HTML)return j(b);throw ue("unsafe","Attempting to use an unsafe value in a safe context.")}var j=function(){throw ue("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(j=c.get("$sanitize"));var k=f(),l={};return l[ve.HTML]=f(k),l[ve.CSS]=f(k),l[ve.URL]=f(k),l[ve.JS]=f(k),l[ve.RESOURCE_URL]=f(l[ve.URL]),{trustAs:g,getTrusted:i,valueOf:h}}]}function Gc(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sniffer","$sceDelegate",function(b,c,d){if(a&&c.msie&&c.msieDocumentMode<8)throw ue("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var f=I(ve);f.isEnabled=function(){return a},f.trustAs=d.trustAs,f.getTrusted=d.getTrusted,f.valueOf=d.valueOf,a||(f.trustAs=f.getTrusted=function(a,b){return b},f.valueOf=o),f.parseAs=function(a,c){var d=b(c);return d.literal&&d.constant?d:function(b,c){return f.getTrusted(a,d(b,c))}};var g=f.parseAs,h=f.getTrusted,i=f.trustAs;return e(ve,function(a,b){var c=pd(b);f[ib("parse_as_"+c)]=function(b){return g(a,b)},f[ib("get_trusted_"+c)]=function(b){return h(a,b)},f[ib("trust_as_"+c)]=function(b){return i(a,b)}}),f}]}function Hc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=l((/android (\d+)/.exec(pd((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=h.documentMode,j=/^(Moz|webkit|O|ms)(?=[A-Z])/,k=h.body&&h.body.style,m=!1,n=!1;if(k){for(var o in k)if(d=j.exec(o)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in k&&"webkit"),m=!!("transition"in k||c+"Transition"in k),n=!!("animation"in k||c+"Animation"in k),!f||m&&n||(m=t(h.body.style.webkitTransition),n=t(h.body.style.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hashchange:"onhashchange"in a&&(!i||i>7),hasEvent:function(a){if("input"==a&&9==ud)return!1;if(q(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:K(),vendorPrefix:c,transitions:m,animations:n,android:f,msie:ud,msieDocumentMode:i}}]}function Ic(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(a,b,c,d){function e(e,g,h){var i,j=c.defer(),k=j.promise,l=r(h)&&!h;return i=b.defer(function(){try{j.resolve(e())}catch(b){j.reject(b),d(b)}finally{delete f[k.$$timeoutId]}l||a.$apply()},g),k.$$timeoutId=i,f[i]=j,k}var f={};return e.cancel=function(a){return a&&a.$$timeoutId in f?(f[a.$$timeoutId].reject("canceled"),delete f[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},e}]}function Jc(a){var b=a;return ud&&(we.setAttribute("href",b),b=we.href),we.setAttribute("href",b),{href:we.href,protocol:we.protocol?we.protocol.replace(/:$/,""):"",host:we.host,search:we.search?we.search.replace(/^\?/,""):"",hash:we.hash?we.hash.replace(/^#/,""):"",hostname:we.hostname,port:we.port,pathname:"/"===we.pathname.charAt(0)?we.pathname:"/"+we.pathname}}function Kc(a){var b=t(a)?Jc(a):a;return b.protocol===xe.protocol&&b.host===xe.host}function Lc(){this.$get=p(a)}function Mc(a){function b(d,f){if(s(d)){var g={};return e(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,f)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Oc),b("date",Wc),b("filter",Nc),b("json",Xc),b("limitTo",Yc),b("lowercase",Ce),b("number",Pc),b("orderBy",Zc),b("uppercase",De)}function Nc(){return function(a,b,c){if(!Fd(a))return a;var d=typeof c,e=[];e.check=function(a){for(var b=0;b<e.length;b++)if(!e[b](a))return!1;return!0},"function"!==d&&(c="boolean"===d&&c?function(a,b){return Dd.equals(a,b)}:function(a,b){if(a&&b&&"object"==typeof a&&"object"==typeof b){for(var d in a)if("$"!==d.charAt(0)&&qd.call(a,d)&&c(a[d],b[d]))return!0;return!1}return b=(""+b).toLowerCase(),(""+a).toLowerCase().indexOf(b)>-1});var f=function(a,b){if("string"==typeof b&&"!"===b.charAt(0))return!f(a,b.substr(1));switch(typeof a){case"boolean":case"number":case"string":return c(a,b);case"object":switch(typeof b){case"object":return c(a,b);default:for(var d in a)if("$"!==d.charAt(0)&&f(a[d],b))return!0}return!1;case"array":for(var e=0;e<a.length;e++)if(f(a[e],b))return!0;return!1;default:return!1}};switch(typeof b){case"boolean":case"number":case"string":b={$:b};case"object":for(var g in b)!function(a){"undefined"!=typeof b[a]&&e.push(function(c){return f("$"==a?c:c&&c[a],b[a])})}(g);break;case"function":e.push(b);break;default:return a}for(var h=[],i=0;i<a.length;i++){var j=a[i];e.check(j)&&h.push(j)}return h}}function Oc(a){var b=a.NUMBER_FORMATS;return function(a,c){return q(c)&&(c=b.CURRENCY_SYM),Qc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,2).replace(/\u00A4/g,c)}}function Pc(a){var b=a.NUMBER_FORMATS;return function(a,c){return Qc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Qc(a,b,c,d,e){if(null==a||!isFinite(a)||s(a))return"";var f=0>a;a=Math.abs(a);var g=a+"",h="",i=[],j=!1;if(-1!==g.indexOf("e")){var k=g.match(/([\d\.]+)e(-?)(\d+)/);k&&"-"==k[2]&&k[3]>e+1?(g="0",a=0):(h=g,j=!0)}if(j)e>0&&a>-1&&1>a&&(h=a.toFixed(e));else{var l=(g.split(ye)[1]||"").length;q(e)&&(e=Math.min(Math.max(b.minFrac,l),b.maxFrac)),a=+(Math.round(+(a.toString()+"e"+e)).toString()+"e"+-e);var m=(""+a).split(ye),n=m[0];m=m[1]||"";var o,p=0,r=b.lgSize,t=b.gSize;if(n.length>=r+t)for(p=n.length-r,o=0;p>o;o++)(p-o)%t===0&&0!==o&&(h+=c),h+=n.charAt(o);for(o=p;o<n.length;o++)(n.length-o)%r===0&&0!==o&&(h+=c),h+=n.charAt(o);for(;m.length<e;)m+="0";e&&"0"!==e&&(h+=d+m.substr(0,e))}return i.push(f?b.negPre:b.posPre),i.push(h),i.push(f?b.negSuf:b.posSuf),i.join("")}function Rc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a="0"+a;return c&&(a=a.substr(a.length-b)),d+a}function Sc(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),Rc(f,b,d)}}function Tc(a,b){return function(c,d){var e=c["get"+a](),f=rd(b?"SHORT"+a:a);return d[f][e]}}function Uc(a){var b=-1*a.getTimezoneOffset(),c=b>=0?"+":"";return c+=Rc(Math[b>0?"floor":"ceil"](b/60),2)+Rc(Math.abs(b%60),2)}function Vc(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function Wc(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=l(b[9]+b[10]),f=l(b[9]+b[11])),g.call(d,l(b[1]),l(b[2])-1,l(b[3]));var i=l(b[4]||0)-e,j=l(b[5]||0)-f,k=l(b[6]||0),m=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,m),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d){var f,g,h="",i=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,t(c)&&(c=Be.test(c)?l(c):b(c)),u(c)&&(c=new Date(c)),!v(c))return c;for(;d;)g=Ae.exec(d),g?(i=L(i,g,1),d=i.pop()):(i.push(d),d=null);return e(i,function(b){f=ze[b],h+=f?f(c,a.DATETIME_FORMATS):b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),h}}function Xc(){return function(a){return P(a,!0)}}function Yc(){return function(a,b){if(!Fd(a)&&!t(a))return a;if(b=1/0===Math.abs(Number(b))?Number(b):l(b),t(a))return b?b>=0?a.slice(0,b):a.slice(b,a.length):"";var c,d,e=[];for(b>a.length?b=a.length:b<-a.length&&(b=-a.length),b>0?(c=0,d=b):(c=a.length+b,d=a.length);d>c;c++)e.push(a[c]);return e}}function Zc(a){return function(b,c,d){function e(a,b){for(var d=0;d<c.length;d++){var e=c[d](a,b);if(0!==e)return e}return 0}function f(a,b){return R(b)?function(b,c){return a(c,b)}:a}function g(a,b){var c=typeof a,d=typeof b;return c==d?("string"==c&&(a=a.toLowerCase(),b=b.toLowerCase()),a===b?0:b>a?-1:1):d>c?-1:1}if(!Fd(b))return b;if(!c)return b;c=Fd(c)?c:[c],c=D(c,function(b){var c=!1,d=b||o;if(t(b)&&(("+"==b.charAt(0)||"-"==b.charAt(0))&&(c="-"==b.charAt(0),b=b.substring(1)),d=a(b),d.constant)){var e=d();return f(function(a,b){return g(a[e],b[e])},c)}return f(function(a,b){return g(d(a),d(b))},c)});for(var h=[],i=0;i<b.length;i++)h.push(b[i]);return h.sort(f(e,d))}}function $c(a){return w(a)&&(a={link:a}),a.restrict=a.restrict||"AC",p(a)}function _c(a,b,c,d){function f(b,c){c=c?"-"+$(c,"-"):"",d.removeClass(a,(b?Re:Qe)+c),d.addClass(a,(b?Qe:Re)+c)}var g=this,h=a.parent().controller("form")||Ge,i=0,j=g.$error={},k=[];g.$name=b.name||b.ngForm,g.$dirty=!1,g.$pristine=!0,g.$valid=!0,g.$invalid=!1,h.$addControl(g),a.addClass(Se),f(!0),g.$addControl=function(a){cb(a.$name,"input"),k.push(a),a.$name&&(g[a.$name]=a)
},g.$removeControl=function(a){a.$name&&g[a.$name]===a&&delete g[a.$name],e(j,function(b,c){g.$setValidity(c,!0,a)}),G(k,a)},g.$setValidity=function(a,b,c){var d=j[a];if(b)d&&(G(d,c),d.length||(i--,i||(f(b),g.$valid=!0,g.$invalid=!1),j[a]=!1,f(!0,a),h.$setValidity(a,!0,g)));else{if(i||f(b),d){if(E(d,c))return}else j[a]=d=[],i++,f(!1,a),h.$setValidity(a,!1,g);d.push(c),g.$valid=!1,g.$invalid=!0}},g.$setDirty=function(){d.removeClass(a,Se),d.addClass(a,Te),g.$dirty=!0,g.$pristine=!1,h.$setDirty()},g.$setPristine=function(){d.removeClass(a,Te),d.addClass(a,Se),g.$dirty=!1,g.$pristine=!0,e(k,function(a){a.$setPristine()})}}function ad(a,b,c,d){return a.$setValidity(b,c),c?d:void 0}function bd(a,b){var c,d;if(b)for(c=0;c<b.length;++c)if(d=b[c],a[d])return!0;return!1}function cd(a,b,c,d,e){if(s(e)){a.$$hasNativeValidators=!0;var f=function(f){return a.$error[b]||bd(e,d)||!bd(e,c)?f:void a.$setValidity(b,!1)};a.$parsers.push(f)}}function dd(a,b,d,e,f,g){var h=b.prop(od),i=b[0].placeholder,j={};if(e.$$validityState=h,!f.android){var k=!1;b.on("compositionstart",function(){k=!0}),b.on("compositionend",function(){k=!1,m()})}var m=function(c){if(!k){var f=b.val();if(ud&&"input"===(c||j).type&&b[0].placeholder!==i)return void(i=b[0].placeholder);R(d.ngTrim||"T")&&(f=Gd(f));var g=h&&e.$$hasNativeValidators;(e.$viewValue!==f||""===f&&g)&&(a.$$phase?e.$setViewValue(f):a.$apply(function(){e.$setViewValue(f)}))}};if(f.hasEvent("input"))b.on("input",m);else{var n,o=function(){n||(n=g.defer(function(){m(),n=null}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||o()}),f.hasEvent("paste")&&b.on("paste cut",o)}b.on("change",m),e.$render=function(){b.val(e.$isEmpty(e.$viewValue)?"":e.$viewValue)};var p,q,r=d.ngPattern;if(r){var s=function(a,b){return ad(e,"pattern",e.$isEmpty(b)||a.test(b),b)};q=r.match(/^\/(.*)\/([gim]*)$/),q?(r=new RegExp(q[1],q[2]),p=function(a){return s(r,a)}):p=function(d){var e=a.$eval(r);if(!e||!e.test)throw c("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",r,e,S(b));return s(e,d)},e.$formatters.push(p),e.$parsers.push(p)}if(d.ngMinlength){var t=l(d.ngMinlength),u=function(a){return ad(e,"minlength",e.$isEmpty(a)||a.length>=t,a)};e.$parsers.push(u),e.$formatters.push(u)}if(d.ngMaxlength){var v=l(d.ngMaxlength),w=function(a){return ad(e,"maxlength",e.$isEmpty(a)||a.length<=v,a)};e.$parsers.push(w),e.$formatters.push(w)}}function ed(a,b,c,d,e,f){if(dd(a,b,c,d,e,f),d.$parsers.push(function(a){var b=d.$isEmpty(a);return b||Me.test(a)?(d.$setValidity("number",!0),""===a?null:b?a:parseFloat(a)):void d.$setValidity("number",!1)}),cd(d,"number",Oe,null,d.$$validityState),d.$formatters.push(function(a){return d.$isEmpty(a)?"":""+a}),c.min){var g=function(a){var b=parseFloat(c.min);return ad(d,"min",d.$isEmpty(a)||a>=b,a)};d.$parsers.push(g),d.$formatters.push(g)}if(c.max){var h=function(a){var b=parseFloat(c.max);return ad(d,"max",d.$isEmpty(a)||b>=a,a)};d.$parsers.push(h),d.$formatters.push(h)}d.$formatters.push(function(a){return ad(d,"number",d.$isEmpty(a)||u(a),a)})}function fd(a,b,c,d,e,f){dd(a,b,c,d,e,f);var g=function(a){return ad(d,"url",d.$isEmpty(a)||Ke.test(a),a)};d.$formatters.push(g),d.$parsers.push(g)}function gd(a,b,c,d,e,f){dd(a,b,c,d,e,f);var g=function(a){return ad(d,"email",d.$isEmpty(a)||Le.test(a),a)};d.$formatters.push(g),d.$parsers.push(g)}function hd(a,b,c,d){q(c.name)&&b.attr("name",i()),b.on("click",function(){b[0].checked&&a.$apply(function(){d.$setViewValue(c.value)})}),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function id(a,b,c,d){var e=c.ngTrueValue,f=c.ngFalseValue;t(e)||(e=!0),t(f)||(f=!1),b.on("click",function(){a.$apply(function(){d.$setViewValue(b[0].checked)})}),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a!==e},d.$formatters.push(function(a){return a===e}),d.$parsers.push(function(a){return a?e:f})}function jd(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function f(a){if(Fd(a))return a;if(t(a))return a.split(" ");if(s(a)){var b=[];return e(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b}return a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||{},d=[];return e(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);f=l(f,-1),e=l(e,1),0===e.length?c.removeClass(h,f):0===f.length?c.addClass(h,e):c.setClass(h,e,f)}function n(a){if(b===!0||g.$index%2===b){var c=f(a||[]);if(o){if(!J(a,o)){var d=f(o);m(d,c)}}else j(c)}o=I(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var e=1&c;if(e!==(1&d)){var h=f(g.$eval(i[a]));e===b?j(h):k(h)}})}}}]}function kd(a,b,c){function d(f,g){if(g&&g>e&&(e=g),f||e>=a.length)c(f);else try{b(a[e++],d)}catch(h){c(h)}}var e=0;d()}function ld(a,b){b=b||5;var c=a.toString();if(a.stack){var d=a.stack.split("\n");-1===d[0].indexOf(c)&&(b++,d.unshift(a.message)),c=d.slice(0,b).join("\n")}return c}function md(a){var b=new Error;return function(){var c=(b.stack||"").split("\n")[a];return c&&(c=-1!==c.indexOf("@")?c.substring(c.indexOf("@")+1):c.substring(c.indexOf("(")+1).replace(")","")),c||""}}var nd=a.jQuery.noConflict(!0),od="validity",pd=function(a){return t(a)?a.toLowerCase():a},qd=Object.prototype.hasOwnProperty,rd=function(a){return t(a)?a.toUpperCase():a},sd=function(a){return t(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},td=function(a){return t(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(pd=sd,rd=td);var ud,vd,wd,xd,yd,zd=[].slice,Ad=[].push,Bd=Object.prototype.toString,Cd=c("ng"),Dd=a.angular||(a.angular={}),Ed=["0","0","0"];ud=l((/msie (\d+)/.exec(pd(navigator.userAgent))||[])[1]),isNaN(ud)&&(ud=l((/trident\/.*; rv:(\d+)/.exec(pd(navigator.userAgent))||[])[1])),n.$inject=[],o.$inject=[];var Fd=function(){return w(Array.isArray)?Array.isArray:function(a){return"[object Array]"===Bd.call(a)}}(),Gd=function(){return String.prototype.trim?function(a){return t(a)?a.trim():a}:function(a){return t(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}();yd=9>ud?function(a){return a=a.nodeName?a:a[0],a.scopeName&&"HTML"!=a.scopeName?rd(a.scopeName+":"+a.nodeName):a.nodeName}:function(a){return a.nodeName?a.nodeName:a[0].nodeName};var Hd=/[A-Z]/g,Id={full:"1.2.20",major:1,minor:2,dot:20,codeName:"accidental-beautification"};nb.expando="ng339";var Jd=nb.cache={},Kd=1,Ld=a.document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(a,b,c){a.attachEvent("on"+b,c)},Md=a.document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)},Nd=(nb._data=function(a){return this.cache[a[this.expando]]||{}},/([\:\-\_]+(.))/g),Od=/^moz([A-Z])/,Pd=c("jqLite"),Qd=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Rd=/<|&#?\w+;/,Sd=/<([\w:]+)/,Td=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ud={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ud.optgroup=Ud.option,Ud.tbody=Ud.tfoot=Ud.colgroup=Ud.caption=Ud.thead,Ud.th=Ud.td;var Vd=nb.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),nb(a).on("load",d))},toString:function(){var a=[];return e(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return vd(a>=0?this[a]:this[this.length+a])},length:0,push:Ad,sort:[].sort,splice:[].splice},Wd={};e("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){Wd[pd(a)]=a});var Xd={};e("input,select,option,textarea,button,form,details".split(","),function(a){Xd[rd(a)]=!0}),e({data:tb,inheritedData:zb,scope:function(a){return vd(a).data("$scope")||zb(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return vd(a).data("$isolateScope")||vd(a).data("$isolateScopeNoTemplate")},controller:yb,injector:function(a){return zb(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:ub,css:function(a,b,c){if(b=ib(b),!r(c)){var d;return 8>=ud&&(d=a.currentStyle&&a.currentStyle[b],""===d&&(d="auto")),d=d||a.style[b],8>=ud&&(d=""===d?void 0:d),d}a.style[b]=c},attr:function(a,b,c){var d=pd(b);if(Wd[d]){if(!r(c))return a[b]||(a.attributes.getNamedItem(b)||n).specified?d:void 0;c?(a[b]=!0,a.setAttribute(b,d)):(a[b]=!1,a.removeAttribute(d))}else if(r(c))a.setAttribute(b,c);else if(a.getAttribute){var e=a.getAttribute(b,2);return null===e?void 0:e}},prop:function(a,b,c){return r(c)?void(a[b]=c):a[b]},text:function(){function a(a,c){var d=b[a.nodeType];return q(c)?d?a[d]:"":void(a[d]=c)}var b=[];return 9>ud?(b[1]="innerText",b[3]="nodeValue"):b[1]=b[3]="textContent",a.$dv="",a}(),val:function(a,b){if(q(b)){if("SELECT"===yd(a)&&a.multiple){var c=[];return e(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){if(q(b))return a.innerHTML;for(var c=0,d=a.childNodes;c<d.length;c++)pb(d[c]);a.innerHTML=b},empty:Ab},function(a,b){nb.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Ab&&void 0===(2==a.length&&a!==ub&&a!==yb?b:c)){if(s(b)){for(d=0;f>d;d++)if(a===tb)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=void 0===g?Math.min(f,1):f,i=0;h>i;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;f>d;d++)a(this[d],b,c);return this}}),e({removeData:rb,dealoc:pb,on:function Hf(a,c,d,f){if(r(f))throw Pd("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var g=sb(a,"events"),h=sb(a,"handle");g||sb(a,"events",g={}),h||sb(a,"handle",h=Cb(a,g)),e(c.split(" "),function(c){var e=g[c];if(!e){if("mouseenter"==c||"mouseleave"==c){var f=b.body.contains||b.body.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};g[c]=[];var i={mouseleave:"mouseout",mouseenter:"mouseover"};Hf(a,i[c],function(a){var b=this,d=a.relatedTarget;(!d||d!==b&&!f(b,d))&&h(a,c)})}else Ld(a,c,h),g[c]=[];e=g[c]}e.push(d)})},off:qb,one:function(a,b,c){a=vd(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;pb(a),e(new nb(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return e(a.childNodes,function(a){1===a.nodeType&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){e(new nb(b),function(b){(1===a.nodeType||11===a.nodeType)&&a.appendChild(b)})},prepend:function(a,b){if(1===a.nodeType){var c=a.firstChild;e(new nb(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){b=vd(b)[0];var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)},remove:function(a){pb(a);var b=a.parentNode;b&&b.removeChild(a)},after:function(a,b){var c=a,d=a.parentNode;e(new nb(b),function(a){d.insertBefore(a,c.nextSibling),c=a})},addClass:wb,removeClass:vb,toggleClass:function(a,b,c){b&&e(b.split(" "),function(b){var d=c;q(d)&&(d=!ub(a,b)),(d?wb:vb)(a,b)})},parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},next:function(a){if(a.nextElementSibling)return a.nextElementSibling;for(var b=a.nextSibling;null!=b&&1!==b.nodeType;)b=b.nextSibling;return b},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:ob,triggerHandler:function(a,b,c){var d=(sb(a,"events")||{})[b];c=c||[];var f=[{preventDefault:n,stopPropagation:n}];e(d,function(b){b.apply(a,f.concat(c))})}},function(a,b){nb.prototype[b]=function(b,c,d){for(var e,f=0;f<this.length;f++)q(e)?(e=a(this[f],b,c,d),r(e)&&(e=vd(e))):xb(e,a(this[f],b,c,d));return r(e)?e:this},nb.prototype.bind=nb.prototype.on,nb.prototype.unbind=nb.prototype.off}),Eb.prototype={put:function(a,b){this[Db(a,this.nextUid)]=b},get:function(a){return this[Db(a,this.nextUid)]},remove:function(a){var b=this[a=Db(a,this.nextUid)];return delete this[a],b}};var Yd=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Zd=/,/,$d=/^\s*(_?)(\S+?)\1\s*$/,_d=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,ae=c("$injector"),be=c("$animate"),ce=["$provide",function(a){this.$$selectors={},this.register=function(b,c){var d=b+"-animation";if(b&&"."!=b.charAt(0))throw be("notcsel","Expecting class selector starting with '.' got '{0}'.",b);this.$$selectors[b.substr(1)]=d,a.factory(d,c)},this.classNameFilter=function(a){return 1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function(a,b){function c(a){a&&b(a)}return{enter:function(a,b,d,e){d?d.after(a):(b&&b[0]||(b=d.parent()),b.append(a)),c(e)},leave:function(a,b){a.remove(),c(b)},move:function(a,b,c,d){this.enter(a,b,c,d)},addClass:function(a,b,d){b=t(b)?b:Fd(b)?b.join(" "):"",e(a,function(a){wb(a,b)}),c(d)},removeClass:function(a,b,d){b=t(b)?b:Fd(b)?b.join(" "):"",e(a,function(a){vb(a,b)}),c(d)},setClass:function(a,b,d,f){e(a,function(a){wb(a,b),vb(a,d)}),c(f)},enabled:n}}]}],de=c("$compile");Nb.$inject=["$provide","$$sanitizeUriProvider"];var ee=/^(x[\:\-_]|data[\:\-_])/i,fe=c("$interpolate"),ge=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,he={http:80,https:443,ftp:21},ie=c("$location");lc.prototype=kc.prototype=jc.prototype={$$html5:!1,$$replace:!1,absUrl:mc("$$absUrl"),url:function(a,b){if(q(a))return this.$$url;var c=ge.exec(a);return c[1]&&this.path(decodeURIComponent(c[1])),(c[2]||c[1])&&this.search(c[3]||""),this.hash(c[5]||"",b),this},protocol:mc("$$protocol"),host:mc("$$host"),port:mc("$$port"),path:nc("$$path",function(a){return"/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(t(a))this.$$search=U(a);else{if(!s(a))throw ie("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");e(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:q(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:nc("$$hash",o),replace:function(){return this.$$replace=!0,this}};var je,ke=c("$parse"),le={},me=Function.prototype.call,ne=Function.prototype.apply,oe=Function.prototype.bind,pe={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:n,"+":function(a,b,c,d){return c=c(a,b),d=d(a,b),r(c)?r(d)?c+d:c:r(d)?d:void 0},"-":function(a,b,c,d){return c=c(a,b),d=d(a,b),(r(c)?c:0)-(r(d)?d:0)},"*":function(a,b,c,d){return c(a,b)*d(a,b)},"/":function(a,b,c,d){return c(a,b)/d(a,b)},"%":function(a,b,c,d){return c(a,b)%d(a,b)},"^":function(a,b,c,d){return c(a,b)^d(a,b)},"=":n,"===":function(a,b,c,d){return c(a,b)===d(a,b)},"!==":function(a,b,c,d){return c(a,b)!==d(a,b)},"==":function(a,b,c,d){return c(a,b)==d(a,b)},"!=":function(a,b,c,d){return c(a,b)!=d(a,b)},"<":function(a,b,c,d){return c(a,b)<d(a,b)},">":function(a,b,c,d){return c(a,b)>d(a,b)},"<=":function(a,b,c,d){return c(a,b)<=d(a,b)},">=":function(a,b,c,d){return c(a,b)>=d(a,b)},"&&":function(a,b,c,d){return c(a,b)&&d(a,b)},"||":function(a,b,c,d){return c(a,b)||d(a,b)},"&":function(a,b,c,d){return c(a,b)&d(a,b)},"|":function(a,b,c,d){return d(a,b)(a,b,c(a,b))},"!":function(a,b,c){return!c(a,b)}},qe={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},re=function(a){this.options=a};re.prototype={constructor:re,lex:function(a){for(this.text=a,this.index=0,this.ch=void 0,this.lastCh=":",this.tokens=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent();else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch}),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var b=this.ch+this.peek(),c=b+this.peek(2),d=pe[this.ch],e=pe[b],f=pe[c];f?(this.tokens.push({index:this.index,text:c,fn:f}),this.index+=3):e?(this.tokens.push({index:this.index,text:b,fn:e}),this.index+=2):d?(this.tokens.push({index:this.index,text:this.ch,fn:d}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(a){return-1!==a.indexOf(this.ch)},was:function(a){return-1!==a.indexOf(this.lastCh)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||" "===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=r(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw ke("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=pd(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}a=1*a,this.tokens.push({index:b,text:a,literal:!0,constant:!0,fn:function(){return a}})},readIdent:function(){for(var a,b,c,d,e=this,f="",g=this.index;this.index<this.text.length&&(d=this.text.charAt(this.index),"."===d||this.isIdent(d)||this.isNumber(d));)"."===d&&(a=this.index),f+=d,this.index++;if(a)for(b=this.index;b<this.text.length;){if(d=this.text.charAt(b),"("===d){c=f.substr(a-g+1),f=f.substr(0,a-g),this.index=b;break}if(!this.isWhitespace(d))break;b++}var h={index:g,text:f};if(pe.hasOwnProperty(f))h.fn=pe[f],h.literal=!0,h.constant=!0;else{var i=vc(f,this.options,this.text);h.fn=k(function(a,b){return i(a,b)},{assign:function(a,b){return tc(a,f,b,e.text,e.options)}})}this.tokens.push(h),c&&(this.tokens.push({index:a,text:"."}),this.tokens.push({index:a+1,text:c}))},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=qe[f];c+=h?h:f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,string:c,literal:!0,constant:!0,fn:function(){return c}});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var se=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c};se.ZERO=k(function(){return 0},{constant:!0}),se.prototype={constructor:se,parse:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b.literal=!!b.literal,b.constant=!!b.constant,b},primary:function(){var a;if(this.expect("("))a=this.filterChain(),this.consume(")");else if(this.expect("["))a=this.arrayDeclaration();else if(this.expect("{"))a=this.object();else{var b=this.expect();a=b.fn,a||this.throwError("not a primary expression",b),a.literal=!!b.literal,a.constant=!!b.constant}for(var c,d;c=this.expect("(","[",".");)"("===c.text?(a=this.functionCall(a,d),d=null):"["===c.text?(d=a,a=this.objectIndex(a)):"."===c.text?(d=a,a=this.fieldAccess(a)):this.throwError("IMPOSSIBLE");return a},throwError:function(a,b){throw ke("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},peekToken:function(){if(0===this.tokens.length)throw ke("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){if(this.tokens.length>0){var e=this.tokens[0],f=e.text;if(f===a||f===b||f===c||f===d||!a&&!b&&!c&&!d)return e}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},consume:function(a){this.expect(a)||this.throwError("is unexpected, expecting ["+a+"]",this.peek())},unaryFn:function(a,b){return k(function(c,d){return a(c,d,b)},{constant:b.constant})},ternaryFn:function(a,b,c){return k(function(d,e){return a(d,e)?b(d,e):c(d,e)},{constant:a.constant&&b.constant&&c.constant})},binaryFn:function(a,b,c){return k(function(d,e){return b(d,e,a,c)},{constant:a.constant&&c.constant})},statements:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.filterChain()),!this.expect(";"))return 1===a.length?a[0]:function(b,c){for(var d,e=0;e<a.length;e++){var f=a[e];f&&(d=f(b,c))}return d}},filterChain:function(){for(var a,b=this.expression();;){if(!(a=this.expect("|")))return b;b=this.binaryFn(b,a.fn,this.filter())}},filter:function(){for(var a=this.expect(),b=this.$filter(a.text),c=[];;){if(!(a=this.expect(":"))){var d=function(a,d,e){for(var f=[e],g=0;g<c.length;g++)f.push(c[g](a,d));return b.apply(a,f)};return function(){return d}}c.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var a,b,c=this.ternary();return(b=this.expect("="))?(c.assign||this.throwError("implies assignment but ["+this.text.substring(0,b.index)+"] can not be assigned to",b),a=this.ternary(),function(b,d){return c.assign(b,a(b,d),d)}):c},ternary:function(){var a,b,c=this.logicalOR();return(b=this.expect("?"))?(a=this.ternary(),(b=this.expect(":"))?this.ternaryFn(c,a,this.ternary()):void this.throwError("expected :",b)):c},logicalOR:function(){for(var a,b=this.logicalAND();;){if(!(a=this.expect("||")))return b;b=this.binaryFn(b,a.fn,this.logicalAND())}},logicalAND:function(){var a,b=this.equality();return(a=this.expect("&&"))&&(b=this.binaryFn(b,a.fn,this.logicalAND())),b},equality:function(){var a,b=this.relational();return(a=this.expect("==","!=","===","!=="))&&(b=this.binaryFn(b,a.fn,this.equality())),b},relational:function(){var a,b=this.additive();return(a=this.expect("<",">","<=",">="))&&(b=this.binaryFn(b,a.fn,this.relational())),b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b=this.binaryFn(b,a.fn,this.multiplicative());return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b=this.binaryFn(b,a.fn,this.unary());return b},unary:function(){var a;return this.expect("+")?this.primary():(a=this.expect("-"))?this.binaryFn(se.ZERO,a.fn,this.unary()):(a=this.expect("!"))?this.unaryFn(a.fn,this.unary()):this.primary()},fieldAccess:function(a){var b=this,c=this.expect().text,d=vc(c,this.options,this.text);return k(function(b,c,e){return d(e||a(b,c))},{assign:function(d,e,f){return tc(a(d,f),c,e,b.text,b.options)}})},objectIndex:function(a){var b=this,c=this.expression();return this.consume("]"),k(function(d,e){var f,g,h=a(d,e),i=c(d,e);return qc(i,b.text),h?(f=rc(h[i],b.text),f&&f.then&&b.options.unwrapPromises&&(g=f,"$$v"in f||(g.$$v=void 0,g.then(function(a){g.$$v=a})),f=f.$$v),f):void 0},{assign:function(d,e,f){var g=c(d,f),h=rc(a(d,f),b.text);return h[g]=e}})},functionCall:function(a,b){var c=[];if(")"!==this.peekToken().text)do c.push(this.expression());while(this.expect(","));this.consume(")");var d=this;return function(e,f){for(var g=[],h=b?b(e,f):e,i=0;i<c.length;i++)g.push(c[i](e,f));var j=a(e,f,h)||n;rc(h,d.text),sc(j,d.text);var k=j.apply?j.apply(h,g):j(g[0],g[1],g[2],g[3],g[4]);return rc(k,d.text)}},arrayDeclaration:function(){var a=[],b=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var c=this.expression();a.push(c),c.constant||(b=!1)}while(this.expect(","));return this.consume("]"),k(function(b,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e](b,c));return d},{literal:!0,constant:b})},object:function(){var a=[],b=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var c=this.expect(),d=c.string||c.text;this.consume(":");var e=this.expression();a.push({key:d,value:e}),e.constant||(b=!1)}while(this.expect(","));return this.consume("}"),k(function(b,c){for(var d={},e=0;e<a.length;e++){var f=a[e];d[f.key]=f.value(b,c)}return d},{literal:!0,constant:b})}};var te={},ue=c("$sce"),ve={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},we=b.createElement("a"),xe=Jc(a.location.href,!0);Mc.$inject=["$provide"],Oc.$inject=["$locale"],Pc.$inject=["$locale"];var ye=".",ze={yyyy:Sc("FullYear",4),yy:Sc("FullYear",2,0,!0),y:Sc("FullYear",1),MMMM:Tc("Month"),MMM:Tc("Month",!0),MM:Sc("Month",2,1),M:Sc("Month",1,1),dd:Sc("Date",2),d:Sc("Date",1),HH:Sc("Hours",2),H:Sc("Hours",1),hh:Sc("Hours",2,-12),h:Sc("Hours",1,-12),mm:Sc("Minutes",2),m:Sc("Minutes",1),ss:Sc("Seconds",2),s:Sc("Seconds",1),sss:Sc("Milliseconds",3),EEEE:Tc("Day"),EEE:Tc("Day",!0),a:Vc,Z:Uc},Ae=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Be=/^\-?\d+$/;Wc.$inject=["$locale"];var Ce=p(pd),De=p(rd);Zc.$inject=["$parse"];var Ee=p({restrict:"E",compile:function(a,c){return 8>=ud&&(c.href||c.name||c.$set("href",""),a.append(b.createComment("IE fix"))),c.href||c.xlinkHref||c.name?void 0:function(a,b){var c="[object SVGAnimatedString]"===Bd.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}),Fe={};e(Wd,function(a,b){if("multiple"!=a){var c=Ob("ng-"+b);Fe[c]=function(){return{priority:100,link:function(a,d,e){a.$watch(e[c],function(a){e.$set(b,!!a)})}}}}}),e(["src","srcset","href"],function(a){var b=Ob("ng-"+a);Fe[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Bd.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(a){a&&(e.$set(g,a),ud&&f&&d.prop(f,e[g]))})}}}});var Ge={$addControl:n,$removeControl:n,$setValidity:n,$setDirty:n,$setPristine:n};_c.$inject=["$element","$attrs","$scope","$animate"];var He=function(a){return["$timeout",function(b){var c={name:"form",restrict:a?"EAC":"E",controller:_c,compile:function(){return{pre:function(a,c,d,e){if(!d.action){var f=function(a){a.preventDefault?a.preventDefault():a.returnValue=!1};Ld(c[0],"submit",f),c.on("$destroy",function(){b(function(){Md(c[0],"submit",f)},0,!1)})}var g=c.parent().controller("form"),h=d.name||d.ngForm;h&&tc(a,h,e,h),g&&c.on("$destroy",function(){g.$removeControl(e),h&&tc(a,h,void 0,h),k(e,Ge)})}}}};return c}]},Ie=He(),Je=He(!0),Ke=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Le=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Me=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Ne={text:dd,number:ed,url:fd,email:gd,radio:hd,checkbox:id,hidden:n,button:n,submit:n,reset:n,file:n},Oe=["badInput"],Pe=["$browser","$sniffer",function(a,b){return{restrict:"E",require:"?ngModel",link:function(c,d,e,f){f&&(Ne[pd(e.type)]||Ne.text)(c,d,e,f,b,a)}}}],Qe="ng-valid",Re="ng-invalid",Se="ng-pristine",Te="ng-dirty",Ue=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function(a,b,d,f,g,h){function i(a,b){b=b?"-"+$(b,"-"):"",h.removeClass(f,(a?Re:Qe)+b),h.addClass(f,(a?Qe:Re)+b)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=d.name;var j=g(d.ngModel),k=j.assign;if(!k)throw c("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,S(f));this.$render=n,this.$isEmpty=function(a){return q(a)||""===a||null===a||a!==a};var l=f.inheritedData("$formController")||Ge,m=0,o=this.$error={};f.addClass(Se),i(!0),this.$setValidity=function(a,b){o[a]!==!b&&(b?(o[a]&&m--,m||(i(!0),this.$valid=!0,this.$invalid=!1)):(i(!1),this.$invalid=!0,this.$valid=!1,m++),o[a]=!b,i(b,a),l.$setValidity(a,b,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,h.removeClass(f,Te),h.addClass(f,Se)},this.$setViewValue=function(c){this.$viewValue=c,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,h.removeClass(f,Se),h.addClass(f,Te),l.$setDirty()),e(this.$parsers,function(a){c=a(c)}),this.$modelValue!==c&&(this.$modelValue=c,k(a,c),e(this.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}}))};var p=this;a.$watch(function(){var b=j(a);if(p.$modelValue!==b){var c=p.$formatters,d=c.length;for(p.$modelValue=b;d--;)b=c[d](b);p.$viewValue!==b&&(p.$viewValue=b,p.$render())}return b})}],Ve=function(){return{require:["ngModel","^?form"],controller:Ue,link:function(a,b,c,d){var e=d[0],f=d[1]||Ge;f.$addControl(e),a.$on("$destroy",function(){f.$removeControl(e)})}}},We=p({require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Xe=function(){return{require:"?ngModel",link:function(a,b,c,d){if(d){c.required=!0;var e=function(a){return c.required&&d.$isEmpty(a)?void d.$setValidity("required",!1):(d.$setValidity("required",!0),a)};d.$formatters.push(e),d.$parsers.unshift(e),c.$observe("required",function(){e(d.$viewValue)})}}}},Ye=function(){return{require:"ngModel",link:function(a,b,c,d){var f=/\/(.*)\//.exec(c.ngList),g=f&&new RegExp(f[1])||c.ngList||",",h=function(a){if(!q(a)){var b=[];return a&&e(a.split(g),function(a){a&&b.push(Gd(a))}),b}};d.$parsers.push(h),d.$formatters.push(function(a){return Fd(a)?a.join(", "):void 0}),d.$isEmpty=function(a){return!a||!a.length}}}},Ze=/^(true|false|\d+)$/,$e=function(){return{priority:100,compile:function(a,b){return Ze.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},_e=$c({compile:function(a){return a.addClass("ng-binding"),function(a,b,c){b.data("$binding",c.ngBind),a.$watch(c.ngBind,function(a){b.text(void 0==a?"":a)})}}}),af=["$interpolate",function(a){return function(b,c,d){var e=a(c.attr(d.$attr.ngBindTemplate));c.addClass("ng-binding").data("$binding",e),d.$observe("ngBindTemplate",function(a){c.text(a)})}}],bf=["$sce","$parse",function(a,b){return function(c,d,e){function f(){return(g(c)||"").toString()}d.addClass("ng-binding").data("$binding",e.ngBindHtml);var g=b(e.ngBindHtml);c.$watch(f,function(){d.html(a.getTrustedHtml(g(c))||"")})}}],cf=jd("",!0),df=jd("Odd",0),ef=jd("Even",1),ff=$c({compile:function(a,b){b.$set("ngCloak",void 0),a.removeClass("ng-cloak")}}),gf=[function(){return{scope:!0,controller:"@",priority:500}}],hf={};e("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=Ob("ng-"+a);hf[b]=["$parse",function(c){return{compile:function(d,e){var f=c(e[b]);return function(b,c){c.on(pd(a),function(a){b.$apply(function(){f(b,{$event:a})})})}}}}]});var jf=["$animate",function(a){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(f){R(f)?i||(i=c.$new(),g(i,function(c){c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)})):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=eb(h.clone),a.leave(j,function(){j=null}),h=null))})}}}],kf=["$http","$templateCache","$anchorScroll","$animate","$sce",function(a,b,c,d,e){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Dd.noop,compile:function(f,g){var h=g.ngInclude||g.src,i=g.onload||"",j=g.autoscroll;
return function(f,g,k,l,m){var n,o,p,q=0,s=function(){o&&(o.remove(),o=null),n&&(n.$destroy(),n=null),p&&(d.leave(p,function(){o=null}),o=p,p=null)};f.$watch(e.parseAsResourceUrl(h),function(e){var h=function(){!r(j)||j&&!f.$eval(j)||c()},k=++q;e?(a.get(e,{cache:b}).success(function(a){if(k===q){var b=f.$new();l.template=a;var c=m(b,function(a){s(),d.enter(a,null,g,h)});n=b,p=c,n.$emit("$includeContentLoaded"),f.$eval(i)}}).error(function(){k===q&&s()}),f.$emit("$includeContentRequested")):(s(),l.template=null)})}}}}],lf=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(b,c,d,e){c.html(e.template),a(c.contents())(b)}}}],mf=$c({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),nf=$c({terminal:!0,priority:1e3}),of=["$locale","$interpolate",function(a,b){var c=/{}/g;return{restrict:"EA",link:function(d,f,g){var h=g.count,i=g.$attr.when&&f.attr(g.$attr.when),j=g.offset||0,k=d.$eval(i)||{},l={},m=b.startSymbol(),n=b.endSymbol(),o=/^when(Minus)?(.+)$/;e(g,function(a,b){o.test(b)&&(k[pd(b.replace("when","").replace("Minus","-"))]=f.attr(g.$attr[b]))}),e(k,function(a,d){l[d]=b(a.replace(c,m+h+"-"+j+n))}),d.$watch(function(){var b=parseFloat(d.$eval(h));return isNaN(b)?"":(b in k||(b=a.pluralCat(b-j)),l[b](d,f,!0))},function(a){f.text(a)})}}}],pf=["$parse","$animate",function(a,f){function g(a){return a.clone[0]}function h(a){return a.clone[a.clone.length-1]}var i="$$NG_REMOVED",j=c("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function(c,k,l,m,n){var o,p,q,r,s,t,u,v,w,x=l.ngRepeat,y=x.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),z={$id:Db};if(!y)throw j("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",x);if(t=y[1],u=y[2],o=y[3],o?(p=a(o),q=function(a,b,d){return w&&(z[w]=a),z[v]=b,z.$index=d,p(c,z)}):(r=function(a,b){return Db(b)},s=function(a){return a}),y=t.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!y)throw j("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",t);v=y[3]||y[1],w=y[2];var A={};c.$watchCollection(u,function(a){var l,m,o,p,t,u,y,z,B,C,D,E,F=k[0],G={},H=[];if(d(a))C=a,B=q||r;else{B=q||s,C=[];for(u in a)a.hasOwnProperty(u)&&"$"!=u.charAt(0)&&C.push(u);C.sort()}for(p=C.length,m=H.length=C.length,l=0;m>l;l++)if(u=a===C?l:C[l],y=a[u],z=B(u,y,l),cb(z,"`track by` id"),A.hasOwnProperty(z))D=A[z],delete A[z],G[z]=D,H[l]=D;else{if(G.hasOwnProperty(z))throw e(H,function(a){a&&a.scope&&(A[a.id]=a)}),j("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",x,z);H[l]={id:z},G[z]=!1}for(u in A)A.hasOwnProperty(u)&&(D=A[u],E=eb(D.clone),f.leave(E),e(E,function(a){a[i]=!0}),D.scope.$destroy());for(l=0,m=C.length;m>l;l++){if(u=a===C?l:C[l],y=a[u],D=H[l],H[l-1]&&(F=h(H[l-1])),D.scope){t=D.scope,o=F;do o=o.nextSibling;while(o&&o[i]);g(D)!=o&&f.move(eb(D.clone),null,vd(F)),F=h(D)}else t=c.$new();t[v]=y,w&&(t[w]=u),t.$index=l,t.$first=0===l,t.$last=l===p-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&l)),D.scope||n(t,function(a){a[a.length++]=b.createComment(" end ngRepeat: "+x+" "),f.enter(a,null,vd(F)),F=a,D.scope=t,D.clone=a,G[D.id]=D})}A=G})}}}],qf=["$animate",function(a){return function(b,c,d){b.$watch(d.ngShow,function(b){a[R(b)?"removeClass":"addClass"](c,"ng-hide")})}}],rf=["$animate",function(a){return function(b,c,d){b.$watch(d.ngHide,function(b){a[R(b)?"addClass":"removeClass"](c,"ng-hide")})}}],sf=$c(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&e(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),tf=["$animate",function(a){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(b,c,d,f){var g=d.ngSwitch||d.on,h=[],i=[],j=[],k=[];b.$watch(g,function(c){var g,l;for(g=0,l=j.length;l>g;++g)j[g].remove();for(j.length=0,g=0,l=k.length;l>g;++g){var m=i[g];k[g].$destroy(),j[g]=m,a.leave(m,function(){j.splice(g,1)})}i.length=0,k.length=0,(h=f.cases["!"+c]||f.cases["?"])&&(b.$eval(d.change),e(h,function(c){var d=b.$new();k.push(d),c.transclude(d,function(b){var d=c.element;i.push(b),a.enter(b,d.parent(),d)})}))})}}}],uf=$c({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),vf=$c({transclude:"element",priority:800,require:"^ngSwitch",link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),wf=$c({link:function(a,b,d,e,f){if(!f)throw c("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",S(b));f(function(a){b.empty(),b.append(a)})}}),xf=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],yf=c("ngOptions"),zf=p({terminal:!0}),Af=["$compile","$parse",function(a,c){var d=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,g={$setViewValue:n};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(a,b,c){var d,e,f=this,h={},i=g;f.databound=c.ngModel,f.init=function(a,b,c){i=a,d=b,e=c},f.addOption=function(b){cb(b,'"option value"'),h[b]=!0,i.$viewValue==b&&(a.val(b),e.parent()&&e.remove())},f.removeOption=function(a){this.hasOption(a)&&(delete h[a],i.$viewValue==a&&this.renderUnknownOption(a))},f.renderUnknownOption=function(b){var c="? "+Db(b)+" ?";e.val(c),a.prepend(e),a.val(c),e.prop("selected",!0)},f.hasOption=function(a){return h.hasOwnProperty(a)},b.$on("$destroy",function(){f.renderUnknownOption=n})}],link:function(g,h,i,j){function k(a,b,c,d){c.$render=function(){var a=c.$viewValue;d.hasOption(a)?(x.parent()&&x.remove(),b.val(a),""===a&&n.prop("selected",!0)):q(a)&&n?b.val(""):d.renderUnknownOption(a)},b.on("change",function(){a.$apply(function(){x.parent()&&x.remove(),c.$setViewValue(b.val())})})}function l(a,b,c){var d;c.$render=function(){var a=new Eb(c.$viewValue);e(b.find("option"),function(b){b.selected=r(a.get(b.value))})},a.$watch(function(){J(d,c.$viewValue)||(d=I(c.$viewValue),c.$render())}),b.on("change",function(){a.$apply(function(){var a=[];e(b.find("option"),function(b){b.selected&&a.push(b.value)}),c.$setViewValue(a)})})}function m(b,e,g){function h(){var a,c,d,h,i,p,t,y,z,A,B,C,D,E,F,G={"":[]},H=[""],I=g.$modelValue,J=o(b)||[],K=l?f(J):J,L={},M=!1;if(s)if(q&&Fd(I)){M=new Eb([]);for(var N=0;N<I.length;N++)L[k]=I[N],M.put(q(b,L),I[N])}else M=new Eb(I);for(B=0;z=K.length,z>B;B++){if(t=B,l){if(t=K[B],"$"===t.charAt(0))continue;L[l]=t}if(L[k]=J[t],a=m(b,L)||"",(c=G[a])||(c=G[a]=[],H.push(a)),s)C=r(M.remove(q?q(b,L):n(b,L)));else{if(q){var O={};O[k]=I,C=q(b,O)===q(b,L)}else C=I===n(b,L);M=M||C}F=j(b,L),F=r(F)?F:"",c.push({id:q?q(b,L):l?K[B]:B,label:F,selected:C})}for(s||(u||null===I?G[""].unshift({id:"",label:"",selected:!M}):M||G[""].unshift({id:"?",label:"",selected:!0})),A=0,y=H.length;y>A;A++){for(a=H[A],c=G[a],x.length<=A?(h={element:w.clone().attr("label",a),label:c.label},i=[h],x.push(i),e.append(h.element)):(i=x[A],h=i[0],h.label!=a&&h.element.attr("label",h.label=a)),D=null,B=0,z=c.length;z>B;B++)d=c[B],(p=i[B+1])?(D=p.element,p.label!==d.label&&D.text(p.label=d.label),p.id!==d.id&&D.val(p.id=d.id),p.selected!==d.selected&&D.prop("selected",p.selected=d.selected)):(""===d.id&&u?E=u:(E=v.clone()).val(d.id).prop("selected",d.selected).text(d.label),i.push(p={element:E,label:d.label,id:d.id,selected:d.selected}),D?D.after(E):h.element.append(E),D=E);for(B++;i.length>B;)i.pop().element.remove()}for(;x.length>A;)x.pop()[0].element.remove()}var i;if(!(i=t.match(d)))throw yf("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,S(e));var j=c(i[2]||i[1]),k=i[4]||i[6],l=i[5],m=c(i[3]||""),n=c(i[2]?i[1]:k),o=c(i[7]),p=i[8],q=p?c(i[8]):null,x=[[{element:e,label:""}]];u&&(a(u)(b),u.removeClass("ng-scope"),u.remove()),e.empty(),e.on("change",function(){b.$apply(function(){var a,c,d,f,h,i,j,m,p,r=o(b)||[],t={};if(s){for(d=[],i=0,m=x.length;m>i;i++)for(a=x[i],h=1,j=a.length;j>h;h++)if((f=a[h].element)[0].selected){if(c=f.val(),l&&(t[l]=c),q)for(p=0;p<r.length&&(t[k]=r[p],q(b,t)!=c);p++);else t[k]=r[c];d.push(n(b,t))}}else{if(c=e.val(),"?"==c)d=void 0;else if(""===c)d=null;else if(q){for(p=0;p<r.length;p++)if(t[k]=r[p],q(b,t)==c){d=n(b,t);break}}else t[k]=r[c],l&&(t[l]=c),d=n(b,t);x[0].length>1&&x[0][1].id!==c&&(x[0][1].selected=!1)}g.$setViewValue(d)})}),g.$render=h,b.$watch(h)}if(j[1]){for(var n,o=j[0],p=j[1],s=i.multiple,t=i.ngOptions,u=!1,v=vd(b.createElement("option")),w=vd(b.createElement("optgroup")),x=v.clone(),y=0,z=h.children(),A=z.length;A>y;y++)if(""===z[y].value){n=u=z.eq(y);break}o.init(p,u,x),s&&(p.$isEmpty=function(a){return!a||0===a.length}),t?m(g,h,p):s?l(g,h,p):k(g,h,p,o)}}}}],Bf=["$interpolate",function(a){var b={addOption:n,removeOption:n};return{restrict:"E",priority:100,compile:function(c,d){if(q(d.value)){var e=a(c.text(),!0);e||d.$set("value",c.text())}return function(a,c,d){var f="$selectController",g=c.parent(),h=g.data(f)||g.parent().data(f);h&&h.databound?c.prop("selected",!1):h=b,e?a.$watch(e,function(a,b){d.$set("value",a),a!==b&&h.removeOption(b),h.addOption(a)}):h.addOption(d.value),c.on("$destroy",function(){h.removeOption(d.value)})}}}}],Cf=p({restrict:"E",terminal:!0});Dd.scenario=Dd.scenario||{},Dd.scenario.jQuery=nd,Dd.scenario.output=Dd.scenario.output||function(a,b){Dd.scenario.output[a]=b},Dd.scenario.dsl=Dd.scenario.dsl||function(a,b){Dd.scenario.dsl[a]=function(){function a(b,c){var d=b.apply(this,c);if(Dd.isFunction(d)||d instanceof Dd.scenario.Future)return d;var e=this,f=Dd.extend({},d);return Dd.forEach(f,function(b,c){f[c]=Dd.isFunction(b)?function(){return a.call(e,b,arguments)}:b}),f}var c=b.apply(this,arguments);return function(){return a.call(this,c,arguments)}}},Dd.scenario.matcher=Dd.scenario.matcher||function(a,b){Dd.scenario.matcher[a]=function(c){var d=this.future.name+(this.inverse?" not ":" ")+a+" "+Dd.toJson(c),e=this;this.addFuture("expect "+d,function(a){var f;e.actual=e.future.value,(e.inverse&&b.call(e,c)||!e.inverse&&!b.call(e,c))&&(f="expected "+d+" but was "+Dd.toJson(e.actual)),a(f)})}},Dd.scenario.setUpAndRun=function(c){var d=a.location.href,e=nd(b.body),f=[],g=new Dd.scenario.ObjectModel(Df);if(c&&c.scenario_output&&(f=c.scenario_output.split(",")),Dd.forEach(Dd.scenario.output,function(a,b){if(!f.length||-1!=F(f,b)){var c=e.append("<div></div>").find("div:last");c.attr("id",b),a.call({},c,Df,g)}}),!/^http/.test(d)&&!/^https/.test(d))return e.append('<p id="system-error"></p>'),void e.find("#system-error").text("Scenario runner must be run using http or https. The protocol "+d.split(":")[0]+":// is not supported.");var h=e.append('<div id="application"></div>').find("#application"),i=new Dd.scenario.Application(h);Df.on("RunnerEnd",function(){h.css("display","none"),h.find("iframe").attr("src","about:blank")}),Df.on("RunnerError",function(b){a.console?console.log(ld(b)):alert(b)}),Df.run(i)},function(a){var b=a._originalTrigger=a.trigger;a.trigger=function(a){if(/(click|change|keydown|blur|input|mousedown|mouseup)/.test(a)){var c=[];return this.each(function(b,d){c.push(browserTrigger(d,a))}),c}return b.apply(this,arguments)}}(nd.fn),nd.fn.bindings=function(a,b){function c(a){void 0===a?a="":"string"!=typeof a&&(a=Dd.toJson(a)),e.push(""+a)}var d,e=[],f=".ng-binding:visible";Dd.isString(b)?(b=b.replace(/\s/g,""),d=function(a){if(a){if(a=a.replace(/\s/g,""),a==b)return!0;if(0===a.indexOf(b))return"|"==a.charAt(b.length)}}):d=b?function(a){return a&&b.exec(a)}:function(a){return!!a};var g=this.find(f);return this.is(f)&&(g=g.add(this)),g.each(function(){var b,e=a(this);if(b=e.data("$binding"))if("string"==typeof b)d(b)&&c(e.scope().$eval(b));else{Dd.isArray(b)||(b=[b]);for(var f,g=0,h=b.length;h>g;g++){f=b[g],f=f.parts?f.parts:[f];for(var i,j,k=0,l=f.length;l>k;k++)d((j=f[k]).exp)&&c(j(i=i||e.scope()))}}}),e},function(){function c(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;c++)if(b===a[c])return c;return-1}var d=parseInt((/msie (\d+)/.exec(navigator.userAgent.toLowerCase())||[])[1],10);a.browserTrigger=function(e,f,g){function h(a){return-1!==c(i,a)}if(e&&!e.nodeName&&(e=e[0]),e){g=g||{};var i=g.keys,j=g.x,k=g.y,l=e.type?e.type.toLowerCase():null,m=e.nodeName.toLowerCase();if(f||(f={text:"change",textarea:"change",hidden:"change",password:"change",button:"click",submit:"click",reset:"click",image:"click",checkbox:"click",radio:"click","select-one":"change","select-multiple":"change",_default_:"click"}[l||"_default_"]),"option"==m&&(e.parentNode.value=e.value,e=e.parentNode,f="change"),i=i||[],9>d){("radio"==l||"checkbox"==l)&&(e.checked=!e.checked),e.style.posLeft;var n=e.fireEvent("on"+f);if("submit"==l)for(;e;){if("form"==e.nodeName.toLowerCase()){e.fireEvent("onsubmit");break}e=e.parentNode}return n}var o;if(/transitionend/.test(f))if(a.WebKitTransitionEvent)o=new WebKitTransitionEvent(f,g),o.initEvent(f,!1,!0);else try{o=new TransitionEvent(f,g)}catch(p){o=b.createEvent("TransitionEvent"),o.initTransitionEvent(f,null,null,null,g.elapsedTime||0)}else if(/animationend/.test(f))if(a.WebKitAnimationEvent)o=new WebKitAnimationEvent(f,g),o.initEvent(f,!1,!0);else try{o=new AnimationEvent(f,g)}catch(p){o=b.createEvent("AnimationEvent"),o.initAnimationEvent(f,null,null,null,g.elapsedTime||0)}else o=b.createEvent("MouseEvents"),j=j||0,k=k||0,o.initMouseEvent(f,!0,!0,a,0,j,k,j,k,h("ctrl"),h("alt"),h("shift"),h("meta"),0,e);if(o.$manualTimeStamp=g.timeStamp,o){var q,r=o.preventDefault,s=e.ownerDocument.defaultView,t=!0,u=s.angular||{};return u["ff-684208-preventDefault"]=!1,o.preventDefault=function(){return t=!1,r.apply(o,arguments)},e.dispatchEvent(o),q=!(u["ff-684208-preventDefault"]||!t),delete u["ff-684208-preventDefault"],q}}}}(),Dd.scenario.Application=function(a){this.context=a,a.append('<h2>Current URL: <a href="about:blank">None</a></h2><div id="test-frames"></div>')},Dd.scenario.Application.prototype.getFrame_=function(){return this.context.find("#test-frames iframe:last")},Dd.scenario.Application.prototype.getWindow_=function(){var a=this.getFrame_().prop("contentWindow");if(!a)throw"Frame window is not accessible.";return a},Dd.scenario.Application.prototype.navigateTo=function(a,b,c){var d=this,e=d.getFrame_();c=c||function(a){throw a},"about:blank"===a?c("Sandbox Error: Navigating to about:blank is not allowed."):"#"===a.charAt(0)?(a=e.attr("src").split("#")[0]+a,e.attr("src",a),d.executeAction(b)):(e.remove(),d.context.find("#test-frames").append("<iframe>"),e=d.getFrame_(),e.load(function(){e.off();try{var a=d.getWindow_();a.angular&&a.angular.resumeBootstrap([["$provide",function(){return["$animate",function(a){a.enabled(!1)}]}]]),d.executeAction(b)}catch(f){c(f)}}).attr("src",a),e[0].contentWindow.name="NG_DEFER_BOOTSTRAP!"),d.context.find("> h2 a").attr("href",a).text(a)},Dd.scenario.Application.prototype.executeAction=function(a){var b=this,c=this.getWindow_();if(!c.document)throw"Sandbox Error: Application document not accessible.";return c.angular?void Y(c.document,function(d){var e=c.angular.element(d).injector(),f=nd(d);f.injector=function(){return e},e.invoke(function(d){d.notifyWhenNoOutstandingRequests(function(){a.call(b,c,f)})})}):a.call(this,c,nd(c.document))},Dd.scenario.Describe=function(a,b){this.only=b&&b.only,this.beforeEachFns=[],this.afterEachFns=[],this.its=[],this.children=[],this.name=a,this.parent=b,this.id=Dd.scenario.Describe.id++;var c=this.beforeEachFns;this.setupBefore=function(){b&&b.setupBefore.call(this),Dd.forEach(c,function(a){a.call(this)},this)};var d=this.afterEachFns;this.setupAfter=function(){Dd.forEach(d,function(a){a.call(this)},this),b&&b.setupAfter.call(this)}},Dd.scenario.Describe.id=0,Dd.scenario.Describe.specId=0,Dd.scenario.Describe.prototype.beforeEach=function(a){this.beforeEachFns.push(a)},Dd.scenario.Describe.prototype.afterEach=function(a){this.afterEachFns.push(a)},Dd.scenario.Describe.prototype.describe=function(a,b){var c=new Dd.scenario.Describe(a,this);this.children.push(c),b.call(c)},Dd.scenario.Describe.prototype.ddescribe=function(a,b){var c=new Dd.scenario.Describe(a,this);c.only=!0,this.children.push(c),b.call(c)},Dd.scenario.Describe.prototype.xdescribe=Dd.noop,Dd.scenario.Describe.prototype.it=function(a,b){this.its.push({id:Dd.scenario.Describe.specId++,definition:this,only:this.only,name:a,before:this.setupBefore,body:b,after:this.setupAfter})},Dd.scenario.Describe.prototype.iit=function(){this.it.apply(this,arguments),this.its[this.its.length-1].only=!0},Dd.scenario.Describe.prototype.xit=Dd.noop,Dd.scenario.Describe.prototype.getSpecs=function(){var a=arguments[0]||[];Dd.forEach(this.children,function(b){b.getSpecs(a)}),Dd.forEach(this.its,function(b){a.push(b)});var b=[];return Dd.forEach(a,function(a){a.only&&b.push(a)}),b.length&&b||a},Dd.scenario.Future=function(a,b,c){this.name=a,this.behavior=b,this.fulfilled=!1,this.value=void 0,this.parser=Dd.identity,this.line=c||function(){return""}},Dd.scenario.Future.prototype.execute=function(a){var b=this;this.behavior(function(c,d){if(b.fulfilled=!0,d)try{d=b.parser(d)}catch(e){c=e}b.value=c||d,a(c,d)})},Dd.scenario.Future.prototype.parsedWith=function(a){return this.parser=a,this},Dd.scenario.Future.prototype.fromJson=function(){return this.parsedWith(Dd.fromJson)},Dd.scenario.Future.prototype.toJson=function(){return this.parsedWith(Dd.toJson)},Dd.scenario.ObjectModel=function(a){function b(a){a.endTime=(new Date).getTime(),a.duration=a.endTime-a.startTime,a.status=a.status||"success"}var c=this;this.specMap={},this.listeners=[],this.value={name:"",children:{}},a.on("SpecBegin",function(a){var b=c.value,d=[];Dd.forEach(c.getDefinitionPath(a),function(a){b.children[a.name]||(b.children[a.name]={id:a.id,name:a.name,children:{},specs:{}}),b=b.children[a.name],d.push(a.name)});var e=c.specMap[a.id]=b.specs[a.name]=new Dd.scenario.ObjectModel.Spec(a.id,a.name,d);c.emit("SpecBegin",e)}),a.on("SpecError",function(a,b){var d=c.getSpec(a.id);d.status="error",d.error=b,c.emit("SpecError",d,b)}),a.on("SpecEnd",function(a){var d=c.getSpec(a.id);b(d),c.emit("SpecEnd",d)}),a.on("StepBegin",function(a,b){var d=c.getSpec(a.id);b=new Dd.scenario.ObjectModel.Step(b.name),d.steps.push(b),c.emit("StepBegin",d,b)}),a.on("StepEnd",function(a){var d=c.getSpec(a.id),e=d.getLastStep();if(e.name!==e.name)throw"Events fired in the wrong order. Step names don't match.";b(e),c.emit("StepEnd",d,e)}),a.on("StepFailure",function(a,b,d){var e=c.getSpec(a.id),f=e.getLastStep();f.setErrorStatus("failure",d,b.line()),e.setStatusFromStep(f),c.emit("StepFailure",e,f,d)}),a.on("StepError",function(a,b,d){var e=c.getSpec(a.id),f=e.getLastStep();f.setErrorStatus("error",d,b.line()),e.setStatusFromStep(f),c.emit("StepError",e,f,d)}),a.on("RunnerBegin",function(){c.emit("RunnerBegin")}),a.on("RunnerEnd",function(){c.emit("RunnerEnd")})},Dd.scenario.ObjectModel.prototype.on=function(a,b){a=a.toLowerCase(),this.listeners[a]=this.listeners[a]||[],this.listeners[a].push(b)},Dd.scenario.ObjectModel.prototype.emit=function(a){var b=this,c=Array.prototype.slice.call(arguments,1);a=a.toLowerCase(),this.listeners[a]&&Dd.forEach(this.listeners[a],function(a){a.apply(b,c)})},Dd.scenario.ObjectModel.prototype.getDefinitionPath=function(a){for(var b=[],c=a.definition;c&&c.name;)b.unshift(c),c=c.parent;return b},Dd.scenario.ObjectModel.prototype.getSpec=function(a){return this.specMap[a]},Dd.scenario.ObjectModel.Spec=function(a,b,c){this.id=a,this.name=b,this.startTime=(new Date).getTime(),this.steps=[],this.fullDefinitionName=(c||[]).join(" ")},Dd.scenario.ObjectModel.Spec.prototype.addStep=function(a){var b=new Dd.scenario.ObjectModel.Step(a);return this.steps.push(b),b},Dd.scenario.ObjectModel.Spec.prototype.getLastStep=function(){return this.steps[this.steps.length-1]},Dd.scenario.ObjectModel.Spec.prototype.setStatusFromStep=function(a){this.status&&"error"!=a.status||(this.status=a.status,this.error=a.error,this.line=a.line)},Dd.scenario.ObjectModel.Step=function(a){this.name=a,this.startTime=(new Date).getTime()},Dd.scenario.ObjectModel.Step.prototype.setErrorStatus=function(a,b,c){this.status=a,this.error=b,this.line=c},Dd.scenario.Runner=function(a){this.listeners=[],this.$window=a,this.rootDescribe=new Dd.scenario.Describe,this.currentDescribe=this.rootDescribe,this.api={it:this.it,iit:this.iit,xit:Dd.noop,describe:this.describe,ddescribe:this.ddescribe,xdescribe:Dd.noop,beforeEach:this.beforeEach,afterEach:this.afterEach},Dd.forEach(this.api,Dd.bind(this,function(a,b){this.$window[b]=Dd.bind(this,a)}))},Dd.scenario.Runner.prototype.emit=function(a){var b=this,c=Array.prototype.slice.call(arguments,1);a=a.toLowerCase(),this.listeners[a]&&Dd.forEach(this.listeners[a],function(a){a.apply(b,c)})},Dd.scenario.Runner.prototype.on=function(a,b){a=a.toLowerCase(),this.listeners[a]=this.listeners[a]||[],this.listeners[a].push(b)},Dd.scenario.Runner.prototype.describe=function(a,b){var c=this;this.currentDescribe.describe(a,function(){var a=c.currentDescribe;c.currentDescribe=this;try{b.call(this)}finally{c.currentDescribe=a}})},Dd.scenario.Runner.prototype.ddescribe=function(a,b){var c=this;this.currentDescribe.ddescribe(a,function(){var a=c.currentDescribe;c.currentDescribe=this;try{b.call(this)}finally{c.currentDescribe=a}})},Dd.scenario.Runner.prototype.it=function(a,b){this.currentDescribe.it(a,b)},Dd.scenario.Runner.prototype.iit=function(a,b){this.currentDescribe.iit(a,b)},Dd.scenario.Runner.prototype.beforeEach=function(a){this.currentDescribe.beforeEach(a)},Dd.scenario.Runner.prototype.afterEach=function(a){this.currentDescribe.afterEach(a)},Dd.scenario.Runner.prototype.createSpecRunner_=function(a){var b=a.$new(),c=Dd.scenario.SpecRunner;for(var d in c.prototype)b[d]=Dd.bind(b,c.prototype[d]);return c.call(b),b},Dd.scenario.Runner.prototype.run=function(a){var b=this,c=Dd.injector(["ng"]).get("$rootScope");Dd.extend(c,this),Dd.forEach(Dd.scenario.Runner.prototype,function(a,d){c[d]=Dd.bind(b,a)}),c.application=a,c.emit("RunnerBegin"),kd(this.rootDescribe.getSpecs(),function(a,d){var e={},f=b.createSpecRunner_(c);Dd.forEach(Dd.scenario.dsl,function(a,b){e[b]=a.call(c)}),Dd.forEach(Dd.scenario.dsl,function(a,c){b.$window[c]=function(){var a=md(3),b=f.$new();return b.dsl={},Dd.forEach(e,function(a,c){b.dsl[c]=function(){return e[c].apply(b,arguments)}}),b.addFuture=function(){return Array.prototype.push.call(arguments,a),Dd.scenario.SpecRunner.prototype.addFuture.apply(b,arguments)},b.addFutureAction=function(){return Array.prototype.push.call(arguments,a),Dd.scenario.SpecRunner.prototype.addFutureAction.apply(b,arguments)},b.dsl[c].apply(b,arguments)}}),f.run(a,function(){f.$destroy(),d.apply(this,arguments)})},function(a){a&&b.emit("RunnerError",a),b.emit("RunnerEnd")})},Dd.scenario.SpecRunner=function(){this.futures=[],this.afterIndex=0},Dd.scenario.SpecRunner.prototype.run=function(a,b){var c=this;this.spec=a,this.emit("SpecBegin",a);try{a.before.call(this),a.body.call(this),this.afterIndex=this.futures.length,a.after.call(this)}catch(d){return this.emit("SpecError",a,d),this.emit("SpecEnd",a),void b()}var e=function(a,b){return c.error?b():(c.error=!0,void b(null,c.afterIndex))};kd(this.futures,function(b,d){c.step=b,c.emit("StepBegin",a,b);try{b.execute(function(f){return f?(c.emit("StepFailure",a,b,f),c.emit("StepEnd",a,b),e(f,d)):(c.emit("StepEnd",a,b),void c.$window.setTimeout(function(){d()},0))})}catch(f){c.emit("StepError",a,b,f),c.emit("StepEnd",a,b),e(f,d)}},function(d){d&&c.emit("SpecError",a,d),c.emit("SpecEnd",a),c.$window.setTimeout(function(){b()},0)})},Dd.scenario.SpecRunner.prototype.addFuture=function(a,b,c){var d=new Dd.scenario.Future(a,Dd.bind(this,b),c);return this.futures.push(d),d},Dd.scenario.SpecRunner.prototype.addFutureAction=function(a,b,c){var d=this,e=/\[ng\\\:/;return this.addFuture(a,function(a){this.application.executeAction(function(c,f){f.elements=function(a){var b=Array.prototype.slice.call(arguments,1);a=(d.selector||"")+" "+(a||""),a=nd.trim(a)||"*",Dd.forEach(b,function(b,c){a=a.replace("$"+(c+1),b)});var c=f.find(a);if(a.match(e)&&Dd.forEach(["[ng-","[data-ng-","[x-ng-"],function(b){c=c.add(a.replace(e,b),f)}),!c.length)throw{type:"selector",message:"Selector "+a+" did not match any elements."};return c};try{b.call(d,c,f,a)}catch(g){if(!g.type||"selector"!==g.type)throw g;a(g.message)}})},c)},Dd.scenario.dsl("pause",function(){return function(){return this.addFuture("pausing for you to resume",function(a){this.emit("InteractivePause",this.spec,this.step),this.$window.resume=function(){a()}})}}),Dd.scenario.dsl("sleep",function(){return function(a){return this.addFuture("sleep for "+a+" seconds",function(b){this.$window.setTimeout(function(){b(null,1e3*a)},1e3*a)})}}),Dd.scenario.dsl("browser",function(){var a={};return a.navigateTo=function(a,b){var c=this.application;return this.addFuture("browser navigate to '"+a+"'",function(d){b&&(a=b.call(this,a)),c.navigateTo(a,function(){d(null,a)},d)})},a.reload=function(){var a=this.application;return this.addFutureAction("browser reload",function(b,c,d){var e=b.location.href;a.navigateTo(e,function(){d(null,e)},d)})},a.window=function(){var a={};return a.href=function(){return this.addFutureAction("window.location.href",function(a,b,c){c(null,a.location.href)})},a.path=function(){return this.addFutureAction("window.location.path",function(a,b,c){c(null,a.location.pathname)})},a.search=function(){return this.addFutureAction("window.location.search",function(a,b,c){c(null,a.location.search)})},a.hash=function(){return this.addFutureAction("window.location.hash",function(a,b,c){c(null,a.location.hash.replace("#",""))})},a},a.location=function(){var a={};return a.url=function(){return this.addFutureAction("$location.url()",function(a,b,c){c(null,b.injector().get("$location").url())})},a.path=function(){return this.addFutureAction("$location.path()",function(a,b,c){c(null,b.injector().get("$location").path())})},a.search=function(){return this.addFutureAction("$location.search()",function(a,b,c){c(null,b.injector().get("$location").search())})},a.hash=function(){return this.addFutureAction("$location.hash()",function(a,b,c){c(null,b.injector().get("$location").hash())})},a},function(){return a}}),Dd.scenario.dsl("expect",function(){var a=Dd.extend({},Dd.scenario.matcher);return a.not=function(){return this.inverse=!0,a},function(b){return this.future=b,a}}),Dd.scenario.dsl("using",function(){return function(a,b){return this.selector=nd.trim((this.selector||"")+" "+a),this.label=Dd.isString(b)&&b.length?b+" ( "+this.selector+" )":this.selector,this.dsl}}),Dd.scenario.dsl("binding",function(){return function(a){return this.addFutureAction("select binding '"+a+"'",function(b,c,d){var e=c.elements().bindings(b.angular.element,a);return e.length?void d(null,e[0]):d("Binding selector '"+a+"' did not match.")})}}),Dd.scenario.dsl("input",function(){var a={},c="oninput"in b.createElement("div")&&9!=ud;return a.enter=function(a,b){return this.addFutureAction("input '"+this.name+"' enter '"+a+"'",function(d,e,f){var g=e.elements('[ng\\:model="$1"]',this.name).filter(":input");g.val(a),g.trigger(b||(c?"input":"change")),f()})},a.check=function(){return this.addFutureAction("checkbox '"+this.name+"' toggle",function(a,b,c){var d=b.elements('[ng\\:model="$1"]',this.name).filter(":checkbox");d.trigger("click"),c()})},a.select=function(a){return this.addFutureAction("radio button '"+this.name+"' toggle '"+a+"'",function(b,c,d){var e=c.elements('[ng\\:model="$1"][value="$2"]',this.name,a).filter(":radio");e.trigger("click"),d()})},a.val=function(){return this.addFutureAction("return input val",function(a,b,c){var d=b.elements('[ng\\:model="$1"]',this.name).filter(":input");c(null,d.val())})},function(b){return this.name=b,a}}),Dd.scenario.dsl("repeater",function(){var a={};return a.count=function(){return this.addFutureAction("repeater '"+this.label+"' count",function(a,b,c){try{c(null,b.elements().length)}catch(d){c(null,0)}})},a.column=function(a){return this.addFutureAction("repeater '"+this.label+"' column '"+a+"'",function(b,c,d){d(null,c.elements().bindings(b.angular.element,a))})},a.row=function(a){return this.addFutureAction("repeater '"+this.label+"' row '"+a+"'",function(b,c,d){var e=c.elements().slice(a,a+1);return e.length?void d(null,e.bindings(b.angular.element)):d("row "+a+" out of bounds")})},function(b,c){return this.dsl.using(b,c),a}}),Dd.scenario.dsl("select",function(){var a={};return a.option=function(a){return this.addFutureAction("select '"+this.name+"' option '"+a+"'",function(b,c,d){var e=c.elements('select[ng\\:model="$1"]',this.name),f=e.find('option[value="'+a+'"]');if(f.length)e.val(a);else{if(f=e.find("option").filter(function(){return nd(this).text()===a}),f.length||(f=e.find('option:contains("'+a+'")')),!f.length)return d("option '"+a+"' not found");e.val(f.val())}e.trigger("change"),d()})},a.options=function(){var a=arguments;return this.addFutureAction("select '"+this.name+"' options '"+a+"'",function(b,c,d){var e=c.elements('select[multiple][ng\\:model="$1"]',this.name);e.val(a),e.trigger("change"),d()})},function(b){return this.name=b,a}}),Dd.scenario.dsl("element",function(){var a=["attr","css","prop"],b=["val","text","html","height","innerHeight","outerHeight","width","innerWidth","outerWidth","position","scrollLeft","scrollTop","offset"],c={};return c.count=function(){return this.addFutureAction("element '"+this.label+"' count",function(a,b,c){try{c(null,b.elements().length)}catch(d){c(null,0)}})},c.click=function(){return this.addFutureAction("element '"+this.label+"' click",function(a,b,c){var d=b.elements(),e=d.attr("href"),f=d.trigger("click")[0];e&&"A"===d[0].nodeName.toUpperCase()&&f?this.application.navigateTo(e,function(){c()},c):c()})},c.dblclick=function(){return this.addFutureAction("element '"+this.label+"' dblclick",function(a,b,c){var d=b.elements(),e=d.attr("href"),f=d.trigger("dblclick")[0];e&&"A"===d[0].nodeName.toUpperCase()&&f?this.application.navigateTo(e,function(){c()},c):c()})},c.mouseover=function(){return this.addFutureAction("element '"+this.label+"' mouseover",function(a,b,c){var d=b.elements();d.trigger("mouseover"),c()})},c.mousedown=function(){return this.addFutureAction("element '"+this.label+"' mousedown",function(a,b,c){var d=b.elements();d.trigger("mousedown"),c()})},c.mouseup=function(){return this.addFutureAction("element '"+this.label+"' mouseup",function(a,b,c){var d=b.elements();d.trigger("mouseup"),c()})},c.query=function(a){return this.addFutureAction("element "+this.label+" custom query",function(b,c,d){a.call(this,c.elements(),d)})},Dd.forEach(a,function(a){c[a]=function(b,c){var d=arguments,e=1==d.length?"element '"+this.label+"' get "+a+" '"+b+"'":"element '"+this.label+"' set "+a+" '"+b+"' to '"+c+"'";return this.addFutureAction(e,function(b,c,e){var f=c.elements();e(null,f[a].apply(f,d))})}}),Dd.forEach(b,function(a){c[a]=function(b){var c=arguments,d=0===c.length?"element '"+this.label+"' "+a:"element '"+this.label+"' set "+a+" to '"+b+"'";return this.addFutureAction(d,function(b,d,e){var f=d.elements();e(null,f[a].apply(f,c))})}}),function(a,b){return this.dsl.using(a,b),c}}),Dd.scenario.matcher("toEqual",function(a){return Dd.equals(this.actual,a)}),Dd.scenario.matcher("toBe",function(a){return this.actual===a}),Dd.scenario.matcher("toBeDefined",function(){return Dd.isDefined(this.actual)}),Dd.scenario.matcher("toBeTruthy",function(){return this.actual}),Dd.scenario.matcher("toBeFalsy",function(){return!this.actual
}),Dd.scenario.matcher("toMatch",function(a){return new RegExp(a).test(this.actual)}),Dd.scenario.matcher("toBeNull",function(){return null===this.actual}),Dd.scenario.matcher("toContain",function(a){return E(this.actual,a)}),Dd.scenario.matcher("toBeLessThan",function(a){return this.actual<a}),Dd.scenario.matcher("toBeGreaterThan",function(a){return this.actual>a}),Dd.scenario.output("html",function(a,b,c){function d(b){var d=a.find("#specs");return Dd.forEach(c.getDefinitionPath(b),function(b){var c="describe-"+b.id;a.find("#"+c).length||(d.find("> .test-children").append('<div class="test-describe" id="'+c+'">  <h2></h2>  <div class="test-children"></div>  <ul class="tests"></ul></div>'),a.find("#"+c).find("> h2").text("describe: "+b.name)),d=a.find("#"+c)}),a.find("#describe-"+b.definition.id)}function e(b){var c=a.find("#status-legend .status-"+b),d=c.text().split(" "),e=1*d[0]+1;c.text(e+" "+d[1])}function f(a,b,c){a.find(".test-title").append("<pre></pre>");var d=nd.trim(b()+"\n\n"+ld(c));a.find(".test-title pre:last").text(d)}var g={},h={};a.append('<div id="header">  <h1><span class="angular">AngularJS</span>: Scenario Test Runner</h1>  <ul id="status-legend" class="status-display">    <li class="status-error">0 Errors</li>    <li class="status-failure">0 Failures</li>    <li class="status-success">0 Passed</li>  </ul></div><div id="specs">  <div class="test-children"></div></div>'),b.on("InteractivePause",function(a){var b=h[a.id];b.find(".test-title").html('paused... <a href="javascript:resume()">resume</a> when ready.')}),b.on("SpecBegin",function(b){var c=d(b);c.find("> .tests").append('<li class="status-pending test-it"></li>'),c=c.find("> .tests li:last"),c.append('<div class="test-info">  <p class="test-title">    <span class="timer-result"></span>    <span class="test-name"></span>  </p></div><div class="scrollpane">  <ol class="test-actions"></ol></div>'),c.find("> .test-info .test-name").text(b.name),c.find("> .test-info").click(function(){var b=c.find("> .scrollpane"),d=b.find("> .test-actions"),e=a.find("> .test-info .test-name");d.find(":visible").length?(d.hide(),e.removeClass("open").addClass("closed")):(d.show(),b.attr("scrollTop",b.attr("scrollHeight")),e.removeClass("closed").addClass("open"))}),g[b.id]=c}),b.on("SpecError",function(a,b){var c=g[a.id];c.append("<pre></pre>"),c.find("> pre").text(ld(b))}),b.on("SpecEnd",function(a){var b=g[a.id];a=c.getSpec(a.id),b.removeClass("status-pending"),b.addClass("status-"+a.status),b.find("> .test-info .timer-result").text(a.duration+"ms"),"success"===a.status&&(b.find("> .test-info .test-name").addClass("closed"),b.find("> .scrollpane .test-actions").hide()),e(a.status)}),b.on("StepBegin",function(a,b){var d=g[a.id];a=c.getSpec(a.id),b=a.getLastStep(),d.find("> .scrollpane .test-actions").append('<li class="status-pending"></li>');var e=h[a.id]=d.find("> .scrollpane .test-actions li:last");e.append('<div class="timer-result"></div><div class="test-title"></div>'),e.find("> .test-title").text(b.name);var f=e.parents(".scrollpane");f.attr("scrollTop",f.attr("scrollHeight"))}),b.on("StepFailure",function(a,b,c){var d=h[a.id];f(d,b.line,c)}),b.on("StepError",function(a,b,c){var d=h[a.id];f(d,b.line,c)}),b.on("StepEnd",function(a,b){var d=h[a.id];a=c.getSpec(a.id),b=a.getLastStep(),d.find(".timer-result").text(b.duration+"ms"),d.removeClass("status-pending"),d.addClass("status-"+b.status);var e=g[a.id].find("> .scrollpane");e.attr("scrollTop",e.attr("scrollHeight"))})}),Dd.scenario.output("json",function(a,b,c){c.on("RunnerEnd",function(){a.text(Dd.toJson(c.value))})}),Dd.scenario.output("xml",function(a,b,c){function d(a,b){Dd.forEach(b.children,function(b){var c=e("<describe></describe>");c.attr("id",b.id),c.attr("name",b.name),a.append(c),d(c,b)});var c=e("<its></its>");a.append(c),Dd.forEach(b.specs,function(a){var b=e("<it></it>");b.attr("id",a.id),b.attr("name",a.name),b.attr("duration",a.duration),b.attr("status",a.status),c.append(b),Dd.forEach(a.steps,function(a){var c=e("<step></step>");if(c.attr("name",a.name),c.attr("duration",a.duration),c.attr("status",a.status),b.append(c),a.error){var d=e("<error></error>");c.append(d),d.text(ld(a.error))}})})}var e=function(b){return new a.init(b)};c.on("RunnerEnd",function(){var b=e("<scenario></scenario>");a.append(b),d(b,c.value)})}),Dd.scenario.output("object",function(a,b,c){b.$window.$result=c.value}),_(),gb(Dd);var Df=new Dd.scenario.Runner(a),Ef=b.getElementsByTagName("script"),Ff=Ef[Ef.length-1],Gf={};Dd.forEach(Ff.attributes,function(a){var b=a.name.match(/ng[:\-](.*)/);b&&(Gf[b[1]]=a.value||!0)}),Gf.autotest&&nb(b).ready(function(){Dd.scenario.setUpAndRun(Gf)})}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";\n\n[ng\\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak],\n.ng-cloak, .x-ng-cloak,\n.ng-hide {\n  display: none !important;\n}\n\nng\\:form {\n  display: block;\n}\n\n.ng-animate-block-transitions {\n  transition:0s all!important;\n  -webkit-transition:0s all!important;\n}\n\n/* show the element during a show/hide animation when the\n * animation is ongoing, but the .ng-hide class is active */\n.ng-hide-add-active, .ng-hide-remove {\n  display: block!important;\n}\n</style>'),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend("<style type=\"text/css\">@charset \"UTF-8\";\n/* CSS Document */\n\n/** Structure */\nbody {\n  font-family: Arial, sans-serif;\n  margin: 0;\n  font-size: 14px;\n}\n\n#system-error {\n  font-size: 1.5em;\n  text-align: center;\n}\n\n#json, #xml {\n  display: none;\n}\n\n#header {\n  position: fixed;\n  width: 100%;\n}\n\n#specs {\n  padding-top: 50px;\n}\n\n#header .angular {\n  font-family: Courier New, monospace;\n  font-weight: bold;\n}\n\n#header h1 {\n  font-weight: normal;\n  float: left;\n  font-size: 30px;\n  line-height: 30px;\n  margin: 0;\n  padding: 10px 10px;\n  height: 30px;\n}\n\n#application h2,\n#specs h2 {\n  margin: 0;\n  padding: 0.5em;\n  font-size: 1.1em;\n}\n\n#status-legend {\n  margin-top: 10px;\n  margin-right: 10px;\n}\n\n#header,\n#application,\n.test-info,\n.test-actions li {\n  overflow: hidden;\n}\n\n#application {\n  margin: 10px;\n}\n\n#application iframe {\n  width: 100%;\n  height: 758px;\n}\n\n#application .popout {\n  float: right;\n}\n\n#application iframe {\n  border: none;\n}\n\n.tests li,\n.test-actions li,\n.test-it li,\n.test-it ol,\n.status-display {\n  list-style-type: none;\n}\n\n.tests,\n.test-it ol,\n.status-display {\n  margin: 0;\n  padding: 0;\n}\n\n.test-info {\n  margin-left: 1em;\n  margin-top: 0.5em;\n  border-radius: 8px 0 0 8px;\n  -webkit-border-radius: 8px 0 0 8px;\n  -moz-border-radius: 8px 0 0 8px;\n  cursor: pointer;\n}\n\n.test-info:hover .test-name {\n  text-decoration: underline;\n}\n\n.test-info .closed:before {\n  content: '\\25b8\\00A0';\n}\n\n.test-info .open:before {\n  content: '\\25be\\00A0';\n  font-weight: bold;\n}\n\n.test-it ol {\n  margin-left: 2.5em;\n}\n\n.status-display,\n.status-display li {\n  float: right;\n}\n\n.status-display li {\n  padding: 5px 10px;\n}\n\n.timer-result,\n.test-title {\n  display: inline-block;\n  margin: 0;\n  padding: 4px;\n}\n\n.test-actions .test-title,\n.test-actions .test-result {\n  display: table-cell;\n  padding-left: 0.5em;\n  padding-right: 0.5em;\n}\n\n.test-actions {\n  display: table;\n}\n\n.test-actions li {\n  display: table-row;\n}\n\n.timer-result {\n  width: 4em;\n  padding: 0 10px;\n  text-align: right;\n  font-family: monospace;\n}\n\n.test-it pre,\n.test-actions pre {\n  clear: left;\n  color: black;\n  margin-left: 6em;\n}\n\n.test-describe {\n  padding-bottom: 0.5em;\n}\n\n.test-describe .test-describe {\n  margin: 5px 5px 10px 2em;\n}\n\n.test-actions .status-pending .test-title:before {\n  content: '\\00bb\\00A0';\n}\n\n.scrollpane {\n   max-height: 20em;\n   overflow: auto;\n}\n\n/** Colors */\n\n#header {\n  background-color: #F2C200;\n}\n\n#specs h2 {\n  border-top: 2px solid #BABAD1;\n}\n\n#specs h2,\n#application h2 {\n  background-color: #efefef;\n}\n\n#application {\n  border: 1px solid #BABAD1;\n}\n\n.test-describe .test-describe {\n  border-left: 1px solid #BABAD1;\n  border-right: 1px solid #BABAD1;\n  border-bottom: 1px solid #BABAD1;\n}\n\n.status-display {\n  border: 1px solid #777;\n}\n\n.status-display .status-pending,\n.status-pending .test-info {\n  background-color: #F9EEBC;\n}\n\n.status-display .status-success,\n.status-success .test-info {\n  background-color: #B1D7A1;\n}\n\n.status-display .status-failure,\n.status-failure .test-info {\n  background-color: #FF8286;\n}\n\n.status-display .status-error,\n.status-error .test-info {\n  background-color: black;\n  color: white;\n}\n\n.test-actions .status-success .test-title {\n  color: #30B30A;\n}\n\n.test-actions .status-failure .test-title {\n  color: #DF0000;\n}\n\n.test-actions .status-error .test-title {\n  color: black;\n}\n\n.test-actions .timer-result {\n  color: #888;\n}\n</style>"),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return I(new(I(function(){},{prototype:a})),b)}function e(a){return H(arguments,function(b){b!==a&&H(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function h(a,b,c,d){var e,h=f(c,d),i={},j=[];for(var k in h)if(h[k].params&&h[k].params.length){e=h[k].params;for(var l in e)g(j,e[l])>=0||(j.push(e[l]),i[e[l]]=a[e[l]])}return I({},i,b)}function i(a,b){var c={};return H(a,function(a){var d=b[a];c[a]=null!=d?String(d):null}),c}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return H(a,function(a){c[a]=b[a]}),c}function l(a,b){var d=1,f=2,g={},h=[],i=g,j=I(a.when(g),{$$promises:g,$$values:g});this.study=function(g){function k(a,c){if(o[c]!==f){if(n.push(c),o[c]===d)throw n.splice(0,n.indexOf(c)),new Error("Cyclic dependency: "+n.join(" -> "));if(o[c]=d,E(a))m.push(c,[function(){return b.get(a)}],h);else{var e=b.annotate(a);H(e,function(a){a!==c&&g.hasOwnProperty(a)&&k(g[a],a)}),m.push(c,a,e)}n.pop(),o[c]=f}}function l(a){return F(a)&&a.then&&a.$$promises}if(!F(g))throw new Error("'invocables' must be an object");var m=[],n=[],o={};return H(g,k),g=n=o=null,function(d,f,g){function h(){--s||(t||e(r,f.$$values),p.$$values=r,p.$$promises=!0,o.resolve(r))}function k(a){p.$$failure=a,o.reject(a)}function n(c,e,f){function i(a){l.reject(a),k(a)}function j(){if(!C(p.$$failure))try{l.resolve(b.invoke(e,g,r)),l.promise.then(function(a){r[c]=a,h()},i)}catch(a){i(a)}}var l=a.defer(),m=0;H(f,function(a){q.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,q[a].then(function(b){r[a]=b,--m||j()},i))}),m||j(),q[c]=l.promise}if(l(d)&&g===c&&(g=f,f=d,d=null),d){if(!F(d))throw new Error("'locals' must be an object")}else d=i;if(f){if(!l(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=j;var o=a.defer(),p=o.promise,q=p.$$promises={},r=I({},d),s=1+m.length/3,t=!1;if(C(f.$$failure))return k(f.$$failure),p;f.$$values?(t=e(r,f.$$values),h()):(I(q,f.$$promises),f.then(h,k));for(var u=0,v=m.length;v>u;u+=3)d.hasOwnProperty(m[u])?h():n(m[u],m[u+1],m[u+2]);return p}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function m(a,b,c){this.fromConfig=function(a,b,c){return C(a.template)?this.fromString(a.template,b):C(a.templateUrl)?this.fromUrl(a.templateUrl,b):C(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return D(a)?a(b):a},this.fromUrl=function(c,d){return D(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function n(a){function b(b){if(!/^\w+(-+\w+)*$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(f[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");f[b]=!0,j.push(b)}function c(a){return a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var d,e=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f={},g="^",h=0,i=this.segments=[],j=this.params=[];this.source=a;for(var k,l,m;(d=e.exec(a))&&(k=d[2]||d[3],l=d[4]||("*"==d[1]?".*":"[^/]*"),m=a.substring(h,d.index),!(m.indexOf("?")>=0));)g+=c(m)+"("+l+")",b(k),i.push(m),h=e.lastIndex;m=a.substring(h);var n=m.indexOf("?");if(n>=0){var o=this.sourceSearch=m.substring(n);m=m.substring(0,n),this.sourcePath=a.substring(0,h+n),H(o.substring(1).split(/[&?]/),b)}else this.sourcePath=a,this.sourceSearch="";g+=c(m)+"$",i.push(m),this.regexp=new RegExp(g),this.prefix=i[0]}function o(){this.compile=function(a){return new n(a)},this.isMatcher=function(a){return F(a)&&D(a.exec)&&D(a.format)&&D(a.concat)},this.$get=function(){return this}}function p(a){function b(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function c(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function d(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return C(d)?d:!0}var e=[],f=null;this.rule=function(a){if(!D(a))throw new Error("'rule' must be a function");return e.push(a),this},this.otherwise=function(a){if(E(a)){var b=a;a=function(){return b}}else if(!D(a))throw new Error("'rule' must be a function");return f=a,this},this.when=function(e,f){var g,h=E(f);if(E(e)&&(e=a.compile(e)),!h&&!D(f)&&!G(f))throw new Error("invalid 'handler' in when()");var i={matcher:function(b,c){return h&&(g=a.compile(c),c=["$match",function(a){return g.format(a)}]),I(function(a,e){return d(a,c,b.exec(e.path(),e.search()))},{prefix:E(b.prefix)?b.prefix:""})},regex:function(a,e){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(g=e,e=["$match",function(a){return c(g,a)}]),I(function(b,c){return d(b,e,a.exec(c.path()))},{prefix:b(a)})}},j={matcher:a.isMatcher(e),regex:e instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](e,f));throw new Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function(a,b,c){function d(b){function d(b){var d=b(c,a);return d?(E(d)&&a.replace().url(d),!0):!1}if(!b||!b.defaultPrevented){var g,h=e.length;for(g=0;h>g;g++)if(d(e[g]))return;f&&d(f)}}return b.$on("$locationChangeSuccess",d),{sync:function(){d()}}}]}function q(a,e,f){function g(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function l(a,b){var d=E(a),e=d?a:a.name,f=g(e);if(f){if(!b)throw new Error("No reference point given for path '"+e+"'");for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=w[e];return!l||!d&&(d||l!==a&&l.self!==a)?c:l}function m(a,b){x[a]||(x[a]=[]),x[a].push(b)}function n(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!E(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(w.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):E(b.parent)?b.parent:"";if(e&&!w[e])return m(e,b.self);for(var f in z)D(z[f])&&(b[f]=z[f](b,z.$delegates[f]));if(w[c]=b,!b[y]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){v.$current.navigable==b&&j(a,c)||v.transitionTo(b,a,{location:!1})}]),x[c])for(var g=0;g<x[c].length;g++)n(x[c][g]);return b}function o(a){return a.indexOf("*")>-1}function p(a){var b=a.split("."),c=v.$current.name.split(".");if("**"===b[0]&&(c=c.slice(c.indexOf(b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(c.indexOf(b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length)return!1;for(var d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return c.join("")===b.join("")}function q(a,b){return E(a)&&!C(b)?z[a]:D(b)&&E(a)?(z[a]&&!z.$delegates[a]&&(z.$delegates[a]=z[a]),z[a]=b,this):this}function r(a,b){return F(a)?b=a:b.name=a,n(b),this}function s(a,e,g,m,n,q,r,s,x){function z(){r.url()!==M&&(r.url(M),r.replace())}function A(a,c,d,f,h){var i=d?c:k(a.params,c),j={$stateParams:i};h.resolve=n.resolve(a.resolve,j,h.resolve,a);var l=[h.resolve.then(function(a){h.globals=a})];return f&&l.push(f),H(a.views,function(c,d){var e=c.resolve&&c.resolve!==a.resolve?c.resolve:{};e.$template=[function(){return g.load(d,{view:c,locals:j,params:i,notify:!1})||""}],l.push(n.resolve(e,j,h.resolve,a).then(function(f){if(D(c.controllerProvider)||G(c.controllerProvider)){var g=b.extend({},e,j);f.$$controller=m.invoke(c.controllerProvider,null,g)}else f.$$controller=c.controller;f.$$state=a,f.$$controllerAs=c.controllerAs,h[d]=f}))}),e.all(l).then(function(){return h})}var B=e.reject(new Error("transition superseded")),F=e.reject(new Error("transition prevented")),K=e.reject(new Error("transition aborted")),L=e.reject(new Error("transition failed")),M=r.url(),N=x.baseHref();return u.locals={resolve:null,globals:{$stateParams:{}}},v={params:{},current:u.self,$current:u,transition:null},v.reload=function(){v.transitionTo(v.current,q,{reload:!0,inherit:!1,notify:!1})},v.go=function(a,b,c){return this.transitionTo(a,b,I({inherit:!0,relative:v.$current},c))},v.transitionTo=function(b,c,f){c=c||{},f=I({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,k=v.$current,n=v.params,o=k.path,p=l(b,f.relative);if(!C(p)){var s={to:b,toParams:c,options:f};if(g=a.$broadcast("$stateNotFound",s,k.self,n),g.defaultPrevented)return z(),K;if(g.retry){if(f.$retry)return z(),L;var w=v.transition=e.when(g.retry);return w.then(function(){return w!==v.transition?B:(s.options.$retry=!0,v.transitionTo(s.to,s.toParams,s.options))},function(){return K}),z(),w}if(b=s.to,c=s.toParams,f=s.options,p=l(b,f.relative),!C(p)){if(f.relative)throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'");throw new Error("No such state '"+b+"'")}}if(p[y])throw new Error("Cannot transition to abstract state '"+b+"'");f.inherit&&(c=h(q,c||{},v.$current,p)),b=p;var x,D,E=b.path,G=u.locals,H=[];for(x=0,D=E[x];D&&D===o[x]&&j(c,n,D.ownParams)&&!f.reload;x++,D=E[x])G=H[x]=D.locals;if(t(b,k,G,f))return b.self.reloadOnSearch!==!1&&z(),v.transition=null,e.when(v.current);if(c=i(b.params,c||{}),f.notify&&(g=a.$broadcast("$stateChangeStart",b.self,c,k.self,n),g.defaultPrevented))return z(),F;for(var N=e.when(G),O=x;O<E.length;O++,D=E[O])G=H[O]=d(G),N=A(D,c,D===b,N,G);var P=v.transition=N.then(function(){var d,e,g;if(v.transition!==P)return B;for(d=o.length-1;d>=x;d--)g=o[d],g.self.onExit&&m.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=x;d<E.length;d++)e=E[d],e.locals=H[d],e.self.onEnter&&m.invoke(e.self.onEnter,e.self,e.locals.globals);if(v.transition!==P)return B;v.$current=b,v.current=b.self,v.params=c,J(v.params,q),v.transition=null;var h=b.navigable;return f.location&&h&&(r.url(h.url.format(h.locals.globals.$stateParams)),"replace"===f.location&&r.replace()),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,k.self,n),M=r.url(),v.current},function(d){return v.transition!==P?B:(v.transition=null,a.$broadcast("$stateChangeError",b.self,c,k.self,n,d),z(),e.reject(d))});return P},v.is=function(a,d){var e=l(a);return C(e)?v.$current!==e?!1:C(d)&&null!==d?b.equals(q,d):!0:c},v.includes=function(a,d){if(E(a)&&o(a)){if(!p(a))return!1;a=v.$current.name}var e=l(a);if(!C(e))return c;if(!C(v.$current.includes[e.name]))return!1;var f=!0;return b.forEach(d,function(a,b){C(q[b])&&q[b]===a||(f=!1)}),f},v.href=function(a,b,c){c=I({lossy:!0,inherit:!1,absolute:!1,relative:v.$current},c||{});var d=l(a,c.relative);if(!C(d))return null;b=h(q,b||{},v.$current,d);var e=d&&c.lossy?d.navigable:d,g=e&&e.url?e.url.format(i(d.params,b||{})):null;return!f.html5Mode()&&g&&(g="#"+f.hashPrefix()+g),"/"!==N&&(f.html5Mode()?g=N.slice(0,-1)+g:c.absolute&&(g=N.slice(1)+g)),c.absolute&&g&&(g=r.protocol()+"://"+r.host()+(80==r.port()||443==r.port()?"":":"+r.port())+(!f.html5Mode()&&g?"/":"")+g),g},v.get=function(a,b){if(!C(a)){var c=[];return H(w,function(a){c.push(a.self)}),c}var d=l(a,b);return d&&d.self?d.self:null},v}function t(a,b,c,d){return a!==b||(c!==b.locals||d.reload)&&a.self.reloadOnSearch!==!1?void 0:!0}var u,v,w={},x={},y="abstract",z={parent:function(a){if(C(a.parent)&&a.parent)return l(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?l(b[1]):u},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=I({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url;if(E(b))return"^"==b.charAt(0)?e.compile(b.substring(1)):(a.parent.navigable||u).url.concat(b);if(e.isMatcher(b)||null==b)return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},params:function(a){if(!a.params)return a.url?a.url.parameters():a.parent.params;if(!G(a.params))throw new Error("Invalid params in state '"+a+"'");if(a.url)throw new Error("Both params and url specicified in state '"+a+"'");return a.params},views:function(a){var b={};return H(C(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},ownParams:function(a){if(!a.parent)return a.params;var b={};H(a.params,function(a){b[a]=!0}),H(a.parent.params,function(c){if(!b[c])throw new Error("Missing required parameter '"+c+"' in state '"+a.name+"'");b[c]=!1});var c=[];return H(b,function(a,b){a&&c.push(b)}),c},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?I({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};u=n({name:"",url:"^",views:null,"abstract":!0}),u.navigable=null,this.decorator=q,this.state=r,this.$get=s,s.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter","$browser"]}function r(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=I(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function s(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){c(function(){a[0].scrollIntoView()},0,!1)}}]}function t(a,c,d){function e(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function f(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(i)return{enter:function(a,b,c){i.enter(a,null,b,c)},leave:function(a,b){i.leave(a,b)}};if(h){var d=h&&h(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var g=e(),h=g("$animator"),i=g("$animate"),j={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,e,g){return function(c,e,h){function i(){k&&(k.remove(),k=null),m&&(m.$destroy(),m=null),l&&(q.leave(l,function(){k=null}),k=l,l=null)}function j(f){var h=c.$new(),j=l&&l.data("$uiViewName"),k=j&&a.$current&&a.$current.locals[j];if(f||k!==n){var r=g(h,function(a){q.enter(a,e,function(){(b.isDefined(p)&&!p||c.$eval(p))&&d(a)}),i()});n=a.$current.locals[r.data("$uiViewName")],l=r,m=h,m.$emit("$viewContentLoaded"),m.$eval(o)}}var k,l,m,n,o=h.onload||"",p=h.autoscroll,q=f(h,c);c.$on("$stateChangeSuccess",function(){j(!1)}),c.$on("$viewContentLoading",function(){j(!1)}),j(!0)}}};return j}function u(a,b,c){return{restrict:"ECA",priority:-400,compile:function(d){var e=d.html();return function(d,f,g){var h=g.uiView||g.name||"",i=f.inheritedData("$uiView");h.indexOf("@")<0&&(h=h+"@"+(i?i.state.name:"")),f.data("$uiViewName",h);var j=c.$current,k=j&&j.locals[h];if(k){f.data("$uiView",{name:h,state:k.$$state}),f.html(k.$template?k.$template:e);var l=a(f.contents());if(k.$$controller){k.$scope=d;var m=b(k.$$controller,k);k.$$controllerAs&&(d[k.$$controllerAs]=m),f.data("$ngControllerController",m),f.children().data("$ngControllerController",m)}l(d)}}}}}function v(a){var b=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!b||4!==b.length)throw new Error("Invalid state ref '"+a+"'");return{state:b[1],paramExpr:b[3]||null}}function w(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function x(a,c){var d=["location","inherit","reload"];return{restrict:"A",require:"?^uiSrefActive",link:function(e,f,g,h){var i=v(g.uiSref),j=null,k=w(f)||a.$current,l="FORM"===f[0].nodeName,m=l?"action":"href",n=!0,o={relative:k},p=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in p&&(o[a]=p[a])});var q=function(b){if(b&&(j=b),n){var c=a.href(i.state,j,o);return h&&h.$$setStateInfo(i.state,j),c?void(f[0][m]=c):(n=!1,!1)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a){a!==j&&q(a)},!0),j=e.$eval(i.paramExpr)),q(),l||f.bind("click",function(b){var d=b.which||b.button;d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target")||(c(function(){a.go(i.state,j,o)}),b.preventDefault())})}}}function y(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(d,e,f){function g(){a.$current.self===i&&h()?e.addClass(l):e.removeClass(l)}function h(){return!k||j(k,b)}var i,k,l;l=c(f.uiSrefActive||"",!1)(d),this.$$setStateInfo=function(b,c){i=a.get(b,w(e)),k=c,g()},d.$on("$stateChangeSuccess",g)}]}}function z(a){return function(b){return a.is(b)}}function A(a){return function(b){return a.includes(b)}}function B(a,b){function e(a){this.locals=a.locals.globals,this.params=this.locals.$stateParams}function f(){this.locals=null,this.params=null}function g(c,g){if(null!=g.redirectTo){var h,j=g.redirectTo;if(E(j))h=j;else{if(!D(j))throw new Error("Invalid 'redirectTo' in when()");h=function(a,b){return j(a,b.path(),b.search())}}b.when(c,h)}else a.state(d(g,{parent:null,name:"route:"+encodeURIComponent(c),url:c,onEnter:e,onExit:f}));return i.push(g),this}function h(a,b,d){function e(a){return""!==a.name?a:c}var f={routes:i,params:d,current:c};return b.$on("$stateChangeStart",function(a,c,d,f){b.$broadcast("$routeChangeStart",e(c),e(f))}),b.$on("$stateChangeSuccess",function(a,c,d,g){f.current=e(c),b.$broadcast("$routeChangeSuccess",e(c),e(g)),J(d,f.params)}),b.$on("$stateChangeError",function(a,c,d,f,g,h){b.$broadcast("$routeChangeError",e(c),e(f),h)}),f}var i=[];e.$inject=["$$state"],this.when=g,this.$get=h,h.$inject=["$state","$rootScope","$routeParams"]}var C=b.isDefined,D=b.isFunction,E=b.isString,F=b.isObject,G=b.isArray,H=b.forEach,I=b.extend,J=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),l.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",l),m.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",m),n.prototype.concat=function(a){return new n(this.sourcePath+a+this.sourceSearch)},n.prototype.toString=function(){return this.source},n.prototype.exec=function(a,b){var c=this.regexp.exec(a);if(!c)return null;var d,e=this.params,f=e.length,g=this.segments.length-1,h={};if(g!==c.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(d=0;g>d;d++)h[e[d]]=c[d+1];for(;f>d;d++)h[e[d]]=b[e[d]];return h},n.prototype.parameters=function(){return this.params},n.prototype.format=function(a){var b=this.segments,c=this.params;if(!a)return b.join("");var d,e,f,g=b.length-1,h=c.length,i=b[0];for(d=0;g>d;d++)f=a[c[d]],null!=f&&(i+=encodeURIComponent(f)),i+=b[d+1];for(;h>d;d++)f=a[c[d]],null!=f&&(i+=(e?"&":"?")+c[d]+"="+encodeURIComponent(f),e=!0);return i},b.module("ui.router.util").provider("$urlMatcherFactory",o),p.$inject=["$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",p),q.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",q),r.$inject=[],b.module("ui.router.state").provider("$view",r),b.module("ui.router.state").provider("$uiViewScroll",s),t.$inject=["$state","$injector","$uiViewScroll"],u.$inject=["$compile","$controller","$state"],b.module("ui.router.state").directive("uiView",t),b.module("ui.router.state").directive("uiView",u),x.$inject=["$state","$timeout"],y.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",x).directive("uiSrefActive",y),z.$inject=["$state"],A.$inject=["$state"],b.module("ui.router.state").filter("isState",z).filter("includedByState",A),B.$inject=["$stateProvider","$urlRouterProvider"],b.module("ui.router.compat").provider("$route",B).directive("ngView",t)}(window,window.angular),function(){"use strict";angular.module("ui.tree",[]).constant("treeConfig",{treeClass:"angular-ui-tree",emptyTreeClass:"angular-ui-tree-empty",hiddenClass:"angular-ui-tree-hidden",nodesClass:"angular-ui-tree-nodes",nodeClass:"angular-ui-tree-node",handleClass:"angular-ui-tree-handle",placeHolderClass:"angular-ui-tree-placeholder",dragClass:"angular-ui-tree-drag",dragThreshold:3,levelThreshold:30})}(),function(){"use strict";angular.module("ui.tree").factory("$uiTreeHelper",["$document","$window",function(a,b){return{nodesData:{},setNodeAttribute:function(a,b,c){var d=this.nodesData[a.$modelValue.$$hashKey];d||(d={},this.nodesData[a.$modelValue.$$hashKey]=d),d[b]=c},getNodeAttribute:function(a,b){var c=this.nodesData[a.$modelValue.$$hashKey];return c?c[b]:null},nodrag:function(a){return"undefined"!=typeof a.attr("data-nodrag")},eventObj:function(a){var b=a;return void 0!==a.targetTouches?b=a.targetTouches.item(0):void 0!==a.originalEvent&&void 0!==a.originalEvent.targetTouches&&(b=a.originalEvent.targetTouches.item(0)),b},dragInfo:function(a){return{source:a,sourceInfo:{nodeScope:a,index:a.index(),nodesScope:a.$parentNodesScope},index:a.index(),siblings:a.siblings().slice(0),parent:a.$parentNodesScope,moveTo:function(a,b,c){this.parent=a,this.siblings=b.slice(0);var d=this.siblings.indexOf(this.source);d>-1&&(this.siblings.splice(d,1),this.source.index()<c&&c--),this.siblings.splice(c,0,this.source),this.index=c},parentNode:function(){return this.parent.$nodeScope},prev:function(){return this.index>0?this.siblings[this.index-1]:null},next:function(){return this.index<this.siblings.length-1?this.siblings[this.index+1]:null},isDirty:function(){return this.source.$parentNodesScope!=this.parent||this.source.index()!=this.index},eventArgs:function(a,b){return{source:this.sourceInfo,dest:{index:this.index,nodesScope:this.parent},elements:a,pos:b}},apply:function(){var a=this.source.$modelValue;this.source.remove(),this.parent.insertNode(this.index,a)}}},height:function(a){return a.prop("scrollHeight")},width:function(a){return a.prop("scrollWidth")},offset:function(c){var d=c[0].getBoundingClientRect();return{width:c.prop("offsetWidth"),height:c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].body.scrollTop||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].body.scrollLeft||a[0].documentElement.scrollLeft)}},positionStarted:function(a,b){var c={};return c.offsetX=a.pageX-this.offset(b).left,c.offsetY=a.pageY-this.offset(b).top,c.startX=c.lastX=a.pageX,c.startY=c.lastY=a.pageY,c.nowX=c.nowY=c.distX=c.distY=c.dirAx=0,c.dirX=c.dirY=c.lastDirX=c.lastDirY=c.distAxX=c.distAxY=0,c},positionMoved:function(a,b,c){b.lastX=b.nowX,b.lastY=b.nowY,b.nowX=a.pageX,b.nowY=a.pageY,b.distX=b.nowX-b.lastX,b.distY=b.nowY-b.lastY,b.lastDirX=b.dirX,b.lastDirY=b.dirY,b.dirX=0===b.distX?0:b.distX>0?1:-1,b.dirY=0===b.distY?0:b.distY>0?1:-1;
var d=Math.abs(b.distX)>Math.abs(b.distY)?1:0;return c?(b.dirAx=d,void(b.moving=!0)):(b.dirAx!==d?(b.distAxX=0,b.distAxY=0):(b.distAxX+=Math.abs(b.distX),0!==b.dirX&&b.dirX!==b.lastDirX&&(b.distAxX=0),b.distAxY+=Math.abs(b.distY),0!==b.dirY&&b.dirY!==b.lastDirY&&(b.distAxY=0)),void(b.dirAx=d))}}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeController",["$scope","$element","$attrs","treeConfig",function(a,b){this.scope=a,a.$element=b,a.$nodesScope=null,a.$type="uiTree",a.$emptyElm=null,a.$callbacks=null,a.dragEnabled=!0,a.maxDepth=0,a.dragDelay=0,a.isEmpty=function(){return a.$nodesScope&&a.$nodesScope.$modelValue&&0===a.$nodesScope.$modelValue.length},a.place=function(b){a.$nodesScope.$element.append(b),a.$emptyElm.remove()},a.resetEmptyElement=function(){0===a.$nodesScope.$modelValue.length?b.append(a.$emptyElm):a.$emptyElm.remove()};var c=function(a,b){for(var d=a.childNodes(),e=0;e<d.length;e++){b?d[e].collapse():d[e].expand();var f=d[e].$childNodesScope;f&&c(f,b)}};a.collapseAll=function(){c(a.$nodesScope,!0)},a.expandAll=function(){c(a.$nodesScope,!1)}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodesController",["$scope","$element","$timeout","treeConfig",function(a,b,c){this.scope=a,a.$element=b,a.$modelValue=null,a.$nodeScope=null,a.$treeScope=null,a.$type="uiTreeNodes",a.$nodesMap={},a.nodrop=!1,a.maxDepth=0,a.initSubNode=function(b){c(function(){a.$nodesMap[b.$modelValue.$$hashKey]=b})},a.destroySubNode=function(b){a.$nodesMap[b.$modelValue.$$hashKey]=null},a.accept=function(b,c){return a.$treeScope.$callbacks.accept(b,a,c)},a.isParent=function(b){return b.$parentNodesScope==a},a.hasChild=function(){return a.$modelValue.length>0},a.safeApply=function(a){var b=this.$root.$$phase;"$apply"==b||"$digest"==b?a&&"function"==typeof a&&a():this.$apply(a)},a.removeNode=function(b){var c=a.$modelValue.indexOf(b.$modelValue);return c>-1?(a.safeApply(function(){a.$modelValue.splice(c,1)[0]}),b):null},a.insertNode=function(b,c){a.safeApply(function(){a.$modelValue.splice(b,0,c)})},a.childNodes=function(){var b=[];if(a.$modelValue)for(var c=0;c<a.$modelValue.length;c++)b.push(a.$nodesMap[a.$modelValue[c].$$hashKey]);return b},a.depth=function(){return a.$nodeScope?a.$nodeScope.depth():0},a.outOfDepth=function(b){var c=a.maxDepth||a.$treeScope.maxDepth;return c>0?a.depth()+b.maxSubDepth()+1>c:!1}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeNodeController",["$scope","$element","$attrs","treeConfig",function(a,b){this.scope=a,a.$element=b,a.$modelValue=null,a.$parentNodeScope=null,a.$childNodesScope=null,a.$parentNodesScope=null,a.$treeScope=null,a.$handleScope=null,a.$type="uiTreeNode",a.$$apply=!1,a.collapsed=!1,a.init=function(c){var d=c[0];a.$treeScope=c[1]?c[1].scope:null,a.$parentNodeScope=d.scope.$nodeScope,a.$modelValue=d.scope.$modelValue[a.$index],a.$parentNodesScope=d.scope,d.scope.initSubNode(a),b.on("$destroy",function(){d.scope.destroySubNode(a)})},a.index=function(){return a.$parentNodesScope.$modelValue.indexOf(a.$modelValue)},a.dragEnabled=function(){return!(a.$treeScope&&!a.$treeScope.dragEnabled)},a.isSibling=function(b){return a.$parentNodesScope==b.$parentNodesScope},a.isChild=function(b){var c=a.childNodes();return c&&c.indexOf(b)>-1},a.prev=function(){var b=a.index();return b>0?a.siblings()[b-1]:null},a.siblings=function(){return a.$parentNodesScope.childNodes()},a.childNodesCount=function(){return a.childNodes()?a.childNodes().length:0},a.hasChild=function(){return a.childNodesCount()>0},a.childNodes=function(){return a.$childNodesScope&&a.$childNodesScope.$modelValue?a.$childNodesScope.childNodes():null},a.accept=function(b,c){return a.$childNodesScope&&a.$childNodesScope.accept(b,c)},a.remove=function(){return a.$parentNodesScope.removeNode(a)},a.toggle=function(){a.collapsed=!a.collapsed},a.collapse=function(){a.collapsed=!0},a.expand=function(){a.collapsed=!1},a.depth=function(){var b=a.$parentNodeScope;return b?b.depth()+1:1};var c=0,d=function(a){for(var b=0,e=a.childNodes(),f=0;f<e.length;f++){var g=e[f].$childNodesScope;g&&(b=1,d(g))}c+=b};a.maxSubDepth=function(){return c=0,a.$childNodesScope&&d(a.$childNodesScope),c}}])}(),function(){"use strict";angular.module("ui.tree").controller("TreeHandleController",["$scope","$element","$attrs","treeConfig",function(a,b){this.scope=a,a.$element=b,a.$nodeScope=null,a.$type="uiTreeHandle"}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTree",["treeConfig","$window",function(a,b){return{restrict:"A",scope:!0,controller:"TreeController",link:function(c,d,e){var f={accept:null},g={};angular.extend(g,a),g.treeClass&&d.addClass(g.treeClass),c.$emptyElm=angular.element(b.document.createElement("div")),g.emptyTreeClass&&c.$emptyElm.addClass(g.emptyTreeClass),c.$watch("$nodesScope.$modelValue.length",function(){c.$nodesScope.$modelValue&&c.resetEmptyElement()},!0),e.$observe("dragEnabled",function(a){var b=c.$eval(a);"boolean"==typeof b&&(c.dragEnabled=b)}),e.$observe("maxDepth",function(a){var b=c.$eval(a);"number"==typeof b&&(c.maxDepth=b)}),e.$observe("dragDelay",function(a){var b=c.$eval(a);"number"==typeof b&&(c.dragDelay=b)}),f.accept=function(a,b){return b.nodrop||b.outOfDepth(a)?!1:!0},f.dropped=function(){},f.dragStart=function(){},f.dragMove=function(){},f.dragStop=function(){},f.beforeDrop=function(){},c.$watch(e.uiTree,function(a){angular.forEach(a,function(a,b){f[b]&&"function"==typeof a&&(f[b]=a)}),c.$callbacks=f},!0)}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNodes",["treeConfig","$window",function(a){return{require:["ngModel","?^uiTreeNode","^uiTree"],restrict:"A",scope:!0,controller:"TreeNodesController",link:function(b,c,d,e){var f={};angular.extend(f,a),f.nodesClass&&c.addClass(f.nodesClass);var g=e[0],h=e[1],i=e[2];h?(h.scope.$childNodesScope=b,b.$nodeScope=h.scope):i.scope.$nodesScope=b,b.$treeScope=i.scope,g&&(g.$render=function(){g.$modelValue&&angular.isArray(g.$modelValue)||(b.$modelValue=[]),b.$modelValue=g.$modelValue}),d.$observe("maxDepth",function(a){var c=b.$eval(a);"number"==typeof c&&(b.maxDepth=c)}),d.$observe("nodrop",function(a){b.nodrop="undefined"!=typeof a}),d.$observe("horizontal",function(a){b.horizontal="undefined"!=typeof a})}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeNode",["treeConfig","$uiTreeHelper","$window","$document","$timeout",function(a,b,c,d,e){return{require:["^uiTreeNodes","^uiTree"],restrict:"A",controller:"TreeNodeController",link:function(f,g,h,i){var j={};angular.extend(j,a),j.nodeClass&&g.addClass(j.nodeClass),f.init(i),f.collapsed=!!b.getNodeAttribute(f,"collapsed"),h.$observe("collapsed",function(a){var b=f.$eval(a);"boolean"==typeof b&&(f.collapsed=b)}),f.$watch("collapsed",function(a){b.setNodeAttribute(f,"collapsed",a),h.$set("collapsed",a)});var k,l,m,n,o,p,q,r,s,t="ontouchstart"in window,u=null,v=null,w=document.body,x=document.documentElement,y=function(a){if((t||2!=a.button&&3!=a.which)&&!(a.uiTreeDragging||a.originalEvent&&a.originalEvent.uiTreeDragging)){var e=angular.element(a.target),h=e.scope();if(h&&h.$type&&!("uiTreeNode"!=h.$type&&"uiTreeHandle"!=h.$type||"uiTreeNode"==h.$type&&h.$handleScope)){var i=e.prop("tagName").toLowerCase();if("input"!=i&&"button"!=i){for(;e&&e[0]&&e[0]!=g;){if(b.nodrag(e))return;e=e.parent()}a.uiTreeDragging=!0,a.originalEvent&&(a.originalEvent.uiTreeDragging=!0),a.preventDefault();var u=b.eventObj(a);k=!0,l=b.dragInfo(f);var v=f.$element.prop("tagName");if("tr"===v.toLowerCase()){n=angular.element(c.document.createElement(v));var y=angular.element(c.document.createElement("td")).addClass(j.placeHolderClass);n.append(y)}else n=angular.element(c.document.createElement(v)).addClass(j.placeHolderClass);o=angular.element(c.document.createElement(v)),j.hiddenClass&&o.addClass(j.hiddenClass),m=b.positionStarted(u,f.$element),n.css("height",b.height(f.$element)+"px"),n.css("width",b.width(f.$element)+"px"),p=angular.element(c.document.createElement(f.$parentNodesScope.$element.prop("tagName"))).addClass(f.$parentNodesScope.$element.attr("class")).addClass(j.dragClass),p.css("width",b.width(f.$element)+"px"),p.css("z-index",9999),f.$element.after(n),f.$element.after(o),p.append(f.$element),d.find("body").append(p),p.css({left:u.pageX-m.offsetX+"px",top:u.pageY-m.offsetY+"px"}),q={placeholder:n,dragging:p},f.$apply(function(){f.$callbacks.dragStart(l.eventArgs(q,m))}),angular.element(d).bind("touchend",D),angular.element(d).bind("touchcancel",D),angular.element(d).bind("touchmove",C),angular.element(d).bind("mouseup",D),angular.element(d).bind("mousemove",C),angular.element(d).bind("mouseleave",E),r=Math.max(w.scrollHeight,w.offsetHeight,x.clientHeight,x.scrollHeight,x.offsetHeight),s=Math.max(w.scrollWidth,w.offsetWidth,x.clientWidth,x.scrollWidth,x.offsetWidth)}}}},z=function(a){var d,e,g,h=b.eventObj(a);if(p){a.preventDefault(),c.getSelection().removeAllRanges(),e=h.pageX-m.offsetX,g=h.pageY-m.offsetY,0>e&&(e=0),0>g&&(g=0),g+10>r&&(g=r-10),e+10>s&&(e=s-10),p.css({left:e+"px",top:g+"px"});var i=window.pageYOffset||c.document.documentElement.scrollTop,o=i+(window.innerHeight||c.document.clientHeight||c.document.clientHeight);if(o<h.pageY&&r>=o&&window.scrollBy(0,10),i>h.pageY&&window.scrollBy(0,-10),b.positionMoved(a,m,k),k)return void(k=!1);if(m.dirAx&&m.distAxX>=j.levelThreshold&&(m.distAxX=0,m.distX>0&&(d=l.prev(),d&&!d.collapsed&&d.accept(f,d.childNodesCount())&&(d.$childNodesScope.$element.append(n),l.moveTo(d.$childNodesScope,d.childNodes(),d.childNodesCount()))),m.distX<0)){var t=l.next();if(!t){var v=l.parentNode();v&&v.$parentNodesScope.accept(f,v.index()+1)&&(v.$element.after(n),l.moveTo(v.$parentNodesScope,v.siblings(),v.index()+1))}}var w=(b.offset(p).left-b.offset(n).left>=j.threshold,h.pageX-c.document.body.scrollLeft),x=h.pageY-(window.pageYOffset||c.document.documentElement.scrollTop);angular.isFunction(p.hide)&&p.hide(),c.document.elementFromPoint(w,x);var y=angular.element(c.document.elementFromPoint(w,x));if(angular.isFunction(p.show)&&p.show(),!m.dirAx){var z,A;A=y.scope();var B=!1;if(!A)return;if("uiTree"==A.$type&&A.dragEnabled&&(B=A.isEmpty()),"uiTreeHandle"==A.$type&&(A=A.$nodeScope),"uiTreeNode"!=A.$type&&!B)return;if(u&&n.parent()[0]!=u.$element[0]&&(u.resetEmptyElement(),u=null),B)u=A,A.$nodesScope.accept(f,0)&&(A.place(n),l.moveTo(A.$nodesScope,A.$nodesScope.childNodes(),0));else if(A.dragEnabled()){y=A.$element;var C=b.offset(y);z=A.horizontal?h.pageX<C.left+b.width(y)/2:h.pageY<C.top+b.height(y)/2,A.$parentNodesScope.accept(f,A.index())?z?(y[0].parentNode.insertBefore(n[0],y[0]),l.moveTo(A.$parentNodesScope,A.siblings(),A.index())):(y.after(n),l.moveTo(A.$parentNodesScope,A.siblings(),A.index()+1)):!z&&A.accept(f,A.childNodesCount())&&(A.$childNodesScope.$element.append(n),l.moveTo(A.$childNodesScope,A.childNodes(),A.childNodesCount()))}}f.$apply(function(){f.$callbacks.dragMove(l.eventArgs(q,m))})}},A=function(a){a.preventDefault(),p&&(f.$treeScope.$apply(function(){f.$callbacks.beforeDrop(l.eventArgs(q,m))}),o.replaceWith(f.$element),n.remove(),p.remove(),p=null,f.$$apply?(l.apply(),f.$treeScope.$apply(function(){f.$callbacks.dropped(l.eventArgs(q,m))})):F(),f.$treeScope.$apply(function(){f.$callbacks.dragStop(l.eventArgs(q,m))}),f.$$apply=!1,l=null),angular.element(d).unbind("touchend",D),angular.element(d).unbind("touchcancel",D),angular.element(d).unbind("touchmove",C),angular.element(d).unbind("mouseup",D),angular.element(d).unbind("mousemove",C),angular.element(c.document.body).unbind("mouseleave",E)},B=function(a){f.dragEnabled()&&y(a)},C=function(a){z(a)},D=function(a){f.$$apply=!0,A(a)},E=function(a){A(a)},F=function(){g.bind("touchstart mousedown",function(a){v=e(function(){B(a)},f.dragDelay)}),g.bind("touchend touchmove touchcancel mousemove mouseup",function(){e.cancel(v)})};F(),angular.element(c.document.body).bind("keydown",function(a){27==a.keyCode&&(f.$$apply=!1,A(a))})}}}])}(),function(){"use strict";angular.module("ui.tree").directive("uiTreeHandle",["treeConfig","$window",function(a){return{require:"^uiTreeNode",restrict:"A",scope:!0,controller:"TreeHandleController",link:function(b,c,d,e){var f={};angular.extend(f,a),f.handleClass&&c.addClass(f.handleClass),b!=e.scope&&(b.$nodeScope=e.scope,e.scope.$handleScope=b)}}}])}(),!function(a,b){b(["jquery","angular","kendo"],a)}(function(a,b,c){"use strict";function d(a){var b=l;l=function(a){return a()};try{return a()}finally{l=b}}function e(a,b,c,d){if(c[d]){var e=k(c[d]).assign;if(!e)throw new Error(d+" attribute used but expression in it is not assignable: "+c[d]);e(b,a)}}function f(b){return b=a(b),c.widgetInstance(b,c.ui)||c.widgetInstance(b,c.mobile.ui)||c.widgetInstance(b,c.dataviz.ui)}function g(a,b,c,d){a.bind.call(a,b,c,d);var e=a._events[b];e.unshift(e.pop())}function h(a){/^\$(digest|apply)$/.test(a.$root.$$phase)||a.$digest()}function i(b,c){b.$destroy(),c&&a(c).removeData("$scope").removeData("$isolateScope").removeData("$isolateScopeNoTemplate").removeClass("ng-scope")}function j(d,e,f){if(a.isArray(d))return b.forEach(d,function(a){j(a,e,f)});if("string"==typeof d){for(var g=d.split("."),h=c;h&&g.length>0;)h=h[g.shift()];if(!h)return;d=h}var i=d.prototype[e];d.prototype[e]=function(){var a=this,b=arguments;return f.apply({self:a,next:function(){return i.apply(a,arguments.length>0?arguments:b)}},b)}}var k,l,m,n,o=c.attr("uid"),p=b.module("kendo.directives",[]),q=function u(){return u},r={dataSource:function(){var a={TreeView:"HierarchicalDataSource",Scheduler:"SchedulerDataSource",PanelBar:"$PLAIN"},b=function(a,b){return"$PLAIN"==b?a:c.data[b].create(a)};return function(c,d,e,g){var h=a[g]||"DataSource",i=b(c.$eval(e.kDataSource),h);return d.data("$kendoDataSource",i),c.$watch(e.kDataSource,function(a,c){if(a!==c){var e=b(a,h);d.data("$kendoDataSource",e);var g=f(d);g&&"function"==typeof g.setDataSource&&g.setDataSource(e)}}),i}}(),widget:function(){var c={kDataSource:!0,kOptions:!0,kRebind:!0,kNgModel:!0};return function(d,f,g,h){var i=h.replace(/^kendo/,""),j=b.extend({},d.$eval(g.kOptions));a.each(g,function(a,e){if(!c[a]){var f=a.match(/^k(On)?([A-Z].*)/);if(f){var g=f[2].charAt(0).toLowerCase()+f[2].slice(1);f[1]?j[g]=e:(j[g]=b.copy(d.$eval(e)),void 0===j[g]&&e.match(/^\w*$/)&&m.warn(h+"'s "+a+" attribute resolved to undefined. Maybe you meant to use a string literal like: '"+e+"'?"))}}}),j.dataSource=f.inheritedData("$kendoDataSource")||j.dataSource,g.kDataSource&&(j.dataSource=r.dataSource(d,f,g,i)),j.$angular=!0;var k=a(f)[h];if(!k)return console.error("Could not find: "+h),null;var l=k.call(f,n=j).data(h);return e(l,d,g,h),d.$emit("kendoWidgetCreated",l),l}}()};p.factory("directiveFactory",["$timeout","$parse","$compile","$log",function(b,c,d,e){l=b,k=c,q=d,m=e;var f=0,i=function(b){return{restrict:"ACE",require:["?ngModel","^?form"],scope:!1,transclude:!0,controller:["$scope","$attrs","$element","$transclude",function(a,b,c,d){d(a,function(a){c.append(a)})}],link:function(c,d,e,i){var j=i[0],n=i[1];a(d)[0].removeAttribute("data-"+b.replace(/([A-Z])/g,"-$1")),++f,l(function(){function i(){function a(){return b?d.val():p.value()}var b=/^(input|select|textarea)$/i.test(d[0].tagName);s&&s(),s=c.$on("$destroy",function(){p&&(p.destroy(),p=null)});a:if(j){if(!p.value)break a;j.$render=function(){setTimeout(function(){p.value(j.$viewValue)},0)};var f;b&&d.on("change",function(){f=!0});var i=function(b){return function(){f=!1,l(function(){if(!f){if(b&&n)var c=n.$pristine;j.$setViewValue(a()),b&&(j.$setPristine(),c&&n.$setPristine())}})}};g(p,"change",i(!1)),g(p,"dataBound",i(!0));var o=a();o!=j.$viewValue&&(j.$isEmpty(j.$viewValue)?null!=o&&""!=o&&o!=j.$viewValue&&j.$setViewValue(o):p.value(j.$viewValue)),j.$setPristine()}a:if(e.kNgModel){if("function"!=typeof p.value){m.warn("k-ng-model specified on a widget that does not have the value() method: "+p.options.name);break a}var q=k(e.kNgModel),r=q.assign,t=!1;p.value(q(c)),c.$watch(e.kNgModel,function(a,b){t||a!==b&&p.value(a)}),p.bind("change",function(){t=!0,r(c,p.value()),h(c),t=!1})}}if(e.kRebind){var o=a(d)[0].cloneNode(!0);c.$watch(e.kRebind,function(b,e){if(b!==e)try{var f=a(p.wrapper)[0],g=a(p.element)[0];if(p&&(p.destroy(),p=null),f&&g){f.parentNode.replaceChild(g,f);var h=o.cloneNode(!0);a(d).replaceWith(h),d=a(h)}q(d)(c)}catch(i){console.error(i),console.error(i.stack)}},!0)}var p=r.widget(c,d,e,b);i();var s=null;!function(){function b(){f.disconnect()}function c(){f.observe(a(d)[0],{attributes:!0})}if(window.MutationObserver&&p.wrapper){var e=[].slice.call(a(d)[0].classList),f=new MutationObserver(function(d){b(),p&&(d.forEach(function(b){var c=a(p.wrapper)[0];switch(b.attributeName){case"class":var d=[].slice.call(b.target.classList);d.forEach(function(a){e.indexOf(a)<0&&c.classList.add(a)}),e.forEach(function(a){d.indexOf(a)<0&&c.classList.remove(a)}),e=d;break;case"disabled":"function"==typeof p.enable&&p.enable(!a(b.target).attr("disabled"));break;case"readonly":"function"==typeof p.readonly&&p.readonly(!!a(b.target).attr("readonly"))}}),c())});c(),g(p,"destroy",b)}}(),--f,0==f&&c.$emit("kendoRendered")})}}};return{create:i}}]),function(){function a(a){return function(c){b.forEach(c,function(b,c){if(c.match(/^[A-Z]/)&&"Widget"!==c){var d="kendo"+a+c;p.directive(d,["directiveFactory",function(a){return a.create(d)}])}})}}b.forEach([c.ui,c.dataviz&&c.dataviz.ui],a("")),b.forEach([c.mobile&&c.mobile.ui],a("Mobile"))}();var s="$angular_beforeCreate",t="$angular_afterCreate";j("ui.Widget","init",function(a,b){!b&&n&&(b=n),n=null;var c=this.self;b&&b.$angular?(c.$angular_beforeCreate(a,b),this.next(),c.$angular_afterCreate()):this.next()}),j("ui.Widget",s,function(c,d){var e=this.self;if(d&&!a.isArray(d))for(var f=b.element(c).scope(),g=e.events.length;--g>=0;){var h=e.events[g],i=d[h];i&&"string"==typeof i&&(d[h]=e.$angular_makeEventHandler(h,f,i))}}),j("ui.Widget",t,function(){}),j("ui.Widget","$angular_makeEventHandler",function(a,b,c){return c=k(c),function(a){/^\$(apply|digest)$/.test(b.$root.$$phase)?c(b,{kendoEvent:a}):b.$apply(function(){c(b,{kendoEvent:a})})}}),j(["ui.Grid","ui.ListView","ui.TreeView"],"$angular_makeEventHandler",function(c,d,e){return"change"!=c?this.next():(e=k(e),function(c){var f,g,h,i,j,k,l=c.sender,m=l.options,n=l.dataSource,p={kendoEvent:c};b.isString(m.selectable)&&(f=-1!==m.selectable.indexOf("cell"),g=-1!==m.selectable.indexOf("multiple")),h=p.selected=this.select(),i=p.data=[],j=p.columns=[];for(var q=0;q<h.length;q++){var r=f?h[q].parentNode:h[q],s=a(r).attr(o),t=n.getByUid(s);f?(b.element.inArray(t,i)<0&&i.push(t),k=b.element(h[q]).index(),b.element.inArray(k,j)<0&&j.push(k)):i.push(t)}g||(p.dataItem=p.data=i[0],p.selected=h[0]),d.$apply(function(){e(d,p)})})}),j(["ui.PanelBar","ui.TabStrip","ui.Splitter"],t,function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&g(a,"contentLoad",function(a){a.contentElement||a.pane,q(a.contentElement)(c),h(c)})}),j("ui.Draggable","_start",function(){this.next();var a=this.self;if(a.hint){var c=b.element(a.currentTarget).scope();c&&(q(a.hint)(c),h(c))}}),j("ui.Grid",s,function(d,e){if(this.next(),e.columns){var f=a.extend({},c.Template,e.templateSettings);b.forEach(e.columns,function(a){!a.field||a.template||a.format||a.values||(a.template="<span ng-bind='"+c.expr(a.field,"dataItem")+"'>#: "+c.expr(a.field,f.paramName)+"#</span>")})}}),j(["ui.Grid","ui.ListView","mobile.ui.ListView","ui.TreeView"],s,function(c,d){this.next();var e=b.element(c).scope();if(e){var f=this.self,g=f.options.name,i=d.dataBound;d.dataBound=function(b){var c=b.sender,d=c.dataSource,f=!1;c.items().each(function(){var b="TreeView"==g?a(this).find("div").first():a(this);if(!b.hasClass("ng-scope")){var c=a(this).attr(o),h=d.getByUid(c),i=e.$new();i.dataItem=h,q(b)(i),f=!0}});try{if(i)return i.apply(this,arguments)}finally{f&&h(e)}}}}),j("ui.DropDownList",s,function(a,c){this.next();var d=b.element(a).scope();if(d){var e=(this.self,c.dataBound);c.dataBound=function(a){var b=a.sender;b.ul.find("li").each(function(a){var c=d.$new();c.dataItem=b.dataItem(a),q(this)(c)});try{if(e)return e.apply(this,arguments)}finally{h(d)}};var f=c.dataBinding;c.dataBinding=function(a){var c=a.sender;return c.ul.find("li").each(function(){var a=b.element(this).scope();a&&a!==d&&i(a)}),f?f.apply(this,arguments):void 0}}}),j("ui.DropDownList","_textAccessor",function(a){var c=this.self,d=b.element(c.element).scope();if(d&&void 0!==a){var e=b.element(c.span).scope();e&&e!==d&&i(e)}var f=this.next();if(d&&void 0!==a){var e=d.$new();e.dataItem=a,q(c.span)(e),h(e)}return f}),j(["ui.AutoComplete","ui.ComboBox"],s,function(c,d){this.next();var e=b.element(c).scope();if(e){var f=(this.self,d.dataBound);d.dataBound=function(b){var c=b.sender,d=(c.dataSource,!1);a(c.items()).each(function(){var b=a(this);if(!b.hasClass("ng-scope")){var f=c.dataItem(b.index()),g=e.$new();g.dataItem=f,q(b)(g),d=!0}});try{if(f)return f.apply(this,arguments)}finally{d&&h(e)}}}}),j(["ui.AutoComplete","ui.ComboBox"],t,function(){this.next(),this.self.bind("dataBinding",function(c){a(c.sender.items()).each(function(){var a=b.element(this).scope();a&&i(a,this)})})}),j(["ui.Grid","ui.ListView","mobile.ui.ListView"],t,function(){this.next();var c=this.self,d=b.element(c.element).scope();d&&(c.bind("itemChange",function(c){var e=c.sender.dataSource,f=c.item[0],g=c.item;a.isArray(g)&&(g=g[0]),g=a(g);var i=b.element(g).scope();i&&i!==d||(i=d.$new()),i.dataItem=e.getByUid(g.attr(o)),q(f)(i),h(i)}),c.bind("dataBinding",function(c){c.sender.items().each(function(){var c=a(this);if(c.attr(o)){var e=b.element(this).scope();e&&e!==d&&i(e,c)}})}))}),j("ui.Grid","_toolbar",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(q(a.wrapper.find(".k-grid-toolbar").first())(c),h(c))}),j("ui.Grid","_thead",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(q(a.thead)(c),h(c))}),j("ui.editor.Toolbar","render",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(q(a.element)(c),h(c))}),j("ui.Grid",t,function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&a.options.detailTemplate&&g(a,"detailInit",function(a){var b=c.$new();b.dataItem=a.data,q(a.detailCell)(b),h(b)})}),j("ui.Grid","cancelRow",function(){var a=this.self,c=b.element(a.element).scope(),d=a._editContainer;if(d){var e=a._modelForContainer(d),f=e.uid,g=b.element(d).scope();g&&g!==c&&i(g,d)}if(this.next(),f){var j=a.items().filter("["+o+"="+f+"]"),k=c.$new();k.dataItem=e,q(j)(k),h(c)}}),j("ui.Editable","refresh",function(){this.next();var a=this.self,c=a.options.model,e=b.element(a.element).scope();e&&c&&(a.$angular_scope&&i(a.$angular_scope,a.element),e=a.$angular_scope=e.$new(),e.dataItem=c,d(function(){q(a.element)(e),h(e)}),a.element.find(":kendoFocusable").eq(0).focus())}),j("ui.Editable","destroy",function(){var a=this.self;a.$angular_scope&&(i(a.$angular_scope,a.element),a.$angular_scope=null),this.next()}),j("ui.Window",t,function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&g(a,"refresh",function(){var b=a.wrapper.children(".k-window-content"),d=b.children(".km-scroll-container");b=d[0]?d:b,q(b.children())(c),h(c)})}),j("mobile.ui.ListView","destroy",function(){var a=this.self;a._itemBinder&&a._itemBinder.dataSource&&this.self._itemBinder._unbindDataSource(),this.next()}),j("ui.Tooltip","_appendContent",function(){this.next();var a=this.self,c=b.element(a.element).scope();c&&(console.log("Compiling Tooltip"),q(a.content)(c),h(c))}),j("mobile.ui.ButtonGroup","value",function(a){var b=this.self;return null!=a&&(b.select(b.element.children("li.km-button").eq(a)),b.trigger("change"),b.trigger("select",{index:b.selectedIndex})),b.selectedIndex}),j("mobile.ui.ButtonGroup","_select",function(){this.next(),this.self.trigger("change")}),j("mobile.ui.ScrollView","value",function(a){var b=this.self;return null!=a&&b.scrollTo(a),b.page})},"function"==typeof define&&define.amd?define:function(a,b){b(jQuery,angular,kendo)}),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix||b:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),1===arguments.length)return f[c]===b?null:f[c];
f[c]=d}else{if(1===arguments.length)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),d=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]),e=!!c[0]&&9===c[0].nodeType;return{element:c,isWindow:d,isDocument:e,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&h(c+d)<n&&(i.horizontal="center"),m>p&&h(e+f)<p&&(i.vertical="middle"),i.important=g(h(c),h(d))>g(h(e),h(f))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+f-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+f-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||c<h(k))&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||h(d)<l)&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||d<h(k))&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||h(c)<l)&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a){var b=0,c={},d={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide",d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="show",a.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;this.prevShow=this.prevHide=a(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),b.collapsible||b.active!==!1&&null!=b.active||(b.active=0),this._processPanels(),b.active<0&&(b.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),void("disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b)))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels(),b.active===!1&&b.collapsible===!0||!this.headers.length?(b.active=!1,this.active=a()):b.active===!1?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var c,d=this.options,e=d.heightStyle,f=this.element.parent(),g=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b);this.active=this._findActive(d.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(b){var c=a(this),d=c.attr("id"),e=c.next(),f=e.attr("id");d||(d=g+"-header-"+b,c.attr("id",d)),f||(f=g+"-panel-"+b,e.attr("id",f)),c.attr("aria-controls",f),e.attr("aria-labelledby",d)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(d.event),"fill"===e?(c=f.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===e&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).css("height","").height())}).height(c))},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,c),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e[0]===d[0],g=f&&c.collapsible,h=g?a():e.next(),i=d.next(),j={oldHeader:d,oldPanel:i,newHeader:g?a():e,newPanel:h};b.preventDefault(),f&&!c.collapsible||this._trigger("beforeActivate",b,j)===!1||(c.active=g?!1:this.headers.index(e),this.active=f?a():e,this._toggle(j),d.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&d.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),f||(e.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),c.icons&&e.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),e.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-hidden":"true"}),d.prev().attr("aria-selected","false"),c.length&&d.length?d.prev().attr({tabIndex:-1,"aria-expanded":"false"}):c.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),c.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(a,b,e){var f,g,h,i=this,j=0,k=a.length&&(!b.length||a.index()<b.index()),l=this.options.animate||{},m=k&&l.down||l,n=function(){i._toggleComplete(e)};return"number"==typeof m&&(h=m),"string"==typeof m&&(g=m),g=g||m.easing||l.easing,h=h||m.duration||l.duration,b.length?a.length?(f=a.show().outerHeight(),b.animate(c,{duration:h,easing:g,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(d,{duration:h,easing:g,complete:n,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?j+=c.now:"content"!==i.options.heightStyle&&(c.now=Math.round(f-b.outerHeight()-j),j=0)}})):b.animate(c,h,g,n):a.animate(d,h,g,n)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}})}(jQuery),function(a){a.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=f?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});var d=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var b=++this.requestIndex;return a.proxy(function(a){b===this.requestIndex&&this.__response(a),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=new RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})}(jQuery),function(a){var b,c="ui-button ui-widget ui-state-default ui-corner-all",d="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",e=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},f=function(b){var c=b.name,d=b.form,e=a([]);return c&&(c=c.replace(/'/g,"\\'"),e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,e),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var d=this,g=this.options,h="checkbox"===this.type||"radio"===this.type,i=h?"":"ui-state-active";null===g.label&&(g.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(c).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){g.disabled||this===b&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){g.disabled||a(this).removeClass(i)}).bind("click"+this.eventNamespace,function(a){g.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),h&&this.element.bind("change"+this.eventNamespace,function(){d.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return g.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(g.disabled)return!1;a(this).addClass("ui-state-active"),d.buttonElement.attr("aria-pressed","true");var b=d.element[0];f(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return g.disabled?!1:(a(this).addClass("ui-state-active"),b=this,void d.document.one("mouseup",function(){b=null}))}).bind("mouseup"+this.eventNamespace,function(){return g.disabled?!1:void a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return g.disabled?!1:void((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",g.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(c+" ui-state-active "+d).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?(this.element.prop("disabled",!!b),void(b&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?f(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))
},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var b=this.buttonElement.removeClass(d),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),e=this.options.icons,f=e.primary&&e.secondary,g=[];e.primary||e.secondary?(this.options.text&&g.push("ui-button-text-icon"+(f?"s":e.primary?"-primary":"-secondary")),e.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+e.primary+"'></span>"),e.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+e.secondary+"'></span>"),this.options.text||(g.push(f?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):g.push("ui-button-text-only"),b.addClass(g.join(" "))}}),a.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(a,b){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")}).delegate(c,"mouseover",function(){a.datepicker._isDisabledDatepicker(f.inline?b.parent()[0]:f.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function e(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.4"}});var f,g="datepicker";a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return e(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,g,c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.focus(this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;e<a.length;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,g,c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,f,h){var i,j,k,l,m,n=this._dialogInst;return n||(this.uuid+=1,i="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+i+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},a.data(this._dialogInput[0],g,n)),e(n.settings,f||{}),c=c&&c.constructor===Date?this._formatDate(n,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[j/2-100+l,k/2-150+m]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],g,n),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,g);d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,g),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,g)}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(c,d,f){var g,h,i,j,k=this._getInst(c);return 2===arguments.length&&"string"==typeof d?"defaults"===d?a.extend({},a.datepicker._defaults):k?"all"===d?a.extend({},k.settings):this._get(k,d):null:(g=d||{},"string"==typeof d&&(g={},g[d]=f),void(k&&(this._curInst===k&&this._hideDatepicker(),h=this._getDateDatepicker(c,!0),i=this._getMinMaxDate(k,"min"),j=this._getMinMaxDate(k,"max"),e(k.settings,g),null!==i&&g.dateFormat!==b&&g.minDate===b&&(k.settings.minDate=this._formatDate(k,i)),null!==j&&g.dateFormat!==b&&g.maxDate===b&&(k.settings.maxDate=this._formatDate(k,j)),"disabled"in g&&(g.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),k),this._autoSize(k),this._setDate(k,h),this._updateAlternate(k),this._updateDatepicker(k))))},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(b){var c,d,e=a.datepicker._getInst(b.target);return a.datepicker._get(e,"constrainInput")?(c=a.datepicker._possibleChars(a.datepicker._get(e,"dateFormat")),d=String.fromCharCode(null==b.charCode?b.keyCode:b.charCode),b.ctrlKey||b.metaKey||" ">d||!c||c.indexOf(d)>-1):void 0},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,f,g,h,i,j;c=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),d=a.datepicker._get(c,"beforeShow"),f=d?d.apply(b,[b,c]):{},f!==!1&&(e(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(c),h=a.datepicker._checkOffset(c,h,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),c.inline||(i=a.datepicker._get(c,"showAnim"),j=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[i]?c.dpDiv.show(i,a.datepicker._get(c,"showOptions"),j):c.dpDiv[i||"show"](i?j:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4,f=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b),b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),e=d[1],g=17;b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,h=this._curInst;!h||b&&h!==a.data(b,g)||this._datepickerShowing&&(c=this._get(h,"showAnim"),d=this._get(h,"duration"),e=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[c]||a.effects[c])?h.dpDiv.hide(c,a.datepicker._get(h,"showOptions"),d,e):h.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(h,"onClose"),f&&f.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(b,c,d){if(null==b||null==c)throw"Invalid arguments";if(c="object"==typeof c?c.toString():c+"",""===c)return null;var e,f,g,h,i=0,j=(d?d.shortYearCutoff:null)||this._defaults.shortYearCutoff,k="string"!=typeof j?j:(new Date).getFullYear()%100+parseInt(j,10),l=(d?d.dayNamesShort:null)||this._defaults.dayNamesShort,m=(d?d.dayNames:null)||this._defaults.dayNames,n=(d?d.monthNamesShort:null)||this._defaults.monthNamesShort,o=(d?d.monthNames:null)||this._defaults.monthNames,p=-1,q=-1,r=-1,s=-1,t=!1,u=function(a){var c=e+1<b.length&&b.charAt(e+1)===a;return c&&e++,c},v=function(a){var b=u(a),d="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e=new RegExp("^\\d{1,"+d+"}"),f=c.substring(i).match(e);if(!f)throw"Missing number at position "+i;return i+=f[0].length,parseInt(f[0],10)},w=function(b,d,e){var f=-1,g=a.map(u(b)?e:d,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(g,function(a,b){var d=b[1];return c.substr(i,d.length).toLowerCase()===d.toLowerCase()?(f=b[0],i+=d.length,!1):void 0}),-1!==f)return f+1;throw"Unknown name at position "+i},x=function(){if(c.charAt(i)!==b.charAt(e))throw"Unexpected literal at position "+i;i++};for(e=0;e<b.length;e++)if(t)"'"!==b.charAt(e)||u("'")?x():t=!1;else switch(b.charAt(e)){case"d":r=v("d");break;case"D":w("D",l,m);break;case"o":s=v("o");break;case"m":q=v("m");break;case"M":q=w("M",n,o);break;case"y":p=v("y");break;case"@":h=new Date(v("@")),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"!":h=new Date((v("!")-this._ticksTo1970)/1e4),p=h.getFullYear(),q=h.getMonth()+1,r=h.getDate();break;case"'":u("'")?x():t=!0;break;default:x()}if(i<c.length&&(g=c.substr(i),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;if(-1===p?p=(new Date).getFullYear():100>p&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(k>=p?0:-100)),s>-1)for(q=1,r=s;;){if(f=this._getDaysInMonth(p,q-1),f>=r)break;q++,r-=f}if(h=this._daylightSavingAdjust(new Date(p,q-1,r)),h.getFullYear()!==p||h.getMonth()+1!==q||h.getDate()!==r)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=d+1<a.length&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;d.length<c;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;d<a.length;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(b.getYear()%100<10?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=b+1<a.length&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;b<a.length;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"===g.toString()?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,ab=a.drawYear;if(0>_&&(_+=12,ab--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(ab,_,1))>b;)_--,0>_&&(_=11,ab--);for(a.drawMonth=_,a.drawYear=ab,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(ab,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,ab,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(ab,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,ab,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;w<U[0];w++){for(x="",this.maxRows=4,y=0;y<U[1];y++){if(z=this._daylightSavingAdjust(new Date(ab,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,ab,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(ab,_),ab===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(ab,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X&&this.maxRows>G?this.maxRows:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(ab,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);
B+=K+"</tr>"}_++,_>11&&(_=0,ab++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||k<=e.getMonth())&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||b.getFullYear()<=h)},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.10.4"}(jQuery),function(a){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},c={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c,d=this;if(this._isOpen&&this._trigger("beforeClose",b)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{c=this.document[0].activeElement,c&&"body"!==c.nodeName.toLowerCase()&&a(c).blur()}catch(e){}this._hide(this.uiDialog,this.options.hide,function(){d._trigger("close",b)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var c=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return c&&!b&&this._trigger("focus",a),c},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable(),b._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement,c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);c||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(e.focus(1),b.preventDefault()):(d.focus(1),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=a("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(b),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,d.click=function(){e.apply(b.element[0],arguments)},f={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,a("<button></button>",d).button(f).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){a(this).addClass("ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){d.position=[f.position.left-c.document.scrollLeft(),f.position.top-c.document.scrollTop()],a(this).removeClass("ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){a(this).addClass("ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){d.height=a(this).height(),d.width=a(this).width(),a(this).removeClass("ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(d){var e=this,f=!1,g={};a.each(d,function(a,d){e._setOption(a,d),a in b&&(f=!0),a in c&&(g[a]=d)}),f&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(a,b){var c,d,e=this.uiDialog;"dialogClass"===a&&e.removeClass(this.options.dialogClass).addClass(b),"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(c=e.is(":data(ui-draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(d=e.is(":data(ui-resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=this,c=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(d){b._allowInteraction(d)||(d.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(c)._focusTabbable())})}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),a.ui.dialog.overlayInstances=0,a.uiBackCompat!==!1&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b,c=this.options.position,d=[],e=[0,0];c?(("string"==typeof c||"object"==typeof c&&"0"in c)&&(d=c.split?c.split(" "):[c[0],c[1]],1===d.length&&(d[1]=d[0]),a.each(["left","top"],function(a,b){+d[a]===d[a]&&(e[a]=d[a],d[a]=b)}),c={my:d[0]+(e[0]<0?e[0]:"+"+e[0])+" "+d[1]+(e[1]<0?e[1]:"+"+e[1]),at:d.join(" ")}),c=a.extend({},a.ui.dialog.prototype.options.position,c)):c=a.ui.dialog.prototype.options.position,b=this.uiDialog.is(":visible"),b||this.uiDialog.show(),this.uiDialog.position(c),b||this.uiDialog.hide()}})}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;return e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c))):void(this.containment=null)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=b.pageX,j=b.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,h-p>r||q>i+p||j-p>t||s>k+p||!a.contains(n.snapElements[l].item.ownerDocument,n.snapElements[l].item)?(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1):("inner"!==o.snapMode&&(d=Math.abs(j-t)<=p,e=Math.abs(k-s)<=p,f=Math.abs(h-r)<=p,g=Math.abs(i-q)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=Math.abs(j-s)<=p,e=Math.abs(k-t)<=p,f=Math.abs(h-q)<=p,g=Math.abs(i-r)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m)
}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}a.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b,c=this.options,d=c.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(d)?d:function(a){return a.is(d)},this.proportions=function(){return arguments.length?void(b=arguments[0]):b?b:b={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},a.ui.ddmanager.droppables[c.scope]=a.ui.ddmanager.droppables[c.scope]||[],a.ui.ddmanager.droppables[c.scope].push(this),c.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];b<c.length;b++)c[b]===this&&c.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(a,c,d){if(!c.offset)return!1;var e,f,g=(a.positionAbs||a.position.absolute).left,h=(a.positionAbs||a.position.absolute).top,i=g+a.helperProportions.width,j=h+a.helperProportions.height,k=c.offset.left,l=c.offset.top,m=k+c.proportions().width,n=l+c.proportions().height;switch(d){case"fit":return g>=k&&m>=i&&h>=l&&n>=j;case"intersect":return k<g+a.helperProportions.width/2&&i-a.helperProportions.width/2<m&&l<h+a.helperProportions.height/2&&j-a.helperProportions.height/2<n;case"pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,b(f,l,c.proportions().height)&&b(e,k,c.proportions().width);case"touch":return(h>=l&&n>=h||j>=l&&n>=j||l>h&&j>n)&&(g>=k&&m>=g||i>=k&&m>=i||k>g&&i>m);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;d<f.length;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;e<h.length;e++)if(h[e]===f[d].element[0]){f[d].proportions().height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions({width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight}))}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=a.ui.intersect(b,this,this.options.tolerance),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(d=a.data(f[0],"ui-droppable"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a,b){var c="ui-effects-";a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:d.max<a?d.max:a)}function d(b){var c=j(),d=c._rgba=[];return b=b.toLowerCase(),o(i,function(a,e){var f,g=e.re.exec(b),h=g&&e.parse(g),i=e.space||"rgba";return h?(f=c[i](h),c[k[i].cache]=f[k[i].cache],d=c._rgba=f._rgba,!1):void 0}),d.length?("0,0,0,0"===d.join()&&a.extend(d,f.transparent),c):f[b]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&a.inArray(null,l[f].slice(0,3))<0&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):void 0},is:function(a){var b=j(a),c=!0,d=this;return o(k,function(a,e){var f,g=b[e.cache];return g&&(f=d[e.cache]||e.to&&e.to(d._rgba)||[],o(e.props,function(a,b){return null!=g[b.idx]?c=g[b.idx]===f[b.idx]:void 0})),c}),c},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function c(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function d(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&(f[d]||(a.fx.step[d]||!isNaN(parseFloat(e)))&&(g[d]=e));return g}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(b,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var b=a(this);return{el:b,start:c(this)}}),f=function(){a.each(e,function(a,c){b[c]&&g[c+"Class"](b[c])})},f(),j=j.map(function(){return this.end=c(this.el[0]),this.diff=d(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(c){return function(d,e,f,g,h){return"boolean"==typeof e||e===b?f?a.effects.animateClass.call(this,e?{add:d}:{remove:d},f,g,h):c.apply(this,arguments):a.effects.animateClass.call(this,{toggle:d},e,f,g)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function d(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function e(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}a.extend(a.effects,{version:"1.10.4",save:function(a,b){for(var d=0;d<b.length;d++)null!==b[d]&&a.data(c+b[d],a[0].style[b[d]])},restore:function(a,d){var e,f;for(f=0;f<d.length;f++)null!==d[f]&&(e=a.data(c+d[f]),e===b&&(e=""),a.css(d[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function d(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=c.complete,h=c.mode;(e.is(":hidden")?"hide"===h:"show"===h)?(e[h](),d()):g.call(e[0],c,d)}var c=d.apply(this,arguments),e=c.mode,f=c.queue,g=a.effects.effect[c.effect];return a.fx.off||!g?e?this[e](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)}):f===!1?this.each(b):this.queue(f||"fx",b)},show:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="show",this.effect.call(this,c)}}(a.fn.show),hide:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="hide",this.effect.call(this,c)}}(a.fn.hide),toggle:function(a){return function(b){if(e(b)||"boolean"==typeof b)return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;a<((b=Math.pow(2,--c))-1)/11;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}()}(jQuery),function(a){var b=/up|down|vertical/,c=/up|left|vertical|horizontal/;a.effects.effect.blind=function(d,e){var f,g,h,i=a(this),j=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(i,d.mode||"hide"),l=d.direction||"up",m=b.test(l),n=m?"height":"width",o=m?"top":"left",p=c.test(l),q={},r="show"===k;i.parent().is(".ui-effects-wrapper")?a.effects.save(i.parent(),j):a.effects.save(i,j),i.show(),f=a.effects.createWrapper(i).css({overflow:"hidden"}),g=f[n](),h=parseFloat(f.css(o))||0,q[n]=r?g:0,p||(i.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),q[o]=r?h:g+h),r&&(f.css(n,0),p||f.css(o,h+g)),f.animate(q,{duration:d.duration,easing:d.easing,queue:!1,complete:function(){"hide"===k&&i.hide(),a.effects.restore(i,j),a.effects.removeWrapper(i),e()}})}}(jQuery),function(a){a.effects.effect.bounce=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"effect"),j="hide"===i,k="show"===i,l=b.direction||"up",m=b.distance,n=b.times||5,o=2*n+(k||j?1:0),p=b.duration/o,q=b.easing,r="up"===l||"down"===l?"top":"left",s="up"===l||"left"===l,t=g.queue(),u=t.length;for((k||j)&&h.push("opacity"),a.effects.save(g,h),g.show(),a.effects.createWrapper(g),m||(m=g["top"===r?"outerHeight":"outerWidth"]()/3),k&&(f={opacity:1},f[r]=0,g.css("opacity",0).css(r,s?2*-m:2*m).animate(f,p,q)),j&&(m/=Math.pow(2,n-1)),f={},f[r]=0,d=0;n>d;d++)e={},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q).animate(f,p,q),m=j?2*m:m/2;j&&(e={opacity:0},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q)),g.queue(function(){j&&g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}),u>1&&t.splice.apply(t,[1,0].concat(t.splice(u,o+1))),g.dequeue()}}(jQuery),function(a){a.effects.effect.clip=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"hide"),j="show"===i,k=b.direction||"vertical",l="vertical"===k,m=l?"height":"width",n=l?"top":"left",o={};a.effects.save(g,h),g.show(),d=a.effects.createWrapper(g).css({overflow:"hidden"}),e="IMG"===g[0].tagName?d:g,f=e[m](),j&&(e.css(m,0),e.css(n,f/2)),o[m]=j?f:0,o[n]=j?0:f/2,e.animate(o,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){j||g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.drop=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","opacity","height","width"],g=a.effects.setMode(e,b.mode||"hide"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i?"pos":"neg",l={opacity:h?1:0};a.effects.save(e,f),e.show(),a.effects.createWrapper(e),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0)/2,h&&e.css("opacity",0).css(j,"pos"===k?-d:d),l[j]=(h?"pos"===k?"+=":"-=":"pos"===k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.explode=function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),p||n.hide(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=a.effects.setMode(n,b.mode||"hide"),p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;l>f;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;m>g;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)}}(jQuery),function(a){a.effects.effect.fade=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:e},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}}(jQuery),function(a){a.effects.effect.fold=function(b,c){var d,e,f=a(this),g=["position","top","bottom","left","right","height","width"],h=a.effects.setMode(f,b.mode||"hide"),i="show"===h,j="hide"===h,k=b.size||15,l=/([0-9]+)%/.exec(k),m=!!b.horizFirst,n=i!==m,o=n?["width","height"]:["height","width"],p=b.duration/2,q={},r={};a.effects.save(f,g),f.show(),d=a.effects.createWrapper(f).css({overflow:"hidden"}),e=n?[d.width(),d.height()]:[d.height(),d.width()],l&&(k=parseInt(l[1],10)/100*e[j?0:1]),i&&d.css(m?{height:0,width:k}:{height:k,width:0}),q[o[0]]=i?e[0]:k,r[o[1]]=i?e[1]:0,d.animate(q,p,b.easing).animate(r,p,b.easing,function(){j&&f.hide(),a.effects.restore(f,g),a.effects.removeWrapper(f),c()})}}(jQuery),function(a){a.effects.effect.highlight=function(b,c){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,b.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===f&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(g,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===f&&d.hide(),a.effects.restore(d,e),c()}})}}(jQuery),function(a){a.effects.effect.pulsate=function(b,c){var d,e=a(this),f=a.effects.setMode(e,b.mode||"show"),g="show"===f,h="hide"===f,i=g||"hide"===f,j=2*(b.times||5)+(i?1:0),k=b.duration/j,l=0,m=e.queue(),n=m.length;for((g||!e.is(":visible"))&&(e.css("opacity",0).show(),l=1),d=1;j>d;d++)e.animate({opacity:l},k,b.easing),l=1-l;e.animate({opacity:l},k,b.easing),e.queue(function(){h&&e.hide(),c()}),n>1&&m.splice.apply(m,[1,0].concat(m.splice(n,j+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.puff=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"hide"),f="hide"===e,g=parseInt(b.percent,10)||150,h=g/100,i={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:e,complete:c,percent:f?g:100,from:f?i:{height:i.height*h,width:i.width*h,outerHeight:i.outerHeight*h,outerWidth:i.outerWidth*h}}),d.effect(b)},a.effects.effect.scale=function(b,c){var d=a(this),e=a.extend(!0,{},b),f=a.effects.setMode(d,b.mode||"effect"),g=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===f?0:100),h=b.direction||"both",i=b.origin,j={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k={y:"horizontal"!==h?g/100:1,x:"vertical"!==h?g/100:1};e.effect="size",e.queue=!1,e.complete=c,"effect"!==f&&(e.origin=i||["middle","center"],e.restore=!0),e.from=b.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:j),e.to={height:j.height*k.y,width:j.width*k.x,outerHeight:j.outerHeight*k.y,outerWidth:j.outerWidth*k.x},e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0)),d.effect(e)},a.effects.effect.size=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],j=["width","height","overflow"],k=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=a.effects.setMode(g,b.mode||"effect"),o=b.restore||"effect"!==n,p=b.scale||"both",q=b.origin||["middle","center"],r=g.css("position"),s=o?h:i,t={height:0,width:0,outerHeight:0,outerWidth:0};"show"===n&&g.show(),d={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},"toggle"===b.mode&&"show"===n?(g.from=b.to||t,g.to=b.from||d):(g.from=b.from||("show"===n?t:d),g.to=b.to||("hide"===n?t:d)),f={from:{y:g.from.height/d.height,x:g.from.width/d.width},to:{y:g.to.height/d.height,x:g.to.width/d.width}},("box"===p||"both"===p)&&(f.from.y!==f.to.y&&(s=s.concat(l),g.from=a.effects.setTransition(g,l,f.from.y,g.from),g.to=a.effects.setTransition(g,l,f.to.y,g.to)),f.from.x!==f.to.x&&(s=s.concat(m),g.from=a.effects.setTransition(g,m,f.from.x,g.from),g.to=a.effects.setTransition(g,m,f.to.x,g.to))),("content"===p||"both"===p)&&f.from.y!==f.to.y&&(s=s.concat(k).concat(j),g.from=a.effects.setTransition(g,k,f.from.y,g.from),g.to=a.effects.setTransition(g,k,f.to.y,g.to)),a.effects.save(g,s),g.show(),a.effects.createWrapper(g),g.css("overflow","hidden").css(g.from),q&&(e=a.effects.getBaseline(q,d),g.from.top=(d.outerHeight-g.outerHeight())*e.y,g.from.left=(d.outerWidth-g.outerWidth())*e.x,g.to.top=(d.outerHeight-g.to.outerHeight)*e.y,g.to.left=(d.outerWidth-g.to.outerWidth)*e.x),g.css(g.from),("content"===p||"both"===p)&&(l=l.concat(["marginTop","marginBottom"]).concat(k),m=m.concat(["marginLeft","marginRight"]),j=h.concat(l).concat(m),g.find("*[width]").each(function(){var c=a(this),d={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};o&&a.effects.save(c,j),c.from={height:d.height*f.from.y,width:d.width*f.from.x,outerHeight:d.outerHeight*f.from.y,outerWidth:d.outerWidth*f.from.x},c.to={height:d.height*f.to.y,width:d.width*f.to.x,outerHeight:d.height*f.to.y,outerWidth:d.width*f.to.x},f.from.y!==f.to.y&&(c.from=a.effects.setTransition(c,l,f.from.y,c.from),c.to=a.effects.setTransition(c,l,f.to.y,c.to)),f.from.x!==f.to.x&&(c.from=a.effects.setTransition(c,m,f.from.x,c.from),c.to=a.effects.setTransition(c,m,f.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.easing,function(){o&&a.effects.restore(c,j)})})),g.animate(g.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===g.to.opacity&&g.css("opacity",g.from.opacity),"hide"===n&&g.hide(),a.effects.restore(g,s),o||("static"===r?g.css({position:"relative",top:g.to.top,left:g.to.left}):a.each(["top","left"],function(a,b){g.css(b,function(b,c){var d=parseInt(c,10),e=a?g.to.left:g.to.top;return"auto"===c?e+"px":d+e+"px"})})),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.shake=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(e,b.mode||"effect"),h=b.direction||"left",i=b.distance||20,j=b.times||3,k=2*j+1,l=Math.round(b.duration/k),m="up"===h||"down"===h?"top":"left",n="up"===h||"left"===h,o={},p={},q={},r=e.queue(),s=r.length;for(a.effects.save(e,f),e.show(),a.effects.createWrapper(e),o[m]=(n?"-=":"+=")+i,p[m]=(n?"+=":"-=")+2*i,q[m]=(n?"-=":"+=")+2*i,e.animate(o,l,b.easing),d=1;j>d;d++)e.animate(p,l,b.easing).animate(q,l,b.easing);e.animate(p,l,b.easing).animate(o,l/2,b.easing).queue(function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}),s>1&&r.splice.apply(r,[1,0].concat(r.splice(s,k+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.slide=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","width","height"],g=a.effects.setMode(e,b.mode||"show"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l={};a.effects.save(e,f),e.show(),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(e).css({overflow:"hidden"}),h&&e.css(j,k?isNaN(d)?"-"+d:-d:d),l[j]=(h?k?"+=":"-=":k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.transfer=function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),c()})}}(jQuery),function(a){a.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()
},"click .ui-menu-item:has(a)":function(b){var c=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.select(b),b.isPropagationStopped()||(this.mouseHandled=!0),c.has(".ui-menu").length?this.expand(b):!this.element.is(":focus")&&a(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var d,e,f,g,h,i=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:i=!1,e=this.previousFilter||"",f=String.fromCharCode(b.keyCode),g=!1,clearTimeout(this.filterTimer),f===e?g=!0:f=e+f,h=new RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())}),d=g&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(f=String.fromCharCode(b.keyCode),h=new RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())})),d.length?(this.focus(b,d),d.length>1?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}i&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),d=b.prev("a"),e=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e),b.attr("aria-labelledby",d.attr("id"))}),b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&a&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d-e<0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)}})}(jQuery),function(a,b){a.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===b?this.options.value:(this.options.value=this._constrainedValue(a),void this._refreshValue())},_constrainedValue:function(a){return a===b&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(c.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==b&&(this.oldValue=b,this._trigger("change")),b===this.options.max&&this._trigger("complete")}})}(jQuery),function(a){function b(a){return parseInt(a,10)||0}function c(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,d,e,f,g=this,h=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;c<b.length;c++)d=a.trim(b[c]),f="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:h.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),a(this.handles[c]).length},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){g.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=e&&e[1]?e[1]:"se")}),h.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(a(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){h.disabled||g.resizing||(a(this).addClass("ui-resizable-autohide"),g._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(c){var d,e,f,g=this.options,h=this.element.position(),i=this.element;return this.resizing=!0,/absolute/.test(i.css("position"))?i.css({position:"absolute",top:i.css("top"),left:i.css("left")}):i.is(".ui-draggable")&&i.css({position:"absolute",top:h.top,left:h.left}),this._renderProxy(),d=b(this.helper.css("left")),e=b(this.helper.css("top")),g.containment&&(d+=a(g.containment).scrollLeft()||0,e+=a(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:d,top:e},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,f=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===f?this.axis+"-resize":f),i.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(b){var c,d=this.helper,e={},f=this.originalMousePosition,g=this.axis,h=this.position.top,i=this.position.left,j=this.size.width,k=this.size.height,l=b.pageX-f.left||0,m=b.pageY-f.top||0,n=this._change[g];return n?(c=n.apply(this,[b,l,m]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),this.position.top!==h&&(e.top=this.position.top+"px"),this.position.left!==i&&(e.left=this.position.left+"px"),this.size.width!==j&&(e.width=this.size.width+"px"),this.size.height!==k&&(e.height=this.size.height+"px"),d.css(e),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(e)||this._trigger("resize",b,this.ui()),!1):!1},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&a.ui.hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,i=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,d,e,f,g,h=this.options;g={minWidth:c(h.minWidth)?h.minWidth:0,maxWidth:c(h.maxWidth)?h.maxWidth:1/0,minHeight:c(h.minHeight)?h.minHeight:0,maxHeight:c(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),d<g.maxWidth&&(g.maxWidth=d),f<g.maxHeight&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===e&&(a.left=b.left+(d.width-a.width),a.top=null),"nw"===e&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,d=this.axis,e=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=c(a.width)&&b.minWidth&&b.minWidth>a.width,h=c(a.height)&&b.minHeight&&b.minHeight>a.height,i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(d),l=/nw|ne|n/.test(d);return g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight),g&&k&&(a.left=i-b.minWidth),e&&k&&(a.left=i-b.maxWidth),h&&l&&(a.top=j-b.minHeight),f&&l&&(a.top=j-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,c,d,e,f=this.helper||this.element;for(a=0;a<this._proportionallyResizeElements.length;a++){if(e=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],c=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],d=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")],b=0;b<c.length;b++)this.borderDif[b]=(parseInt(c[b],10)||0)+(parseInt(d[b],10)||0);e.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("ui-resizable"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c,d,e,f,g,h,i,j=a(this).data("ui-resizable"),k=j.options,l=j.element,m=k.containment,n=m instanceof a?m.get(0):/parent/.test(m)?l.parent().get(0):m;n&&(j.containerElement=a(n),/document/.test(m)||m===document?(j.containerOffset={left:0,top:0},j.containerPosition={left:0,top:0},j.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(c=a(n),d=[],a(["Top","Right","Left","Bottom"]).each(function(a,e){d[a]=b(c.css("padding"+e))}),j.containerOffset=c.offset(),j.containerPosition=c.position(),j.containerSize={height:c.innerHeight()-d[3],width:c.innerWidth()-d[1]},e=j.containerOffset,f=j.containerSize.height,g=j.containerSize.width,h=a.ui.hasScroll(n,"left")?n.scrollWidth:g,i=a.ui.hasScroll(n)?n.scrollHeight:f,j.parentData={element:n,left:e.left,top:e.top,width:h,height:i}))},resize:function(b){var c,d,e,f,g=a(this).data("ui-resizable"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?i.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,c=Math.abs((g._helper?g.offset.left-l.left:g.offset.left-l.left)+g.sizeDiff.width),d=Math.abs((g._helper?g.offset.top-l.top:g.offset.top-i.top)+g.sizeDiff.height),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f&&(c-=Math.abs(g.parentData.left)),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data("ui-resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("ui-resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis,h="number"==typeof c.grid?[c.grid,c.grid]:c.grid,i=h[0]||1,j=h[1]||1,k=Math.round((d.width-e.width)/i)*i,l=Math.round((d.height-e.height)/j)*j,m=e.width+k,n=e.height+l,o=c.maxWidth&&c.maxWidth<m,p=c.maxHeight&&c.maxHeight<n,q=c.minWidth&&c.minWidth>m,r=c.minHeight&&c.minHeight>n;c.grid=h,q&&(m+=i),r&&(n+=j),o&&(m-=i),p&&(n-=j),/^(se|s|e)$/.test(g)?(b.size.width=m,b.size.height=n):/^(ne)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.top=f.top-l):/^(sw)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.left=f.left-k):(n-j>0?(b.size.height=n,b.position.top=f.top-l):(b.size.height=j,b.position.top=f.top+e.height-j),m-i>0?(b.size.width=m,b.position.left=f.left-k):(b.size.width=i,b.position.left=f.left+e.width-i))}})}(jQuery),function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,c=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b=a(c.options.filter,c.element[0]),b.addClass("ui-selectee"),b.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY],this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().addBack().each(function(){var d,e=a.data(this,"selectable-item");return e?(d=!b.metaKey&&!b.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),e.unselecting=!d,e.selecting=d,e.selected=d,d?c._trigger("selecting",b,{selecting:e.element}):c._trigger("unselecting",b,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var c,d=this,e=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;return f>h&&(c=h,h=f,f=c),g>i&&(c=i,i=g,g=c),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var c=a.data(this,"selectable-item"),j=!1;c&&c.element!==d.element[0]&&("touch"===e.tolerance?j=!(c.left>h||c.right<f||c.top>i||c.bottom<g):"fit"===e.tolerance&&(j=c.left>f&&c.right<h&&c.top>g&&c.bottom<i),j?(c.selected&&(c.$element.removeClass("ui-selected"),c.selected=!1),c.unselecting&&(c.$element.removeClass("ui-unselecting"),c.unselecting=!1),c.selecting||(c.$element.addClass("ui-selecting"),c.selecting=!0,d._trigger("selecting",b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.$element.addClass("ui-selected"),c.selected=!0):(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.startselected&&(c.$element.addClass("ui-unselecting"),c.unselecting=!0),d._trigger("unselecting",b,{unselecting:c.element}))),c.selected&&(b.metaKey||b.ctrlKey||c.startselected||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element})))))}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}})}(jQuery),function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1
},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;f<d.length;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;d<c.length;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(a<=this._valueMin())return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=(i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())*100,k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?(d-e)/(f-e)*100:0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))},_handleEvents:{keydown:function(c){var d,e,f,g,h=a(c.target).data("ui-slider-handle-index");switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),d=this._start(c,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),c.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(c,h,f)},click:function(a){a.preventDefault()},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}function c(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||c(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):void 0}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),d&&(!this.options.handle||c||(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),e))?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],e):!0)){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:f<b+this.helperProportions.width/2&&c-this.helperProportions.width/2<g&&h<d+this.helperProportions.height/2&&e-this.helperProportions.height/2<i},_intersectsWithPointer:function(a){var c="x"===this.options.axis||b(this.positionAbs.top+this.offset.click.top,a.top,a.height),d="y"===this.options.axis||b(this.positionAbs.left+this.offset.click.left,a.left,a.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&"right"===g||"down"===f?2:1:f&&("down"===f?2:1):!1},_intersectsWithSides:function(a){var c=b(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=b(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&d||"left"===f&&!d:e&&("down"===e&&c||"up"===e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){function c(){h.push(this)}var d,e,f,g,h=[],i=[],j=this._connectWith();if(j&&b)for(d=j.length-1;d>=0;d--)for(f=a(j[d]),e=f.length-1;e>=0;e--)g=a.data(f[e],this.widgetFullName),g&&g!==this&&!g.options.disabled&&i.push([a.isFunction(g.options.items)?g.options.items.call(g.element):a(g.options.items,g.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),g]);for(i.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),d=i.length-1;d>=0;d--)i[d][0].each(c);return a(h)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;c<b.length;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){(!c||d.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(d){var e,f,g,h,i,j,k,l,m,n,o=null,p=null;for(e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(o&&a.contains(this.containers[e].element[0],o.element[0]))continue;o=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",d,this._uiHash(this)),this.containers[e].containerCache.over=0);if(o)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(g=1e4,h=null,n=o.floating||c(this.currentItem),i=n?"left":"top",j=n?"width":"height",k=this.positionAbs[i]+this.offset.click[i],f=this.items.length-1;f>=0;f--)a.contains(this.containers[p].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!n||b(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(l=this.items[f].item.offset()[i],m=!1,Math.abs(l-k)>Math.abs(l+this.items[f][j]-k)&&(m=!0,l+=this.items[f][j]),Math.abs(l-k)<g&&(g=Math.abs(l-k),h=this.items[f],this.direction=m?"up":"down"));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;h?this._rearrange(d,h,null,!0):this._rearrange(d,null,this.containers[p].element,!0),this._trigger("change",d,this._uiHash()),this.containers[p]._trigger("change",d,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){function c(a,b,c){return function(d){c._trigger(a,d,b._uiHash(b))}}this.reverting=!1;var d,e=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(d in this._storedCSS)("auto"===this._storedCSS[d]||"static"===this._storedCSS[d])&&(this._storedCSS[d]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&e.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||e.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(e.push(function(a){this._trigger("remove",a,this._uiHash())}),e.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))
}}.call(this,this.currentContainer)),e.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),d=this.containers.length-1;d>=0;d--)b||e.push(c("deactivate",this,this.containers[d])),this.containers[d].containerCache.over&&(e.push(c("out",this,this.containers[d])),this.containers[d].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(d=0;d<e.length;d++)e[d].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a){function b(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);void 0!==e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){return a(b.currentTarget).hasClass("ui-state-active")?this._start(b)===!1?!1:void this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=a.toString(),c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&a<d.min?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,void this.element.val(this._format(c))}("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:b(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:b(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:b(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void b(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(a,b){function c(){return++e}function d(a){return a=a.cloneNode(!1),a.hash.length>1&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(c.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var b=this.options.active,c=this.options.collapsible,d=location.hash.substring(1);return null===b&&(d&&this.tabs.each(function(c,e){return a(e).attr("aria-controls")===d?(b=c,!1):void 0}),null===b&&(b=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===b||-1===b)&&(b=this.tabs.length?0:!1)),b!==!1&&(b=this.tabs.index(this.tabs.eq(b)),-1===b&&(b=c?!1:0)),!c&&b===!1&&this.anchors.length&&(b=0),b},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(b){var c=a(this.document[0].activeElement).closest("li"),d=this.tabs.index(c),e=!0;if(!this._handlePageNav(b)){switch(b.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:d++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:e=!1,d--;break;case a.ui.keyCode.END:d=this.anchors.length-1;break;case a.ui.keyCode.HOME:d=0;break;case a.ui.keyCode.SPACE:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d);case a.ui.keyCode.ENTER:return b.preventDefault(),clearTimeout(this.activating),void this._activate(d===this.options.active?!1:d);default:return}b.preventDefault(),clearTimeout(this.activating),d=this._focusNextTab(d,e),b.ctrlKey||(c.attr("aria-selected","false"),this.tabs.eq(d).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",d)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(b){return b.altKey&&b.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):b.altKey&&b.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,b){return"active"===a?void this._activate(b):"disabled"===a?void this._setupDisabled(b):(this._super(a,b),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",b),b||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(b),void("heightStyle"===a&&this._setupHeightStyle(b)))},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),-1!==a.inArray(c,d))return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}})}(jQuery),function(a){function b(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))}function c(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);-1!==e&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")}var d=0;a.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(b,c){var d=this;return"disabled"===b?(this[c?"_disable":"_enable"](),void(this.options[b]=c)):(this._super(b,c),void("content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b)})))},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0)}),this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b,d=a(this);d.data("ui-tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0)),d.attr("title")&&(d.uniqueId(),c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._updateContent(d,b))},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){a.data("ui-tooltip-open")&&e._delay(function(){b&&(b.type=f),this._open(b,a,c)})}),void(c&&this._open(b,a,c)))},_open:function(c,d,e){function f(a){j.of=a,g.is(":hidden")||g.position(j)}var g,h,i,j=a.extend({},this.options.position);if(e){if(g=this._find(d),g.length)return void g.find(".ui-tooltip-content").html(e);d.is("[title]")&&(c&&"mouseover"===c.type?d.attr("title",""):d.removeAttr("title")),g=this._tooltip(d),b(d,g.attr("id")),g.find(".ui-tooltip-content").html(e),this.options.track&&c&&/^mouse/.test(c.type)?(this._on(this.document,{mousemove:f}),f(c)):g.position(a.extend({of:d},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(i=this.delayedShow=setInterval(function(){g.is(":visible")&&(f(j.of),clearInterval(i))},a.fx.interval)),this._trigger("open",c,{tooltip:g}),h={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var c=a.Event(b);c.currentTarget=d[0],this.close(c,!0)}},remove:function(){this._removeTooltip(g)}},c&&"mouseover"!==c.type||(h.mouseleave="close"),c&&"focusin"!==c.type||(h.focusout="close"),this._on(!0,d,h)}},close:function(b){var d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);this.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),c(e),f.stop(!0),this._hide(f,this.options.hide,function(){d._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title),delete d.parents[b]}),this.closing=!0,this._trigger("close",b,{tooltip:f}),this.closing=!1)},_tooltip:function(b){var c="ui-tooltip-"+d++,e=a("<div>").attr({id:c,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),this.tooltips[c]=b,e},_find:function(b){var c=b.data("ui-tooltip-id");return c?a("#"+c):a()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0),a("#"+c).remove(),d.data("ui-tooltip-title")&&(d.attr("title",d.data("ui-tooltip-title")),d.removeData("ui-tooltip-title"))})}})}(jQuery),function($){var min=Math.min,max=Math.max,round=Math.floor,isStr=function(a){return"string"===$.type(a)},runPluginCallbacks=function(Instance,a_fn){function g(a){return a}if($.isArray(a_fn))for(var i=0,c=a_fn.length;c>i;i++){var fn=a_fn[i];try{isStr(fn)&&(fn=eval(fn)),$.isFunction(fn)&&g(fn)(Instance)}catch(ex){}}};$.layout={version:"1.3.rc30.79",revision:.033007,browser:{},effects:{slide:{all:{duration:"fast"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},drop:{all:{duration:"slow"},north:{direction:"up"},south:{direction:"down"},east:{direction:"right"},west:{direction:"left"}},scale:{all:{duration:"fast"}},blind:{},clip:{},explode:{},fade:{},fold:{},puff:{},size:{all:{easing:"swing"}}},config:{optionRootKeys:"effects,panes,north,south,west,east,center".split(","),allPanes:"north,south,west,east,center".split(","),borderPanes:"north,south,west,east".split(","),oppositeEdge:{north:"south",south:"north",east:"west",west:"east"},offscreenCSS:{left:"-99999px",right:"auto"},offscreenReset:"offscreenReset",hidden:{visibility:"hidden"},visible:{visibility:"visible"},resizers:{cssReq:{position:"absolute",padding:0,margin:0,fontSize:"1px",textAlign:"left",overflow:"hidden"},cssDemo:{background:"#DDD",border:"none"}},togglers:{cssReq:{position:"absolute",display:"block",padding:0,margin:0,overflow:"hidden",textAlign:"center",fontSize:"1px",cursor:"pointer",zIndex:1},cssDemo:{background:"#AAA"}},content:{cssReq:{position:"relative"},cssDemo:{overflow:"auto",padding:"10px"},cssDemoPane:{overflow:"hidden",padding:0}},panes:{cssReq:{position:"absolute",margin:0},cssDemo:{padding:"10px",background:"#FFF",border:"1px solid #BBB",overflow:"auto"}},north:{side:"top",sizeType:"Height",dir:"horz",cssReq:{top:0,bottom:"auto",left:0,right:0,width:"auto"}},south:{side:"bottom",sizeType:"Height",dir:"horz",cssReq:{top:"auto",bottom:0,left:0,right:0,width:"auto"}},east:{side:"right",sizeType:"Width",dir:"vert",cssReq:{left:"auto",right:0,top:"auto",bottom:"auto",height:"auto"}},west:{side:"left",sizeType:"Width",dir:"vert",cssReq:{left:0,right:"auto",top:"auto",bottom:"auto",height:"auto"}},center:{dir:"center",cssReq:{left:"auto",right:"auto",top:"auto",bottom:"auto",height:"auto",width:"auto"}}},callbacks:{},getParentPaneElem:function(a){var b=$(a),c=b.data("layout")||b.data("parentLayout");if(c){var d=c.container;if(d.data("layoutPane"))return d;var e=d.closest("."+$.layout.defaults.panes.paneClass);if(e.data("layoutPane"))return e}return null},getParentPaneInstance:function(a){var b=$.layout.getParentPaneElem(a);return b?b.data("layoutPane"):null},getParentLayoutInstance:function(a){var b=$.layout.getParentPaneElem(a);return b?b.data("parentLayout"):null},getEventObject:function(a){return"object"==typeof a&&a.stopPropagation?a:null},parsePaneName:function(a){var b=$.layout.getEventObject(a),c=a;return b&&(b.stopPropagation(),c=$(this).data("layoutEdge")),c&&!/^(west|east|north|south|center)$/.test(c)&&($.layout.msg('LAYOUT ERROR - Invalid pane-name: "'+c+'"'),c="error"),c},plugins:{draggable:!!$.fn.draggable,effects:{core:!!$.effects,slide:$.effects&&($.effects.slide||$.effects.effect&&$.effects.effect.slide)}},onCreate:[],onLoad:[],onReady:[],onDestroy:[],onUnload:[],afterOpen:[],afterClose:[],scrollbarWidth:function(){return window.scrollbarWidth||$.layout.getScrollbarSize("width")},scrollbarHeight:function(){return window.scrollbarHeight||$.layout.getScrollbarSize("height")},getScrollbarSize:function(a){var b=$('<div style="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 100px; overflow: scroll;"></div>').appendTo("body"),c={width:b.css("width")-b[0].clientWidth,height:b.height()-b[0].clientHeight};return b.remove(),window.scrollbarWidth=c.width,window.scrollbarHeight=c.height,a.match(/^(width|height)$/)?c[a]:c},showInvisibly:function(a,b){if(a&&a.length&&(b||"none"===a.css("display"))){var c=a[0].style,d={display:c.display||"",visibility:c.visibility||""};return a.css({display:"block",visibility:"hidden"}),d}return{}},getElementDimensions:function(a,b){var c,d,e,f={css:{},inset:{}},g=f.css,h={bottom:0},i=$.layout.cssNum,j=a.offset();return f.offsetLeft=j.left,f.offsetTop=j.top,b||(b={}),$.each("Left,Right,Top,Bottom".split(","),function(i,j){c=g["border"+j]=$.layout.borderWidth(a,j),d=g["padding"+j]=$.layout.cssNum(a,"padding"+j),e=j.toLowerCase(),f.inset[e]=b[e]>=0?b[e]:d,h[e]=f.inset[e]+c}),g.width=a.width(),g.height=a.height(),g.top=i(a,"top",!0),g.bottom=i(a,"bottom",!0),g.left=i(a,"left",!0),g.right=i(a,"right",!0),f.outerWidth=a.outerWidth(),f.outerHeight=a.outerHeight(),f.innerWidth=max(0,f.outerWidth-h.left-h.right),f.innerHeight=max(0,f.outerHeight-h.top-h.bottom),f.layoutWidth=a.innerWidth(),f.layoutHeight=a.innerHeight(),f},getElementStyles:function(a,b){var c,d,e,f,g,h,i={},j=a[0].style,k=b.split(","),l="Top,Bottom,Left,Right".split(","),m="Color,Style,Width".split(",");for(f=0;f<k.length;f++)if(c=k[f],c.match(/(border|padding|margin)$/))for(g=0;4>g;g++)if(d=l[g],"border"===c)for(h=0;3>h;h++)e=m[h],i[c+d+e]=j[c+d+e];else i[c+d]=j[c+d];else i[c]=j[c];return i},cssWidth:function(a,b){if(0>=b)return 0;var c=$.layout.browser.boxModel?$.support.boxSizing?a.css("boxSizing"):"content-box":"border-box",d=$.layout.borderWidth,e=$.layout.cssNum,f=b;return"border-box"!==c&&(f-=d(a,"Left")+d(a,"Right")),"content-box"===c&&(f-=e(a,"paddingLeft")+e(a,"paddingRight")),max(0,f)},cssHeight:function(a,b){if(0>=b)return 0;var c=$.layout.browser.boxModel?$.support.boxSizing?a.css("boxSizing"):"content-box":"border-box",d=$.layout.borderWidth,e=$.layout.cssNum,f=b;return"border-box"!==c&&(f-=d(a,"Top")+d(a,"Bottom")),"content-box"===c&&(f-=e(a,"paddingTop")+e(a,"paddingBottom")),max(0,f)},cssNum:function(a,b,c){a.jquery||(a=$(a));var d=$.layout.showInvisibly(a),e=$.css(a[0],b,!0),f=c&&"auto"==e?e:Math.round(parseFloat(e)||0);return a.css(d),f},borderWidth:function(a,b){a.jquery&&(a=a[0]);var c="border"+b.substr(0,1).toUpperCase()+b.substr(1);return"none"===$.css(a,c+"Style",!0)?0:Math.round(parseFloat($.css(a,c+"Width",!0))||0)},isMouseOverElem:function(a,b){var c=$(b||this),d=c.offset(),e=d.top,f=d.left,g=f+c.outerWidth(),h=e+c.outerHeight(),i=a.pageX,j=a.pageY;return $.layout.browser.msie&&0>i&&0>j||i>=f&&g>=i&&j>=e&&h>=j},msg:function(a,b,c,d){function e(){var a=$.support.fixedPosition?"fixed":"absolute",b=$('<div id="layoutLogger" style="position: '+a+'; top: 5px; z-index: 999999; max-width: 25%; overflow: hidden; border: 1px solid #000; border-radius: 5px; background: #FBFBFB; box-shadow: 0 2px 10px rgba(0,0,0,0.3);"><div style="font-size: 13px; font-weight: bold; padding: 5px 10px; background: #F6F6F6; border-radius: 5px 5px 0 0; cursor: move;"><span style="float: right; padding-left: 7px; cursor: pointer;" title="Remove Console" onclick="$(this).closest(\'#layoutLogger\').remove()">X</span>Layout console.log</div><ul style="font-size: 13px; font-weight: none; list-style: none; margin: 0; padding: 0 0 2px;"></ul></div>').appendTo("body");return b.css("left",$(window).width()-b.outerWidth()-5),$.ui.draggable&&b.draggable({handle:":first-child"}),b}if($.isPlainObject(a)&&window.debugData){"string"==typeof b?(d=c,c=b):"object"==typeof c&&(d=c,c=null);var f=c||"log( <object> )",g=$.extend({sort:!1,returnHTML:!1,display:!1},d);b===!0||g.display?debugData(a,f,g):window.console&&console.log(debugData(a,f,g))}else if(b)alert(a);else if(window.console)console.log(a);else{var h="#layoutLogger",i=$(h);i.length||(i=e()),i.children("ul").append('<li style="padding: 4px 10px; margin: 0; border-top: 1px solid #CCC;">'+a.replace(/\</g,"&lt;").replace(/\>/g,"&gt;")+"</li>")
}}};var u=navigator.userAgent.toLowerCase(),m=/(chrome)[ \/]([\w.]+)/.exec(u)||/(webkit)[ \/]([\w.]+)/.exec(u)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(u)||/(msie) ([\w.]+)/.exec(u)||u.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(u)||[],b=m[1]||"",v=m[2]||0,ie="msie"===b;$.layout.browser={version:v,safari:"webkit"===b,webkit:"chrome"===b,msie:ie,isIE6:ie&&6==v,boxModel:!ie||$.support.boxModel!==!1},b&&($.layout.browser[b]=!0),ie&&$(function(){$.layout.browser.boxModel=$.support.boxModel}),$.layout.defaults={name:"",containerClass:"ui-layout-container",inset:null,scrollToBookmarkOnLoad:!0,resizeWithWindow:!0,resizeWithWindowDelay:200,resizeWithWindowMaxDelay:0,maskPanesEarly:!1,onresizeall_start:null,onresizeall_end:null,onload_start:null,onload_end:null,onunload_start:null,onunload_end:null,initPanes:!0,showErrorMessages:!0,showDebugMessages:!1,zIndex:null,zIndexes:{pane_normal:0,content_mask:1,resizer_normal:2,pane_sliding:100,pane_animate:1e3,resizer_drag:1e4},errors:{pane:"pane",selector:"selector",addButtonError:"Error Adding Button\nInvalid ",containerMissing:"UI Layout Initialization Error\nThe specified layout-container does not exist.",centerPaneMissing:"UI Layout Initialization Error\nThe center-pane element does not exist.\nThe center-pane is a required element.",noContainerHeight:"UI Layout Initialization Warning\nThe layout-container \"CONTAINER\" has no height.\nTherefore the layout is 0-height and hence 'invisible'!",callbackError:"UI Layout Callback Error\nThe EVENT callback is not a valid function."},panes:{applyDemoStyles:!1,closable:!0,resizable:!0,slidable:!0,initClosed:!1,initHidden:!1,contentSelector:".ui-layout-content",contentIgnoreSelector:".ui-layout-ignore",findNestedContent:!1,paneClass:"ui-layout-pane",resizerClass:"ui-layout-resizer",togglerClass:"ui-layout-toggler",buttonClass:"ui-layout-button",minSize:0,maxSize:0,spacing_open:6,spacing_closed:6,togglerLength_open:50,togglerLength_closed:50,togglerAlign_open:"center",togglerAlign_closed:"center",togglerContent_open:"",togglerContent_closed:"",resizerDblClickToggle:!0,autoResize:!0,autoReopen:!0,resizerDragOpacity:1,maskContents:!1,maskObjects:!1,maskZindex:null,resizingGrid:!1,livePaneResizing:!1,liveContentResizing:!1,liveResizingTolerance:1,sliderCursor:"pointer",slideTrigger_open:"click",slideTrigger_close:"mouseleave",slideDelay_open:300,slideDelay_close:300,hideTogglerOnSlide:!1,preventQuickSlideClose:$.layout.browser.webkit,preventPrematureSlideClose:!1,tips:{Open:"Open",Close:"Close",Resize:"Resize",Slide:"Slide Open",Pin:"Pin",Unpin:"Un-Pin",noRoomToOpen:"Not enough room to show this panel.",minSizeWarning:"Panel has reached its minimum size",maxSizeWarning:"Panel has reached its maximum size"},showOverflowOnHover:!1,enableCursorHotkey:!0,customHotkeyModifier:"SHIFT",fxName:"slide",fxSpeed:null,fxSettings:{},fxOpacityFix:!0,animatePaneSizing:!1,children:null,containerSelector:"",initChildren:!0,destroyChildren:!0,resizeChildren:!0,triggerEventsOnLoad:!1,triggerEventsDuringLiveResize:!0,onshow_start:null,onshow_end:null,onhide_start:null,onhide_end:null,onopen_start:null,onopen_end:null,onclose_start:null,onclose_end:null,onresize_start:null,onresize_end:null,onsizecontent_start:null,onsizecontent_end:null,onswap_start:null,onswap_end:null,ondrag_start:null,ondrag_end:null},north:{paneSelector:".ui-layout-north",size:"auto",resizerCursor:"n-resize",customHotkey:""},south:{paneSelector:".ui-layout-south",size:"auto",resizerCursor:"s-resize",customHotkey:""},east:{paneSelector:".ui-layout-east",size:200,resizerCursor:"e-resize",customHotkey:""},west:{paneSelector:".ui-layout-west",size:200,resizerCursor:"w-resize",customHotkey:""},center:{paneSelector:".ui-layout-center",minWidth:0,minHeight:0}},$.layout.optionsMap={layout:"name,instanceKey,stateManagement,effects,inset,zIndexes,errors,zIndex,scrollToBookmarkOnLoad,showErrorMessages,maskPanesEarly,outset,resizeWithWindow,resizeWithWindowDelay,resizeWithWindowMaxDelay,onresizeall,onresizeall_start,onresizeall_end,onload,onload_start,onload_end,onunload,onunload_start,onunload_end".split(","),center:"paneClass,contentSelector,contentIgnoreSelector,findNestedContent,applyDemoStyles,triggerEventsOnLoad,showOverflowOnHover,maskContents,maskObjects,liveContentResizing,containerSelector,children,initChildren,resizeChildren,destroyChildren,onresize,onresize_start,onresize_end,onsizecontent,onsizecontent_start,onsizecontent_end".split(","),noDefault:"paneSelector,resizerCursor,customHotkey".split(",")},$.layout.transformData=function(a,b){var c,d,e,f,g,h,i,j=b?{panes:{},center:{}}:{};if("object"!=typeof a)return j;for(d in a)for(c=j,g=a[d],e=d.split("__"),i=e.length-1,h=0;i>=h;h++)f=e[h],h===i?c[f]=$.isPlainObject(g)?$.layout.transformData(g):g:(c[f]||(c[f]={}),c=c[f]);return j},$.layout.backwardCompatibility={map:{applyDefaultStyles:"applyDemoStyles",childOptions:"children",initChildLayout:"initChildren",destroyChildLayout:"destroyChildren",resizeChildLayout:"resizeChildren",resizeNestedLayout:"resizeChildren",resizeWhileDragging:"livePaneResizing",resizeContentWhileDragging:"liveContentResizing",triggerEventsWhileDragging:"triggerEventsDuringLiveResize",maskIframesOnResize:"maskContents",useStateCookie:"stateManagement.enabled","cookie.autoLoad":"stateManagement.autoLoad","cookie.autoSave":"stateManagement.autoSave","cookie.keys":"stateManagement.stateKeys","cookie.name":"stateManagement.cookie.name","cookie.domain":"stateManagement.cookie.domain","cookie.path":"stateManagement.cookie.path","cookie.expires":"stateManagement.cookie.expires","cookie.secure":"stateManagement.cookie.secure",noRoomToOpenTip:"tips.noRoomToOpen",togglerTip_open:"tips.Close",togglerTip_closed:"tips.Open",resizerTip:"tips.Resize",sliderTip:"tips.Slide"},renameOptions:function(a){function b(b,c){for(var d,e=b.split("."),f=e.length-1,g={branch:a,key:e[f]},h=0;f>h;h++)d=e[h],g.branch=void 0==g.branch[d]?c?g.branch[d]={}:{}:g.branch[d];return g}var c,d,e,f=$.layout.backwardCompatibility.map;for(var g in f)c=b(g),e=c.branch[c.key],void 0!==e&&(d=b(f[g],!0),d.branch[d.key]=e,delete c.branch[c.key])},renameAllOptions:function(a){var b=$.layout.backwardCompatibility.renameOptions;return b(a),a.defaults&&("object"!=typeof a.panes&&(a.panes={}),$.extend(!0,a.panes,a.defaults),delete a.defaults),a.panes&&b(a.panes),$.each($.layout.config.allPanes,function(c,d){a[d]&&b(a[d])}),a}},$.fn.layout=function(opts){function keyDown(a){if(!a)return!0;var b=a.keyCode;if(33>b)return!0;var c,d,e,f,g={38:"north",40:"south",37:"west",39:"east"},h=(a.altKey,a.shiftKey),i=a.ctrlKey,j=i&&b>=37&&40>=b;return j&&options[g[b]].enableCursorHotkey?f=g[b]:(i||h)&&$.each(_c.borderPanes,function(a,g){return c=options[g],d=c.customHotkey,e=c.customHotkeyModifier,(h&&"SHIFT"==e||i&&"CTRL"==e||i&&h)&&d&&b===(isNaN(d)||9>=d?d.toUpperCase().charCodeAt(0):d)?(f=g,!1):void 0}),f&&$Ps[f]&&options[f].closable&&!state[f].isHidden?(toggle(f),a.stopPropagation(),a.returnValue=!1,!1):!0}function allowOverflow(a){if(isInitialized()){this&&this.tagName&&(a=this);var b;if(isStr(a)?b=$Ps[a]:$(a).data("layoutRole")?b=$(a):$(a).parents().each(function(){return $(this).data("layoutRole")?(b=$(this),!1):void 0}),b&&b.length){var c=b.data("layoutEdge"),d=state[c];if(d.cssSaved&&resetOverflow(c),d.isSliding||d.isResizing||d.isClosed)return void(d.cssSaved=!1);var e={zIndex:options.zIndexes.resizer_normal+1},f={},g=b.css("overflow"),h=b.css("overflowX"),i=b.css("overflowY");"visible"!=g&&(f.overflow=g,e.overflow="visible"),h&&!h.match(/(visible|auto)/)&&(f.overflowX=h,e.overflowX="visible"),i&&!i.match(/(visible|auto)/)&&(f.overflowY=h,e.overflowY="visible"),d.cssSaved=f,b.css(e),$.each(_c.allPanes,function(a,b){b!=c&&resetOverflow(b)})}}}function resetOverflow(a){if(isInitialized()){this&&this.tagName&&(a=this);var b;if(isStr(a)?b=$Ps[a]:$(a).data("layoutRole")?b=$(a):$(a).parents().each(function(){return $(this).data("layoutRole")?(b=$(this),!1):void 0}),b&&b.length){var c=b.data("layoutEdge"),d=state[c],e=d.cssSaved||{};d.isSliding||d.isResizing||b.css("zIndex",options.zIndexes.pane_normal),b.css(e),d.cssSaved=!1}}}var browser=$.layout.browser,_c=$.layout.config,cssW=$.layout.cssWidth,cssH=$.layout.cssHeight,elDims=$.layout.getElementDimensions,styles=$.layout.getElementStyles,evtObj=$.layout.getEventObject,evtPane=$.layout.parsePaneName,options=$.extend(!0,{},$.layout.defaults),effects=options.effects=$.extend(!0,{},$.layout.effects),state={id:"layout"+$.now(),initialized:!1,paneResizing:!1,panesSliding:{},container:{innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0,layoutWidth:0,layoutHeight:0},north:{childIdx:0},south:{childIdx:0},east:{childIdx:0},west:{childIdx:0},center:{childIdx:0}},children={north:null,south:null,east:null,west:null,center:null},timer={data:{},set:function(a,b,c){timer.clear(a),timer.data[a]=setTimeout(b,c)},clear:function(a){var b=timer.data;b[a]&&(clearTimeout(b[a]),delete b[a])}},_log=function(a,b,c){var d=options;return(d.showErrorMessages&&!c||c&&d.showDebugMessages)&&$.layout.msg(d.name+" / "+a,b!==!1),!1},_runCallbacks=function(evtName,pane,skipBoundEvents){function g(a){return a}var hasPane=pane&&isStr(pane),s=hasPane?state[pane]:state,o=hasPane?options[pane]:options,lName=options.name,lng=evtName+(evtName.match(/_/)?"":"_end"),shrt=lng.match(/_end$/)?lng.substr(0,lng.length-4):"",fn=o[lng]||o[shrt],retVal="NC",args=[],$P;if(hasPane||"boolean"!==$.type(pane)||(skipBoundEvents=pane,pane=""),fn)try{isStr(fn)&&(fn.match(/,/)?(args=fn.split(","),fn=eval(args[0])):fn=eval(fn)),$.isFunction(fn)&&(retVal=args.length?g(fn)(args[1]):hasPane?g(fn)(pane,$Ps[pane],s,o,lName):g(fn)(Instance,s,o,lName))}catch(ex){_log(options.errors.callbackError.replace(/EVENT/,$.trim((pane||"")+" "+lng)),!1),"string"===$.type(ex)&&string.length&&_log("Exception:  "+ex,!1)}return skipBoundEvents||retVal===!1||(hasPane?($P=$Ps[pane],o=options[pane],s=state[pane],$P.triggerHandler("layoutpane"+lng,[pane,$P,s,o,lName]),shrt&&$P.triggerHandler("layoutpane"+shrt,[pane,$P,s,o,lName])):($N.triggerHandler("layout"+lng,[Instance,s,o,lName]),shrt&&$N.triggerHandler("layout"+shrt,[Instance,s,o,lName]))),hasPane&&"onresize_end"===evtName&&resizeChildren(pane+"",!0),retVal},_fixIframe=function(a){if(!browser.mozilla){var b=$Ps[a];"IFRAME"===state[a].tagName?b.css(_c.hidden).css(_c.visible):b.find("IFRAME").css(_c.hidden).css(_c.visible)}},cssSize=function(a,b){var c="horz"==_c[a].dir?cssH:cssW;return c($Ps[a],b)},cssMinDims=function(a){var b=$Ps[a],c=_c[a].dir,d={minWidth:1001-cssW(b,1e3),minHeight:1001-cssH(b,1e3)};return"horz"===c&&(d.minSize=d.minHeight),"vert"===c&&(d.minSize=d.minWidth),d},setOuterWidth=function(a,b,c){var d,e=a;isStr(a)?e=$Ps[a]:a.jquery||(e=$(a)),d=cssW(e,b),e.css({width:d}),d>0?c&&e.data("autoHidden")&&e.innerHeight()>0&&(e.show().data("autoHidden",!1),browser.mozilla||e.css(_c.hidden).css(_c.visible)):c&&!e.data("autoHidden")&&e.hide().data("autoHidden",!0)},setOuterHeight=function(a,b,c){var d,e=a;isStr(a)?e=$Ps[a]:a.jquery||(e=$(a)),d=cssH(e,b),e.css({height:d,visibility:"visible"}),d>0&&e.innerWidth()>0?c&&e.data("autoHidden")&&(e.show().data("autoHidden",!1),browser.mozilla||e.css(_c.hidden).css(_c.visible)):c&&!e.data("autoHidden")&&e.hide().data("autoHidden",!0)},_parseSize=function(a,b,c){if(c||(c=_c[a].dir),isStr(b)&&b.match(/%/)&&(b="100%"===b?-1:parseInt(b,10)/100),0===b)return 0;if(b>=1)return parseInt(b,10);var d=options,e=0;if("horz"==c?e=sC.innerHeight-($Ps.north?d.north.spacing_open:0)-($Ps.south?d.south.spacing_open:0):"vert"==c&&(e=sC.innerWidth-($Ps.west?d.west.spacing_open:0)-($Ps.east?d.east.spacing_open:0)),-1===b)return e;if(b>0)return round(e*b);if("center"==a)return 0;var f="horz"===c?"height":"width",g=$Ps[a],h="height"===f?$Cs[a]:!1,i=$.layout.showInvisibly(g),j=g.css(f),k=h?h.css(f):0;return g.css(f,"auto"),h&&h.css(f,"auto"),b="height"===f?g.outerHeight():g.outerWidth(),g.css(f,j).css(i),h&&h.css(f,k),b},getPaneSize=function(a,b){var c=$Ps[a],d=options[a],e=state[a],f=b?d.spacing_open:0,g=b?d.spacing_closed:0;return!c||e.isHidden?0:e.isClosed||e.isSliding&&b?g:"horz"===_c[a].dir?c.outerHeight()+f:c.outerWidth()+f},setSizeLimits=function(a,b){if(isInitialized()){var c=options[a],d=state[a],e=_c[a],f=e.dir,g=(e.sizeType.toLowerCase(),void 0!=b?b:d.isSliding),h=($Ps[a],c.spacing_open),i=_c.oppositeEdge[a],j=state[i],k=$Ps[i],l=!k||j.isVisible===!1||j.isSliding?0:"horz"==f?k.outerHeight():k.outerWidth(),m=(!k||j.isHidden?0:options[i][j.isClosed!==!1?"spacing_closed":"spacing_open"])||0,n="horz"==f?sC.innerHeight:sC.innerWidth,o=cssMinDims("center"),p="horz"==f?max(options.center.minHeight,o.minHeight):max(options.center.minWidth,o.minWidth),q=n-h-(g?0:_parseSize("center",p,f)+l+m),r=d.minSize=max(_parseSize(a,c.minSize),cssMinDims(a).minSize),s=d.maxSize=min(c.maxSize?_parseSize(a,c.maxSize):1e5,q),t=d.resizerPosition={},u=sC.inset.top,v=sC.inset.left,w=sC.innerWidth,x=sC.innerHeight,y=c.spacing_open;switch(a){case"north":t.min=u+r,t.max=u+s;break;case"west":t.min=v+r,t.max=v+s;break;case"south":t.min=u+x-s-y,t.max=u+x-r-y;break;case"east":t.min=v+w-s-y,t.max=v+w-r-y}}},calcNewCenterPaneDims=function(){var a={top:getPaneSize("north",!0),bottom:getPaneSize("south",!0),left:getPaneSize("west",!0),right:getPaneSize("east",!0),width:0,height:0};return a.width=sC.innerWidth-a.left-a.right,a.height=sC.innerHeight-a.bottom-a.top,a.top+=sC.inset.top,a.bottom+=sC.inset.bottom,a.left+=sC.inset.left,a.right+=sC.inset.right,a},getHoverClasses=function(a,b){var c=$(a),d=c.data("layoutRole"),e=c.data("layoutEdge"),f=options[e],g=f[d+"Class"],h="-"+e,i="-open",j="-closed",k="-sliding",l="-hover ",m=c.hasClass(g+j)?j:i,n=m===j?i:j,o=g+l+(g+h+l)+(g+m+l)+(g+h+m+l);return b&&(o+=g+n+l+(g+h+n+l)),"resizer"==d&&c.hasClass(g+k)&&(o+=g+k+l+(g+h+k+l)),$.trim(o)},addHover=function(a,b){var c=$(b||this);a&&"toggler"===c.data("layoutRole")&&a.stopPropagation(),c.addClass(getHoverClasses(c))},removeHover=function(a,b){var c=$(b||this);c.removeClass(getHoverClasses(c,!0))},onResizerEnter=function(){var a=$(this).data("layoutEdge"),b=state[a];b.isClosed||b.isResizing||state.paneResizing||($.fn.disableSelection&&$("body").disableSelection(),options.maskPanesEarly&&showMasks(a,{resizing:!0}))},onResizerLeave=function(a,b){var c=b||this,d=$(c).data("layoutEdge"),e=d+"ResizerLeave";timer.clear(d+"_openSlider"),timer.clear(e),b?state.paneResizing||($.fn.enableSelection&&$("body").enableSelection(),options.maskPanesEarly&&hideMasks()):timer.set(e,function(){onResizerLeave(a,c)},200)},_create=function(){initOptions();var a=options,b=state;return b.creatingLayout=!0,runPluginCallbacks(Instance,$.layout.onCreate),!1===_runCallbacks("onload_start")?"cancel":(_initContainer(),initHotkeys(),$(window).bind("unload."+sID,unload),runPluginCallbacks(Instance,$.layout.onLoad),a.initPanes&&_initLayoutElements(),delete b.creatingLayout,state.initialized)},isInitialized=function(){return state.initialized||state.creatingLayout?!0:_initLayoutElements()},_initLayoutElements=function(a){var b=options;if(!$N.is(":visible"))return!a&&browser.webkit&&"BODY"===$N[0].tagName&&setTimeout(function(){_initLayoutElements(!0)},50),!1;if(!getPane("center").length)return _log(b.errors.centerPaneMissing);if(state.creatingLayout=!0,$.extend(sC,elDims($N,b.inset)),initPanes(),b.scrollToBookmarkOnLoad){var c=self.location;c.hash&&c.replace(c.hash)}return Instance.hasParentLayout?b.resizeWithWindow=!1:b.resizeWithWindow&&$(window).bind("resize."+sID,windowResize),delete state.creatingLayout,state.initialized=!0,runPluginCallbacks(Instance,$.layout.onReady),_runCallbacks("onload_end"),!0},createChildren=function(a,b){var c=evtPane.call(this,a),d=$Ps[c];if(d){var e=$Cs[c],f=state[c],g=options[c],h=options.stateManagement||{},i=b?g.children=b:g.children;if($.isPlainObject(i))i=[i];else if(!i||!$.isArray(i))return;$.each(i,function(a,b){if($.isPlainObject(b)){var g=b.containerSelector?d.find(b.containerSelector):e||d;g.each(function(){var a=$(this),d=a.data("layout");if(!d){if(setInstanceKey({container:a,options:b},f),h.includeChildren&&state.stateData[c]){var e=state.stateData[c].children||{},g=e[b.instanceKey],i=b.stateManagement||(b.stateManagement={autoLoad:!0});i.autoLoad===!0&&g&&(i.autoSave=!1,i.includeChildren=!0,i.autoLoad=$.extend(!0,{},g))}d=a.layout(b),d&&refreshChildren(c,d)}})}})}},setInstanceKey=function(a,b){var c=a.container,d=a.options,e=d.stateManagement,f=d.instanceKey||c.data("layoutInstanceKey");return f||(f=(e&&e.cookie?e.cookie.name:"")||d.name),f=f?f.replace(/[^\w-]/gi,"_").replace(/_{2,}/g,"_"):"layout"+ ++b.childIdx,d.instanceKey=f,c.data("layoutInstanceKey",f),f},refreshChildren=function(a,b){var c,d=$Ps[a],e=children[a],f=state[a];$.isPlainObject(e)&&($.each(e,function(a,b){b.destroyed&&delete e[a]}),$.isEmptyObject(e)&&(e=children[a]=null)),b||e||(b=d.data("layout")),b&&(b.hasParentLayout=!0,c=b.options,setInstanceKey(b,f),e||(e=children[a]={}),e[c.instanceKey]=b.container.data("layout")),Instance[a].children=children[a],b||createChildren(a)},windowResize=function(){var a=options,b=Number(a.resizeWithWindowDelay);10>b&&(b=100),timer.clear("winResize"),timer.set("winResize",function(){timer.clear("winResize"),timer.clear("winResizeRepeater");var b=elDims($N,a.inset);(b.innerWidth!==sC.innerWidth||b.innerHeight!==sC.innerHeight)&&resizeAll()},b),timer.data.winResizeRepeater||setWindowResizeRepeater()},setWindowResizeRepeater=function(){var a=Number(options.resizeWithWindowMaxDelay);a>0&&timer.set("winResizeRepeater",function(){setWindowResizeRepeater(),resizeAll()},a)},unload=function(){_runCallbacks("onunload_start"),runPluginCallbacks(Instance,$.layout.onUnload),_runCallbacks("onunload_end")},_initContainer=function(){var a,b,c=$N[0],d=$("html"),e=sC.tagName=c.tagName,f=sC.id=c.id,g=sC.className=c.className,h=options,i=h.name,j="position,margin,padding,border",k="layoutCSS",l={},m="hidden",n=$N.data("parentLayout"),o=$N.data("layoutEdge"),p=n&&o,q=$.layout.cssNum;sC.selector=$N.selector.split(".slice")[0],sC.ref=(h.name?h.name+" layout / ":"")+e+(f?"#"+f:g?".["+g+"]":""),sC.isBody="BODY"===e,p||sC.isBody||(a=$N.closest("."+$.layout.defaults.panes.paneClass),n=a.data("parentLayout"),o=a.data("layoutEdge"),p=n&&o),$N.data({layout:Instance,layoutContainer:sID}).addClass(h.containerClass);var r={destroy:"",initPanes:"",resizeAll:"resizeAll",resize:"resizeAll"};for(i in r)$N.bind("layout"+i.toLowerCase()+"."+sID,Instance[r[i]||i]);p&&(Instance.hasParentLayout=!0,n.refreshChildren(o,Instance)),$N.data(k)||(sC.isBody?($N.data(k,$.extend(styles($N,j),{height:$N.css("height"),overflow:$N.css("overflow"),overflowX:$N.css("overflowX"),overflowY:$N.css("overflowY")})),d.data(k,$.extend(styles(d,"padding"),{height:"auto",overflow:d.css("overflow"),overflowX:d.css("overflowX"),overflowY:d.css("overflowY")}))):$N.data(k,styles($N,j+",top,bottom,left,right,width,height,overflow,overflowX,overflowY")));try{if(l={overflow:m,overflowX:m,overflowY:m},$N.css(l),h.inset&&!$.isPlainObject(h.inset)&&(b=parseInt(h.inset,10)||0,h.inset={top:b,bottom:b,left:b,right:b}),sC.isBody)h.outset?$.isPlainObject(h.outset)||(b=parseInt(h.outset,10)||0,h.outset={top:b,bottom:b,left:b,right:b}):h.outset={top:q(d,"paddingTop"),bottom:q(d,"paddingBottom"),left:q(d,"paddingLeft"),right:q(d,"paddingRight")},d.css(l).css({height:"100%",border:"none",padding:0,margin:0}),browser.isIE6?($N.css({width:"100%",height:"100%",border:"none",padding:0,margin:0,position:"relative"}),h.inset||(h.inset=elDims($N).inset)):($N.css({width:"auto",height:"auto",margin:0,position:"absolute"}),$N.css(h.outset)),$.extend(sC,elDims($N,h.inset));else{var s=$N.css("position");s&&s.match(/(fixed|absolute|relative)/)||$N.css("position","relative"),$N.is(":visible")&&($.extend(sC,elDims($N,h.inset)),sC.innerHeight<1&&_log(h.errors.noContainerHeight.replace(/CONTAINER/,sC.ref)))}q($N,"minWidth")&&$N.parent().css("overflowX","auto"),q($N,"minHeight")&&$N.parent().css("overflowY","auto")}catch(t){}},initHotkeys=function(a){a=a?a.split(","):_c.borderPanes,$.each(a,function(a,b){var c=options[b];return c.enableCursorHotkey||c.customHotkey?($(document).bind("keydown."+sID,keyDown),!1):void 0})},initOptions=function(){function a(a){var b=options[a],c=options.panes;b.fxSettings||(b.fxSettings={}),c.fxSettings||(c.fxSettings={}),$.each(["_open","_close","_size"],function(d,e){var f="fxName"+e,g="fxSpeed"+e,h="fxSettings"+e,i=b[f]=b[f]||c[f]||b.fxName||c.fxName||"none",j=$.effects&&($.effects[i]||$.effects.effect&&$.effects.effect[i]);"none"!==i&&options.effects[i]&&j||(i=b[f]="none");var k=options.effects[i]||{},l=k.all||null,m=k[a]||null;b[g]=b[g]||c[g]||b.fxSpeed||c.fxSpeed||null,b[h]=$.extend(!0,{},l,m,c.fxSettings,b.fxSettings,c[h],b[h])}),delete b.fxName,delete b.fxSpeed,delete b.fxSettings}var b,c,d,e,f,g,h;if(opts=$.layout.transformData(opts,!0),opts=$.layout.backwardCompatibility.renameAllOptions(opts),!$.isEmptyObject(opts.panes)){for(b=$.layout.optionsMap.noDefault,f=0,g=b.length;g>f;f++)d=b[f],delete opts.panes[d];for(b=$.layout.optionsMap.layout,f=0,g=b.length;g>f;f++)d=b[f],delete opts.panes[d]}b=$.layout.optionsMap.layout;var i=$.layout.config.optionRootKeys;for(d in opts)e=opts[d],$.inArray(d,i)<0&&$.inArray(d,b)<0&&(opts.panes[d]||(opts.panes[d]=$.isPlainObject(e)?$.extend(!0,{},e):e),delete opts[d]);$.extend(!0,options,opts),$.each(_c.allPanes,function(e,f){if(_c[f]=$.extend(!0,{},_c.panes,_c[f]),c=options.panes,h=options[f],"center"===f)for(b=$.layout.optionsMap.center,e=0,g=b.length;g>e;e++)d=b[e],opts.center[d]||!opts.panes[d]&&h[d]||(h[d]=c[d]);else h=options[f]=$.extend(!0,{},c,h),a(f),h.resizerClass||(h.resizerClass="ui-layout-resizer"),h.togglerClass||(h.togglerClass="ui-layout-toggler");h.paneClass||(h.paneClass="ui-layout-pane")});var j=opts.zIndex,k=options.zIndexes;j>0&&(k.pane_normal=j,k.content_mask=max(j+1,k.content_mask),k.resizer_normal=max(j+2,k.resizer_normal)),delete options.panes},getPane=function(a){var b=options[a].paneSelector;if("#"===b.substr(0,1))return $N.find(b).eq(0);var c=$N.children(b).eq(0);return c.length?c:$N.children("form:first").children(b).eq(0)},initPanes=function(a){evtPane(a),$.each(_c.allPanes,function(a,b){addPane(b,!0)}),initHandles(),$.each(_c.borderPanes,function(a,b){$Ps[b]&&state[b].isVisible&&(setSizeLimits(b),makePaneFit(b))}),sizeMidPanes("center"),$.each(_c.allPanes,function(a,b){afterInitPane(b)})},addPane=function(a,b){if(b||isInitialized()){var c,d,e,f=options[a],g=state[a],h=_c[a],i=h.dir,j=(g.fx,f.spacing_open||0,"center"===a),k={},l=$Ps[a];if(l?removePane(a,!1,!0,!1):$Cs[a]=!1,l=$Ps[a]=getPane(a),!l.length)return void($Ps[a]=!1);if(!l.data("layoutCSS")){var m="position,top,left,bottom,right,width,height,overflow,zIndex,display,backgroundColor,padding,margin,border";l.data("layoutCSS",styles(l,m))}Instance[a]={name:a,pane:$Ps[a],content:$Cs[a],options:options[a],state:state[a],children:children[a]},l.data({parentLayout:Instance,layoutPane:Instance[a],layoutEdge:a,layoutRole:"pane"}).css(h.cssReq).css("zIndex",options.zIndexes.pane_normal).css(f.applyDemoStyles?h.cssDemo:{}).addClass(f.paneClass+" "+f.paneClass+"-"+a).bind("mouseenter."+sID,addHover).bind("mouseleave."+sID,removeHover);var n,o={hide:"",show:"",toggle:"",close:"",open:"",slideOpen:"",slideClose:"",slideToggle:"",size:"sizePane",sizePane:"sizePane",sizeContent:"",sizeHandles:"",enableClosable:"",disableClosable:"",enableSlideable:"",disableSlideable:"",enableResizable:"",disableResizable:"",swapPanes:"swapPanes",swap:"swapPanes",move:"swapPanes",removePane:"removePane",remove:"removePane",createChildren:"",resizeChildren:"",resizeAll:"resizeAll",resizeLayout:"resizeAll"};for(n in o)l.bind("layoutpane"+n.toLowerCase()+"."+sID,Instance[o[n]||n]);initContent(a,!1),j||(c=g.size=_parseSize(a,f.size),d=_parseSize(a,f.minSize)||1,e=_parseSize(a,f.maxSize)||1e5,c>0&&(c=max(min(c,e),d)),g.autoResize=f.autoResize,g.isClosed=!1,g.isSliding=!1,g.isResizing=!1,g.isHidden=!1,g.pins||(g.pins=[])),g.tagName=l[0].tagName,g.edge=a,g.noRoom=!1,g.isVisible=!0,setPanePosition(a),"horz"===i?k.height=cssH(l,c):"vert"===i&&(k.width=cssW(l,c)),l.css(k),"horz"!=i&&sizeMidPanes(a,!0),state.initialized&&(initHandles(a),initHotkeys(a)),f.initClosed&&f.closable&&!f.initHidden?close(a,!0,!0):f.initHidden||f.initClosed?hide(a):g.noRoom||l.css("display","block"),l.css("visibility","visible"),f.showOverflowOnHover&&l.hover(allowOverflow,resetOverflow),state.initialized&&afterInitPane(a)}},afterInitPane=function(a){var b=$Ps[a],c=state[a],d=options[a];b&&(b.data("layout")&&refreshChildren(a,b.data("layout")),c.isVisible&&(state.initialized?resizeAll():sizeContent(a),d.triggerEventsOnLoad?_runCallbacks("onresize_end",a):resizeChildren(a,!0)),d.initChildren&&d.children&&createChildren(a))},setPanePosition=function(a){a=a?a.split(","):_c.borderPanes,$.each(a,function(a,b){var c=$Ps[b],d=$Rs[b],e=(options[b],state[b]),f=_c[b].side,g={};if(c){switch(b){case"north":g.top=sC.inset.top,g.left=sC.inset.left,g.right=sC.inset.right;break;case"south":g.bottom=sC.inset.bottom,g.left=sC.inset.left,g.right=sC.inset.right;break;case"west":g.left=sC.inset.left;break;case"east":g.right=sC.inset.right;break;case"center":}c.css(g),d&&e.isClosed?d.css(f,sC.inset[f]):d&&!e.isHidden&&d.css(f,sC.inset[f]+getPaneSize(b))}})},initHandles=function(a){a=a?a.split(","):_c.borderPanes,$.each(a,function(a,b){var c=$Ps[b];if($Rs[b]=!1,$Ts[b]=!1,c){var d=options[b],e=state[b],f=(_c[b],"#"===d.paneSelector.substr(0,1)?d.paneSelector.substr(1):""),g=d.resizerClass,h=d.togglerClass,i=(e.isVisible?d.spacing_open:d.spacing_closed,"-"+b),j=(e.isVisible?"-open":"-closed",Instance[b]),k=j.resizer=$Rs[b]=$("<div></div>"),l=j.toggler=d.closable?$Ts[b]=$("<div></div>"):!1;!e.isVisible&&d.slidable&&k.attr("title",d.tips.Slide).css("cursor",d.sliderCursor),k.attr("id",f?f+"-resizer":"").data({parentLayout:Instance,layoutPane:Instance[b],layoutEdge:b,layoutRole:"resizer"}).css(_c.resizers.cssReq).css("zIndex",options.zIndexes.resizer_normal).css(d.applyDemoStyles?_c.resizers.cssDemo:{}).addClass(g+" "+g+i).hover(addHover,removeHover).hover(onResizerEnter,onResizerLeave).appendTo($N),d.resizerDblClickToggle&&k.bind("dblclick."+sID,toggle),l&&(l.attr("id",f?f+"-toggler":"").data({parentLayout:Instance,layoutPane:Instance[b],layoutEdge:b,layoutRole:"toggler"}).css(_c.togglers.cssReq).css(d.applyDemoStyles?_c.togglers.cssDemo:{}).addClass(h+" "+h+i).hover(addHover,removeHover).bind("mouseenter",onResizerEnter).appendTo(k),d.togglerContent_open&&$("<span>"+d.togglerContent_open+"</span>").data({layoutEdge:b,layoutRole:"togglerContent"}).data("layoutRole","togglerContent").data("layoutEdge",b).addClass("content content-open").css("display","none").appendTo(l),d.togglerContent_closed&&$("<span>"+d.togglerContent_closed+"</span>").data({layoutEdge:b,layoutRole:"togglerContent"}).addClass("content content-closed").css("display","none").appendTo(l),enableClosable(b)),initResizable(b),e.isVisible?setAsOpen(b):(setAsClosed(b),bindStartSlidingEvents(b,!0))}}),sizeHandles()},initContent=function(a,b){if(isInitialized()){var c,d=options[a],e=d.contentSelector,f=Instance[a],g=$Ps[a];e&&(c=f.content=$Cs[a]=d.findNestedContent?g.find(e).eq(0):g.children(e).eq(0)),c&&c.length?(c.data("layoutRole","content"),c.data("layoutCSS")||c.data("layoutCSS",styles(c,"height")),c.css(_c.content.cssReq),d.applyDemoStyles&&(c.css(_c.content.cssDemo),g.css(_c.content.cssDemoPane)),g.css("overflowX").match(/(scroll|auto)/)&&g.css("overflow","hidden"),state[a].content={},b!==!1&&sizeContent(a)):f.content=$Cs[a]=!1}},initResizable=function(a){var b=$.layout.plugins.draggable;a=a?a.split(","):_c.borderPanes,$.each(a,function(a,d){var e=options[d];if(!b||!$Ps[d]||!e.resizable)return e.resizable=!1,!0;var f,g,h=state[d],i=options.zIndexes,j=_c[d],k="horz"==j.dir?"top":"left",l=($Ps[d],$Rs[d]),m=e.resizerClass,n=0,o=m+"-drag",p=m+"-"+d+"-drag",q=m+"-dragging",r=m+"-"+d+"-dragging",s=m+"-dragging-limit",t=m+"-"+d+"-dragging-limit",u=!1;h.isClosed||l.attr("title",e.tips.Resize).css("cursor",e.resizerCursor),l.draggable({containment:$N[0],axis:"horz"==j.dir?"y":"x",delay:0,distance:1,grid:e.resizingGrid,helper:"clone",opacity:e.resizerDragOpacity,addClasses:!1,zIndex:i.resizer_drag,start:function(a,b){return e=options[d],h=state[d],g=e.livePaneResizing,!1===_runCallbacks("ondrag_start",d)?!1:(h.isResizing=!0,state.paneResizing=d,timer.clear(d+"_closeSlider"),setSizeLimits(d),f=h.resizerPosition,n=b.position[k],l.addClass(o+" "+p),u=!1,$("body").disableSelection(),void showMasks(d,{resizing:!0}))},drag:function(a,b){u||(b.helper.addClass(q+" "+r).css({right:"auto",bottom:"auto"}).children().css("visibility","hidden"),u=!0,h.isSliding&&$Ps[d].css("zIndex",i.pane_sliding));var j=0;b.position[k]<f.min?(b.position[k]=f.min,j=-1):b.position[k]>f.max&&(b.position[k]=f.max,j=1),j?(b.helper.addClass(s+" "+t),window.defaultStatus=j>0&&d.match(/(north|west)/)||0>j&&d.match(/(south|east)/)?e.tips.maxSizeWarning:e.tips.minSizeWarning):(b.helper.removeClass(s+" "+t),window.defaultStatus=""),g&&Math.abs(b.position[k]-n)>=e.liveResizingTolerance&&(n=b.position[k],c(a,b,d))},stop:function(a,b){$("body").enableSelection(),window.defaultStatus="",l.removeClass(o+" "+p),h.isResizing=!1,state.paneResizing=!1,c(a,b,d,!0)}})});var c=function(a,b,c,d){var e,f=b.position,g=_c[c],h=options[c],i=state[c];switch(c){case"north":e=f.top;break;case"west":e=f.left;break;case"south":e=sC.layoutHeight-f.top-h.spacing_open;break;case"east":e=sC.layoutWidth-f.left-h.spacing_open}var j=e-sC.inset[g.side];if(d)!1!==_runCallbacks("ondrag_end",c)&&manualSizePane(c,j,!1,!0),hideMasks(!0),i.isSliding&&showMasks(c,{resizing:!0});else{if(Math.abs(j-i.size)<h.liveResizingTolerance)return;manualSizePane(c,j,!1,!0),sizeMasks()}}},sizeMask=function(){var a=$(this),b=a.data("layoutMask"),c=state[b];"IFRAME"==c.tagName&&c.isVisible&&a.css({top:c.offsetTop,left:c.offsetLeft,width:c.outerWidth,height:c.outerHeight})},sizeMasks=function(){$Ms.each(sizeMask)},showMasks=function(a,b){var c,d,e=_c[a],f=["center"],g=options.zIndexes,h=$.extend({objectsOnly:!1,animation:!1,resizing:!0,sliding:state[a].isSliding},b);h.resizing&&f.push(a),h.sliding&&f.push(_c.oppositeEdge[a]),"horz"===e.dir&&(f.push("west"),f.push("east")),$.each(f,function(a,b){d=state[b],c=options[b],d.isVisible&&(c.maskObjects||!h.objectsOnly&&c.maskContents)&&getMasks(b).each(function(){sizeMask.call(this),this.style.zIndex=d.isSliding?g.pane_sliding+1:g.pane_normal+1,this.style.display="block"})})},hideMasks=function(a){if(a||!state.paneResizing)$Ms.hide();else if(!a&&!$.isEmptyObject(state.panesSliding))for(var b,c,d=$Ms.length-1;d>=0;d--)c=$Ms.eq(d),b=c.data("layoutMask"),options[b].maskObjects||c.hide()},getMasks=function(a){for(var b,c=$([]),d=0,e=$Ms.length;e>d;d++)b=$Ms.eq(d),b.data("layoutMask")===a&&(c=c.add(b));return c.length?c:createMasks(a)},createMasks=function(a){var b,c,d,e,f,g=$Ps[a],h=state[a],i=options[a],j=options.zIndexes,k=$([]);if(!i.maskContents&&!i.maskObjects)return k;for(f=0;f<(i.maskObjects?2:1);f++)b=i.maskObjects&&0==f,c=document.createElement(b?"iframe":"div"),d=$(c).data("layoutMask",a),c.className="ui-layout-mask ui-layout-mask-"+a,e=c.style,e.display="block",e.position="absolute",e.background="#FFF",b&&(c.frameborder=0,c.src="about:blank",e.opacity=0,e.filter="Alpha(Opacity='0')",e.border=0),"IFRAME"==h.tagName?(e.zIndex=j.pane_normal+1,$N.append(c)):(d.addClass("ui-layout-mask-inside-pane"),e.zIndex=i.maskZindex||j.content_mask,e.top=0,e.left=0,e.width="100%",e.height="100%",g.append(c)),k=k.add(c),$Ms=$Ms.add(c);return k},destroy=function(a,b){$(window).unbind("."+sID),$(document).unbind("."+sID),"object"==typeof a?evtPane(a):b=a,$N.clearQueue().removeData("layout").removeData("layoutContainer").removeClass(options.containerClass).unbind("."+sID),$Ms.remove(),$.each(_c.allPanes,function(a,c){removePane(c,!1,!0,b)});var c="layoutCSS";$N.data(c)&&!$N.data("layoutRole")&&$N.css($N.data(c)).removeData(c),"BODY"===sC.tagName&&($N=$("html")).data(c)&&$N.css($N.data(c)).removeData(c),runPluginCallbacks(Instance,$.layout.onDestroy),unload();
for(var d in Instance)d.match(/^(container|options)$/)||delete Instance[d];return Instance.destroyed=!0,Instance},removePane=function(a,b,c,d){if(isInitialized()){var e=evtPane.call(this,a),f=$Ps[e],g=$Cs[e],h=$Rs[e],i=$Ts[e];f&&$.isEmptyObject(f.data())&&(f=!1),g&&$.isEmptyObject(g.data())&&(g=!1),h&&$.isEmptyObject(h.data())&&(h=!1),i&&$.isEmptyObject(i.data())&&(i=!1),f&&f.stop(!0,!0);var j=options[e],k=state[e],l="layout",m="layoutCSS",n=children[e],o=$.isPlainObject(n)&&!$.isEmptyObject(n),p=void 0!==d?d:j.destroyChildren;if(o&&p&&($.each(n,function(a,b){b.destroyed||b.destroy(!0),b.destroyed&&delete n[a]}),$.isEmptyObject(n)&&(n=children[e]=null,o=!1)),f&&b&&!o)f.remove();else if(f&&f[0]){var q=j.paneClass,r=q+"-"+e,s="-open",t="-sliding",u="-closed",v=[q,q+s,q+u,q+t,r,r+s,r+u,r+t];$.merge(v,getHoverClasses(f,!0)),f.removeClass(v.join(" ")).removeData("parentLayout").removeData("layoutPane").removeData("layoutRole").removeData("layoutEdge").removeData("autoHidden").unbind("."+sID),o&&g?(g.width(g.width()),$.each(n,function(a,b){b.resizeAll()})):g&&g.css(g.data(m)).removeData(m).removeData("layoutRole"),f.data(l)||f.css(f.data(m)).removeData(m)}i&&i.remove(),h&&h.remove(),Instance[e]=$Ps[e]=$Cs[e]=$Rs[e]=$Ts[e]=!1,k={removed:!0},c||resizeAll()}},_hidePane=function(a){var b=$Ps[a],c=options[a],d=b[0].style;c.useOffscreenClose?(b.data(_c.offscreenReset)||b.data(_c.offscreenReset,{left:d.left,right:d.right}),b.css(_c.offscreenCSS)):b.hide().removeData(_c.offscreenReset)},_showPane=function(a){var b=$Ps[a],c=options[a],d=_c.offscreenCSS,e=b.data(_c.offscreenReset),f=b[0].style;b.show().removeData(_c.offscreenReset),c.useOffscreenClose&&e&&(f.left==d.left&&(f.left=e.left),f.right==d.right&&(f.right=e.right))},hide=function(a,b){if(isInitialized()){var c=evtPane.call(this,a),d=options[c],e=state[c],f=$Ps[c],g=$Rs[c];f&&!e.isHidden&&(state.initialized&&!1===_runCallbacks("onhide_start",c)||(e.isSliding=!1,delete state.panesSliding[c],g&&g.hide(),!state.initialized||e.isClosed?(e.isClosed=!0,e.isHidden=!0,e.isVisible=!1,state.initialized||_hidePane(c),sizeMidPanes("horz"===_c[c].dir?"":"center"),(state.initialized||d.triggerEventsOnLoad)&&_runCallbacks("onhide_end",c)):(e.isHiding=!0,close(c,!1,b))))}},show=function(a,b,c,d){if(isInitialized()){{var e=evtPane.call(this,a),f=(options[e],state[e]),g=$Ps[e];$Rs[e]}g&&f.isHidden&&!1!==_runCallbacks("onshow_start",e)&&(f.isShowing=!0,f.isSliding=!1,delete state.panesSliding[e],b===!1?close(e,!0):open(e,!1,c,d))}},toggle=function(a,b){if(isInitialized()){var c=evtObj(a),d=evtPane.call(this,a),e=state[d];c&&c.stopImmediatePropagation(),e.isHidden?show(d):e.isClosed?open(d,!!b):close(d)}},_closePane=function(a,b){var c=($Ps[a],state[a]);_hidePane(a),c.isClosed=!0,c.isVisible=!1,b&&setAsClosed(a)},close=function(a,b,c,d){function e(){m.isMoving=!1,bindStartSlidingEvents(f,!0);var a=_c.oppositeEdge[f];state[a].noRoom&&(setSizeLimits(a),makePaneFit(a)),d||!state.initialized&&!l.triggerEventsOnLoad||(h||_runCallbacks("onclose_end",f),h&&_runCallbacks("onshow_end",f),i&&_runCallbacks("onhide_end",f))}var f=evtPane.call(this,a);if(!state.initialized&&$Ps[f])return void _closePane(f,!0);if(isInitialized()){{var g,h,i,j,k=$Ps[f],l=($Rs[f],$Ts[f],options[f]),m=state[f];_c[f]}$N.queue(function(a){if(!k||!l.closable&&!m.isShowing&&!m.isHiding||!b&&m.isClosed&&!m.isShowing)return a();var d=!m.isShowing&&!1===_runCallbacks("onclose_start",f);return h=m.isShowing,i=m.isHiding,j=m.isSliding,delete m.isShowing,delete m.isHiding,d?a():(g=!c&&!m.isClosed&&"none"!=l.fxName_close,m.isMoving=!0,m.isClosed=!0,m.isVisible=!1,i?m.isHidden=!0:h&&(m.isHidden=!1),m.isSliding?bindStopSlidingEvents(f,!1):sizeMidPanes("horz"===_c[f].dir?"":"center",!1),setAsClosed(f),void(g?(lockPaneForFX(f,!0),k.hide(l.fxName_close,l.fxSettings_close,l.fxSpeed_close,function(){lockPaneForFX(f,!1),m.isClosed&&e(),a()})):(_hidePane(f),e(),a())))})}},setAsClosed=function(a){if($Rs[a]){var b=($Ps[a],$Rs[a]),c=$Ts[a],d=options[a],e=(state[a],_c[a].side),f=d.resizerClass,g=d.togglerClass,h="-"+a,i="-open",j="-sliding",k="-closed";b.css(e,sC.inset[e]).removeClass(f+i+" "+f+h+i).removeClass(f+j+" "+f+h+j).addClass(f+k+" "+f+h+k),d.resizable&&$.layout.plugins.draggable&&b.draggable("disable").removeClass("ui-state-disabled").css("cursor","default").attr("title",""),c&&(c.removeClass(g+i+" "+g+h+i).addClass(g+k+" "+g+h+k).attr("title",d.tips.Open),c.children(".content-open").hide(),c.children(".content-closed").css("display","block")),syncPinBtns(a,!1),state.initialized&&sizeHandles()}},open=function(a,b,c,d){function e(){k.isMoving=!1,_fixIframe(h),k.isSliding||sizeMidPanes("vert"==_c[h].dir?"center":"",!1),setAsOpen(h)}if(isInitialized()){{var f,g,h=evtPane.call(this,a),i=$Ps[h],j=($Rs[h],$Ts[h],options[h]),k=state[h];_c[h]}$N.queue(function(a){if(!i||!j.resizable&&!j.closable&&!k.isShowing||k.isVisible&&!k.isSliding)return a();if(k.isHidden&&!k.isShowing)return a(),void show(h,!0);k.autoResize&&k.size!=j.size?sizePane(h,j.size,!0,!0,!0):setSizeLimits(h,b);var l=_runCallbacks("onopen_start",h);return"abort"===l?a():("NC"!==l&&setSizeLimits(h,b),k.minSize>k.maxSize?(syncPinBtns(h,!1),!d&&j.tips.noRoomToOpen&&alert(j.tips.noRoomToOpen),a()):(b?bindStopSlidingEvents(h,!0):k.isSliding?bindStopSlidingEvents(h,!1):j.slidable&&bindStartSlidingEvents(h,!1),k.noRoom=!1,makePaneFit(h),g=k.isShowing,delete k.isShowing,f=!c&&k.isClosed&&"none"!=j.fxName_open,k.isMoving=!0,k.isVisible=!0,k.isClosed=!1,g&&(k.isHidden=!1),void(f?(lockPaneForFX(h,!0),i.show(j.fxName_open,j.fxSettings_open,j.fxSpeed_open,function(){lockPaneForFX(h,!1),k.isVisible&&e(),a()})):(_showPane(h),e(),a()))))})}},setAsOpen=function(a,b){var c=$Ps[a],d=$Rs[a],e=$Ts[a],f=options[a],g=state[a],h=_c[a].side,i=f.resizerClass,j=f.togglerClass,k="-"+a,l="-open",m="-closed",n="-sliding";d.css(h,sC.inset[h]+getPaneSize(a)).removeClass(i+m+" "+i+k+m).addClass(i+l+" "+i+k+l),g.isSliding?d.addClass(i+n+" "+i+k+n):d.removeClass(i+n+" "+i+k+n),removeHover(0,d),f.resizable&&$.layout.plugins.draggable?d.draggable("enable").css("cursor",f.resizerCursor).attr("title",f.tips.Resize):g.isSliding||d.css("cursor","default"),e&&(e.removeClass(j+m+" "+j+k+m).addClass(j+l+" "+j+k+l).attr("title",f.tips.Close),removeHover(0,e),e.children(".content-closed").hide(),e.children(".content-open").css("display","block")),syncPinBtns(a,!g.isSliding),$.extend(g,elDims(c)),state.initialized&&(sizeHandles(),sizeContent(a,!0)),!b&&(state.initialized||f.triggerEventsOnLoad)&&c.is(":visible")&&(_runCallbacks("onopen_end",a),g.isShowing&&_runCallbacks("onshow_end",a),state.initialized&&_runCallbacks("onresize_end",a))},slideOpen=function(a){function b(){e.isClosed?e.isMoving||open(d,!0):bindStopSlidingEvents(d,!0)}if(isInitialized()){var c=evtObj(a),d=evtPane.call(this,a),e=state[d],f=options[d].slideDelay_open;c&&c.stopImmediatePropagation(),e.isClosed&&c&&"mouseenter"===c.type&&f>0?timer.set(d+"_openSlider",b,f):b()}},slideClose=function(a){function b(){f.isClosed?bindStopSlidingEvents(d,!1):f.isMoving||close(d)}if(isInitialized()){var c=evtObj(a),d=evtPane.call(this,a),e=options[d],f=state[d],g=f.isMoving?1e3:300;if(!f.isClosed&&!f.isResizing)if("click"===e.slideTrigger_close)b();else{if(e.preventQuickSlideClose&&f.isMoving)return;if(e.preventPrematureSlideClose&&c&&$.layout.isMouseOverElem(c,$Ps[d]))return;c?timer.set(d+"_closeSlider",b,max(e.slideDelay_close,g)):b()}}},slideToggle=function(a){var b=evtPane.call(this,a);toggle(b,!0)},lockPaneForFX=function(a,b){var c=$Ps[a],d=state[a],e=options[a],f=options.zIndexes;b?(showMasks(a,{animation:!0,objectsOnly:!0}),c.css({zIndex:f.pane_animate}),"south"==a?c.css({top:sC.inset.top+sC.innerHeight-c.outerHeight()}):"east"==a&&c.css({left:sC.inset.left+sC.innerWidth-c.outerWidth()})):(hideMasks(),c.css({zIndex:d.isSliding?f.pane_sliding:f.pane_normal}),"south"==a?c.css({top:"auto"}):"east"!=a||c.css("left").match(/\-99999/)||c.css({left:"auto"}),browser.msie&&e.fxOpacityFix&&"slide"!=e.fxName_open&&c.css("filter")&&1==c.css("opacity")&&c[0].style.removeAttribute("filter"))},bindStartSlidingEvents=function(a,b){var c=options[a],d=($Ps[a],$Rs[a]),e=c.slideTrigger_open.toLowerCase();!d||b&&!c.slidable||(e.match(/mouseover/)?e=c.slideTrigger_open="mouseenter":e.match(/(click|dblclick|mouseenter)/)||(e=c.slideTrigger_open="click"),c.resizerDblClickToggle&&e.match(/click/)&&d[b?"unbind":"bind"]("dblclick."+sID,toggle),d[b?"bind":"unbind"](e+"."+sID,slideOpen).css("cursor",b?c.sliderCursor:"default").attr("title",b?c.tips.Slide:""))},bindStopSlidingEvents=function(a,b){function c(b){timer.clear(a+"_closeSlider"),b.stopPropagation()}var d=options[a],e=state[a],f=(_c[a],options.zIndexes),g=d.slideTrigger_close.toLowerCase(),h=b?"bind":"unbind",i=$Ps[a],j=$Rs[a];timer.clear(a+"_closeSlider"),b?(e.isSliding=!0,state.panesSliding[a]=!0,bindStartSlidingEvents(a,!1)):(e.isSliding=!1,delete state.panesSliding[a]),i.css("zIndex",b?f.pane_sliding:f.pane_normal),j.css("zIndex",b?f.pane_sliding+2:f.resizer_normal),g.match(/(click|mouseleave)/)||(g=d.slideTrigger_close="mouseleave"),j[h](g,slideClose),"mouseleave"===g&&(i[h]("mouseleave."+sID,slideClose),j[h]("mouseenter."+sID,c),i[h]("mouseenter."+sID,c)),b?"click"!==g||d.resizable||(j.css("cursor",b?d.sliderCursor:"default"),j.attr("title",b?d.tips.Close:"")):timer.clear(a+"_closeSlider")},makePaneFit=function(a,b,c,d){var e=options[a],f=state[a],g=_c[a],h=$Ps[a],i=$Rs[a],j="vert"===g.dir,k=!1;if(("center"===a||j&&f.noVerticalRoom)&&(k=f.maxHeight>=0,k&&f.noRoom?(_showPane(a),i&&i.show(),f.isVisible=!0,f.noRoom=!1,j&&(f.noVerticalRoom=!1),_fixIframe(a)):k||f.noRoom||(_hidePane(a),i&&i.hide(),f.isVisible=!1,f.noRoom=!0)),"center"===a);else if(f.minSize<=f.maxSize){if(k=!0,f.size>f.maxSize)sizePane(a,f.maxSize,c,!0,d);else if(f.size<f.minSize)sizePane(a,f.minSize,c,!0,d);else if(i&&f.isVisible&&h.is(":visible")){var l=f.size+sC.inset[g.side];$.layout.cssNum(i,g.side)!=l&&i.css(g.side,l)}f.noRoom&&(f.wasOpen&&e.closable?e.autoReopen?open(a,!1,!0,!0):f.noRoom=!1:show(a,f.wasOpen,!0,!0))}else f.noRoom||(f.noRoom=!0,f.wasOpen=!f.isClosed&&!f.isSliding,f.isClosed||(e.closable?close(a,!0,!0):hide(a,!0)))},manualSizePane=function(a,b,c,d,e){if(isInitialized()){var f=evtPane.call(this,a),g=options[f],h=state[f],i=e||g.livePaneResizing&&!h.isResizing;h.autoResize=!1,sizePane(f,b,c,d,i)}},sizePane=function(a,b,c,d,e){function f(){for(var a="width"===o?l.outerWidth():l.outerHeight(),d=[{pane:i,count:1,target:b,actual:a,correct:b===a,attempt:b,cssSize:h}],f=d[0],j={},q="Inaccurate size after resizing the "+i+"-pane.";!(f.correct||(j={pane:i,count:f.count+1,target:b},j.attempt=f.actual>b?max(0,f.attempt-(f.actual-b)):max(0,f.attempt+(b-f.actual)),j.cssSize=cssSize(i,j.attempt),l.css(o,j.cssSize),j.actual="width"==o?l.outerWidth():l.outerHeight(),j.correct=b===j.actual,1===d.length&&(_log(q,!1,!0),_log(f,!1,!0)),_log(j,!1,!0),d.length>3));)d.push(j),f=d[d.length-1];k.size=b,$.extend(k,elDims(l)),k.isVisible&&l.is(":visible")&&(m&&m.css(n,b+sC.inset[n]),sizeContent(i)),!c&&!p&&state.initialized&&k.isVisible&&_runCallbacks("onresize_end",i),c||(k.isSliding||sizeMidPanes("horz"==_c[i].dir?"":"center",p,e),sizeHandles());var r=_c.oppositeEdge[i];g>b&&state[r].noRoom&&(setSizeLimits(r),makePaneFit(r,!1,c)),d.length>1&&_log(q+"\nSee the Error Console for details.",!0,!0)}if(isInitialized()){var g,h,i=evtPane.call(this,a),j=options[i],k=state[i],l=$Ps[i],m=$Rs[i],n=_c[i].side,o=_c[i].sizeType.toLowerCase(),p=k.isResizing&&!j.triggerEventsDuringLiveResize,q=d!==!0&&j.animatePaneSizing;$N.queue(function(a){if(setSizeLimits(i),g=k.size,b=_parseSize(i,b),b=max(b,_parseSize(i,j.minSize)),b=min(b,k.maxSize),b<k.minSize)return a(),void makePaneFit(i,!1,c);if(!e&&b===g)return a();if(k.newSize=b,!c&&state.initialized&&k.isVisible&&_runCallbacks("onresize_start",i),h=cssSize(i,b),q&&l.is(":visible")){var d=$.layout.effects.size[i]||$.layout.effects.size.all,m=j.fxSettings_size.easing||d.easing,n=options.zIndexes,p={};p[o]=h+"px",k.isMoving=!0,l.css({zIndex:n.pane_animate}).show().animate(p,j.fxSpeed_size,m,function(){l.css({zIndex:k.isSliding?n.pane_sliding:n.pane_normal}),k.isMoving=!1,delete k.newSize,f(),a()})}else l.css(o,h),delete k.newSize,l.is(":visible")?f():(k.size=b,$.extend(k,elDims(l))),a()})}},sizeMidPanes=function(a,b,c){a=(a?a:"east,west,center").split(","),$.each(a,function(a,d){if($Ps[d]){var e=options[d],f=state[d],g=$Ps[d],h=($Rs[d],!0),i={},j=$.layout.showInvisibly(g),k=calcNewCenterPaneDims();if($.extend(f,elDims(g)),"center"===d){if(!c&&f.isVisible&&k.width===f.outerWidth&&k.height===f.outerHeight)return g.css(j),!0;if($.extend(f,cssMinDims(d),{maxWidth:k.width,maxHeight:k.height}),i=k,f.newWidth=i.width,f.newHeight=i.height,i.width=cssW(g,i.width),i.height=cssH(g,i.height),h=i.width>=0&&i.height>=0,!state.initialized&&e.minWidth>k.width){var l=e.minWidth-f.outerWidth,m=options.east.minSize||0,n=options.west.minSize||0,o=state.east.size,p=state.west.size,q=o,r=p;if(l>0&&state.east.isVisible&&o>m&&(q=max(o-m,o-l),l-=o-q),l>0&&state.west.isVisible&&p>n&&(r=max(p-n,p-l),l-=p-r),0===l)return o&&o!=m&&sizePane("east",q,!0,!0,c),p&&p!=n&&sizePane("west",r,!0,!0,c),sizeMidPanes("center",b,c),void g.css(j)}}else{if(f.isVisible&&!f.noVerticalRoom&&$.extend(f,elDims(g),cssMinDims(d)),!c&&!f.noVerticalRoom&&k.height===f.outerHeight)return g.css(j),!0;i.top=k.top,i.bottom=k.bottom,f.newSize=k.height,i.height=cssH(g,k.height),f.maxHeight=i.height,h=f.maxHeight>=0,h||(f.noVerticalRoom=!0)}if(h?(!b&&state.initialized&&_runCallbacks("onresize_start",d),g.css(i),"center"!==d&&sizeHandles(d),!f.noRoom||f.isClosed||f.isHidden||makePaneFit(d),f.isVisible&&($.extend(f,elDims(g)),state.initialized&&sizeContent(d))):!f.noRoom&&f.isVisible&&makePaneFit(d),g.css(j),delete f.newSize,delete f.newWidth,delete f.newHeight,!f.isVisible)return!0;if("center"===d){var s=browser.isIE6||!browser.boxModel;$Ps.north&&(s||"IFRAME"==state.north.tagName)&&$Ps.north.css("width",cssW($Ps.north,sC.innerWidth)),$Ps.south&&(s||"IFRAME"==state.south.tagName)&&$Ps.south.css("width",cssW($Ps.south,sC.innerWidth))}!b&&state.initialized&&_runCallbacks("onresize_end",d)}})},resizeAll=function(a){var b=sC.innerWidth,c=sC.innerHeight;if(evtPane(a),$N.is(":visible")){if(!state.initialized)return void _initLayoutElements();if(a===!0&&$.isPlainObject(options.outset)&&$N.css(options.outset),$.extend(sC,elDims($N,options.inset)),sC.outerHeight){if(a===!0&&setPanePosition(),!1===_runCallbacks("onresizeall_start"))return!1;{var d,e,f;sC.innerHeight<c,sC.innerWidth<b}$.each(["south","north","east","west"],function(a,b){$Ps[b]&&(e=options[b],f=state[b],f.autoResize&&f.size!=e.size?sizePane(b,e.size,!0,!0,!0):(setSizeLimits(b),makePaneFit(b,!1,!0,!0)))}),sizeMidPanes("",!0,!0),sizeHandles(),$.each(_c.allPanes,function(a,b){d=$Ps[b],d&&state[b].isVisible&&_runCallbacks("onresize_end",b)}),_runCallbacks("onresizeall_end")}}},resizeChildren=function(a,b){var c=evtPane.call(this,a);if(options[c].resizeChildren){b||refreshChildren(c);var d=children[c];$.isPlainObject(d)&&$.each(d,function(a,b){b.destroyed||b.resizeAll()})}},sizeContent=function(a,b){if(isInitialized()){var c=evtPane.call(this,a);c=c?c.split(","):_c.allPanes,$.each(c,function(a,c){function d(a){return max(i.css.paddingBottom,parseInt(a.css("marginBottom"),10)||0)}function e(){var a=options[c].contentIgnoreSelector,b=g.nextAll().not(".ui-layout-mask").not(a||":lt(0)"),e=b.filter(":visible"),f=e.filter(":last");j={top:g[0].offsetTop,height:g.outerHeight(),numFooters:b.length,hiddenFooters:b.length-e.length,spaceBelow:0},j.spaceAbove=j.top,j.bottom=j.top+j.height,j.spaceBelow=f.length?f[0].offsetTop+f.outerHeight()-j.bottom+d(f):d(g)}var f=$Ps[c],g=$Cs[c],h=options[c],i=state[c],j=i.content;if(!f||!g||!f.is(":visible"))return!0;if((g.length||(initContent(c,!1),g))&&!1!==_runCallbacks("onsizecontent_start",c)){(!i.isMoving&&!i.isResizing||h.liveContentResizing||b||void 0==j.top)&&(e(),j.hiddenFooters>0&&"hidden"===f.css("overflow")&&(f.css("overflow","visible"),e(),f.css("overflow","hidden")));var k=i.innerHeight-(j.spaceAbove-i.css.paddingTop)-(j.spaceBelow-i.css.paddingBottom);g.is(":visible")&&j.height==k||(setOuterHeight(g,k,!0),j.height=k),state.initialized&&_runCallbacks("onsizecontent_end",c)}})}},sizeHandles=function(a){var b=evtPane.call(this,a);b=b?b.split(","):_c.borderPanes,$.each(b,function(a,b){var c,d=options[b],e=state[b],f=$Ps[b],g=$Rs[b],h=$Ts[b];if(f&&g){var i,j,k,l=_c[b].dir,m=e.isClosed?"_closed":"_open",n=d["spacing"+m],o=d["togglerAlign"+m],p=d["togglerLength"+m];if(0===n)return void g.hide();if(e.noRoom||e.isHidden||g.show(),"horz"===l?(i=sC.innerWidth,e.resizerLength=i,j=$.layout.cssNum(f,"left"),g.css({width:cssW(g,i),height:cssH(g,n),left:j>-9999?j:sC.inset.left})):(i=f.outerHeight(),e.resizerLength=i,g.css({height:cssH(g,i),width:cssW(g,n),top:sC.inset.top+getPaneSize("north",!0)})),removeHover(d,g),h){if(0===p||e.isSliding&&d.hideTogglerOnSlide)return void h.hide();if(h.show(),!(p>0)||"100%"===p||p>i)p=i,k=0;else if(isStr(o))switch(o){case"top":case"left":k=0;break;case"bottom":case"right":k=i-p;break;case"middle":case"center":default:k=round((i-p)/2)}else{var q=parseInt(o,10);k=o>=0?q:i-p+q}if("horz"===l){var r=cssW(h,p);h.css({width:r,height:cssH(h,n),left:k,top:0}),h.children(".content").each(function(){c=$(this),c.css("marginLeft",round((r-c.outerWidth())/2))})}else{var s=cssH(h,p);h.css({height:s,width:cssW(h,n),top:k,left:0}),h.children(".content").each(function(){c=$(this),c.css("marginTop",round((s-c.outerHeight())/2))})}removeHover(0,h)}state.initialized||!d.initHidden&&!e.isHidden||(g.hide(),h&&h.hide())}})},enableClosable=function(a){if(isInitialized()){var b=evtPane.call(this,a),c=$Ts[b],d=options[b];c&&(d.closable=!0,c.bind("click."+sID,function(a){a.stopPropagation(),toggle(b)}).css("visibility","visible").css("cursor","pointer").attr("title",state[b].isClosed?d.tips.Open:d.tips.Close).show())}},disableClosable=function(a,b){if(isInitialized()){var c=evtPane.call(this,a),d=$Ts[c];d&&(options[c].closable=!1,state[c].isClosed&&open(c,!1,!0),d.unbind("."+sID).css("visibility",b?"hidden":"visible").css("cursor","default").attr("title",""))}},enableSlidable=function(a){if(isInitialized()){var b=evtPane.call(this,a),c=$Rs[b];c&&c.data("draggable")&&(options[b].slidable=!0,state[b].isClosed&&bindStartSlidingEvents(b,!0))}},disableSlidable=function(a){if(isInitialized()){var b=evtPane.call(this,a),c=$Rs[b];c&&(options[b].slidable=!1,state[b].isSliding?close(b,!1,!0):(bindStartSlidingEvents(b,!1),c.css("cursor","default").attr("title",""),removeHover(null,c[0])))}},enableResizable=function(a){if(isInitialized()){var b=evtPane.call(this,a),c=$Rs[b],d=options[b];c&&c.data("draggable")&&(d.resizable=!0,c.draggable("enable"),state[b].isClosed||c.css("cursor",d.resizerCursor).attr("title",d.tips.Resize))}},disableResizable=function(a){if(isInitialized()){var b=evtPane.call(this,a),c=$Rs[b];c&&c.data("draggable")&&(options[b].resizable=!1,c.draggable("disable").css("cursor","default").attr("title",""),removeHover(null,c[0]))}},swapPanes=function(a,b){function c(a){var b=$Ps[a],c=$Cs[a];return b?{pane:a,P:b?b[0]:!1,C:c?c[0]:!1,state:$.extend(!0,{},state[a]),options:$.extend(!0,{},options[a])}:!1}function d(a,b){if(a){var c,d,e=a.P,f=a.C,g=a.pane,i=_c[b],j=$.extend(!0,{},state[b]),k=options[b],l={resizerCursor:k.resizerCursor};$.each("fxName,fxSpeed,fxSettings".split(","),function(a,b){l[b+"_open"]=k[b+"_open"],l[b+"_close"]=k[b+"_close"],l[b+"_size"]=k[b+"_size"]}),$Ps[b]=$(e).data({layoutPane:Instance[b],layoutEdge:b}).css(_c.hidden).css(i.cssReq),$Cs[b]=f?$(f):!1,options[b]=$.extend(!0,{},a.options,l),state[b]=$.extend(!0,{},a.state),c=new RegExp(k.paneClass+"-"+g,"g"),e.className=e.className.replace(c,k.paneClass+"-"+b),initHandles(b),i.dir!=_c[g].dir?(d=h[b]||0,setSizeLimits(b),d=max(d,state[b].minSize),manualSizePane(b,d,!0,!0)):$Rs[b].css(i.side,sC.inset[i.side]+(state[b].isVisible?getPaneSize(b):0)),a.state.isVisible&&!j.isVisible?setAsOpen(b,!0):(setAsClosed(b),bindStartSlidingEvents(b,!0)),a=null}}if(isInitialized()){var e=evtPane.call(this,a);if(state[e].edge=b,state[b].edge=e,!1===_runCallbacks("onswap_start",e)||!1===_runCallbacks("onswap_start",b))return state[e].edge=e,void(state[b].edge=b);var f=c(e),g=c(b),h={};h[e]=f?f.state.size:0,h[b]=g?g.state.size:0,$Ps[e]=!1,$Ps[b]=!1,state[e]={},state[b]={},$Ts[e]&&$Ts[e].remove(),$Ts[b]&&$Ts[b].remove(),$Rs[e]&&$Rs[e].remove(),$Rs[b]&&$Rs[b].remove(),$Rs[e]=$Rs[b]=$Ts[e]=$Ts[b]=!1,d(f,b),d(g,e),f=g=h=null,$Ps[e]&&$Ps[e].css(_c.visible),$Ps[b]&&$Ps[b].css(_c.visible),resizeAll(),_runCallbacks("onswap_end",e),_runCallbacks("onswap_end",b)}},syncPinBtns=function(a,b){$.layout.plugins.buttons&&$.each(state[a].pins,function(c,d){$.layout.buttons.setPinState(Instance,$(d),a,b)})},$N=$(this).eq(0);if(!$N.length)return _log(options.errors.containerMissing);if($N.data("layoutContainer")&&$N.data("layout"))return $N.data("layout");var $Ps={},$Cs={},$Rs={},$Ts={},$Ms=$([]),sC=state.container,sID=state.id,Instance={options:options,state:state,container:$N,panes:$Ps,contents:$Cs,resizers:$Rs,togglers:$Ts,hide:hide,show:show,toggle:toggle,open:open,close:close,slideOpen:slideOpen,slideClose:slideClose,slideToggle:slideToggle,setSizeLimits:setSizeLimits,_sizePane:sizePane,sizePane:manualSizePane,sizeContent:sizeContent,swapPanes:swapPanes,showMasks:showMasks,hideMasks:hideMasks,initContent:initContent,addPane:addPane,removePane:removePane,createChildren:createChildren,refreshChildren:refreshChildren,enableClosable:enableClosable,disableClosable:disableClosable,enableSlidable:enableSlidable,disableSlidable:disableSlidable,enableResizable:enableResizable,disableResizable:disableResizable,allowOverflow:allowOverflow,resetOverflow:resetOverflow,destroy:destroy,initPanes:isInitialized,resizeAll:resizeAll,runCallbacks:_runCallbacks,hasParentLayout:!1,children:children,north:!1,south:!1,west:!1,east:!1,center:!1};return"cancel"===_create()?null:Instance}}(jQuery),function(a){a.ui||(a.ui={}),a.ui.cookie={acceptsCookies:!!navigator.cookieEnabled,read:function(b){for(var c,d=document.cookie,e=d?d.split(";"):[],f=0,g=e.length;g>f;f++)if(c=a.trim(e[f]).split("="),c[0]==b)return decodeURIComponent(c[1]);return null},write:function(b,c,d){var e="",f="",g=!1,h=d||{},i=h.expires||null,j=a.type(i);"date"===j?f=i:"string"===j&&i>0&&(i=parseInt(i,10),j="number"),"number"===j&&(f=new Date,i>0?f.setDate(f.getDate()+i):(f.setFullYear(1970),g=!0)),f&&(e+=";expires="+f.toUTCString()),h.path&&(e+=";path="+h.path),h.domain&&(e+=";domain="+h.domain),h.secure&&(e+=";secure"),document.cookie=b+"="+(g?"":encodeURIComponent(c))+e},clear:function(b){a.ui.cookie.write(b,"",{expires:-1})}},a.cookie||(a.cookie=function(b,c,d){var e=a.ui.cookie;if(null===c)e.clear(b);else{if(void 0===c)return e.read(b);e.write(b,c,d)}}),a.layout.plugins.stateManagement=!0,a.layout.config.optionRootKeys.push("stateManagement"),a.layout.defaults.stateManagement={enabled:!1,autoSave:!0,autoLoad:!0,animateLoad:!0,includeChildren:!0,stateKeys:"north.size,south.size,east.size,west.size,north.isClosed,south.isClosed,east.isClosed,west.isClosed,north.isHidden,south.isHidden,east.isHidden,west.isHidden",cookie:{name:"",domain:"",path:"",expires:"",secure:!1}},a.layout.optionsMap.layout.push("stateManagement"),a.layout.state={saveCookie:function(b,c,d){var e=b.options,f=e.stateManagement,g=a.extend(!0,{},f.cookie,d||null),h=b.state.stateData=b.readState(c||f.stateKeys);return a.ui.cookie.write(g.name||e.name||"Layout",a.layout.state.encodeJSON(h),g),a.extend(!0,{},h)},deleteCookie:function(b){var c=b.options;a.ui.cookie.clear(c.stateManagement.cookie.name||c.name||"Layout")},readCookie:function(b){var c=b.options,d=a.ui.cookie.read(c.stateManagement.cookie.name||c.name||"Layout");return d?a.layout.state.decodeJSON(d):{}},loadCookie:function(b){var c=a.layout.state.readCookie(b);return c&&(b.state.stateData=a.extend(!0,{},c),b.loadState(c)),c},loadState:function(b,c,d){if(a.isPlainObject(c)&&!a.isEmptyObject(c)){c=b.state.stateData=a.layout.transformData(c);var e=b.options.stateManagement;if(d=a.extend({animateLoad:!1,includeChildren:e.includeChildren},d),b.state.initialized){var f,g,h,i,j,k=!d.animateLoad;if(a.each(a.layout.config.borderPanes,function(d,e){f=c[e],a.isPlainObject(f)&&(s=f.size,g=f.initClosed,h=f.initHidden,ar=f.autoResize,i=b.state[e],j=i.isVisible,ar&&(i.autoResize=ar),j||b._sizePane(e,s,!1,!1,!1),h===!0?b.hide(e,k):g===!0?b.close(e,!1,k):g===!1?b.open(e,!1,k):h===!1&&b.show(e,!1,k),j&&b._sizePane(e,s,!1,!1,k))}),d.includeChildren){var l,m;a.each(b.children,function(b,d){l=c[b]?c[b].children:0,l&&d&&a.each(d,function(a,b){m=l[a],b&&m&&b.loadState(m)})})}}else{var f=a.extend(!0,{},c);a.each(a.layout.config.allPanes,function(a,b){f[b]&&delete f[b].children}),a.extend(!0,b.options,f)}}},readState:function(b,c){"string"===a.type(c)&&(c={keys:c}),c||(c={});var d,e,f,g,h,i,j,k=b.options.stateManagement,l=c.includeChildren,m=void 0!==l?l:k.includeChildren,n=c.stateKeys||k.stateKeys,o={isClosed:"initClosed",isHidden:"initHidden"},p=b.state,q=a.layout.config.allPanes,r={};a.isArray(n)&&(n=n.join(",")),n=n.replace(/__/g,".").split(",");for(var s=0,t=n.length;t>s;s++)d=n[s].split("."),e=d[0],f=d[1],a.inArray(e,q)<0||(g=p[e][f],void 0!=g&&("isClosed"==f&&p[e].isSliding&&(g=!0),(r[e]||(r[e]={}))[o[f]?o[f]:f]=g));return m&&a.each(q,function(c,d){i=b.children[d],h=p.stateData[d],a.isPlainObject(i)&&!a.isEmptyObject(i)&&(j=r[d]||(r[d]={}),j.children||(j.children={}),a.each(i,function(b,c){c.state.initialized?j.children[b]=a.layout.state.readState(c):h&&h.children&&h.children[b]&&(j.children[b]=a.extend(!0,{},h.children[b]))}))}),r},encodeJSON:function(b){function c(b){var d,e,f,g=[],h=0,i=a.isArray(b);for(d in b)e=b[d],f=typeof e,"string"==f?e='"'+e+'"':"object"==f&&(e=c(e)),g[h++]=(i?"":'"'+d+'":')+e;return(i?"[":"{")+g.join(",")+(i?"]":"}")}return c(b)},decodeJSON:function(b){try{return a.parseJSON?a.parseJSON(b):window.eval("("+b+")")||{}}catch(c){return{}}},_create:function(b){var c=a.layout.state,d=b.options,e=d.stateManagement;if(a.extend(b,{readCookie:function(){return c.readCookie(b)},deleteCookie:function(){c.deleteCookie(b)},saveCookie:function(a,d){return c.saveCookie(b,a,d)},loadCookie:function(){return c.loadCookie(b)},loadState:function(a,d){c.loadState(b,a,d)},readState:function(a){return c.readState(b,a)},encodeJSON:c.encodeJSON,decodeJSON:c.decodeJSON}),b.state.stateData={},e.autoLoad)if(a.isPlainObject(e.autoLoad))a.isEmptyObject(e.autoLoad)||b.loadState(e.autoLoad);else if(e.enabled)if(a.isFunction(e.autoLoad)){var f={};try{f=e.autoLoad(b,b.state,b.options,b.options.name||"")}catch(g){}f&&a.isPlainObject(f)&&!a.isEmptyObject(f)&&b.loadState(f)}else b.loadCookie()},_unload:function(b){var c=b.options.stateManagement;if(c.enabled&&c.autoSave)if(a.isFunction(c.autoSave))try{c.autoSave(b,b.state,b.options,b.options.name||"")}catch(d){}else b.saveCookie()}},a.layout.onCreate.push(a.layout.state._create),a.layout.onUnload.push(a.layout.state._unload),a.layout.plugins.buttons=!0,a.layout.defaults.autoBindCustomButtons=!1,a.layout.optionsMap.layout.push("autoBindCustomButtons"),a.layout.buttons={init:function(b){var c,d="ui-layout-button-",e=b.options.name||"";a.each("toggle,open,close,pin,toggle-slide,open-slide".split(","),function(f,g){a.each(a.layout.config.borderPanes,function(f,h){a("."+d+g+"-"+h).each(function(){c=a(this).data("layoutName")||a(this).attr("layoutName"),(void 0==c||c===e)&&b.bindButton(this,g,h)})})})},get:function(b,c,d,e){var f=a(c),g=b.options,h=g.errors.addButtonError;if(f.length)if(a.inArray(d,a.layout.config.borderPanes)<0)a.layout.msg(h+" "+g.errors.pane+": "+d,!0),f=a("");else{var i=g[d].buttonClass+"-"+e;f.addClass(i+" "+i+"-"+d).data("layoutName",g.name)}else a.layout.msg(h+" "+g.errors.selector+": "+c,!0);return f},bind:function(b,c,d,e){var f=a.layout.buttons;switch(d.toLowerCase()){case"toggle":f.addToggle(b,c,e);break;case"open":f.addOpen(b,c,e);break;case"close":f.addClose(b,c,e);break;case"pin":f.addPin(b,c,e);break;case"toggle-slide":f.addToggle(b,c,e,!0);break;case"open-slide":f.addOpen(b,c,e,!0)}return b},addToggle:function(b,c,d,e){return a.layout.buttons.get(b,c,d,"toggle").click(function(a){b.toggle(d,!!e),a.stopPropagation()}),b},addOpen:function(b,c,d,e){return a.layout.buttons.get(b,c,d,"open").attr("title",b.options[d].tips.Open).click(function(a){b.open(d,!!e),a.stopPropagation()}),b},addClose:function(b,c,d){return a.layout.buttons.get(b,c,d,"close").attr("title",b.options[d].tips.Close).click(function(a){b.close(d),a.stopPropagation()}),b},addPin:function(b,c,d){var e=a.layout.buttons,f=e.get(b,c,d,"pin");if(f.length){var g=b.state[d];f.click(function(c){e.setPinState(b,a(this),d,g.isSliding||g.isClosed),g.isSliding||g.isClosed?b.open(d):b.close(d),c.stopPropagation()}),e.setPinState(b,f,d,!g.isClosed&&!g.isSliding),g.pins.push(c)}return b},setPinState:function(a,b,c,d){var e=b.attr("pin");if(!e||d!==("down"==e)){var f=a.options[c],g=f.buttonClass+"-pin",h=g+"-"+c,i=g+"-up "+h+"-up",j=g+"-down "+h+"-down";b.attr("pin",d?"down":"up").attr("title",d?f.tips.Unpin:f.tips.Pin).removeClass(d?i:j).addClass(d?j:i)}},syncPinBtns:function(b,c,d){a.each(b.state[c].pins,function(e,f){a.layout.buttons.setPinState(b,a(f),c,d)})},_load:function(b){var c=a.layout.buttons;a.extend(b,{bindButton:function(a,d,e){return c.bind(b,a,d,e)},addToggleBtn:function(a,d,e){return c.addToggle(b,a,d,e)},addOpenBtn:function(a,d,e){return c.addOpen(b,a,d,e)},addCloseBtn:function(a,d){return c.addClose(b,a,d)},addPinBtn:function(a,d){return c.addPin(b,a,d)}});for(var d=0;4>d;d++){var e=a.layout.config.borderPanes[d];b.state[e].pins=[]}b.options.autoBindCustomButtons&&c.init(b)},_unload:function(){}},a.layout.onLoad.push(a.layout.buttons._load),a.layout.plugins.browserZoom=!0,a.layout.defaults.browserZoomCheckInterval=1e3,a.layout.optionsMap.layout.push("browserZoomCheckInterval"),a.layout.browserZoom={_init:function(b){a.layout.browserZoom.ratio()!==!1&&a.layout.browserZoom._setTimer(b)},_setTimer:function(b){if(!b.destroyed){var c=b.options,d=b.state,e=b.hasParentLayout?5e3:Math.max(c.browserZoomCheckInterval,100);setTimeout(function(){if(!b.destroyed&&c.resizeWithWindow){var e=a.layout.browserZoom.ratio();e!==d.browserZoom&&(d.browserZoom=e,b.resizeAll()),a.layout.browserZoom._setTimer(b)}},e)}},ratio:function(){function b(a,b){return(parseInt(a,10)/parseInt(b,10)*100).toFixed()}var c,d,e,f=window,g=screen,h=document,i=h.documentElement||h.body,j=a.layout.browser,k=j.version;return j.msie&&k>8||!j.msie?!1:g.deviceXDPI&&g.systemXDPI?b(g.deviceXDPI,g.systemXDPI):j.webkit&&(c=h.body.getBoundingClientRect)?b(c.left-c.right,h.body.offsetWidth):j.webkit&&(d=f.outerWidth)?b(d,f.innerWidth):(d=g.width)&&(e=i.clientWidth)?b(d,e):!1}},a.layout.onReady.push(a.layout.browserZoom._init)}(jQuery),function(a){"use strict";var b,c=function(b,d){return this.$el=b,this.options=a.extend({},c.rules.defaults,c.rules[d.rule]||{},d||{}),this.min=parseFloat(this.options.min)||0,this.max=parseFloat(this.options.max)||0,this.$el.on("focus.spinner",a.proxy(function(b){b.preventDefault(),a(document).trigger("mouseup.spinner"),this.oldValue=this.value()},this)).on("change.spinner",a.proxy(function(a){a.preventDefault(),this.value(this.$el.val())},this)).on("keydown.spinner",a.proxy(function(a){var b={38:"up",40:"down"}[a.which];b&&(a.preventDefault(),this.spin(b))},this)),this.oldValue=this.value(),this.value(this.$el.val()),this};c.rules={defaults:{min:null,max:null,step:1,precision:0},currency:{min:0,max:null,step:.01,precision:2},quantity:{min:1,max:999,step:1,precision:0},percent:{min:1,max:100,step:1,precision:0},month:{min:1,max:12,step:1,precision:0},day:{min:1,max:31,step:1,precision:0},hour:{min:0,max:23,step:1,precision:0},minute:{min:1,max:59,step:1,precision:0},second:{min:1,max:59,step:1,precision:0}},c.prototype={spin:function(a){switch(this.oldValue=this.value(),a){case"up":this.value(this.oldValue+Number(this.options.step,10));
break;case"down":this.value(this.oldValue-Number(this.options.step,10))}},value:function(c){if(null===c||void 0===c)return this.numeric(this.$el.val());c=this.numeric(c);var e=this.validate(c);0!==e&&(c=-1===e?this.min:this.max),this.$el.val(c.toFixed(this.options.precision)),this.oldValue!==this.value()&&(this.$el.trigger("changing.spinner",[this.value(),this.oldValue]),clearTimeout(b),b=setTimeout(a.proxy(function(){this.$el.trigger("changed.spinner",[this.value(),this.oldValue])},this),d.delay))},numeric:function(a){return a=this.options.precision>0?parseFloat(a,10):parseInt(a,10),a||this.options.min||0},validate:function(a){return null!==this.options.min&&a<this.min?-1:null!==this.options.max&&a>this.max?1:0}};var d=function(b,d){this.$el=b,this.$spinning=a("[data-spin='spinner']",this.$el),0===this.$spinning.length&&(this.$spinning=a(":input[type='text']",this.$el)),this.spinning=new c(this.$spinning,this.$spinning.data()),this.$el.on("click.spinner","[data-spin='up'],[data-spin='down']",a.proxy(this.spin,this)).on("mousedown.spinner","[data-spin='up'],[data-spin='down']",a.proxy(this.spin,this)),a(document).on("mouseup.spinner",a.proxy(function(){clearTimeout(this.spinTimeout),clearInterval(this.spinInterval)},this)),d=a.extend({},d),d.delay&&this.delay(d.delay),d.changed&&this.changed(d.changed),d.changing&&this.changing(d.changing)};d.delay=500,d.prototype={constructor:d,spin:function(b){var c=a(b.currentTarget).data("spin");switch(b.type){case"click":b.preventDefault(),this.spinning.spin(c);break;case"mousedown":1===b.which&&(this.spinTimeout=setTimeout(a.proxy(this.beginSpin,this,c),300))}},delay:function(a){var b=parseInt(a,10);b>0&&(this.constructor.delay=b+100)},value:function(){return this.spinning.value()},changed:function(a){this.bindHandler("changed.spinner",a)},changing:function(a){this.bindHandler("changing.spinner",a)},bindHandler:function(b,c){a.isFunction(c)?this.$spinning.on(b,c):this.$spinning.off(b)},beginSpin:function(b){this.spinInterval=setInterval(a.proxy(this.spinning.spin,this.spinning,b),100)}},a.fn.spinner=function(b,c){return this.each(function(){var e=a(this),f=e.data("spinner");f||e.data("spinner",f=new d(e,a.extend({},e.data(),b))),("delay"===b||"changed"===b||"changing"===b)&&f[b](c),"spin"===b&&c&&f.spinning.spin(c)})},a(function(){a('[data-trigger="spinner"]').spinner()})}(jQuery),function(a){jQuery.fn.extend({slimScroll:function(b){var c={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},d=a.extend(c,b);return this.each(function(){function c(b){if(j){var b=b||window.event,c=0;b.wheelDelta&&(c=-b.wheelDelta/120),b.detail&&(c=b.detail/3);var f=b.target||b.srcTarget||b.srcElement;a(f).closest("."+d.wrapperClass).is(v.parent())&&e(c,!0),b.preventDefault&&!u&&b.preventDefault(),u||(b.returnValue=!1)}}function e(a,b,c){u=!1;var e=a,f=v.outerHeight()-A.outerHeight();if(b&&(e=parseInt(A.css("top"))+a*parseInt(d.wheelStep)/100*A.outerHeight(),e=Math.min(Math.max(e,0),f),e=a>0?Math.ceil(e):Math.floor(e),A.css({top:e+"px"})),p=parseInt(A.css("top"))/(v.outerHeight()-A.outerHeight()),e=p*(v[0].scrollHeight-v.outerHeight()),c){e=a;var g=e/v[0].scrollHeight*v.outerHeight();g=Math.min(Math.max(g,0),f),A.css({top:g+"px"})}v.scrollTop(e),v.trigger("slimscrolling",~~e),h(),i()}function f(){window.addEventListener?(this.addEventListener("DOMMouseScroll",c,!1),this.addEventListener("mousewheel",c,!1),this.addEventListener("MozMousePixelScroll",c,!1)):document.attachEvent("onmousewheel",c)}function g(){o=Math.max(v.outerHeight()/v[0].scrollHeight*v.outerHeight(),s),A.css({height:o+"px"});var a=o==v.outerHeight()?"none":"block";A.css({display:a})}function h(){if(g(),clearTimeout(m),p==~~p){if(u=d.allowPageScroll,q!=p){var a=0==~~p?"top":"bottom";v.trigger("slimscroll",a)}}else u=!1;return q=p,o>=v.outerHeight()?void(u=!0):(A.stop(!0,!0).fadeIn("fast"),void(d.railVisible&&z.stop(!0,!0).fadeIn("fast")))}function i(){d.alwaysVisible||(m=setTimeout(function(){d.disableFadeOut&&j||k||l||(A.fadeOut("slow"),z.fadeOut("slow"))},1e3))}var j,k,l,m,n,o,p,q,r="<div></div>",s=30,u=!1,v=a(this);if(v.parent().hasClass(d.wrapperClass)){var w=v.scrollTop();if(A=v.parent().find("."+d.barClass),z=v.parent().find("."+d.railClass),g(),a.isPlainObject(b)){if("height"in b&&"auto"==b.height){v.parent().css("height","auto"),v.css("height","auto");var x=v.parent().parent().height();v.parent().css("height",x),v.css("height",x)}if("scrollTo"in b)w=parseInt(d.scrollTo);else if("scrollBy"in b)w+=parseInt(d.scrollBy);else if("destroy"in b)return A.remove(),z.remove(),void v.unwrap();e(w,!1,!0)}}else{d.height="auto"==d.height?v.parent().height():d.height;var y=a(r).addClass(d.wrapperClass).css({position:"relative",overflow:"hidden",width:d.width,height:d.height});v.css({overflow:"hidden",width:d.width,height:d.height});var z=a(r).addClass(d.railClass).css({width:d.size,height:"100%",position:"absolute",top:0,display:d.alwaysVisible&&d.railVisible?"block":"none","border-radius":d.railBorderRadius,background:d.railColor,opacity:d.railOpacity,zIndex:90}),A=a(r).addClass(d.barClass).css({background:d.color,width:d.size,position:"absolute",top:0,opacity:d.opacity,display:d.alwaysVisible?"block":"none","border-radius":d.borderRadius,BorderRadius:d.borderRadius,MozBorderRadius:d.borderRadius,WebkitBorderRadius:d.borderRadius,zIndex:99}),B="right"==d.position?{right:d.distance}:{left:d.distance};z.css(B),A.css(B),v.wrap(y),v.parent().append(A),v.parent().append(z),d.railDraggable&&A.bind("mousedown",function(b){var c=a(document);return l=!0,t=parseFloat(A.css("top")),pageY=b.pageY,c.bind("mousemove.slimscroll",function(a){currTop=t+a.pageY-pageY,A.css("top",currTop),e(0,A.position().top,!1)}),c.bind("mouseup.slimscroll",function(){l=!1,i(),c.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(a){return a.stopPropagation(),a.preventDefault(),!1}),z.hover(function(){h()},function(){i()}),A.hover(function(){k=!0},function(){k=!1}),v.hover(function(){j=!0,h(),i()},function(){j=!1,i()}),v.bind("touchstart",function(a){a.originalEvent.touches.length&&(n=a.originalEvent.touches[0].pageY)}),v.bind("touchmove",function(a){if(u||a.originalEvent.preventDefault(),a.originalEvent.touches.length){var b=(n-a.originalEvent.touches[0].pageY)/d.touchScrollStep;e(b,!0),n=a.originalEvent.touches[0].pageY}}),g(),"bottom"===d.start?(A.css({top:v.outerHeight()-A.outerHeight()}),e(0,!0)):"top"!==d.start&&(e(a(d.start).position().top,null,!0),d.alwaysVisible||A.hide()),f()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(a,b,c){!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):jQuery&&!jQuery.fn.sparkline&&a(jQuery)}(function(d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K={},L=0;e=function(){return{common:{type:"line",lineColor:"#00f",fillColor:"#cdf",defaultPixelsPerValue:3,width:"auto",height:"auto",composite:!1,tagValuesAttribute:"values",tagOptionsPrefix:"spark",enableTagOptions:!1,enableHighlight:!0,highlightLighten:1.4,tooltipSkipNull:!0,tooltipPrefix:"",tooltipSuffix:"",disableHiddenCheck:!1,numberFormatter:!1,numberDigitGroupCount:3,numberDigitGroupSep:",",numberDecimalMark:".",disableTooltips:!1,disableInteraction:!1},line:{spotColor:"#f80",highlightSpotColor:"#5f5",highlightLineColor:"#f22",spotRadius:1.5,minSpotColor:"#f80",maxSpotColor:"#f80",lineWidth:1,normalRangeMin:c,normalRangeMax:c,normalRangeColor:"#ccc",drawNormalOnTop:!1,chartRangeMin:c,chartRangeMax:c,chartRangeMinX:c,chartRangeMaxX:c,tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{y}}{{suffix}}')},bar:{barColor:"#3366cc",negBarColor:"#f44",stackedBarColor:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],zeroColor:c,nullColor:c,zeroAxis:!0,barWidth:4,barSpacing:1,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,colorMap:c,tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{prefix}}{{value}}{{suffix}}')},tristate:{barWidth:4,barSpacing:1,posBarColor:"#6f6",negBarColor:"#f44",zeroBarColor:"#999",colorMap:{},tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{value:map}}'),tooltipValueLookups:{map:{"-1":"Loss",0:"Draw",1:"Win"}}},discrete:{lineHeight:"auto",thresholdColor:c,thresholdValue:0,chartRangeMax:c,chartRangeMin:c,chartRangeClip:!1,tooltipFormat:new g("{{prefix}}{{value}}{{suffix}}")},bullet:{targetColor:"#f33",targetWidth:3,performanceColor:"#33f",rangeColors:["#d3dafe","#a8b6ff","#7f94ff"],base:c,tooltipFormat:new g("{{fieldkey:fields}} - {{value}}"),tooltipValueLookups:{fields:{r:"Range",p:"Performance",t:"Target"}}},pie:{offset:0,sliceColors:["#3366cc","#dc3912","#ff9900","#109618","#66aa00","#dd4477","#0099c6","#990099"],borderWidth:0,borderColor:"#000",tooltipFormat:new g('<span style="color: {{color}}">&#9679;</span> {{value}} ({{percent.1}}%)')},box:{raw:!1,boxLineColor:"#000",boxFillColor:"#cdf",whiskerColor:"#000",outlierLineColor:"#333",outlierFillColor:"#fff",medianColor:"#f00",showOutliers:!0,outlierIQR:1.5,spotRadius:1.5,target:c,targetColor:"#4a2",chartRangeMax:c,chartRangeMin:c,tooltipFormat:new g("{{field:fields}}: {{value}}"),tooltipFormatFieldlistKey:"field",tooltipValueLookups:{fields:{lq:"Lower Quartile",med:"Median",uq:"Upper Quartile",lo:"Left Outlier",ro:"Right Outlier",lw:"Left Whisker",rw:"Right Whisker"}}}}},D='.jqstooltip { position: absolute;left: 0px;top: 0px;visibility: hidden;background: rgb(0, 0, 0) transparent;background-color: rgba(0,0,0,0.6);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000);-ms-filter: "progid:DXImageTransform.Microsoft.gradient(startColorstr=#99000000, endColorstr=#99000000)";color: white;font: 10px arial, san serif;text-align: left;white-space: nowrap;padding: 5px;border: 1px solid white;z-index: 10000;}.jqsfield { color: white;font: 10px arial, san serif;text-align: left;}',f=function(){var a,b;return a=function(){this.init.apply(this,arguments)},arguments.length>1?(arguments[0]?(a.prototype=d.extend(new arguments[0],arguments[arguments.length-1]),a._super=arguments[0].prototype):a.prototype=arguments[arguments.length-1],arguments.length>2&&(b=Array.prototype.slice.call(arguments,1,-1),b.unshift(a.prototype),d.extend.apply(d,b))):a.prototype=arguments[0],a.prototype.cls=a,a},d.SPFormatClass=g=f({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(a,b){this.format=a,this.fclass=b},render:function(a,b,d){var e,f,g,h,i,j=this,k=a;return this.format.replace(this.fre,function(){var a;return f=arguments[1],g=arguments[3],e=j.precre.exec(f),e?(i=e[2],f=e[1]):i=!1,h=k[f],h===c?"":g&&b&&b[g]?(a=b[g],a.get?b[g].get(h)||h:b[g][h]||h):(m(h)&&(h=d.get("numberFormatter")?d.get("numberFormatter")(h):r(h,i,d.get("numberDigitGroupCount"),d.get("numberDigitGroupSep"),d.get("numberDecimalMark"))),h)})}}),d.spformat=function(a,b){return new g(a,b)},h=function(a,b,c){return b>a?b:a>c?c:a},i=function(a,c){var d;return 2===c?(d=b.floor(a.length/2),a.length%2?a[d]:(a[d-1]+a[d])/2):a.length%2?(d=(a.length*c+c)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1]):(d=(a.length*c+2)/4,d%1?(a[b.floor(d)]+a[b.floor(d)-1])/2:a[d-1])},j=function(a){var b;switch(a){case"undefined":a=c;break;case"null":a=null;break;case"true":a=!0;break;case"false":a=!1;break;default:b=parseFloat(a),a==b&&(a=b)}return a},k=function(a){var b,c=[];for(b=a.length;b--;)c[b]=j(a[b]);return c},l=function(a,b){var c,d,e=[];for(c=0,d=a.length;d>c;c++)a[c]!==b&&e.push(a[c]);return e},m=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},r=function(a,b,c,e,f){var g,h;for(a=(b===!1?parseFloat(a).toString():a.toFixed(b)).split(""),g=(g=d.inArray(".",a))<0?a.length:g,g<a.length&&(a[g]=f),h=g-c;h>0;h-=c)a.splice(h,0,e);return a.join("")},n=function(a,b,c){var d;for(d=b.length;d--;)if((!c||null!==b[d])&&b[d]!==a)return!1;return!0},o=function(a){var b,c=0;for(b=a.length;b--;)c+="number"==typeof a[b]?a[b]:0;return c},q=function(a){return d.isArray(a)?a:[a]},p=function(b){var c;a.createStyleSheet?a.createStyleSheet().cssText=b:(c=a.createElement("style"),c.type="text/css",a.getElementsByTagName("head")[0].appendChild(c),c["string"==typeof a.body.style.WebkitAppearance?"innerText":"innerHTML"]=b)},d.fn.simpledraw=function(b,e,f,g){var h,i;if(f&&(h=this.data("_jqs_vcanvas")))return h;if(d.fn.sparkline.canvas===!1)return!1;if(d.fn.sparkline.canvas===c){var j=a.createElement("canvas");if(j.getContext&&j.getContext("2d"))d.fn.sparkline.canvas=function(a,b,c,d){return new H(a,b,c,d)};else{if(!a.namespaces||a.namespaces.v)return d.fn.sparkline.canvas=!1,!1;a.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),d.fn.sparkline.canvas=function(a,b,c){return new I(a,b,c)}}}return b===c&&(b=d(this).innerWidth()),e===c&&(e=d(this).innerHeight()),h=d.fn.sparkline.canvas(b,e,this,g),i=d(this).data("_jqs_mhandler"),i&&i.registerCanvas(h),h},d.fn.cleardraw=function(){var a=this.data("_jqs_vcanvas");a&&a.reset()},d.RangeMapClass=s=f({init:function(a){var b,c,d=[];for(b in a)a.hasOwnProperty(b)&&"string"==typeof b&&b.indexOf(":")>-1&&(c=b.split(":"),c[0]=0===c[0].length?-1/0:parseFloat(c[0]),c[1]=0===c[1].length?1/0:parseFloat(c[1]),c[2]=a[b],d.push(c));this.map=a,this.rangelist=d||!1},get:function(a){var b,d,e,f=this.rangelist;if((e=this.map[a])!==c)return e;if(f)for(b=f.length;b--;)if(d=f[b],d[0]<=a&&d[1]>=a)return d[2];return c}}),d.range_map=function(a){return new s(a)},t=f({init:function(a,b){var c=d(a);this.$el=c,this.options=b,this.currentPageX=0,this.currentPageY=0,this.el=a,this.splist=[],this.tooltip=null,this.over=!1,this.displayTooltips=!b.get("disableTooltips"),this.highlightEnabled=!b.get("disableHighlight")},registerSparkline:function(a){this.splist.push(a),this.over&&this.updateDisplay()},registerCanvas:function(a){var b=d(a.canvas);this.canvas=a,this.$canvas=b,b.mouseenter(d.proxy(this.mouseenter,this)),b.mouseleave(d.proxy(this.mouseleave,this)),b.click(d.proxy(this.mouseclick,this))},reset:function(a){this.splist=[],this.tooltip&&a&&(this.tooltip.remove(),this.tooltip=c)},mouseclick:function(a){var b=d.Event("sparklineClick");b.originalEvent=a,b.sparklines=this.splist,this.$el.trigger(b)},mouseenter:function(b){d(a.body).unbind("mousemove.jqs"),d(a.body).bind("mousemove.jqs",d.proxy(this.mousemove,this)),this.over=!0,this.currentPageX=b.pageX,this.currentPageY=b.pageY,this.currentEl=b.target,!this.tooltip&&this.displayTooltips&&(this.tooltip=new u(this.options),this.tooltip.updatePosition(b.pageX,b.pageY)),this.updateDisplay()},mouseleave:function(){d(a.body).unbind("mousemove.jqs");var b,c,e=this.splist,f=e.length,g=!1;for(this.over=!1,this.currentEl=null,this.tooltip&&(this.tooltip.remove(),this.tooltip=null),c=0;f>c;c++)b=e[c],b.clearRegionHighlight()&&(g=!0);g&&this.canvas.render()},mousemove:function(a){this.currentPageX=a.pageX,this.currentPageY=a.pageY,this.currentEl=a.target,this.tooltip&&this.tooltip.updatePosition(a.pageX,a.pageY),this.updateDisplay()},updateDisplay:function(){var a,b,c,e,f,g=this.splist,h=g.length,i=!1,j=this.$canvas.offset(),k=this.currentPageX-j.left,l=this.currentPageY-j.top;if(this.over){for(c=0;h>c;c++)b=g[c],e=b.setRegionHighlight(this.currentEl,k,l),e&&(i=!0);if(i){if(f=d.Event("sparklineRegionChange"),f.sparklines=this.splist,this.$el.trigger(f),this.tooltip){for(a="",c=0;h>c;c++)b=g[c],a+=b.getCurrentRegionTooltip();this.tooltip.setContent(a)}this.disableHighlight||this.canvas.render()}null===e&&this.mouseleave()}}}),u=f({sizeStyle:"position: static !important;display: block !important;visibility: hidden !important;float: left !important;",init:function(b){var c,e=b.get("tooltipClassname","jqstooltip"),f=this.sizeStyle;this.container=b.get("tooltipContainer")||a.body,this.tooltipOffsetX=b.get("tooltipOffsetX",10),this.tooltipOffsetY=b.get("tooltipOffsetY",12),d("#jqssizetip").remove(),d("#jqstooltip").remove(),this.sizetip=d("<div/>",{id:"jqssizetip",style:f,"class":e}),this.tooltip=d("<div/>",{id:"jqstooltip","class":e}).appendTo(this.container),c=this.tooltip.offset(),this.offsetLeft=c.left,this.offsetTop=c.top,this.hidden=!0,d(window).unbind("resize.jqs scroll.jqs"),d(window).bind("resize.jqs scroll.jqs",d.proxy(this.updateWindowDims,this)),this.updateWindowDims()},updateWindowDims:function(){this.scrollTop=d(window).scrollTop(),this.scrollLeft=d(window).scrollLeft(),this.scrollRight=this.scrollLeft+d(window).width(),this.updatePosition()},getSize:function(a){this.sizetip.html(a).appendTo(this.container),this.width=this.sizetip.width()+1,this.height=this.sizetip.height(),this.sizetip.remove()},setContent:function(a){return a?(this.getSize(a),this.tooltip.html(a).css({width:this.width,height:this.height,visibility:"visible"}),void(this.hidden&&(this.hidden=!1,this.updatePosition()))):(this.tooltip.css("visibility","hidden"),void(this.hidden=!0))},updatePosition:function(a,b){if(a===c){if(this.mousex===c)return;a=this.mousex-this.offsetLeft,b=this.mousey-this.offsetTop}else this.mousex=a-=this.offsetLeft,this.mousey=b-=this.offsetTop;this.height&&this.width&&!this.hidden&&(b-=this.height+this.tooltipOffsetY,a+=this.tooltipOffsetX,b<this.scrollTop&&(b=this.scrollTop),a<this.scrollLeft?a=this.scrollLeft:a+this.width>this.scrollRight&&(a=this.scrollRight-this.width),this.tooltip.css({left:a,top:b}))},remove:function(){this.tooltip.remove(),this.sizetip.remove(),this.sizetip=this.tooltip=c,d(window).unbind("resize.jqs scroll.jqs")}}),E=function(){p(D)},d(E),J=[],d.fn.sparkline=function(b,e){return this.each(function(){var f,g,h=new d.fn.sparkline.options(this,e),i=d(this);if(f=function(){var e,f,g,j,k,l,m;return"html"===b||b===c?(m=this.getAttribute(h.get("tagValuesAttribute")),(m===c||null===m)&&(m=i.html()),e=m.replace(/(^\s*<!--)|(-->\s*$)|\s+/g,"").split(",")):e=b,f="auto"===h.get("width")?e.length*h.get("defaultPixelsPerValue"):h.get("width"),"auto"===h.get("height")?h.get("composite")&&d.data(this,"_jqs_vcanvas")||(j=a.createElement("span"),j.innerHTML="a",i.html(j),g=d(j).innerHeight()||d(j).height(),d(j).remove(),j=null):g=h.get("height"),h.get("disableInteraction")?k=!1:(k=d.data(this,"_jqs_mhandler"),k?h.get("composite")||k.reset():(k=new t(this,h),d.data(this,"_jqs_mhandler",k))),h.get("composite")&&!d.data(this,"_jqs_vcanvas")?void(d.data(this,"_jqs_errnotify")||(alert("Attempted to attach a composite sparkline to an element with no existing sparkline"),d.data(this,"_jqs_errnotify",!0))):(l=new(d.fn.sparkline[h.get("type")])(this,e,h,f,g),l.render(),void(k&&k.registerSparkline(l)))},d(this).html()&&!h.get("disableHiddenCheck")&&d(this).is(":hidden")||!d(this).parents("body").length){if(!h.get("composite")&&d.data(this,"_jqs_pending"))for(g=J.length;g;g--)J[g-1][0]==this&&J.splice(g-1,1);J.push([this,f]),d.data(this,"_jqs_pending",!0)}else f.call(this)})},d.fn.sparkline.defaults=e(),d.sparkline_display_visible=function(){var a,b,c,e=[];for(b=0,c=J.length;c>b;b++)a=J[b][0],d(a).is(":visible")&&!d(a).parents().is(":hidden")?(J[b][1].call(a),d.data(J[b][0],"_jqs_pending",!1),e.push(b)):d(a).closest("html").length||d.data(a,"_jqs_pending")||(d.data(J[b][0],"_jqs_pending",!1),e.push(b));for(b=e.length;b;b--)J.splice(e[b-1],1)},d.fn.sparkline.options=f({init:function(a,b){var c,e,f,g;this.userOptions=b=b||{},this.tag=a,this.tagValCache={},e=d.fn.sparkline.defaults,f=e.common,this.tagOptionsPrefix=b.enableTagOptions&&(b.tagOptionsPrefix||f.tagOptionsPrefix),g=this.getTagSetting("type"),c=g===K?e[b.type||f.type]:e[g],this.mergedOptions=d.extend({},f,c,b)},getTagSetting:function(a){var b,d,e,f,g=this.tagOptionsPrefix;if(g===!1||g===c)return K;if(this.tagValCache.hasOwnProperty(a))b=this.tagValCache.key;else{if(b=this.tag.getAttribute(g+a),b===c||null===b)b=K;else if("["===b.substr(0,1))for(b=b.substr(1,b.length-2).split(","),d=b.length;d--;)b[d]=j(b[d].replace(/(^\s*)|(\s*$)/g,""));else if("{"===b.substr(0,1))for(e=b.substr(1,b.length-2).split(","),b={},d=e.length;d--;)f=e[d].split(":",2),b[f[0].replace(/(^\s*)|(\s*$)/g,"")]=j(f[1].replace(/(^\s*)|(\s*$)/g,""));else b=j(b);this.tagValCache.key=b}return b},get:function(a,b){var d,e=this.getTagSetting(a);return e!==K?e:(d=this.mergedOptions[a])===c?b:d}}),d.fn.sparkline._base=f({disabled:!1,init:function(a,b,e,f,g){this.el=a,this.$el=d(a),this.values=b,this.options=e,this.width=f,this.height=g,this.currentRegion=c},initTarget:function(){var a=!this.options.get("disableInteraction");(this.target=this.$el.simpledraw(this.width,this.height,this.options.get("composite"),a))?(this.canvasWidth=this.target.pixelWidth,this.canvasHeight=this.target.pixelHeight):this.disabled=!0},render:function(){return this.disabled?(this.el.innerHTML="",!1):!0},getRegion:function(){},setRegionHighlight:function(a,b,d){var e,f=this.currentRegion,g=!this.options.get("disableHighlight");return b>this.canvasWidth||d>this.canvasHeight||0>b||0>d?null:(e=this.getRegion(a,b,d),f!==e?(f!==c&&g&&this.removeHighlight(),this.currentRegion=e,e!==c&&g&&this.renderHighlight(),!0):!1)},clearRegionHighlight:function(){return this.currentRegion!==c?(this.removeHighlight(),this.currentRegion=c,!0):!1},renderHighlight:function(){this.changeHighlight(!0)},removeHighlight:function(){this.changeHighlight(!1)},changeHighlight:function(){},getCurrentRegionTooltip:function(){var a,b,e,f,h,i,j,k,l,m,n,o,p,q,r=this.options,s="",t=[];if(this.currentRegion===c)return"";if(a=this.getCurrentRegionFields(),n=r.get("tooltipFormatter"))return n(this,r,a);if(r.get("tooltipChartTitle")&&(s+='<div class="jqs jqstitle">'+r.get("tooltipChartTitle")+"</div>\n"),b=this.options.get("tooltipFormat"),!b)return"";if(d.isArray(b)||(b=[b]),d.isArray(a)||(a=[a]),j=this.options.get("tooltipFormatFieldlist"),k=this.options.get("tooltipFormatFieldlistKey"),j&&k){for(l=[],i=a.length;i--;)m=a[i][k],-1!=(q=d.inArray(m,j))&&(l[q]=a[i]);a=l}for(e=b.length,p=a.length,i=0;e>i;i++)for(o=b[i],"string"==typeof o&&(o=new g(o)),f=o.fclass||"jqsfield",q=0;p>q;q++)a[q].isNull&&r.get("tooltipSkipNull")||(d.extend(a[q],{prefix:r.get("tooltipPrefix"),suffix:r.get("tooltipSuffix")}),h=o.render(a[q],r.get("tooltipValueLookups"),r),t.push('<div class="'+f+'">'+h+"</div>"));return t.length?s+t.join("\n"):""},getCurrentRegionFields:function(){},calcHighlightColor:function(a,c){var d,e,f,g,i=c.get("highlightColor"),j=c.get("highlightLighten");if(i)return i;if(j&&(d=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(a)||/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i.exec(a))){for(f=[],e=4===a.length?16:1,g=0;3>g;g++)f[g]=h(b.round(parseInt(d[g+1],16)*e*j),0,255);return"rgb("+f.join(",")+")"}return a}}),v={changeHighlight:function(a){var b,c=this.currentRegion,e=this.target,f=this.regionShapes[c];f&&(b=this.renderRegion(c,a),d.isArray(b)||d.isArray(f)?(e.replaceWithShapes(f,b),this.regionShapes[c]=d.map(b,function(a){return a.id})):(e.replaceWithShape(f,b),this.regionShapes[c]=b.id))},render:function(){var a,b,c,e,f=this.values,g=this.target,h=this.regionShapes;if(this.cls._super.render.call(this)){for(c=f.length;c--;)if(a=this.renderRegion(c))if(d.isArray(a)){for(b=[],e=a.length;e--;)a[e].append(),b.push(a[e].id);h[c]=b}else a.append(),h[c]=a.id;else h[c]=null;g.render()}}},d.fn.sparkline.line=w=f(d.fn.sparkline._base,{type:"line",init:function(a,b,c,d,e){w._super.init.call(this,a,b,c,d,e),this.vertices=[],this.regionMap=[],this.xvalues=[],this.yvalues=[],this.yminmax=[],this.hightlightSpotId=null,this.lastShapeId=null,this.initTarget()},getRegion:function(a,b){var d,e=this.regionMap;for(d=e.length;d--;)if(null!==e[d]&&b>=e[d][0]&&b<=e[d][1])return e[d][2];return c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:null===this.yvalues[a],x:this.xvalues[a],y:this.yvalues[a],color:this.options.get("lineColor"),fillColor:this.options.get("fillColor"),offset:a}},renderHighlight:function(){var a,b,d=this.currentRegion,e=this.target,f=this.vertices[d],g=this.options,h=g.get("spotRadius"),i=g.get("highlightSpotColor"),j=g.get("highlightLineColor");f&&(h&&i&&(a=e.drawCircle(f[0],f[1],h,c,i),this.highlightSpotId=a.id,e.insertAfterShape(this.lastShapeId,a)),j&&(b=e.drawLine(f[0],this.canvasTop,f[0],this.canvasTop+this.canvasHeight,j),this.highlightLineId=b.id,e.insertAfterShape(this.lastShapeId,b)))},removeHighlight:function(){var a=this.target;this.highlightSpotId&&(a.removeShapeId(this.highlightSpotId),this.highlightSpotId=null),this.highlightLineId&&(a.removeShapeId(this.highlightLineId),this.highlightLineId=null)},scanValues:function(){var a,c,d,e,f,g=this.values,h=g.length,i=this.xvalues,j=this.yvalues,k=this.yminmax;for(a=0;h>a;a++)c=g[a],d="string"==typeof g[a],e="object"==typeof g[a]&&g[a]instanceof Array,f=d&&g[a].split(":"),d&&2===f.length?(i.push(Number(f[0])),j.push(Number(f[1])),k.push(Number(f[1]))):e?(i.push(c[0]),j.push(c[1]),k.push(c[1])):(i.push(a),null===g[a]||"null"===g[a]?j.push(null):(j.push(Number(c)),k.push(Number(c))));this.options.get("xvalues")&&(i=this.options.get("xvalues")),this.maxy=this.maxyorg=b.max.apply(b,k),this.miny=this.minyorg=b.min.apply(b,k),this.maxx=b.max.apply(b,i),this.minx=b.min.apply(b,i),this.xvalues=i,this.yvalues=j,this.yminmax=k},processRangeOptions:function(){var a=this.options,b=a.get("normalRangeMin"),d=a.get("normalRangeMax");b!==c&&(b<this.miny&&(this.miny=b),d>this.maxy&&(this.maxy=d)),a.get("chartRangeMin")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMin")<this.miny)&&(this.miny=a.get("chartRangeMin")),a.get("chartRangeMax")!==c&&(a.get("chartRangeClip")||a.get("chartRangeMax")>this.maxy)&&(this.maxy=a.get("chartRangeMax")),a.get("chartRangeMinX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMinX")<this.minx)&&(this.minx=a.get("chartRangeMinX")),a.get("chartRangeMaxX")!==c&&(a.get("chartRangeClipX")||a.get("chartRangeMaxX")>this.maxx)&&(this.maxx=a.get("chartRangeMaxX"))},drawNormalRange:function(a,d,e,f,g){var h=this.options.get("normalRangeMin"),i=this.options.get("normalRangeMax"),j=d+b.round(e-e*((i-this.miny)/g)),k=b.round(e*(i-h)/g);this.target.drawRect(a,j,f,k,c,this.options.get("normalRangeColor")).append()},render:function(){var a,e,f,g,h,i,j,k,l,m,n,o,p,q,r,t,u,v,x,y,z,A,B,C,D,E=this.options,F=this.target,G=this.canvasWidth,H=this.canvasHeight,I=this.vertices,J=E.get("spotRadius"),K=this.regionMap;if(w._super.render.call(this)&&(this.scanValues(),this.processRangeOptions(),B=this.xvalues,C=this.yvalues,this.yminmax.length&&!(this.yvalues.length<2))){for(g=h=0,a=this.maxx-this.minx===0?1:this.maxx-this.minx,e=this.maxy-this.miny===0?1:this.maxy-this.miny,f=this.yvalues.length-1,J&&(4*J>G||4*J>H)&&(J=0),J&&(z=E.get("highlightSpotColor")&&!E.get("disableInteraction"),(z||E.get("minSpotColor")||E.get("spotColor")&&C[f]===this.miny)&&(H-=b.ceil(J)),(z||E.get("maxSpotColor")||E.get("spotColor")&&C[f]===this.maxy)&&(H-=b.ceil(J),g+=b.ceil(J)),(z||(E.get("minSpotColor")||E.get("maxSpotColor"))&&(C[0]===this.miny||C[0]===this.maxy))&&(h+=b.ceil(J),G-=b.ceil(J)),(z||E.get("spotColor")||E.get("minSpotColor")||E.get("maxSpotColor")&&(C[f]===this.miny||C[f]===this.maxy))&&(G-=b.ceil(J))),H--,E.get("normalRangeMin")===c||E.get("drawNormalOnTop")||this.drawNormalRange(h,g,H,G,e),j=[],k=[j],q=r=null,t=C.length,D=0;t>D;D++)l=B[D],n=B[D+1],m=C[D],o=h+b.round((l-this.minx)*(G/a)),p=t-1>D?h+b.round((n-this.minx)*(G/a)):G,r=o+(p-o)/2,K[D]=[q||0,r,D],q=r,null===m?D&&(null!==C[D-1]&&(j=[],k.push(j)),I.push(null)):(m<this.miny&&(m=this.miny),m>this.maxy&&(m=this.maxy),j.length||j.push([o,g+H]),i=[o,g+b.round(H-H*((m-this.miny)/e))],j.push(i),I.push(i));for(u=[],v=[],x=k.length,D=0;x>D;D++)j=k[D],j.length&&(E.get("fillColor")&&(j.push([j[j.length-1][0],g+H]),v.push(j.slice(0)),j.pop()),j.length>2&&(j[0]=[j[0][0],j[1][1]]),u.push(j));for(x=v.length,D=0;x>D;D++)F.drawShape(v[D],E.get("fillColor"),E.get("fillColor")).append();for(E.get("normalRangeMin")!==c&&E.get("drawNormalOnTop")&&this.drawNormalRange(h,g,H,G,e),x=u.length,D=0;x>D;D++)F.drawShape(u[D],E.get("lineColor"),c,E.get("lineWidth")).append();if(J&&E.get("valueSpots"))for(y=E.get("valueSpots"),y.get===c&&(y=new s(y)),D=0;t>D;D++)A=y.get(C[D]),A&&F.drawCircle(h+b.round((B[D]-this.minx)*(G/a)),g+b.round(H-H*((C[D]-this.miny)/e)),J,c,A).append();J&&E.get("spotColor")&&null!==C[f]&&F.drawCircle(h+b.round((B[B.length-1]-this.minx)*(G/a)),g+b.round(H-H*((C[f]-this.miny)/e)),J,c,E.get("spotColor")).append(),this.maxy!==this.minyorg&&(J&&E.get("minSpotColor")&&(l=B[d.inArray(this.minyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.minyorg-this.miny)/e)),J,c,E.get("minSpotColor")).append()),J&&E.get("maxSpotColor")&&(l=B[d.inArray(this.maxyorg,C)],F.drawCircle(h+b.round((l-this.minx)*(G/a)),g+b.round(H-H*((this.maxyorg-this.miny)/e)),J,c,E.get("maxSpotColor")).append())),this.lastShapeId=F.getLastShapeId(),this.canvasTop=g,F.render()}}}),d.fn.sparkline.bar=x=f(d.fn.sparkline._base,v,{type:"bar",init:function(a,e,f,g,i){var m,n,o,p,q,r,t,u,v,w,y,z,A,B,C,D,E,F,G,H,I,J,K=parseInt(f.get("barWidth"),10),L=parseInt(f.get("barSpacing"),10),M=f.get("chartRangeMin"),N=f.get("chartRangeMax"),O=f.get("chartRangeClip"),P=1/0,Q=-1/0;for(x._super.init.call(this,a,e,f,g,i),r=0,t=e.length;t>r;r++)H=e[r],m="string"==typeof H&&H.indexOf(":")>-1,(m||d.isArray(H))&&(C=!0,m&&(H=e[r]=k(H.split(":"))),H=l(H,null),n=b.min.apply(b,H),o=b.max.apply(b,H),P>n&&(P=n),o>Q&&(Q=o));this.stacked=C,this.regionShapes={},this.barWidth=K,this.barSpacing=L,this.totalBarWidth=K+L,this.width=g=e.length*K+(e.length-1)*L,this.initTarget(),O&&(A=M===c?-1/0:M,B=N===c?1/0:N),q=[],p=C?[]:q;var R=[],S=[];for(r=0,t=e.length;t>r;r++)if(C)for(D=e[r],e[r]=G=[],R[r]=0,p[r]=S[r]=0,E=0,F=D.length;F>E;E++)H=G[E]=O?h(D[E],A,B):D[E],null!==H&&(H>0&&(R[r]+=H),0>P&&Q>0?0>H?S[r]+=b.abs(H):p[r]+=H:p[r]+=b.abs(H-(0>H?Q:P)),q.push(H));else H=O?h(e[r],A,B):e[r],H=e[r]=j(H),null!==H&&q.push(H);this.max=z=b.max.apply(b,q),this.min=y=b.min.apply(b,q),this.stackMax=Q=C?b.max.apply(b,R):z,this.stackMin=P=C?b.min.apply(b,q):y,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<y)&&(y=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>z)&&(z=f.get("chartRangeMax")),this.zeroAxis=v=f.get("zeroAxis",!0),w=0>=y&&z>=0&&v?0:0==v?y:y>0?y:z,this.xaxisOffset=w,u=C?b.max.apply(b,p)+b.max.apply(b,S):z-y,this.canvasHeightEf=v&&0>y?this.canvasHeight-2:this.canvasHeight-1,w>y?(J=C&&z>=0?Q:z,I=(J-w)/u*this.canvasHeight,I!==b.ceil(I)&&(this.canvasHeightEf-=2,I=b.ceil(I))):I=this.canvasHeight,this.yoffset=I,d.isArray(f.get("colorMap"))?(this.colorMapByIndex=f.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=f.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.range=u},getRegion:function(a,d){var e=b.floor(d/this.totalBarWidth);return 0>e||e>=this.values.length?c:e},getCurrentRegionFields:function(){var a,b,c=this.currentRegion,d=q(this.values[c]),e=[];for(b=d.length;b--;)a=d[b],e.push({isNull:null===a,value:a,color:this.calcColor(b,a,c),offset:c});return e},calcColor:function(a,b,e){var f,g,h=this.colorMapByIndex,i=this.colorMapByValue,j=this.options;return f=j.get(this.stacked?"stackedBarColor":0>b?"negBarColor":"barColor"),0===b&&j.get("zeroColor")!==c&&(f=j.get("zeroColor")),i&&(g=i.get(b))?f=g:h&&h.length>e&&(f=h[e]),d.isArray(f)?f[a%f.length]:f},renderRegion:function(a,e){var f,g,h,i,j,k,l,m,o,p,q=this.values[a],r=this.options,s=this.xaxisOffset,t=[],u=this.range,v=this.stacked,w=this.target,x=a*this.totalBarWidth,y=this.canvasHeightEf,z=this.yoffset;if(q=d.isArray(q)?q:[q],l=q.length,m=q[0],i=n(null,q),p=n(s,q,!0),i)return r.get("nullColor")?(h=e?r.get("nullColor"):this.calcHighlightColor(r.get("nullColor"),r),f=z>0?z-1:z,w.drawRect(x,f,this.barWidth-1,0,h,h)):c;
for(j=z,k=0;l>k;k++){if(m=q[k],v&&m===s){if(!p||o)continue;o=!0}g=u>0?b.floor(y*(b.abs(m-s)/u))+1:1,s>m||m===s&&0===z?(f=j,j+=g):(f=z-g,z-=g),h=this.calcColor(k,m,a),e&&(h=this.calcHighlightColor(h,r)),t.push(w.drawRect(x,f,this.barWidth-1,g-1,h,h))}return 1===t.length?t[0]:t}}),d.fn.sparkline.tristate=y=f(d.fn.sparkline._base,v,{type:"tristate",init:function(a,b,e,f,g){var h=parseInt(e.get("barWidth"),10),i=parseInt(e.get("barSpacing"),10);y._super.init.call(this,a,b,e,f,g),this.regionShapes={},this.barWidth=h,this.barSpacing=i,this.totalBarWidth=h+i,this.values=d.map(b,Number),this.width=f=b.length*h+(b.length-1)*i,d.isArray(e.get("colorMap"))?(this.colorMapByIndex=e.get("colorMap"),this.colorMapByValue=null):(this.colorMapByIndex=null,this.colorMapByValue=e.get("colorMap"),this.colorMapByValue&&this.colorMapByValue.get===c&&(this.colorMapByValue=new s(this.colorMapByValue))),this.initTarget()},getRegion:function(a,c){return b.floor(c/this.totalBarWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],color:this.calcColor(this.values[a],a),offset:a}},calcColor:function(a,b){var c,d,e=this.values,f=this.options,g=this.colorMapByIndex,h=this.colorMapByValue;return c=h&&(d=h.get(a))?d:g&&g.length>b?g[b]:f.get(e[b]<0?"negBarColor":e[b]>0?"posBarColor":"zeroBarColor")},renderRegion:function(a,c){var d,e,f,g,h,i,j=this.values,k=this.options,l=this.target;return d=l.pixelHeight,f=b.round(d/2),g=a*this.totalBarWidth,j[a]<0?(h=f,e=f-1):j[a]>0?(h=0,e=f-1):(h=f-1,e=2),i=this.calcColor(j[a],a),null!==i?(c&&(i=this.calcHighlightColor(i,k)),l.drawRect(g,h,this.barWidth-1,e-1,i,i)):void 0}}),d.fn.sparkline.discrete=z=f(d.fn.sparkline._base,v,{type:"discrete",init:function(a,e,f,g,h){z._super.init.call(this,a,e,f,g,h),this.regionShapes={},this.values=e=d.map(e,Number),this.min=b.min.apply(b,e),this.max=b.max.apply(b,e),this.range=this.max-this.min,this.width=g="auto"===f.get("width")?2*e.length:this.width,this.interval=b.floor(g/e.length),this.itemWidth=g/e.length,f.get("chartRangeMin")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMin")<this.min)&&(this.min=f.get("chartRangeMin")),f.get("chartRangeMax")!==c&&(f.get("chartRangeClip")||f.get("chartRangeMax")>this.max)&&(this.max=f.get("chartRangeMax")),this.initTarget(),this.target&&(this.lineHeight="auto"===f.get("lineHeight")?b.round(.3*this.canvasHeight):f.get("lineHeight"))},getRegion:function(a,c){return b.floor(c/this.itemWidth)},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],offset:a}},renderRegion:function(a,c){var d,e,f,g,i=this.values,j=this.options,k=this.min,l=this.max,m=this.range,n=this.interval,o=this.target,p=this.canvasHeight,q=this.lineHeight,r=p-q;return e=h(i[a],k,l),g=a*n,d=b.round(r-r*((e-k)/m)),f=j.get(j.get("thresholdColor")&&e<j.get("thresholdValue")?"thresholdColor":"lineColor"),c&&(f=this.calcHighlightColor(f,j)),o.drawLine(g,d,g,d+q,f)}}),d.fn.sparkline.bullet=A=f(d.fn.sparkline._base,{type:"bullet",init:function(a,d,e,f,g){var h,i,j;A._super.init.call(this,a,d,e,f,g),this.values=d=k(d),j=d.slice(),j[0]=null===j[0]?j[2]:j[0],j[1]=null===d[1]?j[2]:j[1],h=b.min.apply(b,d),i=b.max.apply(b,d),h=e.get("base")===c?0>h?h:0:e.get("base"),this.min=h,this.max=i,this.range=i-h,this.shapes={},this.valueShapes={},this.regiondata={},this.width=f="auto"===e.get("width")?"4.0em":f,this.target=this.$el.simpledraw(f,g,e.get("composite")),d.length||(this.disabled=!0),this.initTarget()},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{fieldkey:a.substr(0,1),value:this.values[a.substr(1)],region:a}},changeHighlight:function(a){var b,c=this.currentRegion,d=this.valueShapes[c];switch(delete this.shapes[d],c.substr(0,1)){case"r":b=this.renderRange(c.substr(1),a);break;case"p":b=this.renderPerformance(a);break;case"t":b=this.renderTarget(a)}this.valueShapes[c]=b.id,this.shapes[b.id]=c,this.target.replaceWithShape(d,b)},renderRange:function(a,c){var d=this.values[a],e=b.round(this.canvasWidth*((d-this.min)/this.range)),f=this.options.get("rangeColors")[a-2];return c&&(f=this.calcHighlightColor(f,this.options)),this.target.drawRect(0,0,e-1,this.canvasHeight-1,f,f)},renderPerformance:function(a){var c=this.values[1],d=b.round(this.canvasWidth*((c-this.min)/this.range)),e=this.options.get("performanceColor");return a&&(e=this.calcHighlightColor(e,this.options)),this.target.drawRect(0,b.round(.3*this.canvasHeight),d-1,b.round(.4*this.canvasHeight)-1,e,e)},renderTarget:function(a){var c=this.values[0],d=b.round(this.canvasWidth*((c-this.min)/this.range)-this.options.get("targetWidth")/2),e=b.round(.1*this.canvasHeight),f=this.canvasHeight-2*e,g=this.options.get("targetColor");return a&&(g=this.calcHighlightColor(g,this.options)),this.target.drawRect(d,e,this.options.get("targetWidth")-1,f-1,g,g)},render:function(){var a,b,c=this.values.length,d=this.target;if(A._super.render.call(this)){for(a=2;c>a;a++)b=this.renderRange(a).append(),this.shapes[b.id]="r"+a,this.valueShapes["r"+a]=b.id;null!==this.values[1]&&(b=this.renderPerformance().append(),this.shapes[b.id]="p1",this.valueShapes.p1=b.id),null!==this.values[0]&&(b=this.renderTarget().append(),this.shapes[b.id]="t0",this.valueShapes.t0=b.id),d.render()}}}),d.fn.sparkline.pie=B=f(d.fn.sparkline._base,{type:"pie",init:function(a,c,e,f,g){var h,i=0;if(B._super.init.call(this,a,c,e,f,g),this.shapes={},this.valueShapes={},this.values=c=d.map(c,Number),"auto"===e.get("width")&&(this.width=this.height),c.length>0)for(h=c.length;h--;)i+=c[h];this.total=i,this.initTarget(),this.radius=b.floor(b.min(this.canvasWidth,this.canvasHeight)/2)},getRegion:function(a,b,d){var e=this.target.getShapeAt(a,b,d);return e!==c&&this.shapes[e]!==c?this.shapes[e]:c},getCurrentRegionFields:function(){var a=this.currentRegion;return{isNull:this.values[a]===c,value:this.values[a],percent:this.values[a]/this.total*100,color:this.options.get("sliceColors")[a%this.options.get("sliceColors").length],offset:a}},changeHighlight:function(a){var b=this.currentRegion,c=this.renderSlice(b,a),d=this.valueShapes[b];delete this.shapes[d],this.target.replaceWithShape(d,c),this.valueShapes[b]=c.id,this.shapes[c.id]=b},renderSlice:function(a,d){var e,f,g,h,i,j=this.target,k=this.options,l=this.radius,m=k.get("borderWidth"),n=k.get("offset"),o=2*b.PI,p=this.values,q=this.total,r=n?2*b.PI*(n/360):0;for(h=p.length,g=0;h>g;g++){if(e=r,f=r,q>0&&(f=r+o*(p[g]/q)),a===g)return i=k.get("sliceColors")[g%k.get("sliceColors").length],d&&(i=this.calcHighlightColor(i,k)),j.drawPieSlice(l,l,l-m,e,f,c,i);r=f}},render:function(){var a,d,e=this.target,f=this.values,g=this.options,h=this.radius,i=g.get("borderWidth");if(B._super.render.call(this)){for(i&&e.drawCircle(h,h,b.floor(h-i/2),g.get("borderColor"),c,i).append(),d=f.length;d--;)f[d]&&(a=this.renderSlice(d).append(),this.valueShapes[d]=a.id,this.shapes[a.id]=d);e.render()}}}),d.fn.sparkline.box=C=f(d.fn.sparkline._base,{type:"box",init:function(a,b,c,e,f){C._super.init.call(this,a,b,c,e,f),this.values=d.map(b,Number),this.width="auto"===c.get("width")?"4.0em":e,this.initTarget(),this.values.length||(this.disabled=1)},getRegion:function(){return 1},getCurrentRegionFields:function(){var a=[{field:"lq",value:this.quartiles[0]},{field:"med",value:this.quartiles[1]},{field:"uq",value:this.quartiles[2]}];return this.loutlier!==c&&a.push({field:"lo",value:this.loutlier}),this.routlier!==c&&a.push({field:"ro",value:this.routlier}),this.lwhisker!==c&&a.push({field:"lw",value:this.lwhisker}),this.rwhisker!==c&&a.push({field:"rw",value:this.rwhisker}),a},render:function(){var a,d,e,f,g,h,j,k,l,m,n,o=this.target,p=this.values,q=p.length,r=this.options,s=this.canvasWidth,t=this.canvasHeight,u=r.get("chartRangeMin")===c?b.min.apply(b,p):r.get("chartRangeMin"),v=r.get("chartRangeMax")===c?b.max.apply(b,p):r.get("chartRangeMax"),w=0;if(C._super.render.call(this)){if(r.get("raw"))r.get("showOutliers")&&p.length>5?(d=p[0],a=p[1],f=p[2],g=p[3],h=p[4],j=p[5],k=p[6]):(a=p[0],f=p[1],g=p[2],h=p[3],j=p[4]);else if(p.sort(function(a,b){return a-b}),f=i(p,1),g=i(p,2),h=i(p,3),e=h-f,r.get("showOutliers")){for(a=j=c,l=0;q>l;l++)a===c&&p[l]>f-e*r.get("outlierIQR")&&(a=p[l]),p[l]<h+e*r.get("outlierIQR")&&(j=p[l]);d=p[0],k=p[q-1]}else a=p[0],j=p[q-1];this.quartiles=[f,g,h],this.lwhisker=a,this.rwhisker=j,this.loutlier=d,this.routlier=k,n=s/(v-u+1),r.get("showOutliers")&&(w=b.ceil(r.get("spotRadius")),s-=2*b.ceil(r.get("spotRadius")),n=s/(v-u+1),a>d&&o.drawCircle((d-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append(),k>j&&o.drawCircle((k-u)*n+w,t/2,r.get("spotRadius"),r.get("outlierLineColor"),r.get("outlierFillColor")).append()),o.drawRect(b.round((f-u)*n+w),b.round(.1*t),b.round((h-f)*n),b.round(.8*t),r.get("boxLineColor"),r.get("boxFillColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/2),b.round((f-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((a-u)*n+w),b.round(t/4),b.round((a-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/2),b.round((h-u)*n+w),b.round(t/2),r.get("lineColor")).append(),o.drawLine(b.round((j-u)*n+w),b.round(t/4),b.round((j-u)*n+w),b.round(t-t/4),r.get("whiskerColor")).append(),o.drawLine(b.round((g-u)*n+w),b.round(.1*t),b.round((g-u)*n+w),b.round(.9*t),r.get("medianColor")).append(),r.get("target")&&(m=b.ceil(r.get("spotRadius")),o.drawLine(b.round((r.get("target")-u)*n+w),b.round(t/2-m),b.round((r.get("target")-u)*n+w),b.round(t/2+m),r.get("targetColor")).append(),o.drawLine(b.round((r.get("target")-u)*n+w-m),b.round(t/2),b.round((r.get("target")-u)*n+w+m),b.round(t/2),r.get("targetColor")).append()),o.render()}}}),F=f({init:function(a,b,c,d){this.target=a,this.id=b,this.type=c,this.args=d},append:function(){return this.target.appendShape(this),this}}),G=f({_pxregex:/(\d+)(px)?\s*$/i,init:function(a,b,c){a&&(this.width=a,this.height=b,this.target=c,this.lastShapeId=null,c[0]&&(c=c[0]),d.data(c,"_jqs_vcanvas",this))},drawLine:function(a,b,c,d,e,f){return this.drawShape([[a,b],[c,d]],e,f)},drawShape:function(a,b,c,d){return this._genShape("Shape",[a,b,c,d])},drawCircle:function(a,b,c,d,e,f){return this._genShape("Circle",[a,b,c,d,e,f])},drawPieSlice:function(a,b,c,d,e,f,g){return this._genShape("PieSlice",[a,b,c,d,e,f,g])},drawRect:function(a,b,c,d,e,f){return this._genShape("Rect",[a,b,c,d,e,f])},getElement:function(){return this.canvas},getLastShapeId:function(){return this.lastShapeId},reset:function(){alert("reset not implemented")},_insert:function(a,b){d(b).html(a)},_calculatePixelDims:function(a,b,c){var e;e=this._pxregex.exec(b),this.pixelHeight=e?e[1]:d(c).height(),e=this._pxregex.exec(a),this.pixelWidth=e?e[1]:d(c).width()},_genShape:function(a,b){var c=L++;return b.unshift(c),new F(this,c,a,b)},appendShape:function(){alert("appendShape not implemented")},replaceWithShape:function(){alert("replaceWithShape not implemented")},insertAfterShape:function(){alert("insertAfterShape not implemented")},removeShapeId:function(){alert("removeShapeId not implemented")},getShapeAt:function(){alert("getShapeAt not implemented")},render:function(){alert("render not implemented")}}),H=f(G,{init:function(b,e,f,g){H._super.init.call(this,b,e,f),this.canvas=a.createElement("canvas"),f[0]&&(f=f[0]),d.data(f,"_jqs_vcanvas",this),d(this.canvas).css({display:"inline-block",width:b,height:e,verticalAlign:"top"}),this._insert(this.canvas,f),this._calculatePixelDims(b,e,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,this.interact=g,this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c,d(this.canvas).css({width:this.pixelWidth,height:this.pixelHeight})},_getContext:function(a,b,d){var e=this.canvas.getContext("2d");return a!==c&&(e.color=a),e.width=d===c?1:d,b!==c&&(e.fillStyle=b),e},reset:function(){var a=this._getContext();a.clearRect(0,0,this.pixelWidth,this.pixelHeight),this.shapes={},this.shapeseq=[],this.currentTargetShapeId=c},_drawShape:function(a,b,d,e,f){var g,h,i=this._getContext(d,e,f);for(i.beginPath(),i.moveTo(b[0][0]+.5,b[0][1]+.5),g=1,h=b.length;h>g;g++)i.lineTo(b[g][0]+.5,b[g][1]+.5);d!==c&&i.stroke(),e!==c&&i.fill(),this.targetX!==c&&this.targetY!==c&&i.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawCircle:function(a,d,e,f,g,h,i){var j=this._getContext(g,h,i);j.beginPath(),j.arc(d,e,f,0,2*b.PI,!1),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a),g!==c&&j.stroke(),h!==c&&j.fill()},_drawPieSlice:function(a,b,d,e,f,g,h,i){var j=this._getContext(h,i);j.beginPath(),j.moveTo(b,d),j.arc(b,d,e,f,g,!1),j.lineTo(b,d),j.closePath(),h!==c&&j.stroke(),i&&j.fill(),this.targetX!==c&&this.targetY!==c&&j.isPointInPath(this.targetX,this.targetY)&&(this.currentTargetShapeId=a)},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b+d,c],[b+d,c+e],[b,c+e],[b,c]],f,g)},appendShape:function(a){return this.shapes[a.id]=a,this.shapeseq.push(a.id),this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c,d=this.shapeseq;for(this.shapes[b.id]=b,c=d.length;c--;)d[c]==a&&(d[c]=b.id);delete this.shapes[a]},replaceWithShapes:function(a,b){var c,d,e,f=this.shapeseq,g={};for(d=a.length;d--;)g[a[d]]=!0;for(d=f.length;d--;)c=f[d],g[c]&&(f.splice(d,1),delete this.shapes[c],e=d);for(d=b.length;d--;)f.splice(e,0,b[d].id),this.shapes[b[d].id]=b[d]},insertAfterShape:function(a,b){var c,d=this.shapeseq;for(c=d.length;c--;)if(d[c]===a)return d.splice(c+1,0,b.id),void(this.shapes[b.id]=b)},removeShapeId:function(a){var b,c=this.shapeseq;for(b=c.length;b--;)if(c[b]===a){c.splice(b,1);break}delete this.shapes[a]},getShapeAt:function(a,b,c){return this.targetX=b,this.targetY=c,this.render(),this.currentTargetShapeId},render:function(){var a,b,c,d=this.shapeseq,e=this.shapes,f=d.length,g=this._getContext();for(g.clearRect(0,0,this.pixelWidth,this.pixelHeight),c=0;f>c;c++)a=d[c],b=e[a],this["_draw"+b.type].apply(this,b.args);this.interact||(this.shapes={},this.shapeseq=[])}}),I=f(G,{init:function(b,c,e){var f;I._super.init.call(this,b,c,e),e[0]&&(e=e[0]),d.data(e,"_jqs_vcanvas",this),this.canvas=a.createElement("span"),d(this.canvas).css({display:"inline-block",position:"relative",overflow:"hidden",width:b,height:c,margin:"0px",padding:"0px",verticalAlign:"top"}),this._insert(this.canvas,e),this._calculatePixelDims(b,c,this.canvas),this.canvas.width=this.pixelWidth,this.canvas.height=this.pixelHeight,f='<v:group coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'" style="position:absolute;top:0;left:0;width:'+this.pixelWidth+"px;height="+this.pixelHeight+'px;"></v:group>',this.canvas.insertAdjacentHTML("beforeEnd",f),this.group=d(this.canvas).children()[0],this.rendered=!1,this.prerender=""},_drawShape:function(a,b,d,e,f){var g,h,i,j,k,l,m,n=[];for(m=0,l=b.length;l>m;m++)n[m]=""+b[m][0]+","+b[m][1];return g=n.splice(0,1),f=f===c?1:f,h=d===c?' stroked="false" ':' strokeWeight="'+f+'px" strokeColor="'+d+'" ',i=e===c?' filled="false"':' fillColor="'+e+'" filled="true" ',j=n[0]===n[n.length-1]?"x ":"",k='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+h+i+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+g+" l "+n.join(", ")+" "+j+'e"> </v:shape>'},_drawCircle:function(a,b,d,e,f,g,h){var i,j,k;return b-=e,d-=e,i=f===c?' stroked="false" ':' strokeWeight="'+h+'px" strokeColor="'+f+'" ',j=g===c?' filled="false"':' fillColor="'+g+'" filled="true" ',k='<v:oval  id="jqsshape'+a+'" '+i+j+' style="position:absolute;top:'+d+"px; left:"+b+"px; width:"+2*e+"px; height:"+2*e+'px"></v:oval>'},_drawPieSlice:function(a,d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r;if(g===h)return"";if(h-g===2*b.PI&&(g=0,h=2*b.PI),l=d+b.round(b.cos(g)*f),m=e+b.round(b.sin(g)*f),n=d+b.round(b.cos(h)*f),o=e+b.round(b.sin(h)*f),l===n&&m===o){if(h-g<b.PI)return"";l=n=d+f,m=o=e}return l===n&&m===o&&h-g<b.PI?"":(k=[d-f,e-f,d+f,e+f,l,m,n,o],p=i===c?' stroked="false" ':' strokeWeight="1px" strokeColor="'+i+'" ',q=j===c?' filled="false"':' fillColor="'+j+'" filled="true" ',r='<v:shape coordorigin="0 0" coordsize="'+this.pixelWidth+" "+this.pixelHeight+'"  id="jqsshape'+a+'" '+p+q+' style="position:absolute;left:0px;top:0px;height:'+this.pixelHeight+"px;width:"+this.pixelWidth+'px;padding:0px;margin:0px;"  path="m '+d+","+e+" wa "+k.join(", ")+' x e"> </v:shape>')},_drawRect:function(a,b,c,d,e,f,g){return this._drawShape(a,[[b,c],[b,c+e],[b+d,c+e],[b+d,c],[b,c]],f,g)},reset:function(){this.group.innerHTML=""},appendShape:function(a){var b=this["_draw"+a.type].apply(this,a.args);return this.rendered?this.group.insertAdjacentHTML("beforeEnd",b):this.prerender+=b,this.lastShapeId=a.id,a.id},replaceWithShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].outerHTML=e},replaceWithShapes:function(a,b){var c,e=d("#jqsshape"+a[0]),f="",g=b.length;for(c=0;g>c;c++)f+=this["_draw"+b[c].type].apply(this,b[c].args);for(e[0].outerHTML=f,c=1;c<a.length;c++)d("#jqsshape"+a[c]).remove()},insertAfterShape:function(a,b){var c=d("#jqsshape"+a),e=this["_draw"+b.type].apply(this,b.args);c[0].insertAdjacentHTML("afterEnd",e)},removeShapeId:function(a){var b=d("#jqsshape"+a);this.group.removeChild(b[0])},getShapeAt:function(a){var b=a.id.substr(8);return b},render:function(){this.rendered||(this.group.innerHTML=this.prerender,this.rendered=!0)}})})}(document,Math),function(a){a(["jquery"],function(a){return function(){function b(a,b,c){return m({type:t.error,iconClass:o().iconClasses.error,message:a,optionsOverride:c,title:b})}function c(a,b,c){return m({type:t.info,iconClass:o().iconClasses.info,message:a,optionsOverride:c,title:b})}function d(a){r=a}function e(a,b,c){return m({type:t.success,iconClass:o().iconClasses.success,message:a,optionsOverride:c,title:b})}function f(a,b,c){return m({type:t.warning,iconClass:o().iconClasses.warning,message:a,optionsOverride:c,title:b})}function g(a){var b=o();q||n(b),j(a,b)||i(b)}function h(b){var c=o();return q||n(c),b&&0===a(":focus",b).length?void p(b):void(q.children().length&&q.remove())}function i(b){for(var c=q.children(),d=c.length-1;d>=0;d--)j(a(c[d]),b)}function j(b,c){return b&&0===a(":focus",b).length?(b[c.hideMethod]({duration:c.hideDuration,easing:c.hideEasing,complete:function(){p(b)}}),!0):!1}function k(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function l(a){r&&r(a)}function m(b){function c(b){return!a(":focus",i).length||b?i[f.hideMethod]({duration:f.hideDuration,easing:f.hideEasing,complete:function(){p(i),f.onHidden&&"hidden"!==r.state&&f.onHidden(),r.state="hidden",r.endTime=new Date,l(r)}}):void 0}function d(){(f.timeOut>0||f.extendedTimeOut>0)&&(h=setTimeout(c,f.extendedTimeOut))}function e(){clearTimeout(h),i.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}var f=o(),g=b.iconClass||f.iconClass;"undefined"!=typeof b.optionsOverride&&(f=a.extend(f,b.optionsOverride),g=b.optionsOverride.iconClass||g),s++,q=n(f);var h=null,i=a("<div/>"),j=a("<div/>"),k=a("<div/>"),m=a(f.closeHtml),r={toastId:s,state:"visible",startTime:new Date,options:f,map:b};return b.iconClass&&i.addClass(f.toastClass).addClass(g),b.title&&(j.append(b.title).addClass(f.titleClass),i.append(j)),b.message&&(k.append(b.message).addClass(f.messageClass),i.append(k)),f.closeButton&&(m.addClass("toast-close-button").attr("role","button"),i.prepend(m)),i.hide(),f.newestOnTop?q.prepend(i):q.append(i),i[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown}),f.timeOut>0&&(h=setTimeout(c,f.timeOut)),i.hover(e,d),!f.onclick&&f.tapToDismiss&&i.click(c),f.closeButton&&m&&m.click(function(a){a.stopPropagation?a.stopPropagation():void 0!==a.cancelBubble&&a.cancelBubble!==!0&&(a.cancelBubble=!0),c(!0)}),f.onclick&&i.click(function(){f.onclick(),c()}),l(r),f.debug&&console&&console.log(r),i}function n(b){return b||(b=o()),q=a("#"+b.containerId),q.length?q:(q=a("<div/>").attr("id",b.containerId).addClass(b.positionClass).attr("aria-live","polite").attr("role","alert"),q.appendTo(a(b.target)),q)}function o(){return a.extend({},k(),u.options)}function p(a){q||(q=n()),a.is(":visible")||(a.remove(),a=null,0===q.children().length&&q.remove())}var q,r,s=0,t={error:"error",info:"info",success:"success",warning:"warning"},u={clear:g,remove:h,error:b,getContainer:n,info:c,options:{},subscribe:d,success:e,version:"2.0.2",warning:f};return u}()})}("function"==typeof define&&define.amd?define:function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require("jquery")):window.toastr=b(window.jQuery)}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/popup.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});{c[0].offsetWidth}c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(this.groups.indexOf(a),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function(a){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(b,c,d,e){var f,g;e.addGroup(b),b.isOpen=!1,d.isOpen&&(f=a(d.isOpen),g=f.assign,b.$parent.$watch(f,function(a){b.isOpen=!!a})),b.$watch("isOpen",function(a){a&&e.closeOthers(b),g&&g(b.$parent,a)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(a,b,c){return function(a,b,d,e){e.setHeading(c(a,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){b.hasClass(e.activeClass)||a.$apply(function(){f.$setViewValue(a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function(a,b,c){function d(){e();var c=+a.interval;!isNaN(c)&&c>=0&&(g=b(f,c))}function e(){g&&(b.cancel(g),g=null)}function f(){h?(a.next(),d()):a.pause()}var g,h,i=this,j=i.slides=[],k=-1;i.currentSlide=null;var l=!1;i.select=function(e,f){function g(){if(!l){if(i.currentSlide&&angular.isString(f)&&!a.noTransition&&e.$element){e.$element.addClass(f);{e.$element[0].offsetWidth}angular.forEach(j,function(a){angular.extend(a,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(e,{direction:f,active:!0,entering:!0}),angular.extend(i.currentSlide||{},{direction:f,leaving:!0}),a.$currentTransition=c(e.$element,{}),function(b,c){a.$currentTransition.then(function(){h(b,c)},function(){h(b,c)})}(e,i.currentSlide)}else h(e,i.currentSlide);i.currentSlide=e,k=m,d()}}function h(b,c){angular.extend(b,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(c||{},{direction:"",active:!1,leaving:!1,entering:!1}),a.$currentTransition=null}var m=j.indexOf(e);void 0===f&&(f=m>k?"next":"prev"),e&&e!==i.currentSlide&&(a.$currentTransition?(a.$currentTransition.cancel(),b(g)):g())},a.$on("$destroy",function(){l=!0}),i.indexOfSlide=function(a){return j.indexOf(a)},a.next=function(){var b=(k+1)%j.length;return a.$currentTransition?void 0:i.select(j[b],"next")},a.prev=function(){var b=0>k-1?j.length-1:k-1;return a.$currentTransition?void 0:i.select(j[b],"prev")},a.select=function(a){i.select(a)},a.isActive=function(a){return i.currentSlide===a},a.slides=function(){return j},a.$watch("interval",d),a.$on("$destroy",e),a.play=function(){h||(h=!0,d())},a.pause=function(){a.noPause||(h=!1,e())},i.addSlide=function(b,c){b.$element=c,j.push(b),1===j.length||b.active?(i.select(j[j.length-1]),1==j.length&&a.play()):b.active=!1},i.removeSlide=function(a){var b=j.indexOf(a);j.splice(b,1),j.length>0&&a.active?i.select(b>=j.length?j[b-1]:j[b]):k>b&&k--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function(a){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(b,c,d,e){if(d.active){var f=a(d.active),g=f.assign,h=b.active=f(b.$parent);b.$watch(function(){var a=f(b.$parent);return a!==b.active&&(a!==h?h=b.active=a:g(b.$parent,a=h=b.active)),a})}e.addSlide(b,c),b.$on("$destroy",function(){e.removeSlide(b)}),b.$watch("active",function(a){a&&e.select(b)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].body.scrollTop||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].body.scrollLeft||a[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(a,b,c,d){function e(b,c){return angular.isDefined(b)?a.$parent.$eval(b):c}function f(a,b){return new Date(a,b,0).getDate()}function g(a,b){for(var c=new Array(b),d=a,e=0;b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);
return c}function h(a,b,d,e){return{date:a,label:c(a,b),selected:!!d,secondary:!!e}}var i={day:e(b.dayFormat,d.dayFormat),month:e(b.monthFormat,d.monthFormat),year:e(b.yearFormat,d.yearFormat),dayHeader:e(b.dayHeaderFormat,d.dayHeaderFormat),dayTitle:e(b.dayTitleFormat,d.dayTitleFormat),monthTitle:e(b.monthTitleFormat,d.monthTitleFormat)},j=e(b.startingDay,d.startingDay),k=e(b.yearRange,d.yearRange);this.minDate=d.minDate?new Date(d.minDate):null,this.maxDate=d.maxDate?new Date(d.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(a,b){var d=a.getFullYear(),e=a.getMonth(),k=new Date(d,e,1),l=j-k.getDay(),m=l>0?7-l:-l,n=new Date(k),o=0;m>0&&(n.setDate(-m+1),o+=m),o+=f(d,e+1),o+=(7-o%7)%7;for(var p=g(n,o),q=new Array(7),r=0;o>r;r++){var s=new Date(p[r]);p[r]=h(s,i.day,b&&b.getDate()===s.getDate()&&b.getMonth()===s.getMonth()&&b.getFullYear()===s.getFullYear(),s.getMonth()!==e)}for(var t=0;7>t;t++)q[t]=c(p[t].date,i.dayHeader);return{objects:p,title:c(a,i.dayTitle),labels:q}},compare:function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(a,b){for(var d=new Array(12),e=a.getFullYear(),f=0;12>f;f++){var g=new Date(e,f,1);d[f]=h(g,i.month,b&&b.getMonth()===f&&b.getFullYear()===e)}return{objects:d,title:c(a,i.monthTitle)}},compare:function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(a,b){for(var c=new Array(k),d=a.getFullYear(),e=parseInt((d-1)/k,10)*k+1,f=0;k>f;f++){var g=new Date(e+f,0,1);c[f]=h(g,i.year,b&&b.getFullYear()===g.getFullYear())}return{objects:c,title:[c[0].label,c[k-1].label].join(" - ")}},compare:function(a,b){return a.getFullYear()-b.getFullYear()},split:5,step:{years:k}}],this.isDisabled=function(b,c){var d=this.modes[c||0];return this.minDate&&d.compare(b,this.minDate)<0||this.maxDate&&d.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:d.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(a,b,c,d){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,e,f,g){function h(){a.showWeekNumbers=0===o&&q}function i(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c}function j(b){var c=null,e=!0;n.$modelValue&&(c=new Date(n.$modelValue),isNaN(c)?(e=!1,d.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):b&&(p=c)),n.$setValidity("date",e);var f=m.modes[o],g=f.getVisibleDates(p,c);angular.forEach(g.objects,function(a){a.disabled=m.isDisabled(a.date,o)}),n.$setValidity("date-disabled",!c||!m.isDisabled(c)),a.rows=i(g.objects,f.split),a.labels=g.labels||[],a.title=g.title}function k(a){o=a,h(),j()}function l(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var m=g[0],n=g[1];if(n){var o=0,p=new Date,q=c.showWeeks;f.showWeeks?a.$parent.$watch(b(f.showWeeks),function(a){q=!!a,h()}):h(),f.min&&a.$parent.$watch(b(f.min),function(a){m.minDate=a?new Date(a):null,j()}),f.max&&a.$parent.$watch(b(f.max),function(a){m.maxDate=a?new Date(a):null,j()}),n.$render=function(){j(!0)},a.select=function(a){if(0===o){var b=n.$modelValue?new Date(n.$modelValue):new Date(0,0,0,0,0,0,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),n.$setViewValue(b),j(!0)}else p=a,k(o-1)},a.move=function(a){var b=m.modes[o].step;p.setMonth(p.getMonth()+a*(b.months||0)),p.setFullYear(p.getFullYear()+a*(b.years||0)),j()},a.toggleMode=function(){k((o+1)%m.modes.length)},a.getWeekNumber=function(b){return 0===o&&a.showWeekNumbers&&7===b.length?l(b[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",currentText:"Today",toggleWeeksText:"Weeks",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig","datepickerConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",link:function(h,i,j,k){function l(a){u?u(h,!!a):q.isOpen=!!a}function m(a){if(a){if(angular.isDate(a))return k.$setValidity("date",!0),a;if(angular.isString(a)){var b=new Date(a);return isNaN(b)?void k.$setValidity("date",!1):(k.$setValidity("date",!0),b)}return void k.$setValidity("date",!1)}return k.$setValidity("date",!0),null}function n(a,c,d){a&&(h.$watch(b(a),function(a){q[c]=a}),y.attr(d||c,c))}function o(){q.position=s?d.offset(i):d.position(i),q.position.top=q.position.top+i.prop("offsetHeight")}var p,q=h.$new(),r=angular.isDefined(j.closeOnDateSelection)?h.$eval(j.closeOnDateSelection):f.closeOnDateSelection,s=angular.isDefined(j.datepickerAppendToBody)?h.$eval(j.datepickerAppendToBody):f.appendToBody;j.$observe("datepickerPopup",function(a){p=a||f.dateFormat,k.$render()}),q.showButtonBar=angular.isDefined(j.showButtonBar)?h.$eval(j.showButtonBar):f.showButtonBar,h.$on("$destroy",function(){C.remove(),q.$destroy()}),j.$observe("currentText",function(a){q.currentText=angular.isDefined(a)?a:f.currentText}),j.$observe("toggleWeeksText",function(a){q.toggleWeeksText=angular.isDefined(a)?a:f.toggleWeeksText}),j.$observe("clearText",function(a){q.clearText=angular.isDefined(a)?a:f.clearText}),j.$observe("closeText",function(a){q.closeText=angular.isDefined(a)?a:f.closeText});var t,u;j.isOpen&&(t=b(j.isOpen),u=t.assign,h.$watch(t,function(a){q.isOpen=!!a})),q.isOpen=t?t(h):!1;var v=function(a){q.isOpen&&a.target!==i[0]&&q.$apply(function(){l(!1)})},w=function(){q.$apply(function(){l(!0)})},x=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");x.attr({"ng-model":"date","ng-change":"dateSelection()"});var y=angular.element(x.children()[0]),z={};j.datepickerOptions&&(z=h.$eval(j.datepickerOptions),y.attr(angular.extend({},z))),k.$parsers.unshift(m),q.dateSelection=function(a){angular.isDefined(a)&&(q.date=a),k.$setViewValue(q.date),k.$render(),r&&l(!1)},i.bind("input change keyup",function(){q.$apply(function(){q.date=k.$modelValue})}),k.$render=function(){var a=k.$viewValue?e(k.$viewValue,p):"";i.val(a),q.date=k.$modelValue},n(j.min,"min"),n(j.max,"max"),j.showWeeks?n(j.showWeeks,"showWeeks","show-weeks"):(q.showWeeks="show-weeks"in z?z["show-weeks"]:g.showWeeks,y.attr("show-weeks","showWeeks")),j.dateDisabled&&y.attr("date-disabled",j.dateDisabled);var A=!1,B=!1;q.$watch("isOpen",function(a){a?(o(),c.bind("click",v),B&&i.unbind("focus",w),i[0].focus(),A=!0):(A&&c.unbind("click",v),i.bind("focus",w),B=!0),u&&u(h,a)}),q.today=function(){q.dateSelection(new Date)},q.clear=function(){q.dateSelection(null)};var C=a(x)(q);s?c.find("body").append(C):i.after(C)}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function(a){var b=null,c=angular.noop;return{restrict:"CA",link:function(d,e){d.$watch("$location.path",function(){c()}),e.parent().bind("click",function(){c()}),e.bind("click",function(d){var f=e===b;d.preventDefault(),d.stopPropagation(),b&&c(),f||e.hasClass("disabled")||e.prop("disabled")||(e.parent().addClass("open"),b=e,c=function(d){d&&(d.preventDefault(),d.stopPropagation()),a.unbind("click",c),e.parent().removeClass("open"),c=angular.noop,b=null},a.bind("click",c))})}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(b){b.animate=!1,a(function(){b.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(c,d,e){c.windowClass=e.windowClass||"",b(function(){c.animate=!0,d[0].focus()}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=n.keys(),c=0;c<b.length;c++)n.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=n.get(a).value;n.remove(a),j(d.modalDomEl,d.modalScope,300,i),b.toggleClass(m,n.length()>0)}function i(){if(k&&-1==g()){var a=l;j(k,l,150,function(){a.$destroy(),a=null}),k=void 0,l=void 0}}function j(c,d,e,f){function g(){g.done||(g.done=!0,c.remove(),f&&f())}d.animate=!1;var h=a.transitionEndEventName;if(h){var i=b(g,e);c.bind(h,function(){b.cancel(i),g(),d.$apply()})}else b(g,0)}var k,l,m="modal-open",n=f.createNew(),o={};return e.$watch(g,function(a){l&&(l.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=n.top(),b&&b.value.keyboard&&e.$apply(function(){o.dismiss(b.key)}))}),o.open=function(a,b){n.add(a,{deferred:b.deferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var f=c.find("body").eq(0),h=g();h>=0&&!k&&(l=e.$new(!0),l.index=h,k=d("<div modal-backdrop></div>")(l),f.append(k));var i=angular.element("<div modal-window></div>");i.attr("window-class",b.windowClass),i.attr("index",n.length()-1),i.attr("animate","animate"),i.html(b.content);var j=d(i)(b.scope);n.top().value.modalDomEl=j,f.append(j),f.addClass(m)},o.close=function(a,b){var c=n.get(a).value;c&&(c.deferred.resolve(b),h(a))},o.dismiss=function(a,b){var c=n.get(a).value;c&&(c.deferred.reject(b),h(a))},o.dismissAll=function(a){for(var b=this.getTop();b;)this.dismiss(b.key,a),b=this.getTop()},o.getTop=function(){return n.top()},o}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,windowClass:b.windowClass})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(a,b,c,d){var e=this,f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(d){b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){e.itemsPerPage=parseInt(b,10),a.totalPages=e.calculateTotalPages()}):this.itemsPerPage=d},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===a.totalPages},this.isActive=function(a){return this.page===a},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.getAttributeValue=function(b,c,e){return angular.isDefined(b)?e?d(b)(a.$parent):a.$parent.$eval(b):c},this.render=function(){this.page=parseInt(a.page,10)||1,this.page>0&&this.page<=a.totalPages&&(a.pages=this.getPages(this.page,a.totalPages))},a.selectPage=function(b){!e.isActive(b)&&b>0&&b<=a.totalPages&&(a.page=b,a.onSelectPage({page:b}))},a.$watch("page",function(){e.render()}),a.$watch("totalItems",function(){a.totalPages=e.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),e.page>b?a.selectPage(b):e.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c,d){return{number:a,text:b,active:c,disabled:d}}var h,i=f.getAttributeValue(e.boundaryLinks,b.boundaryLinks),j=f.getAttributeValue(e.directionLinks,b.directionLinks),k=f.getAttributeValue(e.firstText,b.firstText,!0),l=f.getAttributeValue(e.previousText,b.previousText,!0),m=f.getAttributeValue(e.nextText,b.nextText,!0),n=f.getAttributeValue(e.lastText,b.lastText,!0),o=f.getAttributeValue(e.rotate,b.rotate);f.init(b.itemsPerPage),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){h=parseInt(a,10),f.render()}),f.getPages=function(a,b){var c=[],d=1,e=b,p=angular.isDefined(h)&&b>h;p&&(o?(d=Math.max(a-Math.floor(h/2),1),e=d+h-1,e>b&&(e=b,d=e-h+1)):(d=(Math.ceil(a/h)-1)*h+1,e=Math.min(d+h-1,b)));for(var q=d;e>=q;q++){var r=g(q,q,f.isActive(q),!1);c.push(r)}if(p&&!o){if(d>1){var s=g(d-1,"...",!1,!1);c.unshift(s)}if(b>e){var t=g(e+1,"...",!1,!1);c.push(t)}}if(j){var u=g(a-1,l,!1,f.noPrevious());c.unshift(u);var v=g(a+1,m,!1,f.noNext());c.push(v)}if(i){var w=g(1,k,!1,f.noPrevious());c.unshift(w);var x=g(b,n,!1,f.noNext());c.push(x)}return c}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){function f(a,b,c,d,e){return{number:a,text:b,disabled:c,previous:i&&d,next:i&&e}}var g=e.getAttributeValue(d.previousText,a.previousText,!0),h=e.getAttributeValue(d.nextText,a.nextText,!0),i=e.getAttributeValue(d.align,a.align);e.init(a.itemsPerPage),e.getPages=function(a){return[f(a-1,g,e.noPrevious(),!0,!1),f(a+1,h,e.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<div "+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var a=f(s);return function(b,c,d){function f(){b.tt_isOpen?m():k()}function k(){(!z||b.$eval(d[l+"Enable"]))&&(b.tt_popupDelay?(v=g(p,b.tt_popupDelay,!1),v.then(function(a){a()})):p()())}function m(){b.$apply(function(){q()})}function p(){return b.tt_content?(r(),u&&g.cancel(u),t.css({top:0,left:0,display:"block"}),w?i.find("body").append(t):c.after(t),A(),b.tt_isOpen=!0,b.$digest(),A):angular.noop}function q(){b.tt_isOpen=!1,g.cancel(v),b.tt_animation?u=g(s,500):s()}function r(){t&&s(),t=a(b,function(){}),b.$digest()}function s(){t&&(t.remove(),t=null)}var t,u,v,w=angular.isDefined(o.appendToBody)?o.appendToBody:!1,x=n(void 0),y=!1,z=angular.isDefined(d[l+"Enable"]),A=function(){var a,d,e,f;switch(a=w?j.offset(c):j.position(c),d=t.prop("offsetWidth"),e=t.prop("offsetHeight"),b.tt_placement){case"right":f={top:a.top+a.height/2-e/2,left:a.left+a.width};break;case"bottom":f={top:a.top+a.height,left:a.left+a.width/2-d/2};break;case"left":f={top:a.top+a.height/2-e/2,left:a.left-d};break;default:f={top:a.top-e,left:a.left+a.width/2-d/2}}f.top+="px",f.left+="px",t.css(f)};b.tt_isOpen=!1,d.$observe(e,function(a){b.tt_content=a,!a&&b.tt_isOpen&&q()}),d.$observe(l+"Title",function(a){b.tt_title=a}),d.$observe(l+"Placement",function(a){b.tt_placement=angular.isDefined(a)?a:o.placement}),d.$observe(l+"PopupDelay",function(a){var c=parseInt(a,10);b.tt_popupDelay=isNaN(c)?o.popupDelay:c});var B=function(){y&&(c.unbind(x.show,k),c.unbind(x.hide,m))};d.$observe(l+"Trigger",function(a){B(),x=n(a),x.show===x.hide?c.bind(x.show,f):(c.bind(x.show,k),c.bind(x.hide,m)),y=!0});var C=b.$eval(d[l+"Animation"]);b.tt_animation=angular.isDefined(C)?!!C:o.animation,d.$observe(l+"AppendToBody",function(a){w=angular.isDefined(a)?h(a)(b):w}),w&&b.$on("$locationChangeSuccess",function(){b.tt_isOpen&&q()}),b.$on("$destroy",function(){g.cancel(u),g.cancel(v),B(),s()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function(a,b,c,d){var e=this,f=[],g=angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max,h=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.addBar=function(a,b){var c=0,d=a.$parent.$index;angular.isDefined(d)&&f[d]&&(c=f[d].value),f.push(a),this.update(b,a.value,c),a.$watch("value",function(a,c){a!==c&&e.update(b,a,c)}),a.$on("$destroy",function(){e.removeBar(a)})},this.update=function(a,b,c){var e=this.getPercentage(b);h?(a.css("width",this.getPercentage(c)+"%"),d(a,{width:e+"%"})):a.css({transition:"none",width:e+"%"})},this.removeBar=function(a){f.splice(f.indexOf(a),1)},this.getPercentage=function(a){return Math.round(100*a/g)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function(a,b,c,d){this.maxRange=angular.isDefined(b.max)?a.$parent.$eval(b.max):d.max,this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):d.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):d.stateOff,this.createRateObjects=function(a){for(var b={stateOn:this.stateOn,stateOff:this.stateOff},c=0,d=a.length;d>c;c++)a[c]=angular.extend({index:c},b,a[c]);return a},a.range=this.createRateObjects(angular.isDefined(b.ratingStates)?angular.copy(a.$parent.$eval(b.ratingStates)):new Array(this.maxRange)),a.rate=function(b){a.value===b||a.readonly||(a.value=b)},a.enter=function(b){a.readonly||(a.val=b),a.onHover({value:b})},a.reset=function(){a.val=angular.copy(a.value),a.onLeave()},a.$watch("value",function(b){a.val=b}),a.readonly=!1,b.readonly&&a.$parent.$watch(c(b.readonly),function(b){a.readonly=!!b})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(a){a.active=!1}),a.active=!0},b.addTab=function(a){c.push(a),(1===c.length||a.active)&&b.select(a)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1,a.type=angular.isDefined(c.type)?a.$parent.$eval(c.type):"tabs"}}}).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){var g,h;e.active?(g=a(e.active),h=g.assign,b.$parent.$watch(g,function(a,c){a!==c&&(b.active=!!a)}),b.active=g(b.$parent)):h=g=angular.noop,b.$watch("active",function(a){h(b.$parent,a),a?(f.select(b),b.onSelect()):b.onDeselect()}),b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig","$locale",function(a,b,c,d){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,f,g,h){function i(){var a=parseInt(e.hours,10),b=e.showMeridian?a>0&&13>a:a>=0&&24>a;return b?(e.showMeridian&&(12===a&&(a=0),e.meridian===q[1]&&(a+=12)),a):void 0}function j(){var a=parseInt(e.minutes,10);return a>=0&&60>a?a:void 0}function k(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function l(a){m(),h.$setViewValue(new Date(p)),n(a)}function m(){h.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function n(a){var b=p.getHours(),c=p.getMinutes();e.showMeridian&&(b=0===b||12===b?12:b%12),e.hours="h"===a?b:k(b),e.minutes="m"===a?c:k(c),e.meridian=p.getHours()<12?q[0]:q[1]}function o(a){var b=new Date(p.getTime()+6e4*a);p.setHours(b.getHours(),b.getMinutes()),l()}if(h){var p=new Date,q=angular.isDefined(g.meridians)?e.$parent.$eval(g.meridians):c.meridians||d.DATETIME_FORMATS.AMPMS,r=c.hourStep;g.hourStep&&e.$parent.$watch(a(g.hourStep),function(a){r=parseInt(a,10)});var s=c.minuteStep;g.minuteStep&&e.$parent.$watch(a(g.minuteStep),function(a){s=parseInt(a,10)}),e.showMeridian=c.showMeridian,g.showMeridian&&e.$parent.$watch(a(g.showMeridian),function(a){if(e.showMeridian=!!a,h.$error.time){var b=i(),c=j();angular.isDefined(b)&&angular.isDefined(c)&&(p.setHours(b),l())}else n()});var t=f.find("input"),u=t.eq(0),v=t.eq(1),w=angular.isDefined(g.mousewheel)?e.$eval(g.mousewheel):c.mousewheel;if(w){var x=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};u.bind("mousewheel wheel",function(a){e.$apply(x(a)?e.incrementHours():e.decrementHours()),a.preventDefault()}),v.bind("mousewheel wheel",function(a){e.$apply(x(a)?e.incrementMinutes():e.decrementMinutes()),a.preventDefault()})}if(e.readonlyInput=angular.isDefined(g.readonlyInput)?e.$eval(g.readonlyInput):c.readonlyInput,e.readonlyInput)e.updateHours=angular.noop,e.updateMinutes=angular.noop;else{var y=function(a,b){h.$setViewValue(null),h.$setValidity("time",!1),angular.isDefined(a)&&(e.invalidHours=a),angular.isDefined(b)&&(e.invalidMinutes=b)};e.updateHours=function(){var a=i();angular.isDefined(a)?(p.setHours(a),l("h")):y(!0)},u.bind("blur",function(){!e.validHours&&e.hours<10&&e.$apply(function(){e.hours=k(e.hours)})}),e.updateMinutes=function(){var a=j();angular.isDefined(a)?(p.setMinutes(a),l("m")):y(void 0,!0)},v.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=k(e.minutes)})})}h.$render=function(){var a=h.$modelValue?new Date(h.$modelValue):null;isNaN(a)?(h.$setValidity("time",!1),b.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(p=a),m(),n())},e.incrementHours=function(){o(60*r)},e.decrementHours=function(){o(60*-r)},e.incrementMinutes=function(){o(s)},e.decrementMinutes=function(){o(-s)},e.toggleMeridian=function(){o(720*(p.getHours()<12?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+c+"'.");return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?b(k.typeaheadAppendToBody):!1,u=b(k.ngModel).assign,v=g.parse(k.typeahead),w=angular.element("<div typeahead-popup></div>");w.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&w.attr("template-url",k.typeaheadTemplateUrl);var x=i.$new();i.$on("$destroy",function(){x.$destroy()});var y=function(){x.matches=[],x.activeIdx=-1},z=function(a){var b={$viewValue:a};q(i,!0),c.when(v.source(i,b)).then(function(c){if(a===l.$viewValue&&m){if(c.length>0){x.activeIdx=0,x.matches.length=0;for(var d=0;d<c.length;d++)b[v.itemName]=c[d],x.matches.push({label:v.viewMapper(x,b),model:c[d]});x.query=a,x.position=t?f.offset(j):f.position(j),x.position.top=x.position.top+j.prop("offsetHeight")}else y();q(i,!1)}},function(){y(),q(i,!1)})};y(),x.query=void 0;var A;l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(A&&d.cancel(A),A=d(function(){z(a)},o)):z(a):(q(i,!1),y()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[v.itemName]=a,b=v.viewMapper(i,d),d[v.itemName]=void 0,c=v.viewMapper(i,d),b!==c?b:a)}),x.select=function(a){var b,c,d={};d[v.itemName]=c=x.matches[a].model,b=v.modelMapper(i,d),u(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:v.viewMapper(i,d)}),y(),j[0].focus()},j.bind("keydown",function(a){0!==x.matches.length&&-1!==h.indexOf(a.which)&&(a.preventDefault(),40===a.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===a.which?(x.activeIdx=(x.activeIdx?x.activeIdx:x.matches.length)-1,x.$digest()):13===a.which||9===a.which?x.$apply(function(){x.select(x.activeIdx)}):27===a.which&&(a.stopPropagation(),y(),x.$digest()))}),j.bind("blur",function(){m=!1});var B=function(a){j[0]!==a.target&&(y(),x.$digest())};e.bind("click",B),i.$on("$destroy",function(){e.unbind("click",B)});var C=a(w)(x);t?e.find("body").append(C):j.after(C)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=d(g.templateUrl)(e.$parent)||"template/typeahead/typeahead-match.html";a.get(h,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?b.replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("template/alert/alert.html","<div class='alert' ng-class='\"alert-\" + (type || \"warning\")'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides().length > 1"><span class="icon-prev"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides().length > 1"><span class="icon-next"></span></a>\n</div>\n')
}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/datepicker.html",'<table>\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr ng-show="labels.length > 0" class="h6">\n      <th ng-show="showWeekNumbers" class="text-center">#</th>\n      <th ng-repeat="label in labels" class="text-center">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n      <td ng-repeat="dt in row" class="text-center">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-muted\': dt.secondary}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("template/datepicker/popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\">\n	<li ng-transclude></li>\n"+'	<li ng-show="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="today()">{{currentText}}</button>\n			<button type="button" class="btn btn-sm btn-default" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">{{toggleWeeksText}}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="clear()">{{clearText}}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="isOpen = false">{{closeText}}</button>\n	</li>\n</ul>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(a){a.put("template/modal/window.html",'<div tabindex="-1" class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("template/progressbar/progressbar.html",'<div class="progress"><div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n    <i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < val && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')"></i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("template/tabs/tabset.html",'\n<div class="tabbable">\n  <ul class="nav {{type && \'nav-\' + type}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}\">\n"+'    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')}]),function(a){a.fn.bootstrapFileInput=function(){this.each(function(b,c){var d=a(c);if("undefined"==typeof d.attr("data-bfi-disabled")){var e="Browse";"undefined"!=typeof d.attr("title")&&(e=d.attr("title"));var f="";d.attr("class")&&(f=" "+d.attr("class")),d.wrap('<a class="file-input-wrapper btn btn-default '+f+'"></a>').parent().prepend(a("<span></span>").html(e))}}).promise().done(function(){a(".file-input-wrapper").mousemove(function(b){var c,d,e,f,g,h,i,j;d=a(this),c=d.find("input"),e=d.offset().left,f=d.offset().top,g=c.width(),h=c.height(),i=b.pageX,j=b.pageY,moveInputX=i-e-g+20,moveInputY=j-f-h/2,c.css({left:moveInputX,top:moveInputY})}),a("body").on("change",".file-input-wrapper input[type=file]",function(){var b;b=a(this).val(),a(this).parent().next(".file-input-name").remove(),b=a(this).prop("files")&&a(this).prop("files").length>1?a(this)[0].files.length+" files":b.substring(b.lastIndexOf("\\")+1,b.length);var c=a(this).data("filename-placement")||"outside";"inside"===c?(a(this).siblings("span").html(b),a(this).attr("title",b)):"outside"===c?a(this).parent().after('<span class="file-input-name">'+b+"</span>"):console.log("Error in bootstrap-file-input plugin : unknown placement ["+c+"] for selected filename")})})};var b="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";a("link[rel=stylesheet]").eq(0).before(b)}(jQuery),!function(a){var b=function(b,c){this.dragLocked=!1,this.limit=1e5,this.element=a(b).hide(),this.picker=a('<div class="slider"><div class="slider-track"><div class="slider-selection"></div><div class="slider-handle"></div><div class="slider-handle"></div></div><div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div></div>').insertBefore(this.element).append(this.element),this.id=this.element.data("slider-id")||c.id,this.id&&(this.picker[0].id=this.id),"undefined"!=typeof Modernizr&&Modernizr.touch&&(this.touchCapable=!0);var d=this.element.data("slider-tooltip")||c.tooltip;switch(this.tooltip=this.picker.find(".tooltip"),this.tooltipInner=this.tooltip.find("div.tooltip-inner"),this.orientation=this.element.data("slider-orientation")||c.orientation,this.orientation){case"vertical":this.picker.addClass("slider-vertical"),this.stylePos="top",this.mousePos="pageY",this.sizePos="offsetHeight",this.tooltip.addClass("right")[0].style.left="100%";break;default:this.picker.addClass("slider-horizontal").css("width",this.element.outerWidth()),this.orientation="horizontal",this.stylePos="left",this.mousePos="pageX",this.sizePos="offsetWidth",this.tooltip.addClass("top")[0].style.top=-this.tooltip.outerHeight()-14+"px"}this.min=this.element.data("slider-min")||c.min,this.max=this.element.data("slider-max")||c.max,this.step=this.element.data("slider-step")||c.step,this.value=this.element.data("slider-value")||c.value,this.value[1]&&(this.range=!0),this.selection=this.element.data("slider-selection")||c.selection,this.selectionEl=this.picker.find(".slider-selection"),"none"===this.selection&&this.selectionEl.addClass("hide"),this.selectionElStyle=this.selectionEl[0].style,this.handle1=this.picker.find(".slider-handle:first"),this.handle1Stype=this.handle1[0].style,this.handle2=this.picker.find(".slider-handle:last"),this.handle2Stype=this.handle2[0].style;var e=this.element.data("slider-handle")||c.handle;switch(e){case"round":this.handle1.addClass("round"),this.handle2.addClass("round");break;case"triangle":this.handle1.addClass("triangle"),this.handle2.addClass("triangle")}this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos],this.formater=c.formater,this.reversed=this.element.data("slider-reversed")||c.reversed,this.layout(),this.picker.on(this.touchCapable?{touchstart:a.proxy(this.mousedown,this)}:{mousedown:a.proxy(this.mousedown,this)}),"show"===d?this.picker.on({mouseenter:a.proxy(this.showTooltip,this),mouseleave:a.proxy(this.hideTooltip,this)}):this.tooltip.addClass("hide")};b.prototype={constructor:b,over:!1,inDrag:!1,showTooltip:function(){this.tooltip.addClass("in"),this.over=!0},hideTooltip:function(){this.inDrag===!1&&this.tooltip.removeClass("in"),this.over=!1},layout:function(){var a;a=this.reversed?[this.percentage[1]-this.percentage[0],this.percentage[1]]:[this.percentage[0],this.percentage[1]],this.handle1Stype[this.stylePos]=a[0]+"%",this.handle2Stype[this.stylePos]=a[1]+"%","vertical"==this.orientation?(this.selectionElStyle.top=Math.min(a[0],a[1])+"%",this.selectionElStyle.height=Math.abs(a[0]-a[1])+"%"):(this.selectionElStyle.left=Math.min(a[0],a[1])+"%",this.selectionElStyle.width=Math.abs(a[0]-a[1])+"%"),this.range?(this.tooltipInner.text(this.formater(this.value[0])+" : "+this.formater(this.value[1])),this.tooltip[0].style[this.stylePos]=this.size*(a[0]+(a[1]-a[0])/2)/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px"):(this.tooltipInner.text(this.formater(this.value[0])),this.tooltip[0].style[this.stylePos]=this.size*a[0]/100-("vertical"===this.orientation?this.tooltip.outerHeight()/2:this.tooltip.outerWidth()/2)+"px")},mousedown:function(b){if(!this.dragLocked){this.touchCapable&&"touchstart"===b.type&&(b=b.originalEvent),this.offset=this.picker.offset(),this.size=this.picker[0][this.sizePos];var c=this.getPercentage(b);if(this.range){var d=Math.abs(this.percentage[0]-c),e=Math.abs(this.percentage[1]-c);this.dragged=e>d?0:1}else this.dragged=0;this.percentage[this.dragged]=this.reversed?this.percentage[1]-c:c,this.layout(),a(document).on(this.touchCapable?{touchmove:a.proxy(this.mousemove,this),touchend:a.proxy(this.mouseup,this)}:{mousemove:a.proxy(this.mousemove,this),mouseup:a.proxy(this.mouseup,this)}),this.inDrag=!0;var f=this.calculateValue();return this.setValue(f),this.element.trigger({type:"slideStart",value:f}).trigger({type:"slide",value:f}),!1}},mousemove:function(a){if(!this.dragLocked){this.touchCapable&&"touchmove"===a.type&&(a=a.originalEvent);var b=this.getPercentage(a);if(this.range&&(0===this.dragged&&this.percentage[1]<b?(this.percentage[0]=this.percentage[1],this.dragged=1):1===this.dragged&&this.percentage[0]>b&&(this.percentage[1]=this.percentage[0],this.dragged=0)),x=this.reversed?this.percentage[1]-b:b,x>this.limit)return;this.percentage[this.dragged]=x,this.layout();var c=this.calculateValue();return this.setValue(c),this.element.trigger({type:"slide",value:c}).data("value",c).prop("value",c),!1}},mouseup:function(){a(document).off(this.touchCapable?{touchmove:this.mousemove,touchend:this.mouseup}:{mousemove:this.mousemove,mouseup:this.mouseup}),this.inDrag=!1,0==this.over&&this.hideTooltip(),this.element;var b=this.calculateValue();return this.layout(),this.element.trigger({type:"slideStop",value:b}).data("value",b).prop("value",b),!1},calculateValue:function(){var a;return this.range?(a=[this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.min+Math.round(this.diff*this.percentage[1]/100/this.step)*this.step],this.value=a):(a=this.min+Math.round(this.diff*this.percentage[0]/100/this.step)*this.step,this.value=[a,this.value[1]]),a},getPercentage:function(a){this.touchCapable&&(a=a.touches[0]);var b=100*(a[this.mousePos]-this.offset[this.stylePos])/this.size;return b=Math.round(b/this.percentage[2])*this.percentage[2],Math.max(0,Math.min(100,b))},getValue:function(){return this.range?this.value:this.value[0]},setLimit:function(a){this.limit=a},setDragLocked:function(a){this.dragLocked=a},getDragLocked:function(){return this.dragLocked},setValue:function(a){this.value=a,this.range?(this.value[0]=Math.max(this.min,Math.min(this.max,this.value[0])),this.value[1]=Math.max(this.min,Math.min(this.max,this.value[1]))):(this.value=[Math.max(this.min,Math.min(this.max,this.value))],this.handle2.addClass("hide"),this.value[1]="after"==this.selection?this.max:this.min),this.diff=this.max-this.min,this.percentage=[100*(this.value[0]-this.min)/this.diff,100*(this.value[1]-this.min)/this.diff,100*this.step/this.diff],this.layout()},destroy:function(){this.element.show().insertBefore(this.picker),this.picker.remove()}},a.fn.slider=function(c,d){return this.each(function(){var e=a(this),f=e.data("slider"),g="object"==typeof c&&c;f||e.data("slider",f=new b(this,a.extend({},a.fn.slider.defaults,g))),"string"==typeof c&&f[c](d)})},a.fn.slider.defaults={min:0,max:10,step:1,orientation:"horizontal",value:5,selection:"before",tooltip:"show",handle:"round",reversed:!1,limit:1e5,dragLocked:!1,formater:function(a){return a}},a.fn.slider.Constructor=b}(window.jQuery);var Holder=Holder||{};!function(a,b){function c(a,b,c){b=parseInt(b,10),a=parseInt(a,10);var d=Math.max(b,a),e=Math.min(b,a),f=1/12,g=Math.min(.75*e,.75*d*f);return{height:Math.round(Math.max(c.size,g))}}function d(a){var b=[];for(p in a)a.hasOwnProperty(p)&&b.push(p+":"+a[p]);return b.join(";")}function e(a){var b=a.ctx,d=a.dimensions,e=a.template,f=a.ratio,g=a.holder,h="literal"==g.textmode,i="exact"==g.textmode,j=c(d.width,d.height,e),k=j.height,l=d.width*f,m=d.height*f,n=e.font?e.font:"Arial,Helvetica,sans-serif";canvas.width=l,canvas.height=m,b.textAlign="center",b.textBaseline="middle",b.fillStyle=e.background,b.fillRect(0,0,l,m),b.fillStyle=e.foreground,b.font="bold "+k+"px "+n;var o=e.text?e.text:Math.floor(d.width)+"x"+Math.floor(d.height);if(h){var d=g.dimensions;o=d.width+"x"+d.height}else if(i&&g.exact_dimensions){var d=g.exact_dimensions;o=Math.floor(d.width)+"x"+Math.floor(d.height)}var p=b.measureText(o).width;return p/l>=.75&&(k=Math.floor(.75*k*(l/p))),b.font="bold "+k*f+"px "+n,b.fillText(o,l/2,m/2,l),canvas.toDataURL("image/png")}function f(a){var b=a.dimensions,d=a.template,e=a.holder,f="literal"==e.textmode,g="exact"==e.textmode,h=c(b.width,b.height,d),i=h.height,j=b.width,k=b.height,l=d.font?d.font:"Arial,Helvetica,sans-serif",m=d.text?d.text:Math.floor(b.width)+"x"+Math.floor(b.height);if(f){var b=e.dimensions;m=b.width+"x"+b.height}else if(g&&e.exact_dimensions){var b=e.exact_dimensions;m=Math.floor(b.width)+"x"+Math.floor(b.height)}var n=z({text:m,width:j,height:k,text_height:i,font:l,template:d});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n)))}function g(a){return r.use_canvas&&!r.use_svg?e(a):f(a)}function h(a,b,c,d){var e=c.dimensions,f=c.theme,h=c.text?decodeURIComponent(c.text):c.text,i=e.width+"x"+e.height;f=h?o(f,{text:h}):f,f=c.font?o(f,{font:c.font}):f,b.setAttribute("data-src",d),c.theme=f,b.holder_data=c,"image"==a?(b.setAttribute("alt",h?h:f.text?f.text+" ["+i+"]":i),(r.use_fallback||!c.auto)&&(b.style.width=e.width+"px",b.style.height=e.height+"px"),r.use_fallback?b.style.backgroundColor=f.background:(b.setAttribute("src",g({ctx:w,dimensions:e,template:f,ratio:x,holder:c})),c.textmode&&"exact"==c.textmode&&(v.push(b),k(b)))):"background"==a?r.use_fallback||(b.style.backgroundImage="url("+g({ctx:w,dimensions:e,template:f,ratio:x,holder:c})+")",b.style.backgroundSize=e.width+"px "+e.height+"px"):"fluid"==a&&(b.setAttribute("alt",h?h:f.text?f.text+" ["+i+"]":i),"%"==e.height.slice(-1)?b.style.height=e.height:null!=c.auto&&c.auto||(b.style.height=e.height+"px"),"%"==e.width.slice(-1)?b.style.width=e.width:null!=c.auto&&c.auto||(b.style.width=e.width+"px"),("inline"==b.style.display||""===b.style.display||"none"==b.style.display)&&(b.style.display="block"),j(b),r.use_fallback?b.style.backgroundColor=f.background:(v.push(b),k(b)))}function i(a,b){var c={height:a.clientHeight,width:a.clientWidth};return c.height||c.width?(a.removeAttribute("data-holder-invisible"),c):(a.setAttribute("data-holder-invisible",!0),void b.call(this,a))}function j(b){if(b.holder_data){var c=i(b,a.invisible_error_fn(j));if(c){var d=b.holder_data;d.initial_dimensions=c,d.fluid_data={fluid_height:"%"==d.dimensions.height.slice(-1),fluid_width:"%"==d.dimensions.width.slice(-1),mode:null},d.fluid_data.fluid_width&&!d.fluid_data.fluid_height?(d.fluid_data.mode="width",d.fluid_data.ratio=d.initial_dimensions.width/parseFloat(d.dimensions.height)):!d.fluid_data.fluid_width&&d.fluid_data.fluid_height&&(d.fluid_data.mode="height",d.fluid_data.ratio=parseFloat(d.dimensions.width)/d.initial_dimensions.height)}}}function k(b){var c;c=null==b.nodeType?v:[b];for(var d in c)if(c.hasOwnProperty(d)){var e=c[d];if(e.holder_data){var f=e.holder_data,h=i(e,a.invisible_error_fn(k));if(h){if(f.fluid){if(f.auto)switch(f.fluid_data.mode){case"width":h.height=h.width/f.fluid_data.ratio;break;case"height":h.width=h.height*f.fluid_data.ratio}e.setAttribute("src",g({ctx:w,dimensions:h,template:f.theme,ratio:x,holder:f}))}f.textmode&&"exact"==f.textmode&&(f.exact_dimensions=h,e.setAttribute("src",g({ctx:w,dimensions:f.dimensions,template:f.theme,ratio:x,holder:f})))}}}}function l(b,c){for(var d={theme:o(y.themes.gray,{})},e=!1,f=b.length,g=0;f>g;g++){var h=b[g];a.flags.dimensions.match(h)?(e=!0,d.dimensions=a.flags.dimensions.output(h)):a.flags.fluid.match(h)?(e=!0,d.dimensions=a.flags.fluid.output(h),d.fluid=!0):a.flags.textmode.match(h)?d.textmode=a.flags.textmode.output(h):a.flags.colors.match(h)?d.theme=a.flags.colors.output(h):c.themes[h]?c.themes.hasOwnProperty(h)&&(d.theme=o(c.themes[h],{})):a.flags.font.match(h)?d.font=a.flags.font.output(h):a.flags.auto.match(h)?d.auto=!0:a.flags.text.match(h)&&(d.text=a.flags.text.output(h))}return e?d:!1}function m(a,b){var c="complete",d="readystatechange",e=!1,f=e,g=!0,h=a.document,i=h.documentElement,j=h.addEventListener?"addEventListener":"attachEvent",k=h.addEventListener?"removeEventListener":"detachEvent",l=h.addEventListener?"":"on",m=function(g){(g.type!=d||h.readyState==c)&&(("load"==g.type?a:h)[k](l+g.type,m,e),!f&&(f=!0)&&b.call(a,null))},n=function(){try{i.doScroll("left")}catch(a){return void setTimeout(n,50)}m("poll")};if(h.readyState==c)b.call(a,"lazy");else{if(h.createEventObject&&i.doScroll){try{g=!a.frameElement}catch(o){}g&&n()}h[j](l+"DOMContentLoaded",m,e),h[j](l+d,m,e),a[j](l+"load",m,e)}}function n(a,b){var a=a.match(/^(\W)?(.*)/),b=b||document,c=b["getElement"+(a[1]?"#"==a[1]?"ById":"sByClassName":"sByTagName")],d=c.call(b,a[2]),e=[];return null!==d&&(e=d.length||0===d.length?d:[d]),e}function o(a,b){var c={};for(var d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);for(var d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}var q={use_svg:!1,use_canvas:!1,use_fallback:!1},r={},s=!1;canvas=document.createElement("canvas");var t=1,u=1,v=[];if(canvas.getContext)if(canvas.toDataURL("image/png").indexOf("data:image/png")<0)q.use_fallback=!0;else var w=canvas.getContext("2d");else q.use_fallback=!0;document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect&&(q.use_svg=!0,q.use_canvas=!1),q.use_fallback||(t=window.devicePixelRatio||1,u=w.webkitBackingStorePixelRatio||w.mozBackingStorePixelRatio||w.msBackingStorePixelRatio||w.oBackingStorePixelRatio||w.backingStorePixelRatio||1);var x=t/u,y={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12},sky:{background:"#0D8FDB",foreground:"#fff",size:12},vine:{background:"#39DBAC",foreground:"#1E292C",size:12},lava:{background:"#F8591A",foreground:"#1C2846",size:12}},stylesheet:""};a.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(a){var b=this.regex.exec(a);return{width:+b[1],height:+b[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(a){var b=this.regex.exec(a);return{width:b[1],height:b[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(a){var b=this.regex.exec(a);return{size:y.themes.gray.size,foreground:"#"+b[2],background:"#"+b[1]}}},text:{regex:/text\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},font:{regex:/font\:(.*)/,output:function(a){return this.regex.exec(a)[1]}},auto:{regex:/^auto$/},textmode:{regex:/textmode\:(.*)/,output:function(a){return this.regex.exec(a)[1]}}};var z=function(){if(window.XMLSerializer){var a=new XMLSerializer,b="http://www.w3.org/2000/svg",c=document.createElementNS(b,"svg");c.webkitMatchesSelector&&c.setAttribute("xmlns","http://www.w3.org/2000/svg");var e=document.createElementNS(b,"rect"),f=document.createElementNS(b,"text"),g=document.createTextNode(null);return f.setAttribute("text-anchor","middle"),f.appendChild(g),c.appendChild(e),c.appendChild(f),function(b){return c.setAttribute("width",b.width),c.setAttribute("height",b.height),e.setAttribute("width",b.width),e.setAttribute("height",b.height),e.setAttribute("fill",b.template.background),f.setAttribute("x",b.width/2),f.setAttribute("y",b.height/2),g.nodeValue=b.text,f.setAttribute("style",d({fill:b.template.foreground,"font-weight":"bold","font-size":b.text_height+"px","font-family":b.font,"dominant-baseline":"central"})),a.serializeToString(c)}}}();for(var A in a.flags)a.flags.hasOwnProperty(A)&&(a.flags[A].match=function(a){return a.match(this.regex)});a.invisible_error_fn=function(){return function(a){if(a.hasAttribute("data-holder-invisible"))throw new Error("Holder: invisible placeholder")}},a.add_theme=function(b,c){return null!=b&&null!=c&&(y.themes[b]=c),a},a.add_image=function(b,c){var d=n(c);if(d.length)for(var e=0,f=d.length;f>e;e++){var g=document.createElement("img");g.setAttribute("data-src",b),d[e].appendChild(g)}return a},a.run=function(b){r=o({},q),s=!0;var c=o(y,b),d=[],e=[],f=[];for(null!=c.use_canvas&&c.use_canvas&&(r.use_canvas=!0,r.use_svg=!1),"string"==typeof c.images?e=n(c.images):window.NodeList&&c.images instanceof window.NodeList?e=c.images:window.Node&&c.images instanceof window.Node?e=[c.images]:window.HTMLCollection&&c.images instanceof window.HTMLCollection&&(e=c.images),"string"==typeof c.bgnodes?f=n(c.bgnodes):window.NodeList&&c.elements instanceof window.NodeList?f=c.bgnodes:window.Node&&c.bgnodes instanceof window.Node&&(f=[c.bgnodes]),k=0,j=e.length;j>k;k++)d.push(e[k]);var g=document.getElementById("holderjs-style");g||(g=document.createElement("style"),g.setAttribute("id","holderjs-style"),g.type="text/css",document.getElementsByTagName("head")[0].appendChild(g)),c.nocss||(g.styleSheet?g.styleSheet.cssText+=c.stylesheet:c.stylesheet.length&&g.appendChild(document.createTextNode(c.stylesheet)));for(var i=new RegExp(c.domain+'/(.*?)"?\\)'),j=f.length,k=0;j>k;k++){var m=window.getComputedStyle(f[k],null).getPropertyValue("background-image"),p=m.match(i),t=f[k].getAttribute("data-background-src");if(p){var u=l(p[1].split("/"),c);u&&h("background",f[k],u,m)}else if(null!=t){var u=l(t.substr(t.lastIndexOf(c.domain)+c.domain.length+1).split("/"),c);u&&h("background",f[k],u,m)}}for(j=d.length,k=0;j>k;k++){var v,w;w=v=m=null;try{w=d[k].getAttribute("src"),attr_datasrc=d[k].getAttribute("data-src")}catch(x){}if(null==attr_datasrc&&w&&w.indexOf(c.domain)>=0?m=w:attr_datasrc&&attr_datasrc.indexOf(c.domain)>=0&&(m=attr_datasrc),m){var u=l(m.substr(m.lastIndexOf(c.domain)+c.domain.length+1).split("/"),c);u&&(u.fluid?h("fluid",d[k],u,m):h("image",d[k],u,m))}}return a},m(b,function(){window.addEventListener?(window.addEventListener("resize",k,!1),window.addEventListener("orientationchange",k,!1)):window.attachEvent("onresize",k),s||a.run({}),"object"==typeof window.Turbolinks&&document.addEventListener("page:change",function(){a.run({})})}),"function"==typeof define&&define.amd&&define([],function(){return a}),function(){function a(a){this.message=a}var b="undefined"!=typeof exports?exports:this,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.prototype=Error(),a.prototype.name="InvalidCharacterError",b.btoa||(b.btoa=function(b){for(var d,e,f=0,g=c,h="";b.charAt(0|f)||(g="=",f%1);h+=g.charAt(63&d>>8-8*(f%1))){if(e=b.charCodeAt(f+=.75),e>255)throw new a("'btoa' failed");d=d<<8|e}return h}),b.atob||(b.atob=function(b){if(b=b.replace(/=+$/,""),1==b.length%4)throw new a("'atob' failed");for(var d,e,f=0,g=0,h="";e=b.charAt(g++);~e&&(d=f%4?64*d+e:e,f++%4)?h+=String.fromCharCode(255&d>>(6&-2*f)):0)e=c.indexOf(e);return h})}(),document.getElementsByClassName||(document.getElementsByClassName=function(a){var b,c,d,e=document,f=[];if(e.querySelectorAll)return e.querySelectorAll("."+a);if(e.evaluate)for(c=".//*[contains(concat(' ', @class, ' '), ' "+a+" ')]",b=e.evaluate(c,e,null,0,null);d=b.iterateNext();)f.push(d);else for(b=e.getElementsByTagName("*"),c=new RegExp("(^|\\s)"+a+"(\\s|$)"),d=0;d<b.length;d++)c.test(b[d].className)&&f.push(b[d]);return f}),window.getComputedStyle||(window.getComputedStyle=function(a){return this.el=a,this.getPropertyValue=function(b){var c=/(\-([a-z]){1})/g;return"float"==b&&(b="styleFloat"),c.test(b)&&(b=b.replace(c,function(){return arguments[2].toUpperCase()})),a.currentStyle[b]?a.currentStyle[b]:null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(a){var b=this.__proto__||this.constructor.prototype;return a in this&&(!(a in b)||b[a]!==this[a])})}(Holder,window),function(){function a(a){this.message=a}var b="undefined"!=typeof exports?exports:this,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.prototype=new Error,a.prototype.name="InvalidCharacterError",b.btoa||(b.btoa=function(b){for(var d,e,f=String(b),g=0,h=c,i="";f.charAt(0|g)||(h="=",g%1);i+=h.charAt(63&d>>8-g%1*8)){if(e=f.charCodeAt(g+=.75),e>255)throw new a("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");d=d<<8|e}return i}),b.atob||(b.atob=function(b){var d=String(b).replace(/=+$/,"");if(d.length%4==1)throw new a("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,f,g=0,h=0,i="";f=d.charAt(h++);~f&&(e=g%4?64*e+f:f,g++%4)?i+=String.fromCharCode(255&e>>(-2*g&6)):0)f=c.indexOf(f);return i})}(),function(a){var b,c,d="0.4.2",e="hasOwnProperty",f=/[\.\/]/,g="*",h=function(){},i=function(a,b){return a-b},j={n:{}},k=function(a,d){a=String(a);var e,f=c,g=Array.prototype.slice.call(arguments,2),h=k.listeners(a),j=0,l=[],m={},n=[],o=b;
b=a,c=0;for(var p=0,q=h.length;q>p;p++)"zIndex"in h[p]&&(l.push(h[p].zIndex),h[p].zIndex<0&&(m[h[p].zIndex]=h[p]));for(l.sort(i);l[j]<0;)if(e=m[l[j++]],n.push(e.apply(d,g)),c)return c=f,n;for(p=0;q>p;p++)if(e=h[p],"zIndex"in e)if(e.zIndex==l[j]){if(n.push(e.apply(d,g)),c)break;do if(j++,e=m[l[j]],e&&n.push(e.apply(d,g)),c)break;while(e)}else m[e.zIndex]=e;else if(n.push(e.apply(d,g)),c)break;return c=f,b=o,n.length?n:null};k._events=j,k.listeners=function(a){var b,c,d,e,h,i,k,l,m=a.split(f),n=j,o=[n],p=[];for(e=0,h=m.length;h>e;e++){for(l=[],i=0,k=o.length;k>i;i++)for(n=o[i].n,c=[n[m[e]],n[g]],d=2;d--;)b=c[d],b&&(l.push(b),p=p.concat(b.f||[]));o=l}return p},k.on=function(a,b){if(a=String(a),"function"!=typeof b)return function(){};for(var c=a.split(f),d=j,e=0,g=c.length;g>e;e++)d=d.n,d=d.hasOwnProperty(c[e])&&d[c[e]]||(d[c[e]]={n:{}});for(d.f=d.f||[],e=0,g=d.f.length;g>e;e++)if(d.f[e]==b)return h;return d.f.push(b),function(a){+a==+a&&(b.zIndex=+a)}},k.f=function(a){var b=[].slice.call(arguments,1);return function(){k.apply(null,[a,null].concat(b).concat([].slice.call(arguments,0)))}},k.stop=function(){c=1},k.nt=function(a){return a?new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)").test(b):b},k.nts=function(){return b.split(f)},k.off=k.unbind=function(a,b){if(!a)return void(k._events=j={n:{}});var c,d,h,i,l,m,n,o=a.split(f),p=[j];for(i=0,l=o.length;l>i;i++)for(m=0;m<p.length;m+=h.length-2){if(h=[m,1],c=p[m].n,o[i]!=g)c[o[i]]&&h.push(c[o[i]]);else for(d in c)c[e](d)&&h.push(c[d]);p.splice.apply(p,h)}for(i=0,l=p.length;l>i;i++)for(c=p[i];c.n;){if(b){if(c.f){for(m=0,n=c.f.length;n>m;m++)if(c.f[m]==b){c.f.splice(m,1);break}!c.f.length&&delete c.f}for(d in c.n)if(c.n[e](d)&&c.n[d].f){var q=c.n[d].f;for(m=0,n=q.length;n>m;m++)if(q[m]==b){q.splice(m,1);break}!q.length&&delete c.n[d].f}}else{delete c.f;for(d in c.n)c.n[e](d)&&c.n[d].f&&delete c.n[d].f}c=c.n}},k.once=function(a,b){var c=function(){return k.unbind(a,c),b.apply(this,arguments)};return k.on(a,c)},k.version=d,k.toString=function(){return"You are running Eve "+d},"undefined"!=typeof module&&module.exports?module.exports=k:"undefined"!=typeof define?define("eve",[],function(){return k}):a.eve=k}(this),function(a,b){"function"==typeof define&&define.amd?define(["eve"],function(c){return b(a,c)}):b(a,a.eve)}(this,function(a,b){function c(a){if(c.is(a,"function"))return u?a():b.on("raphael.DOMload",a);if(c.is(a,V))return c._engine.create[D](c,a.splice(0,3+c.is(a[0],T))).add(a);var d=Array.prototype.slice.call(arguments,0);if(c.is(d[d.length-1],"function")){var e=d.pop();return u?e.call(c._engine.create[D](c,d)):b.on("raphael.DOMload",function(){e.call(c._engine.create[D](c,d))})}return c._engine.create[D](c,arguments)}function d(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor;for(var c in a)a[z](c)&&(b[c]=d(a[c]));return b}function e(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function f(a,b,c){function d(){var f=Array.prototype.slice.call(arguments,0),g=f.join("␀"),h=d.cache=d.cache||{},i=d.count=d.count||[];return h[z](g)?(e(i,g),c?c(h[g]):h[g]):(i.length>=1e3&&delete h[i.shift()],i.push(g),h[g]=a[D](b,f),c?c(h[g]):h[g])}return d}function g(){return this.hex}function h(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var f=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?f[3]={x:+a[0],y:+a[1]}:e-2==d&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?f[3]=f[2]:d||(f[0]={x:+a[d],y:+a[d+1]}),c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}function i(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function j(a,b,c,d,e,f,g,h,j){null==j&&(j=1),j=j>1?1:0>j?0:j;for(var k=j/2,l=12,m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],n=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],o=0,p=0;l>p;p++){var q=k*m[p]+k,r=i(q,a,c,e,g),s=i(q,b,d,f,h),t=r*r+s*s;o+=n[p]*N.sqrt(t)}return k*o}function k(a,b,c,d,e,f,g,h,i){if(!(0>i||j(a,b,c,d,e,f,g,h)<i)){var k,l=1,m=l/2,n=l-m,o=.01;for(k=j(a,b,c,d,e,f,g,h,n);Q(k-i)>o;)m/=2,n+=(i>k?1:-1)*m,k=j(a,b,c,d,e,f,g,h,n);return n}}function l(a,b,c,d,e,f,g,h){if(!(O(a,c)<P(e,g)||P(a,c)>O(e,g)||O(b,d)<P(f,h)||P(b,d)>O(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=i/k,m=j/k,n=+l.toFixed(2),o=+m.toFixed(2);if(!(n<+P(a,c).toFixed(2)||n>+O(a,c).toFixed(2)||n<+P(e,g).toFixed(2)||n>+O(e,g).toFixed(2)||o<+P(b,d).toFixed(2)||o>+O(b,d).toFixed(2)||o<+P(f,h).toFixed(2)||o>+O(f,h).toFixed(2)))return{x:l,y:m}}}}function m(a,b,d){var e=c.bezierBBox(a),f=c.bezierBBox(b);if(!c.isBBoxIntersect(e,f))return d?0:[];for(var g=j.apply(0,a),h=j.apply(0,b),i=O(~~(g/5),1),k=O(~~(h/5),1),m=[],n=[],o={},p=d?0:[],q=0;i+1>q;q++){var r=c.findDotsAtSegment.apply(c,a.concat(q/i));m.push({x:r.x,y:r.y,t:q/i})}for(q=0;k+1>q;q++)r=c.findDotsAtSegment.apply(c,b.concat(q/k)),n.push({x:r.x,y:r.y,t:q/k});for(q=0;i>q;q++)for(var s=0;k>s;s++){var t=m[q],u=m[q+1],v=n[s],w=n[s+1],x=Q(u.x-t.x)<.001?"y":"x",y=Q(w.x-v.x)<.001?"y":"x",z=l(t.x,t.y,u.x,u.y,v.x,v.y,w.x,w.y);if(z){if(o[z.x.toFixed(4)]==z.y.toFixed(4))continue;o[z.x.toFixed(4)]=z.y.toFixed(4);var A=t.t+Q((z[x]-t[x])/(u[x]-t[x]))*(u.t-t.t),B=v.t+Q((z[y]-v[y])/(w[y]-v[y]))*(w.t-v.t);A>=0&&1.001>=A&&B>=0&&1.001>=B&&(d?p++:p.push({x:z.x,y:z.y,t1:P(A,1),t2:P(B,1)}))}}return p}function n(a,b,d){a=c._path2curve(a),b=c._path2curve(b);for(var e,f,g,h,i,j,k,l,n,o,p=d?0:[],q=0,r=a.length;r>q;q++){var s=a[q];if("M"==s[0])e=i=s[1],f=j=s[2];else{"C"==s[0]?(n=[e,f].concat(s.slice(1)),e=n[6],f=n[7]):(n=[e,f,e,f,i,j,i,j],e=i,f=j);for(var t=0,u=b.length;u>t;t++){var v=b[t];if("M"==v[0])g=k=v[1],h=l=v[2];else{"C"==v[0]?(o=[g,h].concat(v.slice(1)),g=o[6],h=o[7]):(o=[g,h,g,h,k,l,k,l],g=k,h=l);var w=m(n,o,d);if(d)p+=w;else{for(var x=0,y=w.length;y>x;x++)w[x].segment1=q,w[x].segment2=t,w[x].bez1=n,w[x].bez2=o;p=p.concat(w)}}}}}return p}function o(a,b,c,d,e,f){null!=a?(this.a=+a,this.b=+b,this.c=+c,this.d=+d,this.e=+e,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function p(){return this.x+H+this.y+H+this.width+" × "+this.height}function q(a,b,c,d,e,f){function g(a){return((l*a+k)*a+j)*a}function h(a,b){var c=i(a,b);return((o*c+n)*c+m)*c}function i(a,b){var c,d,e,f,h,i;for(e=a,i=0;8>i;i++){if(f=g(e)-a,Q(f)<b)return e;if(h=(3*l*e+2*k)*e+j,Q(h)<1e-6)break;e-=f/h}if(c=0,d=1,e=a,c>e)return c;if(e>d)return d;for(;d>c;){if(f=g(e),Q(f-a)<b)return e;a>f?c=e:d=e,e=(d-c)/2+c}return e}var j=3*b,k=3*(d-b)-j,l=1-j-k,m=3*c,n=3*(e-c)-m,o=1-m-n;return h(a,1/(200*f))}function r(a,b){var c=[],d={};if(this.ms=b,this.times=1,a){for(var e in a)a[z](e)&&(d[_(e)]=a[e],c.push(_(e)));c.sort(lb)}this.anim=d,this.top=c[c.length-1],this.percents=c}function s(a,d,e,f,g,h){e=_(e);var i,j,k,l,m,n,p=a.ms,r={},s={},t={};if(f)for(v=0,x=ic.length;x>v;v++){var u=ic[v];if(u.el.id==d.id&&u.anim==a){u.percent!=e?(ic.splice(v,1),k=1):j=u,d.attr(u.totalOrigin);break}}else f=+s;for(var v=0,x=a.percents.length;x>v;v++){if(a.percents[v]==e||a.percents[v]>f*a.top){e=a.percents[v],m=a.percents[v-1]||0,p=p/a.top*(e-m),l=a.percents[v+1],i=a.anim[e];break}f&&d.attr(a.anim[a.percents[v]])}if(i){if(j)j.initstatus=f,j.start=new Date-j.ms*f;else{for(var y in i)if(i[z](y)&&(db[z](y)||d.paper.customAttributes[z](y)))switch(r[y]=d.attr(y),null==r[y]&&(r[y]=cb[y]),s[y]=i[y],db[y]){case T:t[y]=(s[y]-r[y])/p;break;case"colour":r[y]=c.getRGB(r[y]);var A=c.getRGB(s[y]);t[y]={r:(A.r-r[y].r)/p,g:(A.g-r[y].g)/p,b:(A.b-r[y].b)/p};break;case"path":var B=Kb(r[y],s[y]),C=B[1];for(r[y]=B[0],t[y]=[],v=0,x=r[y].length;x>v;v++){t[y][v]=[0];for(var D=1,F=r[y][v].length;F>D;D++)t[y][v][D]=(C[v][D]-r[y][v][D])/p}break;case"transform":var G=d._,H=Pb(G[y],s[y]);if(H)for(r[y]=H.from,s[y]=H.to,t[y]=[],t[y].real=!0,v=0,x=r[y].length;x>v;v++)for(t[y][v]=[r[y][v][0]],D=1,F=r[y][v].length;F>D;D++)t[y][v][D]=(s[y][v][D]-r[y][v][D])/p;else{var K=d.matrix||new o,L={_:{transform:G.transform},getBBox:function(){return d.getBBox(1)}};r[y]=[K.a,K.b,K.c,K.d,K.e,K.f],Nb(L,s[y]),s[y]=L._.transform,t[y]=[(L.matrix.a-K.a)/p,(L.matrix.b-K.b)/p,(L.matrix.c-K.c)/p,(L.matrix.d-K.d)/p,(L.matrix.e-K.e)/p,(L.matrix.f-K.f)/p]}break;case"csv":var M=I(i[y])[J](w),N=I(r[y])[J](w);if("clip-rect"==y)for(r[y]=N,t[y]=[],v=N.length;v--;)t[y][v]=(M[v]-r[y][v])/p;s[y]=M;break;default:for(M=[][E](i[y]),N=[][E](r[y]),t[y]=[],v=d.paper.customAttributes[y].length;v--;)t[y][v]=((M[v]||0)-(N[v]||0))/p}var O=i.easing,P=c.easing_formulas[O];if(!P)if(P=I(O).match(Z),P&&5==P.length){var Q=P;P=function(a){return q(a,+Q[1],+Q[2],+Q[3],+Q[4],p)}}else P=nb;if(n=i.start||a.start||+new Date,u={anim:a,percent:e,timestamp:n,start:n+(a.del||0),status:0,initstatus:f||0,stop:!1,ms:p,easing:P,from:r,diff:t,to:s,el:d,callback:i.callback,prev:m,next:l,repeat:h||a.times,origin:d.attr(),totalOrigin:g},ic.push(u),f&&!j&&!k&&(u.stop=!0,u.start=new Date-p*f,1==ic.length))return kc();k&&(u.start=new Date-u.ms*f),1==ic.length&&jc(kc)}b("raphael.anim.start."+d.id,d,a)}}function t(a){for(var b=0;b<ic.length;b++)ic[b].el.paper==a&&ic.splice(b--,1)}c.version="2.1.0",c.eve=b;var u,v,w=/[, ]+/,x={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},y=/\{(\d+)\}/g,z="hasOwnProperty",A={doc:document,win:a},B={was:Object.prototype[z].call(A.win,"Raphael"),is:A.win.Raphael},C=function(){this.ca=this.customAttributes={}},D="apply",E="concat",F="ontouchstart"in A.win||A.win.DocumentTouch&&A.doc instanceof DocumentTouch,G="",H=" ",I=String,J="split",K="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[J](H),L={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},M=I.prototype.toLowerCase,N=Math,O=N.max,P=N.min,Q=N.abs,R=N.pow,S=N.PI,T="number",U="string",V="array",W=Object.prototype.toString,X=(c._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),Y={NaN:1,Infinity:1,"-Infinity":1},Z=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,$=N.round,_=parseFloat,ab=parseInt,bb=I.prototype.toUpperCase,cb=c._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},db=c._availableAnimAttrs={blur:T,"clip-rect":"csv",cx:T,cy:T,fill:"colour","fill-opacity":T,"font-size":T,height:T,opacity:T,path:"path",r:T,rx:T,ry:T,stroke:"colour","stroke-opacity":T,"stroke-width":T,transform:"transform",width:T,x:T,y:T},eb=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,fb={hs:1,rg:1},gb=/,?([achlmqrstvxz]),?/gi,hb=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,ib=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,jb=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,kb=(c._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),lb=function(a,b){return _(a)-_(b)},mb=function(){},nb=function(a){return a},ob=c._rectPath=function(a,b,c,d,e){return e?[["M",a+e,b],["l",c-2*e,0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]]:[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]]},pb=function(a,b,c,d){return null==d&&(d=c),[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,-2*d],["z"]]},qb=c._getPath={path:function(a){return a.attr("path")},circle:function(a){var b=a.attrs;return pb(b.cx,b.cy,b.r)},ellipse:function(a){var b=a.attrs;return pb(b.cx,b.cy,b.rx,b.ry)},rect:function(a){var b=a.attrs;return ob(b.x,b.y,b.width,b.height,b.r)},image:function(a){var b=a.attrs;return ob(b.x,b.y,b.width,b.height)},text:function(a){var b=a._getBBox();return ob(b.x,b.y,b.width,b.height)},set:function(a){var b=a._getBBox();return ob(b.x,b.y,b.width,b.height)}},rb=c.mapPath=function(a,b){if(!b)return a;var c,d,e,f,g,h,i;for(a=Kb(a),e=0,g=a.length;g>e;e++)for(i=a[e],f=1,h=i.length;h>f;f+=2)c=b.x(i[f],i[f+1]),d=b.y(i[f],i[f+1]),i[f]=c,i[f+1]=d;return a};if(c._g=A,c.type=A.win.SVGAngle||A.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==c.type){var sb,tb=A.doc.createElement("div");if(tb.innerHTML='<v:shape adj="1"/>',sb=tb.firstChild,sb.style.behavior="url(#default#VML)",!sb||"object"!=typeof sb.adj)return c.type=G;tb=null}c.svg=!(c.vml="VML"==c.type),c._Paper=C,c.fn=v=C.prototype=c.prototype,c._id=0,c._oid=0,c.is=function(a,b){return b=M.call(b),"finite"==b?!Y[z](+a):"array"==b?a instanceof Array:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||"array"==b&&Array.isArray&&Array.isArray(a)||W.call(a).slice(8,-1).toLowerCase()==b},c.angle=function(a,b,d,e,f,g){if(null==f){var h=a-d,i=b-e;return h||i?(180+180*N.atan2(-i,-h)/S+360)%360:0}return c.angle(a,b,f,g)-c.angle(d,e,f,g)},c.rad=function(a){return a%360*S/180},c.deg=function(a){return 180*a/S%360},c.snapTo=function(a,b,d){if(d=c.is(d,"finite")?d:10,c.is(a,V)){for(var e=a.length;e--;)if(Q(a[e]-b)<=d)return a[e]}else{a=+a;var f=b%a;if(d>f)return b-f;if(f>a-d)return b-f+a}return b};c.createUUID=function(a,b){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,b).toUpperCase()}}(/[xy]/g,function(a){var b=16*N.random()|0,c="x"==a?b:3&b|8;return c.toString(16)});c.setWindow=function(a){b("raphael.setWindow",c,A.win,a),A.win=a,A.doc=A.win.document,c._engine.initWin&&c._engine.initWin(A.win)};var ub=function(a){if(c.vml){var b,d=/^\s+|\s+$/g;try{var e=new ActiveXObject("htmlfile");e.write("<body>"),e.close(),b=e.body}catch(g){b=createPopup().document.body}var h=b.createTextRange();ub=f(function(a){try{b.style.color=I(a).replace(d,G);var c=h.queryCommandValue("ForeColor");return c=(255&c)<<16|65280&c|(16711680&c)>>>16,"#"+("000000"+c.toString(16)).slice(-6)}catch(e){return"none"}})}else{var i=A.doc.createElement("i");i.title="Raphaël Colour Picker",i.style.display="none",A.doc.body.appendChild(i),ub=f(function(a){return i.style.color=a,A.doc.defaultView.getComputedStyle(i,G).getPropertyValue("color")})}return ub(a)},vb=function(){return"hsb("+[this.h,this.s,this.b]+")"},wb=function(){return"hsl("+[this.h,this.s,this.l]+")"},xb=function(){return this.hex},yb=function(a,b,d){if(null==b&&c.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(d=a.b,b=a.g,a=a.r),null==b&&c.is(a,U)){var e=c.getRGB(a);a=e.r,b=e.g,d=e.b}return(a>1||b>1||d>1)&&(a/=255,b/=255,d/=255),[a,b,d]},zb=function(a,b,d,e){a*=255,b*=255,d*=255;var f={r:a,g:b,b:d,hex:c.rgb(a,b,d),toString:xb};return c.is(e,"finite")&&(f.opacity=e),f};c.color=function(a){var b;return c.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(b=c.hsb2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):c.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(b=c.hsl2rgb(a),a.r=b.r,a.g=b.g,a.b=b.b,a.hex=b.hex):(c.is(a,"string")&&(a=c.getRGB(a)),c.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(b=c.rgb2hsl(a),a.h=b.h,a.s=b.s,a.l=b.l,b=c.rgb2hsb(a),a.v=b.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1)),a.toString=xb,a},c.hsb2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-Q(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],zb(e,f,g,d)},c.hsl2rgb=function(a,b,c,d){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h),(a>1||b>1||c>1)&&(a/=360,b/=100,c/=100),a*=360;var e,f,g,h,i;return a=a%360/60,i=2*b*(.5>c?c:1-c),h=i*(1-Q(a%2-1)),e=f=g=c-i/2,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],zb(e,f,g,d)},c.rgb2hsb=function(a,b,c){c=yb(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g;return f=O(a,b,c),g=f-P(a,b,c),d=0==g?null:f==a?(b-c)/g:f==b?(c-a)/g+2:(a-b)/g+4,d=(d+360)%6*60/360,e=0==g?0:g/f,{h:d,s:e,b:f,toString:vb}},c.rgb2hsl=function(a,b,c){c=yb(a,b,c),a=c[0],b=c[1],c=c[2];var d,e,f,g,h,i;return g=O(a,b,c),h=P(a,b,c),i=g-h,d=0==i?null:g==a?(b-c)/i:g==b?(c-a)/i+2:(a-b)/i+4,d=(d+360)%6*60/360,f=(g+h)/2,e=0==i?0:.5>f?i/(2*f):i/(2-2*f),{h:d,s:e,l:f,toString:wb}},c._path2string=function(){return this.join(",").replace(gb,"$1")};c._preload=function(a,b){var c=A.doc.createElement("img");c.style.cssText="position:absolute;left:-9999em;top:-9999em",c.onload=function(){b.call(this),this.onload=null,A.doc.body.removeChild(this)},c.onerror=function(){A.doc.body.removeChild(this)},A.doc.body.appendChild(c),c.src=a};c.getRGB=f(function(a){if(!a||(a=I(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:g};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:g};!(fb[z](a.toLowerCase().substring(0,2))||"#"==a.charAt())&&(a=ub(a));var b,d,e,f,h,i,j=a.match(X);return j?(j[2]&&(e=ab(j[2].substring(5),16),d=ab(j[2].substring(3,5),16),b=ab(j[2].substring(1,3),16)),j[3]&&(e=ab((h=j[3].charAt(3))+h,16),d=ab((h=j[3].charAt(2))+h,16),b=ab((h=j[3].charAt(1))+h,16)),j[4]&&(i=j[4][J](eb),b=_(i[0]),"%"==i[0].slice(-1)&&(b*=2.55),d=_(i[1]),"%"==i[1].slice(-1)&&(d*=2.55),e=_(i[2]),"%"==i[2].slice(-1)&&(e*=2.55),"rgba"==j[1].toLowerCase().slice(0,4)&&(f=_(i[3])),i[3]&&"%"==i[3].slice(-1)&&(f/=100)),j[5]?(i=j[5][J](eb),b=_(i[0]),"%"==i[0].slice(-1)&&(b*=2.55),d=_(i[1]),"%"==i[1].slice(-1)&&(d*=2.55),e=_(i[2]),"%"==i[2].slice(-1)&&(e*=2.55),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(b/=360),"hsba"==j[1].toLowerCase().slice(0,4)&&(f=_(i[3])),i[3]&&"%"==i[3].slice(-1)&&(f/=100),c.hsb2rgb(b,d,e,f)):j[6]?(i=j[6][J](eb),b=_(i[0]),"%"==i[0].slice(-1)&&(b*=2.55),d=_(i[1]),"%"==i[1].slice(-1)&&(d*=2.55),e=_(i[2]),"%"==i[2].slice(-1)&&(e*=2.55),("deg"==i[0].slice(-3)||"°"==i[0].slice(-1))&&(b/=360),"hsla"==j[1].toLowerCase().slice(0,4)&&(f=_(i[3])),i[3]&&"%"==i[3].slice(-1)&&(f/=100),c.hsl2rgb(b,d,e,f)):(j={r:b,g:d,b:e,toString:g},j.hex="#"+(16777216|e|d<<8|b<<16).toString(16).slice(1),c.is(f,"finite")&&(j.opacity=f),j)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:g}},c),c.hsb=f(function(a,b,d){return c.hsb2rgb(a,b,d).hex}),c.hsl=f(function(a,b,d){return c.hsl2rgb(a,b,d).hex}),c.rgb=f(function(a,b,c){return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)}),c.applyColor=function(a){var b=this.applyColor.start=this.applyColor.start||{h:0,s:1,b:a||.75},c=this.hsb2rgb(b.h,b.s,b.b);return b.h+=.075,b.h>1&&(b.h=0,b.s-=.2,b.s<=0&&(this.applyColor.start={h:0,s:1,b:b.b})),c.hex},c.applyColor.reset=function(){delete this.start},c.parsePathString=function(a){if(!a)return null;var b=Ab(a);if(b.arr)return Cb(b.arr);var d={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},e=[];return c.is(a,V)&&c.is(a[0],V)&&(e=Cb(a)),e.length||I(a).replace(hb,function(a,b,c){var f=[],g=b.toLowerCase();if(c.replace(jb,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(e.push([b][E](f.splice(0,2))),g="l",b="m"==b?"l":"L"),"r"==g)e.push([b][E](f));else for(;f.length>=d[g]&&(e.push([b][E](f.splice(0,d[g]))),d[g]););}),e.toString=c._path2string,b.arr=Cb(e),e},c.parseTransformString=f(function(a){if(!a)return null;var b=[];return c.is(a,V)&&c.is(a[0],V)&&(b=Cb(a)),b.length||I(a).replace(ib,function(a,c,d){{var e=[];M.call(c)}d.replace(jb,function(a,b){b&&e.push(+b)}),b.push([c][E](e))}),b.toString=c._path2string,b});var Ab=function(a){var b=Ab.ps=Ab.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)b[z](c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]};c.findDotsAtSegment=function(a,b,c,d,e,f,g,h,i){var j=1-i,k=R(j,3),l=R(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h,q=a+2*i*(c-a)+m*(e-2*c+a),r=b+2*i*(d-b)+m*(f-2*d+b),s=c+2*i*(e-c)+m*(g-2*e+c),t=d+2*i*(f-d)+m*(h-2*f+d),u=j*a+i*c,v=j*b+i*d,w=j*e+i*g,x=j*f+i*h,y=90-180*N.atan2(q-s,r-t)/S;return(q>s||t>r)&&(y+=180),{x:o,y:p,m:{x:q,y:r},n:{x:s,y:t},start:{x:u,y:v},end:{x:w,y:x},alpha:y}},c.bezierBBox=function(a,b,d,e,f,g,h,i){c.is(a,"array")||(a=[a,b,d,e,f,g,h,i]);var j=Jb.apply(null,a);return{x:j.min.x,y:j.min.y,x2:j.max.x,y2:j.max.y,width:j.max.x-j.min.x,height:j.max.y-j.min.y}},c.isPointInsideBBox=function(a,b,c){return b>=a.x&&b<=a.x2&&c>=a.y&&c<=a.y2},c.isBBoxIntersect=function(a,b){var d=c.isPointInsideBBox;return d(b,a.x,a.y)||d(b,a.x2,a.y)||d(b,a.x,a.y2)||d(b,a.x2,a.y2)||d(a,b.x,b.y)||d(a,b.x2,b.y)||d(a,b.x,b.y2)||d(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)},c.pathIntersection=function(a,b){return n(a,b)},c.pathIntersectionNumber=function(a,b){return n(a,b,1)},c.isPointInsidePath=function(a,b,d){var e=c.pathBBox(a);return c.isPointInsideBBox(e,b,d)&&n(a,[["M",b,d],["H",e.x2+10]],1)%2==1},c._removedFactory=function(a){return function(){b("raphael.log",null,"Raphaël: you are calling to method “"+a+"” of removed object",a)}};var Bb=c.pathBBox=function(a){var b=Ab(a);if(b.bbox)return d(b.bbox);if(!a)return{x:0,y:0,width:0,height:0,x2:0,y2:0};a=Kb(a);for(var c,e=0,f=0,g=[],h=[],i=0,j=a.length;j>i;i++)if(c=a[i],"M"==c[0])e=c[1],f=c[2],g.push(e),h.push(f);else{var k=Jb(e,f,c[1],c[2],c[3],c[4],c[5],c[6]);g=g[E](k.min.x,k.max.x),h=h[E](k.min.y,k.max.y),e=c[5],f=c[6]}var l=P[D](0,g),m=P[D](0,h),n=O[D](0,g),o=O[D](0,h),p=n-l,q=o-m,r={x:l,y:m,x2:n,y2:o,width:p,height:q,cx:l+p/2,cy:m+q/2};return b.bbox=d(r),r},Cb=function(a){var b=d(a);return b.toString=c._path2string,b},Db=c._pathToRelative=function(a){var b=Ab(a);if(b.rel)return Cb(b.rel);c.is(a,V)&&c.is(a&&a[0],V)||(a=c.parsePathString(a));var d=[],e=0,f=0,g=0,h=0,i=0;"M"==a[0][0]&&(e=a[0][1],f=a[0][2],g=e,h=f,i++,d.push(["M",e,f]));for(var j=i,k=a.length;k>j;j++){var l=d[j]=[],m=a[j];if(m[0]!=M.call(m[0]))switch(l[0]=M.call(m[0]),l[0]){case"a":l[1]=m[1],l[2]=m[2],l[3]=m[3],l[4]=m[4],l[5]=m[5],l[6]=+(m[6]-e).toFixed(3),l[7]=+(m[7]-f).toFixed(3);break;case"v":l[1]=+(m[1]-f).toFixed(3);break;case"m":g=m[1],h=m[2];default:for(var n=1,o=m.length;o>n;n++)l[n]=+(m[n]-(n%2?e:f)).toFixed(3)}else{l=d[j]=[],"m"==m[0]&&(g=m[1]+e,h=m[2]+f);for(var p=0,q=m.length;q>p;p++)d[j][p]=m[p]}var r=d[j].length;switch(d[j][0]){case"z":e=g,f=h;break;case"h":e+=+d[j][r-1];break;case"v":f+=+d[j][r-1];break;default:e+=+d[j][r-2],f+=+d[j][r-1]}}return d.toString=c._path2string,b.rel=Cb(d),d},Eb=c._pathToAbsolute=function(a){var b=Ab(a);if(b.abs)return Cb(b.abs);if(c.is(a,V)&&c.is(a&&a[0],V)||(a=c.parsePathString(a)),!a||!a.length)return[["M",0,0]];var d=[],e=0,f=0,g=0,i=0,j=0;"M"==a[0][0]&&(e=+a[0][1],f=+a[0][2],g=e,i=f,j++,d[0]=["M",e,f]);for(var k,l,m=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),n=j,o=a.length;o>n;n++){if(d.push(k=[]),l=a[n],l[0]!=bb.call(l[0]))switch(k[0]=bb.call(l[0]),k[0]){case"A":k[1]=l[1],k[2]=l[2],k[3]=l[3],k[4]=l[4],k[5]=l[5],k[6]=+(l[6]+e),k[7]=+(l[7]+f);break;case"V":k[1]=+l[1]+f;break;case"H":k[1]=+l[1]+e;break;case"R":for(var p=[e,f][E](l.slice(1)),q=2,r=p.length;r>q;q++)p[q]=+p[q]+e,p[++q]=+p[q]+f;d.pop(),d=d[E](h(p,m));break;case"M":g=+l[1]+e,i=+l[2]+f;default:for(q=1,r=l.length;r>q;q++)k[q]=+l[q]+(q%2?e:f)}else if("R"==l[0])p=[e,f][E](l.slice(1)),d.pop(),d=d[E](h(p,m)),k=["R"][E](l.slice(-2));else for(var s=0,t=l.length;t>s;s++)k[s]=l[s];switch(k[0]){case"Z":e=g,f=i;break;case"H":e=k[1];break;case"V":f=k[1];break;case"M":g=k[k.length-2],i=k[k.length-1];default:e=k[k.length-2],f=k[k.length-1]}}return d.toString=c._path2string,b.abs=Cb(d),d},Fb=function(a,b,c,d){return[a,b,c,d,c,d]},Gb=function(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]},Hb=function(a,b,c,d,e,g,h,i,j,k){var l,m=120*S/180,n=S/180*(+e||0),o=[],p=f(function(a,b,c){var d=a*N.cos(c)-b*N.sin(c),e=a*N.sin(c)+b*N.cos(c);return{x:d,y:e}});if(k)y=k[0],z=k[1],w=k[2],x=k[3];else{l=p(a,b,-n),a=l.x,b=l.y,l=p(i,j,-n),i=l.x,j=l.y;var q=(N.cos(S/180*e),N.sin(S/180*e),(a-i)/2),r=(b-j)/2,s=q*q/(c*c)+r*r/(d*d);s>1&&(s=N.sqrt(s),c=s*c,d=s*d);var t=c*c,u=d*d,v=(g==h?-1:1)*N.sqrt(Q((t*u-t*r*r-u*q*q)/(t*r*r+u*q*q))),w=v*c*r/d+(a+i)/2,x=v*-d*q/c+(b+j)/2,y=N.asin(((b-x)/d).toFixed(9)),z=N.asin(((j-x)/d).toFixed(9));y=w>a?S-y:y,z=w>i?S-z:z,0>y&&(y=2*S+y),0>z&&(z=2*S+z),h&&y>z&&(y-=2*S),!h&&z>y&&(z-=2*S)}var A=z-y;if(Q(A)>m){var B=z,C=i,D=j;z=y+m*(h&&z>y?1:-1),i=w+c*N.cos(z),j=x+d*N.sin(z),o=Hb(i,j,c,d,e,0,h,C,D,[z,B,w,x])}A=z-y;var F=N.cos(y),G=N.sin(y),H=N.cos(z),I=N.sin(z),K=N.tan(A/4),L=4/3*c*K,M=4/3*d*K,O=[a,b],P=[a+L*G,b-M*F],R=[i+L*I,j-M*H],T=[i,j];if(P[0]=2*O[0]-P[0],P[1]=2*O[1]-P[1],k)return[P,R,T][E](o);o=[P,R,T][E](o).join()[J](",");for(var U=[],V=0,W=o.length;W>V;V++)U[V]=V%2?p(o[V-1],o[V],n).y:p(o[V],o[V+1],n).x;return U},Ib=function(a,b,c,d,e,f,g,h,i){var j=1-i;return{x:R(j,3)*a+3*R(j,2)*i*c+3*j*i*i*e+R(i,3)*g,y:R(j,3)*b+3*R(j,2)*i*d+3*j*i*i*f+R(i,3)*h}},Jb=f(function(a,b,c,d,e,f,g,h){var i,j=e-2*c+a-(g-2*e+c),k=2*(c-a)-2*(e-c),l=a-c,m=(-k+N.sqrt(k*k-4*j*l))/2/j,n=(-k-N.sqrt(k*k-4*j*l))/2/j,o=[b,h],p=[a,g];return Q(m)>"1e12"&&(m=.5),Q(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=Ib(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=Ib(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),j=f-2*d+b-(h-2*f+d),k=2*(d-b)-2*(f-d),l=b-d,m=(-k+N.sqrt(k*k-4*j*l))/2/j,n=(-k-N.sqrt(k*k-4*j*l))/2/j,Q(m)>"1e12"&&(m=.5),Q(n)>"1e12"&&(n=.5),m>0&&1>m&&(i=Ib(a,b,c,d,e,f,g,h,m),p.push(i.x),o.push(i.y)),n>0&&1>n&&(i=Ib(a,b,c,d,e,f,g,h,n),p.push(i.x),o.push(i.y)),{min:{x:P[D](0,p),y:P[D](0,o)},max:{x:O[D](0,p),y:O[D](0,o)}}}),Kb=c._path2curve=f(function(a,b){var c=!b&&Ab(a);if(!b&&c.curve)return Cb(c.curve);for(var d=Eb(a),e=b&&Eb(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},g={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h=(function(a,b,c){var d,e;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"][E](Hb[D](0,[b.x,b.y][E](a.slice(1))));break;case"S":"C"==c||"S"==c?(d=2*b.x-b.bx,e=2*b.y-b.by):(d=b.x,e=b.y),a=["C",d,e][E](a.slice(1));break;case"T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y),a=["C"][E](Gb(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"][E](Gb(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"][E](Fb(b.x,b.y,a[1],a[2]));break;case"H":a=["C"][E](Fb(b.x,b.y,a[1],b.y));break;case"V":a=["C"][E](Fb(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"][E](Fb(b.x,b.y,b.X,b.Y))}return a}),i=function(a,b){if(a[b].length>7){a[b].shift();for(var c=a[b];c.length;)a.splice(b++,0,["C"][E](c.splice(0,6)));a.splice(b,1),l=O(d.length,e&&e.length||0)}},j=function(a,b,c,f,g){a&&b&&"M"==a[g][0]&&"M"!=b[g][0]&&(b.splice(g,0,["M",f.x,f.y]),c.bx=0,c.by=0,c.x=a[g][1],c.y=a[g][2],l=O(d.length,e&&e.length||0))},k=0,l=O(d.length,e&&e.length||0);l>k;k++){d[k]=h(d[k],f),i(d,k),e&&(e[k]=h(e[k],g)),e&&i(e,k),j(d,e,f,g,k),j(e,d,g,f,k);var m=d[k],n=e&&e[k],o=m.length,p=e&&n.length;f.x=m[o-2],f.y=m[o-1],f.bx=_(m[o-4])||f.x,f.by=_(m[o-3])||f.y,g.bx=e&&(_(n[p-4])||g.x),g.by=e&&(_(n[p-3])||g.y),g.x=e&&n[p-2],g.y=e&&n[p-1]}return e||(c.curve=Cb(d)),e?[d,e]:d},null,Cb),Lb=(c._parseDots=f(function(a){for(var b=[],d=0,e=a.length;e>d;d++){var f={},g=a[d].match(/^([^:]*):?([\d\.]*)/);if(f.color=c.getRGB(g[1]),f.color.error)return null;f.color=f.color.hex,g[2]&&(f.offset=g[2]+"%"),b.push(f)}for(d=1,e=b.length-1;e>d;d++)if(!b[d].offset){for(var h=_(b[d-1].offset||0),i=0,j=d+1;e>j;j++)if(b[j].offset){i=b[j].offset;break}i||(i=100,j=e),i=_(i);for(var k=(i-h)/(j-d+1);j>d;d++)h+=k,b[d].offset=h+"%"}return b}),c._tear=function(a,b){a==b.top&&(b.top=a.prev),a==b.bottom&&(b.bottom=a.next),a.next&&(a.next.prev=a.prev),a.prev&&(a.prev.next=a.next)}),Mb=(c._tofront=function(a,b){b.top!==a&&(Lb(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)},c._toback=function(a,b){b.bottom!==a&&(Lb(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)},c._insertafter=function(a,b,c){Lb(a,c),b==c.top&&(c.top=a),b.next&&(b.next.prev=a),a.next=b.next,a.prev=b,b.next=a},c._insertbefore=function(a,b,c){Lb(a,c),b==c.bottom&&(c.bottom=a),b.prev&&(b.prev.next=a),a.prev=b.prev,b.prev=a,a.next=b},c.toMatrix=function(a,b){var c=Bb(a),d={_:{transform:G},getBBox:function(){return c}};return Nb(d,b),d.matrix}),Nb=(c.transformPath=function(a,b){return rb(a,Mb(a,b))},c._extractTransform=function(a,b){if(null==b)return a._.transform;b=I(b).replace(/\.{3}|\u2026/g,a._.transform||G);var d=c.parseTransformString(b),e=0,f=0,g=0,h=1,i=1,j=a._,k=new o;if(j.transform=d||[],d)for(var l=0,m=d.length;m>l;l++){var n,p,q,r,s,t=d[l],u=t.length,v=I(t[0]).toLowerCase(),w=t[0]!=v,x=w?k.invert():0;"t"==v&&3==u?w?(n=x.x(0,0),p=x.y(0,0),q=x.x(t[1],t[2]),r=x.y(t[1],t[2]),k.translate(q-n,r-p)):k.translate(t[1],t[2]):"r"==v?2==u?(s=s||a.getBBox(1),k.rotate(t[1],s.x+s.width/2,s.y+s.height/2),e+=t[1]):4==u&&(w?(q=x.x(t[2],t[3]),r=x.y(t[2],t[3]),k.rotate(t[1],q,r)):k.rotate(t[1],t[2],t[3]),e+=t[1]):"s"==v?2==u||3==u?(s=s||a.getBBox(1),k.scale(t[1],t[u-1],s.x+s.width/2,s.y+s.height/2),h*=t[1],i*=t[u-1]):5==u&&(w?(q=x.x(t[3],t[4]),r=x.y(t[3],t[4]),k.scale(t[1],t[2],q,r)):k.scale(t[1],t[2],t[3],t[4]),h*=t[1],i*=t[2]):"m"==v&&7==u&&k.add(t[1],t[2],t[3],t[4],t[5],t[6]),j.dirtyT=1,a.matrix=k}a.matrix=k,j.sx=h,j.sy=i,j.deg=e,j.dx=f=k.e,j.dy=g=k.f,1==h&&1==i&&!e&&j.bbox?(j.bbox.x+=+f,j.bbox.y+=+g):j.dirtyT=1}),Ob=function(a){var b=a[0];switch(b.toLowerCase()){case"t":return[b,0,0];case"m":return[b,1,0,0,1,0,0];case"r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case"s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},Pb=c._equaliseTransform=function(a,b){b=I(b).replace(/\.{3}|\u2026/g,a),a=c.parseTransformString(a)||[],b=c.parseTransformString(b)||[];for(var d,e,f,g,h=O(a.length,b.length),i=[],j=[],k=0;h>k;k++){if(f=a[k]||Ob(b[k]),g=b[k]||Ob(f),f[0]!=g[0]||"r"==f[0].toLowerCase()&&(f[2]!=g[2]||f[3]!=g[3])||"s"==f[0].toLowerCase()&&(f[3]!=g[3]||f[4]!=g[4]))return;for(i[k]=[],j[k]=[],d=0,e=O(f.length,g.length);e>d;d++)d in f&&(i[k][d]=f[d]),d in g&&(j[k][d]=g[d])}return{from:i,to:j}};c._getContainer=function(a,b,d,e){var f;return f=null!=e||c.is(a,"object")?a:A.doc.getElementById(a),null!=f?f.tagName?null==b?{container:f,width:f.style.pixelWidth||f.offsetWidth,height:f.style.pixelHeight||f.offsetHeight}:{container:f,width:b,height:d}:{container:1,x:a,y:b,width:d,height:e}:void 0
},c.pathToRelative=Db,c._engine={},c.path2curve=Kb,c.matrix=function(a,b,c,d,e,f){return new o(a,b,c,d,e,f)},function(a){function b(a){return a[0]*a[0]+a[1]*a[1]}function d(a){var c=N.sqrt(b(a));a[0]&&(a[0]/=c),a[1]&&(a[1]/=c)}a.add=function(a,b,c,d,e,f){var g,h,i,j,k=[[],[],[]],l=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],m=[[a,c,e],[b,d,f],[0,0,1]];for(a&&a instanceof o&&(m=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]),g=0;3>g;g++)for(h=0;3>h;h++){for(j=0,i=0;3>i;i++)j+=l[g][i]*m[i][h];k[g][h]=j}this.a=k[0][0],this.b=k[1][0],this.c=k[0][1],this.d=k[1][1],this.e=k[0][2],this.f=k[1][2]},a.invert=function(){var a=this,b=a.a*a.d-a.b*a.c;return new o(a.d/b,-a.b/b,-a.c/b,a.a/b,(a.c*a.f-a.d*a.e)/b,(a.b*a.e-a.a*a.f)/b)},a.clone=function(){return new o(this.a,this.b,this.c,this.d,this.e,this.f)},a.translate=function(a,b){this.add(1,0,0,1,a,b)},a.scale=function(a,b,c,d){null==b&&(b=a),(c||d)&&this.add(1,0,0,1,c,d),this.add(a,0,0,b,0,0),(c||d)&&this.add(1,0,0,1,-c,-d)},a.rotate=function(a,b,d){a=c.rad(a),b=b||0,d=d||0;var e=+N.cos(a).toFixed(9),f=+N.sin(a).toFixed(9);this.add(e,f,-f,e,b,d),this.add(1,0,0,1,-b,-d)},a.x=function(a,b){return a*this.a+b*this.c+this.e},a.y=function(a,b){return a*this.b+b*this.d+this.f},a.get=function(a){return+this[I.fromCharCode(97+a)].toFixed(4)},a.toString=function(){return c.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},a.split=function(){var a={};a.dx=this.e,a.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];a.scalex=N.sqrt(b(e[0])),d(e[0]),a.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1],e[1]=[e[1][0]-e[0][0]*a.shear,e[1][1]-e[0][1]*a.shear],a.scaley=N.sqrt(b(e[1])),d(e[1]),a.shear/=a.scaley;var f=-e[0][1],g=e[1][1];return 0>g?(a.rotate=c.deg(N.acos(g)),0>f&&(a.rotate=360-a.rotate)):a.rotate=c.deg(N.asin(f)),a.isSimple=!(+a.shear.toFixed(9)||a.scalex.toFixed(9)!=a.scaley.toFixed(9)&&a.rotate),a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate,a.noRotation=!+a.shear.toFixed(9)&&!a.rotate,a},a.toTransformString=function(a){var b=a||this[J]();return b.isSimple?(b.scalex=+b.scalex.toFixed(4),b.scaley=+b.scaley.toFixed(4),b.rotate=+b.rotate.toFixed(4),(b.dx||b.dy?"t"+[b.dx,b.dy]:G)+(1!=b.scalex||1!=b.scaley?"s"+[b.scalex,b.scaley,0,0]:G)+(b.rotate?"r"+[b.rotate,0,0]:G)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(o.prototype);var Qb=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);v.safari="Apple Computer, Inc."==navigator.vendor&&(Qb&&Qb[1]<4||"iP"==navigator.platform.slice(0,2))||"Google Inc."==navigator.vendor&&Qb&&Qb[1]<8?function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:mb;for(var Rb=function(){this.returnValue=!1},Sb=function(){return this.originalEvent.preventDefault()},Tb=function(){this.cancelBubble=!0},Ub=function(){return this.originalEvent.stopPropagation()},Vb=function(a){var b=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,c=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft;return{x:a.clientX+c,y:a.clientY+b}},Wb=function(){return A.doc.addEventListener?function(a,b,c,d){var e=function(a){var b=Vb(a);return c.call(d,a,b.x,b.y)};if(a.addEventListener(b,e,!1),F&&L[b]){var f=function(b){for(var e=Vb(b),f=b,g=0,h=b.targetTouches&&b.targetTouches.length;h>g;g++)if(b.targetTouches[g].target==a){b=b.targetTouches[g],b.originalEvent=f,b.preventDefault=Sb,b.stopPropagation=Ub;break}return c.call(d,b,e.x,e.y)};a.addEventListener(L[b],f,!1)}return function(){return a.removeEventListener(b,e,!1),F&&L[b]&&a.removeEventListener(L[b],e,!1),!0}}:A.doc.attachEvent?function(a,b,c,d){var e=function(a){a=a||A.win.event;var b=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,e=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft,f=a.clientX+e,g=a.clientY+b;return a.preventDefault=a.preventDefault||Rb,a.stopPropagation=a.stopPropagation||Tb,c.call(d,a,f,g)};a.attachEvent("on"+b,e);var f=function(){return a.detachEvent("on"+b,e),!0};return f}:void 0}(),Xb=[],Yb=function(a){for(var c,d=a.clientX,e=a.clientY,f=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,g=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft,h=Xb.length;h--;){if(c=Xb[h],F&&a.touches){for(var i,j=a.touches.length;j--;)if(i=a.touches[j],i.identifier==c.el._drag.id){d=i.clientX,e=i.clientY,(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var k,l=c.el.node,m=l.nextSibling,n=l.parentNode,o=l.style.display;A.win.opera&&n.removeChild(l),l.style.display="none",k=c.el.paper.getElementByPoint(d,e),l.style.display=o,A.win.opera&&(m?n.insertBefore(l,m):n.appendChild(l)),k&&b("raphael.drag.over."+c.el.id,c.el,k),d+=g,e+=f,b("raphael.drag.move."+c.el.id,c.move_scope||c.el,d-c.el._drag.x,e-c.el._drag.y,d,e,a)}},Zb=function(a){c.unmousemove(Yb).unmouseup(Zb);for(var d,e=Xb.length;e--;)d=Xb[e],d.el._drag={},b("raphael.drag.end."+d.el.id,d.end_scope||d.start_scope||d.move_scope||d.el,a);Xb=[]},$b=c.el={},_b=K.length;_b--;)!function(a){c[a]=$b[a]=function(b,d){return c.is(b,"function")&&(this.events=this.events||[],this.events.push({name:a,f:b,unbind:Wb(this.shape||this.node||A.doc,a,b,d||this)})),this},c["un"+a]=$b["un"+a]=function(b){for(var d=this.events||[],e=d.length;e--;)d[e].name!=a||!c.is(b,"undefined")&&d[e].f!=b||(d[e].unbind(),d.splice(e,1),!d.length&&delete this.events);return this}}(K[_b]);$b.data=function(a,d){var e=kb[this.id]=kb[this.id]||{};if(0==arguments.length)return e;if(1==arguments.length){if(c.is(a,"object")){for(var f in a)a[z](f)&&this.data(f,a[f]);return this}return b("raphael.data.get."+this.id,this,e[a],a),e[a]}return e[a]=d,b("raphael.data.set."+this.id,this,d,a),this},$b.removeData=function(a){return null==a?kb[this.id]={}:kb[this.id]&&delete kb[this.id][a],this},$b.getData=function(){return d(kb[this.id]||{})},$b.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)},$b.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var ac=[];$b.drag=function(a,d,e,f,g,h){function i(i){(i.originalEvent||i).preventDefault();var j=i.clientX,k=i.clientY,l=A.doc.documentElement.scrollTop||A.doc.body.scrollTop,m=A.doc.documentElement.scrollLeft||A.doc.body.scrollLeft;if(this._drag.id=i.identifier,F&&i.touches)for(var n,o=i.touches.length;o--;)if(n=i.touches[o],this._drag.id=n.identifier,n.identifier==this._drag.id){j=n.clientX,k=n.clientY;break}this._drag.x=j+m,this._drag.y=k+l,!Xb.length&&c.mousemove(Yb).mouseup(Zb),Xb.push({el:this,move_scope:f,start_scope:g,end_scope:h}),d&&b.on("raphael.drag.start."+this.id,d),a&&b.on("raphael.drag.move."+this.id,a),e&&b.on("raphael.drag.end."+this.id,e),b("raphael.drag.start."+this.id,g||f||this,i.clientX+m,i.clientY+l,i)}return this._drag={},ac.push({el:this,start:i}),this.mousedown(i),this},$b.onDragOver=function(a){a?b.on("raphael.drag.over."+this.id,a):b.unbind("raphael.drag.over."+this.id)},$b.undrag=function(){for(var a=ac.length;a--;)ac[a].el==this&&(this.unmousedown(ac[a].start),ac.splice(a,1),b.unbind("raphael.drag.*."+this.id));!ac.length&&c.unmousemove(Yb).unmouseup(Zb),Xb=[]},v.circle=function(a,b,d){var e=c._engine.circle(this,a||0,b||0,d||0);return this.__set__&&this.__set__.push(e),e},v.rect=function(a,b,d,e,f){var g=c._engine.rect(this,a||0,b||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},v.ellipse=function(a,b,d,e){var f=c._engine.ellipse(this,a||0,b||0,d||0,e||0);return this.__set__&&this.__set__.push(f),f},v.path=function(a){a&&!c.is(a,U)&&!c.is(a[0],V)&&(a+=G);var b=c._engine.path(c.format[D](c,arguments),this);return this.__set__&&this.__set__.push(b),b},v.image=function(a,b,d,e,f){var g=c._engine.image(this,a||"about:blank",b||0,d||0,e||0,f||0);return this.__set__&&this.__set__.push(g),g},v.text=function(a,b,d){var e=c._engine.text(this,a||0,b||0,I(d));return this.__set__&&this.__set__.push(e),e},v.set=function(a){!c.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var b=new mc(a);return this.__set__&&this.__set__.push(b),b.paper=this,b.type="set",b},v.setStart=function(a){this.__set__=a||this.set()},v.setFinish=function(){var a=this.__set__;return delete this.__set__,a},v.setSize=function(a,b){return c._engine.setSize.call(this,a,b)},v.setViewBox=function(a,b,d,e,f){return c._engine.setViewBox.call(this,a,b,d,e,f)},v.top=v.bottom=null,v.raphael=c;var bc=function(a){var b=a.getBoundingClientRect(),c=a.ownerDocument,d=c.body,e=c.documentElement,f=e.clientTop||d.clientTop||0,g=e.clientLeft||d.clientLeft||0,h=b.top+(A.win.pageYOffset||e.scrollTop||d.scrollTop)-f,i=b.left+(A.win.pageXOffset||e.scrollLeft||d.scrollLeft)-g;return{y:h,x:i}};v.getElementByPoint=function(a,b){var c=this,d=c.canvas,e=A.doc.elementFromPoint(a,b);if(A.win.opera&&"svg"==e.tagName){var f=bc(d),g=d.createSVGRect();g.x=a-f.x,g.y=b-f.y,g.width=g.height=1;var h=d.getIntersectionList(g,null);h.length&&(e=h[h.length-1])}if(!e)return null;for(;e.parentNode&&e!=d.parentNode&&!e.raphael;)e=e.parentNode;return e==c.canvas.parentNode&&(e=d),e=e&&e.raphael?c.getById(e.raphaelid):null},v.getElementsByBBox=function(a){var b=this.set();return this.forEach(function(d){c.isBBoxIntersect(d.getBBox(),a)&&b.push(d)}),b},v.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null},v.forEach=function(a,b){for(var c=this.bottom;c;){if(a.call(b,c)===!1)return this;c=c.next}return this},v.getElementsByPoint=function(a,b){var c=this.set();return this.forEach(function(d){d.isPointInside(a,b)&&c.push(d)}),c},$b.isPointInside=function(a,b){var d=this.realPath=qb[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(d=c.transformPath(d,this.attr("transform"))),c.isPointInsidePath(d,a,b)},$b.getBBox=function(a){if(this.removed)return{};var b=this._;return a?((b.dirty||!b.bboxwt)&&(this.realPath=qb[this.type](this),b.bboxwt=Bb(this.realPath),b.bboxwt.toString=p,b.dirty=0),b.bboxwt):((b.dirty||b.dirtyT||!b.bbox)&&((b.dirty||!this.realPath)&&(b.bboxwt=0,this.realPath=qb[this.type](this)),b.bbox=Bb(rb(this.realPath,this.matrix)),b.bbox.toString=p,b.dirty=b.dirtyT=0),b.bbox)},$b.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(a),a},$b.glow=function(a){if("text"==this.type)return null;a=a||{};var b={width:(a.width||10)+(+this.attr("stroke-width")||1),fill:a.fill||!1,opacity:a.opacity||.5,offsetx:a.offsetx||0,offsety:a.offsety||0,color:a.color||"#000"},c=b.width/2,d=this.paper,e=d.set(),f=this.realPath||qb[this.type](this);f=this.matrix?rb(f,this.matrix):f;for(var g=1;c+1>g;g++)e.push(d.path(f).attr({stroke:b.color,fill:b.fill?b.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b.width/c*g).toFixed(3),opacity:+(b.opacity/c).toFixed(3)}));return e.insertBefore(this).translate(b.offsetx,b.offsety)};var cc=function(a,b,d,e,f,g,h,i,l){return null==l?j(a,b,d,e,f,g,h,i):c.findDotsAtSegment(a,b,d,e,f,g,h,i,k(a,b,d,e,f,g,h,i,l))},dc=function(a,b){return function(d,e,f){d=Kb(d);for(var g,h,i,j,k,l="",m={},n=0,o=0,p=d.length;p>o;o++){if(i=d[o],"M"==i[0])g=+i[1],h=+i[2];else{if(j=cc(g,h,i[1],i[2],i[3],i[4],i[5],i[6]),n+j>e){if(b&&!m.start){if(k=cc(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),l+=["C"+k.start.x,k.start.y,k.m.x,k.m.y,k.x,k.y],f)return l;m.start=l,l=["M"+k.x,k.y+"C"+k.n.x,k.n.y,k.end.x,k.end.y,i[5],i[6]].join(),n+=j,g=+i[5],h=+i[6];continue}if(!a&&!b)return k=cc(g,h,i[1],i[2],i[3],i[4],i[5],i[6],e-n),{x:k.x,y:k.y,alpha:k.alpha}}n+=j,g=+i[5],h=+i[6]}l+=i.shift()+i}return m.end=l,k=a?n:b?m:c.findDotsAtSegment(g,h,i[0],i[1],i[2],i[3],i[4],i[5],1),k.alpha&&(k={x:k.x,y:k.y,alpha:k.alpha}),k}},ec=dc(1),fc=dc(),gc=dc(0,1);c.getTotalLength=ec,c.getPointAtLength=fc,c.getSubpath=function(a,b,c){if(this.getTotalLength(a)-c<1e-6)return gc(a,b).end;var d=gc(a,c,1);return b?gc(d,b).end:d},$b.getTotalLength=function(){var a=this.getPath();if(a)return this.node.getTotalLength?this.node.getTotalLength():ec(a)},$b.getPointAtLength=function(a){var b=this.getPath();if(b)return fc(b,a)},$b.getPath=function(){var a,b=c._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return b&&(a=b(this)),a},$b.getSubpath=function(a,b){var d=this.getPath();if(d)return c.getSubpath(d,a,b)};var hc=c.easing_formulas={linear:function(a){return a},"<":function(a){return R(a,1.7)},">":function(a){return R(a,.48)},"<>":function(a){var b=.48-a/1.04,c=N.sqrt(.1734+b*b),d=c-b,e=R(Q(d),1/3)*(0>d?-1:1),f=-c-b,g=R(Q(f),1/3)*(0>f?-1:1),h=e+g+.5;return 3*(1-h)*h*h+h*h*h},backIn:function(a){var b=1.70158;return a*a*((b+1)*a-b)},backOut:function(a){a-=1;var b=1.70158;return a*a*((b+1)*a+b)+1},elastic:function(a){return a==!!a?a:R(2,-10*a)*N.sin(2*(a-.075)*S/.3)+1},bounce:function(a){var b,c=7.5625,d=2.75;return 1/d>a?b=c*a*a:2/d>a?(a-=1.5/d,b=c*a*a+.75):2.5/d>a?(a-=2.25/d,b=c*a*a+.9375):(a-=2.625/d,b=c*a*a+.984375),b}};hc.easeIn=hc["ease-in"]=hc["<"],hc.easeOut=hc["ease-out"]=hc[">"],hc.easeInOut=hc["ease-in-out"]=hc["<>"],hc["back-in"]=hc.backIn,hc["back-out"]=hc.backOut;var ic=[],jc=a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){setTimeout(a,16)},kc=function(){for(var a=+new Date,d=0;d<ic.length;d++){var e=ic[d];if(!e.el.removed&&!e.paused){var f,g,h=a-e.start,i=e.ms,j=e.easing,k=e.from,l=e.diff,m=e.to,n=(e.t,e.el),o={},p={};if(e.initstatus?(h=(e.initstatus*e.anim.top-e.prev)/(e.percent-e.prev)*i,e.status=e.initstatus,delete e.initstatus,e.stop&&ic.splice(d--,1)):e.status=(e.prev+(e.percent-e.prev)*(h/i))/e.anim.top,!(0>h))if(i>h){var q=j(h/i);for(var r in k)if(k[z](r)){switch(db[r]){case T:f=+k[r]+q*i*l[r];break;case"colour":f="rgb("+[lc($(k[r].r+q*i*l[r].r)),lc($(k[r].g+q*i*l[r].g)),lc($(k[r].b+q*i*l[r].b))].join(",")+")";break;case"path":f=[];for(var t=0,u=k[r].length;u>t;t++){f[t]=[k[r][t][0]];for(var v=1,w=k[r][t].length;w>v;v++)f[t][v]=+k[r][t][v]+q*i*l[r][t][v];f[t]=f[t].join(H)}f=f.join(H);break;case"transform":if(l[r].real)for(f=[],t=0,u=k[r].length;u>t;t++)for(f[t]=[k[r][t][0]],v=1,w=k[r][t].length;w>v;v++)f[t][v]=k[r][t][v]+q*i*l[r][t][v];else{var x=function(a){return+k[r][a]+q*i*l[r][a]};f=[["m",x(0),x(1),x(2),x(3),x(4),x(5)]]}break;case"csv":if("clip-rect"==r)for(f=[],t=4;t--;)f[t]=+k[r][t]+q*i*l[r][t];break;default:var y=[][E](k[r]);for(f=[],t=n.paper.customAttributes[r].length;t--;)f[t]=+y[t]+q*i*l[r][t]}o[r]=f}n.attr(o),function(a,c,d){setTimeout(function(){b("raphael.anim.frame."+a,c,d)})}(n.id,n,e.anim)}else{if(function(a,d,e){setTimeout(function(){b("raphael.anim.frame."+d.id,d,e),b("raphael.anim.finish."+d.id,d,e),c.is(a,"function")&&a.call(d)})}(e.callback,n,e.anim),n.attr(m),ic.splice(d--,1),e.repeat>1&&!e.next){for(g in m)m[z](g)&&(p[g]=e.totalOrigin[g]);e.el.attr(p),s(e.anim,e.el,e.anim.percents[0],null,e.totalOrigin,e.repeat-1)}e.next&&!e.stop&&s(e.anim,e.el,e.next,null,e.totalOrigin,e.repeat)}}}c.svg&&n&&n.paper&&n.paper.safari(),ic.length&&jc(kc)},lc=function(a){return a>255?255:0>a?0:a};$b.animateWith=function(a,b,d,e,f,g){var h=this;if(h.removed)return g&&g.call(h),h;var i=d instanceof r?d:c.animation(d,e,f,g);s(i,h,i.percents[0],null,h.attr());for(var j=0,k=ic.length;k>j;j++)if(ic[j].anim==b&&ic[j].el==a){ic[k-1].start=ic[j].start;break}return h},$b.onAnimation=function(a){return a?b.on("raphael.anim.frame."+this.id,a):b.unbind("raphael.anim.frame."+this.id),this},r.prototype.delay=function(a){var b=new r(this.anim,this.ms);return b.times=this.times,b.del=+a||0,b},r.prototype.repeat=function(a){var b=new r(this.anim,this.ms);return b.del=this.del,b.times=N.floor(O(a,0))||1,b},c.animation=function(a,b,d,e){if(a instanceof r)return a;(c.is(d,"function")||!d)&&(e=e||d||null,d=null),a=Object(a),b=+b||0;var f,g,h={};for(g in a)a[z](g)&&_(g)!=g&&_(g)+"%"!=g&&(f=!0,h[g]=a[g]);return f?(d&&(h.easing=d),e&&(h.callback=e),new r({100:h},b)):new r(a,b)},$b.animate=function(a,b,d,e){var f=this;if(f.removed)return e&&e.call(f),f;var g=a instanceof r?a:c.animation(a,b,d,e);return s(g,f,g.percents[0],null,f.attr()),f},$b.setTime=function(a,b){return a&&null!=b&&this.status(a,P(b,a.ms)/a.ms),this},$b.status=function(a,b){var c,d,e=[],f=0;if(null!=b)return s(a,this,-1,P(b,1)),this;for(c=ic.length;c>f;f++)if(d=ic[f],d.el.id==this.id&&(!a||d.anim==a)){if(a)return d.status;e.push({anim:d.anim,status:d.status})}return a?0:e},$b.pause=function(a){for(var c=0;c<ic.length;c++)ic[c].el.id!=this.id||a&&ic[c].anim!=a||b("raphael.anim.pause."+this.id,this,ic[c].anim)!==!1&&(ic[c].paused=!0);return this},$b.resume=function(a){for(var c=0;c<ic.length;c++)if(ic[c].el.id==this.id&&(!a||ic[c].anim==a)){var d=ic[c];b("raphael.anim.resume."+this.id,this,d.anim)!==!1&&(delete d.paused,this.status(d.anim,d.status))}return this},$b.stop=function(a){for(var c=0;c<ic.length;c++)ic[c].el.id!=this.id||a&&ic[c].anim!=a||b("raphael.anim.stop."+this.id,this,ic[c].anim)!==!1&&ic.splice(c--,1);return this},b.on("raphael.remove",t),b.on("raphael.clear",t),$b.toString=function(){return"Raphaël’s object"};var mc=function(a){if(this.items=[],this.length=0,this.type="set",a)for(var b=0,c=a.length;c>b;b++)!a[b]||a[b].constructor!=$b.constructor&&a[b].constructor!=mc||(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},nc=mc.prototype;nc.push=function(){for(var a,b,c=0,d=arguments.length;d>c;c++)a=arguments[c],!a||a.constructor!=$b.constructor&&a.constructor!=mc||(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this},nc.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},nc.forEach=function(a,b){for(var c=0,d=this.items.length;d>c;c++)if(a.call(b,this.items[c],c)===!1)return this;return this};for(var oc in $b)$b[z](oc)&&(nc[oc]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][D](c,b)})}}(oc));return nc.attr=function(a,b){if(a&&c.is(a,V)&&c.is(a[0],"object"))for(var d=0,e=a.length;e>d;d++)this.items[d].attr(a[d]);else for(var f=0,g=this.items.length;g>f;f++)this.items[f].attr(a,b);return this},nc.clear=function(){for(;this.length;)this.pop()},nc.splice=function(a,b){a=0>a?O(this.length+a,0):a,b=O(0,P(this.length-a,b));var c,d=[],e=[],f=[];for(c=2;c<arguments.length;c++)f.push(arguments[c]);for(c=0;b>c;c++)e.push(this[a+c]);for(;c<this.length-a;c++)d.push(this[a+c]);var g=f.length;for(c=0;c<g+d.length;c++)this.items[a+c]=this[a+c]=g>c?f[c]:d[c-g];for(c=this.items.length=this.length-=b-g;this[c];)delete this[c++];return new mc(e)},nc.exclude=function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]==a)return this.splice(b,1),!0},nc.animate=function(a,b,d,e){(c.is(d,"function")||!d)&&(e=d||null);var f,g,h=this.items.length,i=h,j=this;if(!h)return this;e&&(g=function(){!--h&&e.call(j)}),d=c.is(d,U)?d:g;var k=c.animation(a,b,d,g);for(f=this.items[--i].animate(k);i--;)this.items[i]&&!this.items[i].removed&&this.items[i].animateWith(f,k,k),this.items[i]&&!this.items[i].removed||h--;return this},nc.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this},nc.getBBox=function(){for(var a=[],b=[],c=[],d=[],e=this.items.length;e--;)if(!this.items[e].removed){var f=this.items[e].getBBox();a.push(f.x),b.push(f.y),c.push(f.x+f.width),d.push(f.y+f.height)}return a=P[D](0,a),b=P[D](0,b),c=O[D](0,c),d=O[D](0,d),{x:a,y:b,x2:c,y2:d,width:c-a,height:d-b}},nc.clone=function(a){a=this.paper.set();for(var b=0,c=this.items.length;c>b;b++)a.push(this.items[b].clone());return a},nc.toString=function(){return"Raphaël‘s set"},nc.glow=function(a){var b=this.paper.set();return this.forEach(function(c){var d=c.glow(a);null!=d&&d.forEach(function(a){b.push(a)})}),b},nc.isPointInside=function(a,b){var c=!1;return this.forEach(function(d){return d.isPointInside(a,b)?(console.log("runned"),c=!0,!1):void 0}),c},c.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},c=a.face["font-family"];for(var d in a.face)a.face[z](d)&&(b.face[d]=a.face[d]);if(this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b],!a.svg){b.face["units-per-em"]=ab(a.face["units-per-em"],10);for(var e in a.glyphs)if(a.glyphs[z](e)){var f=a.glyphs[e];if(b.glyphs[e]={w:f.w,k:{},d:f.d&&"M"+f.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},f.k)for(var g in f.k)f[z](g)&&(b.glyphs[e].k[g]=f.k[g])}}return a},v.getFont=function(a,b,d,e){if(e=e||"normal",d=d||"normal",b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400,c.fonts){var f=c.fonts[a];if(!f){var g=new RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,G)+"(\\s|$)","i");for(var h in c.fonts)if(c.fonts[z](h)&&g.test(h)){f=c.fonts[h];break}}var i;if(f)for(var j=0,k=f.length;k>j&&(i=f[j],i.face["font-weight"]!=b||i.face["font-style"]!=d&&i.face["font-style"]||i.face["font-stretch"]!=e);j++);return i}},v.print=function(a,b,d,e,f,g,h,i){g=g||"middle",h=O(P(h||0,1),-1),i=O(P(i||1,3),1);var j,k=I(d)[J](G),l=0,m=0,n=G;if(c.is(e,"string")&&(e=this.getFont(e)),e){j=(f||16)/e.face["units-per-em"];for(var o=e.face.bbox[J](w),p=+o[0],q=o[3]-o[1],r=0,s=+o[1]+("baseline"==g?q+ +e.face.descent:q/2),t=0,u=k.length;u>t;t++){if("\n"==k[t])l=0,x=0,m=0,r+=q*i;else{var v=m&&e.glyphs[k[t-1]]||{},x=e.glyphs[k[t]];l+=m?(v.w||e.w)+(v.k&&v.k[k[t]]||0)+e.w*h:0,m=1}x&&x.d&&(n+=c.transformPath(x.d,["t",l*j,r*j,"s",j,j,p,s,"t",(a-p)/j,(b-s)/j]))}}return this.path(n).attr({fill:"#000",stroke:"none"})},v.add=function(a){if(c.is(a,"array"))for(var b,d=this.set(),e=0,f=a.length;f>e;e++)b=a[e]||{},x[z](b.type)&&d.push(this[b.type]().attr(b));return d},c.format=function(a,b){var d=c.is(b,V)?[0][E](b):arguments;return a&&c.is(a,U)&&d.length-1&&(a=a.replace(y,function(a,b){return null==d[++b]?G:d[b]})),a||G},c.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,d){var e=d;return c.replace(b,function(a,b,c,d,f){b=b||d,e&&(b in e&&(e=e[b]),"function"==typeof e&&f&&(e=e()))}),e=(null==e||e==d?a:e)+""};return function(b,d){return String(b).replace(a,function(a,b){return c(a,b,d)})}}(),c.ninja=function(){return B.was?A.win.Raphael=B.is:delete Raphael,c},c.st=nc,function(a,b,d){function e(){/in/.test(a.readyState)?setTimeout(e,9):c.eve("raphael.DOMload")}null==a.readyState&&a.addEventListener&&(a.addEventListener(b,d=function(){a.removeEventListener(b,d,!1),a.readyState="complete"},!1),a.readyState="loading"),e()}(document,"DOMContentLoaded"),b.on("raphael.DOMload",function(){u=!0}),function(){if(c.svg){var a="hasOwnProperty",b=String,d=parseFloat,e=parseInt,f=Math,g=f.max,h=f.abs,i=f.pow,j=/[, ]+/,k=c.eve,l="",m=" ",n="http://www.w3.org/1999/xlink",o={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},p={};c.toString=function(){return"Your browser supports SVG.\nYou are running Raphaël "+this.version};var q=function(d,e){if(e){"string"==typeof d&&(d=q(d));for(var f in e)e[a](f)&&("xlink:"==f.substring(0,6)?d.setAttributeNS(n,f.substring(6),b(e[f])):d.setAttribute(f,b(e[f])))}else d=c._g.doc.createElementNS("http://www.w3.org/2000/svg",d),d.style&&(d.style.webkitTapHighlightColor="rgba(0,0,0,0)");return d},r=function(a,e){var j="linear",k=a.id+e,m=.5,n=.5,o=a.node,p=a.paper,r=o.style,s=c._g.doc.getElementById(k);if(!s){if(e=b(e).replace(c._radial_gradient,function(a,b,c){if(j="radial",b&&c){m=d(b),n=d(c);var e=2*(n>.5)-1;i(m-.5,2)+i(n-.5,2)>.25&&(n=f.sqrt(.25-i(m-.5,2))*e+.5)&&.5!=n&&(n=n.toFixed(5)-1e-5*e)}return l}),e=e.split(/\s*\-\s*/),"linear"==j){var t=e.shift();if(t=-d(t),isNaN(t))return null;var u=[0,0,f.cos(c.rad(t)),f.sin(c.rad(t))],v=1/(g(h(u[2]),h(u[3]))||1);u[2]*=v,u[3]*=v,u[2]<0&&(u[0]=-u[2],u[2]=0),u[3]<0&&(u[1]=-u[3],u[3]=0)}var w=c._parseDots(e);if(!w)return null;if(k=k.replace(/[\(\)\s,\xb0#]/g,"_"),a.gradient&&k!=a.gradient.id&&(p.defs.removeChild(a.gradient),delete a.gradient),!a.gradient){s=q(j+"Gradient",{id:k}),a.gradient=s,q(s,"radial"==j?{fx:m,fy:n}:{x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientTransform:a.matrix.invert()}),p.defs.appendChild(s);for(var x=0,y=w.length;y>x;x++)s.appendChild(q("stop",{offset:w[x].offset?w[x].offset:x?"100%":"0%","stop-color":w[x].color||"#fff"}))}}return q(o,{fill:"url(#"+k+")",opacity:1,"fill-opacity":1}),r.fill=l,r.opacity=1,r.fillOpacity=1,1},s=function(a){var b=a.getBBox(1);q(a.pattern,{patternTransform:a.matrix.invert()+" translate("+b.x+","+b.y+")"})},t=function(d,e,f){if("path"==d.type){for(var g,h,i,j,k,m=b(e).toLowerCase().split("-"),n=d.paper,r=f?"end":"start",s=d.node,t=d.attrs,u=t["stroke-width"],v=m.length,w="classic",x=3,y=3,z=5;v--;)switch(m[v]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":w=m[v];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":x=5;break;case"short":x=2}if("open"==w?(x+=2,y+=2,z+=2,i=1,j=f?4:1,k={fill:"none",stroke:t.stroke}):(j=i=x/2,k={fill:t.stroke,stroke:"none"}),d._.arrows?f?(d._.arrows.endPath&&p[d._.arrows.endPath]--,d._.arrows.endMarker&&p[d._.arrows.endMarker]--):(d._.arrows.startPath&&p[d._.arrows.startPath]--,d._.arrows.startMarker&&p[d._.arrows.startMarker]--):d._.arrows={},"none"!=w){var A="raphael-marker-"+w,B="raphael-marker-"+r+w+x+y;c._g.doc.getElementById(A)?p[A]++:(n.defs.appendChild(q(q("path"),{"stroke-linecap":"round",d:o[w],id:A})),p[A]=1);var C,D=c._g.doc.getElementById(B);D?(p[B]++,C=D.getElementsByTagName("use")[0]):(D=q(q("marker"),{id:B,markerHeight:y,markerWidth:x,orient:"auto",refX:j,refY:y/2}),C=q(q("use"),{"xlink:href":"#"+A,transform:(f?"rotate(180 "+x/2+" "+y/2+") ":l)+"scale("+x/z+","+y/z+")","stroke-width":(1/((x/z+y/z)/2)).toFixed(4)}),D.appendChild(C),n.defs.appendChild(D),p[B]=1),q(C,k);var E=i*("diamond"!=w&&"oval"!=w);f?(g=d._.arrows.startdx*u||0,h=c.getTotalLength(t.path)-E*u):(g=E*u,h=c.getTotalLength(t.path)-(d._.arrows.enddx*u||0)),k={},k["marker-"+r]="url(#"+B+")",(h||g)&&(k.d=c.getSubpath(t.path,g,h)),q(s,k),d._.arrows[r+"Path"]=A,d._.arrows[r+"Marker"]=B,d._.arrows[r+"dx"]=E,d._.arrows[r+"Type"]=w,d._.arrows[r+"String"]=e}else f?(g=d._.arrows.startdx*u||0,h=c.getTotalLength(t.path)-g):(g=0,h=c.getTotalLength(t.path)-(d._.arrows.enddx*u||0)),d._.arrows[r+"Path"]&&q(s,{d:c.getSubpath(t.path,g,h)}),delete d._.arrows[r+"Path"],delete d._.arrows[r+"Marker"],delete d._.arrows[r+"dx"],delete d._.arrows[r+"Type"],delete d._.arrows[r+"String"];for(k in p)if(p[a](k)&&!p[k]){var F=c._g.doc.getElementById(k);F&&F.parentNode.removeChild(F)}}},u={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},v=function(a,c,d){if(c=u[b(c).toLowerCase()]){for(var e=a.attrs["stroke-width"]||"1",f={round:e,square:e,butt:0}[a.attrs["stroke-linecap"]||d["stroke-linecap"]]||0,g=[],h=c.length;h--;)g[h]=c[h]*e+(h%2?1:-1)*f;q(a.node,{"stroke-dasharray":g.join(",")})}},w=function(d,f){var i=d.node,k=d.attrs,m=i.style.visibility;i.style.visibility="hidden";for(var o in f)if(f[a](o)){if(!c._availableAttrs[a](o))continue;var p=f[o];switch(k[o]=p,o){case"blur":d.blur(p);break;case"href":case"title":var u=q("title"),w=c._g.doc.createTextNode(p);u.appendChild(w),i.appendChild(u);break;case"target":var x=i.parentNode;if("a"!=x.tagName.toLowerCase()){var u=q("a");x.insertBefore(u,i),u.appendChild(i),x=u}"target"==o?x.setAttributeNS(n,"show","blank"==p?"new":p):x.setAttributeNS(n,o,p);break;case"cursor":i.style.cursor=p;break;case"transform":d.transform(p);break;case"arrow-start":t(d,p);break;case"arrow-end":t(d,p,1);break;case"clip-rect":var z=b(p).split(j);if(4==z.length){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var A=q("clipPath"),B=q("rect");A.id=c.createUUID(),q(B,{x:z[0],y:z[1],width:z[2],height:z[3]}),A.appendChild(B),d.paper.defs.appendChild(A),q(i,{"clip-path":"url(#"+A.id+")"}),d.clip=B}if(!p){var C=i.getAttribute("clip-path");if(C){var D=c._g.doc.getElementById(C.replace(/(^url\(#|\)$)/g,l));D&&D.parentNode.removeChild(D),q(i,{"clip-path":l}),delete d.clip}}break;case"path":"path"==d.type&&(q(i,{d:p?k.path=c._pathToAbsolute(p):"M0,0"}),d._.dirty=1,d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1)));break;case"width":if(i.setAttribute(o,p),d._.dirty=1,!k.fx)break;o="x",p=k.x;case"x":k.fx&&(p=-k.x-(k.width||0));case"rx":if("rx"==o&&"rect"==d.type)break;case"cx":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"height":if(i.setAttribute(o,p),d._.dirty=1,!k.fy)break;o="y",p=k.y;case"y":k.fy&&(p=-k.y-(k.height||0));case"ry":if("ry"==o&&"rect"==d.type)break;case"cy":i.setAttribute(o,p),d.pattern&&s(d),d._.dirty=1;break;case"r":"rect"==d.type?q(i,{rx:p,ry:p}):i.setAttribute(o,p),d._.dirty=1;break;case"src":"image"==d.type&&i.setAttributeNS(n,"href",p);break;case"stroke-width":(1!=d._.sx||1!=d._.sy)&&(p/=g(h(d._.sx),h(d._.sy))||1),d.paper._vbSize&&(p*=d.paper._vbSize),i.setAttribute(o,p),k["stroke-dasharray"]&&v(d,k["stroke-dasharray"],f),d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"stroke-dasharray":v(d,p,f);break;case"fill":var E=b(p).match(c._ISURL);if(E){A=q("pattern");var F=q("image");A.id=c.createUUID(),q(A,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),q(F,{x:0,y:0,"xlink:href":E[1]}),A.appendChild(F),function(a){c._preload(E[1],function(){var b=this.offsetWidth,c=this.offsetHeight;q(a,{width:b,height:c}),q(F,{width:b,height:c}),d.paper.safari()})}(A),d.paper.defs.appendChild(A),q(i,{fill:"url(#"+A.id+")"}),d.pattern=A,d.pattern&&s(d);break}var G=c.getRGB(p);if(G.error){if(("circle"==d.type||"ellipse"==d.type||"r"!=b(p).charAt())&&r(d,p)){if("opacity"in k||"fill-opacity"in k){var H=c._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l));if(H){var I=H.getElementsByTagName("stop");q(I[I.length-1],{"stop-opacity":("opacity"in k?k.opacity:1)*("fill-opacity"in k?k["fill-opacity"]:1)})}}k.gradient=p,k.fill="none";break}}else delete f.gradient,delete k.gradient,!c.is(k.opacity,"undefined")&&c.is(f.opacity,"undefined")&&q(i,{opacity:k.opacity}),!c.is(k["fill-opacity"],"undefined")&&c.is(f["fill-opacity"],"undefined")&&q(i,{"fill-opacity":k["fill-opacity"]});G[a]("opacity")&&q(i,{"fill-opacity":G.opacity>1?G.opacity/100:G.opacity});case"stroke":G=c.getRGB(p),i.setAttribute(o,G.hex),"stroke"==o&&G[a]("opacity")&&q(i,{"stroke-opacity":G.opacity>1?G.opacity/100:G.opacity}),"stroke"==o&&d._.arrows&&("startString"in d._.arrows&&t(d,d._.arrows.startString),"endString"in d._.arrows&&t(d,d._.arrows.endString,1));break;case"gradient":("circle"==d.type||"ellipse"==d.type||"r"!=b(p).charAt())&&r(d,p);break;case"opacity":k.gradient&&!k[a]("stroke-opacity")&&q(i,{"stroke-opacity":p>1?p/100:p});case"fill-opacity":if(k.gradient){H=c._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g,l)),H&&(I=H.getElementsByTagName("stop"),q(I[I.length-1],{"stop-opacity":p}));break}default:"font-size"==o&&(p=e(p,10)+"px");var J=o.replace(/(\-.)/g,function(a){return a.substring(1).toUpperCase()});i.style[J]=p,d._.dirty=1,i.setAttribute(o,p)}}y(d,f),i.style.visibility=m},x=1.2,y=function(d,f){if("text"==d.type&&(f[a]("text")||f[a]("font")||f[a]("font-size")||f[a]("x")||f[a]("y"))){var g=d.attrs,h=d.node,i=h.firstChild?e(c._g.doc.defaultView.getComputedStyle(h.firstChild,l).getPropertyValue("font-size"),10):10;if(f[a]("text")){for(g.text=f.text;h.firstChild;)h.removeChild(h.firstChild);for(var j,k=b(f.text).split("\n"),m=[],n=0,o=k.length;o>n;n++)j=q("tspan"),n&&q(j,{dy:i*x,x:g.x}),j.appendChild(c._g.doc.createTextNode(k[n])),h.appendChild(j),m[n]=j
}else for(m=h.getElementsByTagName("tspan"),n=0,o=m.length;o>n;n++)n?q(m[n],{dy:i*x,x:g.x}):q(m[0],{dy:0});q(h,{x:g.x,y:g.y}),d._.dirty=1;var p=d._getBBox(),r=g.y-(p.y+p.height/2);r&&c.is(r,"finite")&&q(m[0],{dy:r})}},z=function(a,b){this[0]=this.node=a,a.raphael=!0,this.id=c._oid++,a.raphaelid=this.id,this.matrix=c.matrix(),this.realPath=null,this.paper=b,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!b.bottom&&(b.bottom=this),this.prev=b.top,b.top&&(b.top.next=this),b.top=this,this.next=null},A=c.el;z.prototype=A,A.constructor=z,c._engine.path=function(a,b){var c=q("path");b.canvas&&b.canvas.appendChild(c);var d=new z(c,b);return d.type="path",w(d,{fill:"none",stroke:"#000",path:a}),d},A.rotate=function(a,c,e){if(this.removed)return this;if(a=b(a).split(j),a.length-1&&(c=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(c=e),null==c||null==e){var f=this.getBBox(1);c=f.x+f.width/2,e=f.y+f.height/2}return this.transform(this._.transform.concat([["r",a,c,e]])),this},A.scale=function(a,c,e,f){if(this.removed)return this;if(a=b(a).split(j),a.length-1&&(c=d(a[1]),e=d(a[2]),f=d(a[3])),a=d(a[0]),null==c&&(c=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,c,e,f]])),this},A.translate=function(a,c){return this.removed?this:(a=b(a).split(j),a.length-1&&(c=d(a[1])),a=d(a[0])||0,c=+c||0,this.transform(this._.transform.concat([["t",a,c]])),this)},A.transform=function(b){var d=this._;if(null==b)return d.transform;if(c._extractTransform(this,b),this.clip&&q(this.clip,{transform:this.matrix.invert()}),this.pattern&&s(this),this.node&&q(this.node,{transform:this.matrix}),1!=d.sx||1!=d.sy){var e=this.attrs[a]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":e})}return this},A.hide=function(){return!this.removed&&this.paper.safari(this.node.style.display="none"),this},A.show=function(){return!this.removed&&this.paper.safari(this.node.style.display=""),this},A.remove=function(){if(!this.removed&&this.node.parentNode){var a=this.paper;a.__set__&&a.__set__.exclude(this),k.unbind("raphael.*.*."+this.id),this.gradient&&a.defs.removeChild(this.gradient),c._tear(this,a),"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.removeChild(this.node.parentNode):this.node.parentNode.removeChild(this.node);for(var b in this)this[b]="function"==typeof this[b]?c._removedFactory(b):null;this.removed=!0}},A._getBBox=function(){if("none"==this.node.style.display){this.show();var a=!0}var b={};try{b=this.node.getBBox()}catch(c){}finally{b=b||{}}return a&&this.hide(),b},A.attr=function(b,d){if(this.removed)return this;if(null==b){var e={};for(var f in this.attrs)this.attrs[a](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&c.is(b,"string")){if("fill"==b&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==b)return this._.transform;for(var g=b.split(j),h={},i=0,l=g.length;l>i;i++)b=g[i],h[b]=b in this.attrs?this.attrs[b]:c.is(this.paper.customAttributes[b],"function")?this.paper.customAttributes[b].def:c._availableAttrs[b];return l-1?h:h[g[0]]}if(null==d&&c.is(b,"array")){for(h={},i=0,l=b.length;l>i;i++)h[b[i]]=this.attr(b[i]);return h}if(null!=d){var m={};m[b]=d}else null!=b&&c.is(b,"object")&&(m=b);for(var n in m)k("raphael.attr."+n+"."+this.id,this,m[n]);for(n in this.paper.customAttributes)if(this.paper.customAttributes[a](n)&&m[a](n)&&c.is(this.paper.customAttributes[n],"function")){var o=this.paper.customAttributes[n].apply(this,[].concat(m[n]));this.attrs[n]=m[n];for(var p in o)o[a](p)&&(m[p]=o[p])}return w(this,m),this},A.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);var a=this.paper;return a.top!=this&&c._tofront(this,a),this},A.toBack=function(){if(this.removed)return this;var a=this.node.parentNode;"a"==a.tagName.toLowerCase()?a.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):a.firstChild!=this.node&&a.insertBefore(this.node,this.node.parentNode.firstChild),c._toback(this,this.paper);this.paper;return this},A.insertAfter=function(a){if(this.removed)return this;var b=a.node||a[a.length-1].node;return b.nextSibling?b.parentNode.insertBefore(this.node,b.nextSibling):b.parentNode.appendChild(this.node),c._insertafter(this,a,this.paper),this},A.insertBefore=function(a){if(this.removed)return this;var b=a.node||a[0].node;return b.parentNode.insertBefore(this.node,b),c._insertbefore(this,a,this.paper),this},A.blur=function(a){var b=this;if(0!==+a){var d=q("filter"),e=q("feGaussianBlur");b.attrs.blur=a,d.id=c.createUUID(),q(e,{stdDeviation:+a||1.5}),d.appendChild(e),b.paper.defs.appendChild(d),b._blur=d,q(b.node,{filter:"url(#"+d.id+")"})}else b._blur&&(b._blur.parentNode.removeChild(b._blur),delete b._blur,delete b.attrs.blur),b.node.removeAttribute("filter");return b},c._engine.circle=function(a,b,c,d){var e=q("circle");a.canvas&&a.canvas.appendChild(e);var f=new z(e,a);return f.attrs={cx:b,cy:c,r:d,fill:"none",stroke:"#000"},f.type="circle",q(e,f.attrs),f},c._engine.rect=function(a,b,c,d,e,f){var g=q("rect");a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:b,y:c,width:d,height:e,r:f||0,rx:f||0,ry:f||0,fill:"none",stroke:"#000"},h.type="rect",q(g,h.attrs),h},c._engine.ellipse=function(a,b,c,d,e){var f=q("ellipse");a.canvas&&a.canvas.appendChild(f);var g=new z(f,a);return g.attrs={cx:b,cy:c,rx:d,ry:e,fill:"none",stroke:"#000"},g.type="ellipse",q(f,g.attrs),g},c._engine.image=function(a,b,c,d,e,f){var g=q("image");q(g,{x:c,y:d,width:e,height:f,preserveAspectRatio:"none"}),g.setAttributeNS(n,"href",b),a.canvas&&a.canvas.appendChild(g);var h=new z(g,a);return h.attrs={x:c,y:d,width:e,height:f,src:b},h.type="image",h},c._engine.text=function(a,b,d,e){var f=q("text");a.canvas&&a.canvas.appendChild(f);var g=new z(f,a);return g.attrs={x:b,y:d,"text-anchor":"middle",text:e,font:c._availableAttrs.font,stroke:"none",fill:"#000"},g.type="text",w(g,g.attrs),g},c._engine.setSize=function(a,b){return this.width=a||this.width,this.height=b||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},c._engine.create=function(){var a=c._getContainer.apply(0,arguments),b=a&&a.container,d=a.x,e=a.y,f=a.width,g=a.height;if(!b)throw new Error("SVG container not found.");var h,i=q("svg"),j="overflow:hidden;";return d=d||0,e=e||0,f=f||512,g=g||342,q(i,{height:g,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg"}),1==b?(i.style.cssText=j+"position:absolute;left:"+d+"px;top:"+e+"px",c._g.doc.body.appendChild(i),h=1):(i.style.cssText=j+"position:relative",b.firstChild?b.insertBefore(i,b.firstChild):b.appendChild(i)),b=new c._Paper,b.width=f,b.height=g,b.canvas=i,b.clear(),b._left=b._top=0,h&&(b.renderfix=function(){}),b.renderfix(),b},c._engine.setViewBox=function(a,b,c,d,e){k("raphael.setViewBox",this,this._viewBox,[a,b,c,d,e]);var f,h,i=g(c/this.width,d/this.height),j=this.top,l=e?"meet":"xMinYMin";for(null==a?(this._vbSize&&(i=1),delete this._vbSize,f="0 0 "+this.width+m+this.height):(this._vbSize=i,f=a+m+b+m+c+m+d),q(this.canvas,{viewBox:f,preserveAspectRatio:l});i&&j;)h="stroke-width"in j.attrs?j.attrs["stroke-width"]:1,j.attr({"stroke-width":h}),j._.dirty=1,j._.dirtyT=1,j=j.prev;return this._viewBox=[a,b,c,d,!!e],this},c.prototype.renderfix=function(){var a,b=this.canvas,c=b.style;try{a=b.getScreenCTM()||b.createSVGMatrix()}catch(d){a=b.createSVGMatrix()}var e=-a.e%1,f=-a.f%1;(e||f)&&(e&&(this._left=(this._left+e)%1,c.left=this._left+"px"),f&&(this._top=(this._top+f)%1,c.top=this._top+"px"))},c.prototype.clear=function(){c.eve("raphael.clear",this);for(var a=this.canvas;a.firstChild;)a.removeChild(a.firstChild);this.bottom=this.top=null,(this.desc=q("desc")).appendChild(c._g.doc.createTextNode("Created with Raphaël "+c.version)),a.appendChild(this.desc),a.appendChild(this.defs=q("defs"))},c.prototype.remove=function(){k("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]="function"==typeof this[a]?c._removedFactory(a):null};var B=c.st;for(var C in A)A[a](C)&&!B[a](C)&&(B[C]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(C))}}(),function(){if(c.vml){var a="hasOwnProperty",b=String,d=parseFloat,e=Math,f=e.round,g=e.max,h=e.min,i=e.abs,j="fill",k=/[, ]+/,l=c.eve,m=" progid:DXImageTransform.Microsoft",n=" ",o="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},q=/([clmz]),?([^clmz]*)/gi,r=/ progid:\S+Blur\([^\)]+\)/g,s=/-?[^,\s-]+/g,t="position:absolute;left:0;top:0;width:1px;height:1px",u=21600,v={path:1,rect:1,image:1},w={circle:1,ellipse:1},x=function(a){var d=/[ahqstv]/gi,e=c._pathToAbsolute;if(b(a).match(d)&&(e=c._path2curve),d=/[clmz]/g,e==c._pathToAbsolute&&!b(a).match(d)){var g=b(a).replace(q,function(a,b,c){var d=[],e="m"==b.toLowerCase(),g=p[b];return c.replace(s,function(a){e&&2==d.length&&(g+=d+p["m"==b?"l":"L"],d=[]),d.push(f(a*u))}),g+d});return g}var h,i,j=e(a);g=[];for(var k=0,l=j.length;l>k;k++){h=j[k],i=j[k][0].toLowerCase(),"z"==i&&(i="x");for(var m=1,r=h.length;r>m;m++)i+=f(h[m]*u)+(m!=r-1?",":o);g.push(i)}return g.join(n)},y=function(a,b,d){var e=c.matrix();return e.rotate(-a,.5,.5),{dx:e.x(b,d),dy:e.y(b,d)}},z=function(a,b,c,d,e,f){var g=a._,h=a.matrix,k=g.fillpos,l=a.node,m=l.style,o=1,p="",q=u/b,r=u/c;if(m.visibility="hidden",b&&c){if(l.coordsize=i(q)+n+i(r),m.rotation=f*(0>b*c?-1:1),f){var s=y(f,d,e);d=s.dx,e=s.dy}if(0>b&&(p+="x"),0>c&&(p+=" y")&&(o=-1),m.flip=p,l.coordorigin=d*-q+n+e*-r,k||g.fillsize){var t=l.getElementsByTagName(j);t=t&&t[0],l.removeChild(t),k&&(s=y(f,h.x(k[0],k[1]),h.y(k[0],k[1])),t.position=s.dx*o+n+s.dy*o),g.fillsize&&(t.size=g.fillsize[0]*i(b)+n+g.fillsize[1]*i(c)),l.appendChild(t)}m.visibility="visible"}};c.toString=function(){return"Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël "+this.version};var A=function(a,c,d){for(var e=b(c).toLowerCase().split("-"),f=d?"end":"start",g=e.length,h="classic",i="medium",j="medium";g--;)switch(e[g]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":h=e[g];break;case"wide":case"narrow":j=e[g];break;case"long":case"short":i=e[g]}var k=a.node.getElementsByTagName("stroke")[0];k[f+"arrow"]=h,k[f+"arrowlength"]=i,k[f+"arrowwidth"]=j},B=function(e,i){e.attrs=e.attrs||{};var l=e.node,m=e.attrs,p=l.style,q=v[e.type]&&(i.x!=m.x||i.y!=m.y||i.width!=m.width||i.height!=m.height||i.cx!=m.cx||i.cy!=m.cy||i.rx!=m.rx||i.ry!=m.ry||i.r!=m.r),r=w[e.type]&&(m.cx!=i.cx||m.cy!=i.cy||m.r!=i.r||m.rx!=i.rx||m.ry!=i.ry),s=e;for(var t in i)i[a](t)&&(m[t]=i[t]);if(q&&(m.path=c._getPath[e.type](e),e._.dirty=1),i.href&&(l.href=i.href),i.title&&(l.title=i.title),i.target&&(l.target=i.target),i.cursor&&(p.cursor=i.cursor),"blur"in i&&e.blur(i.blur),(i.path&&"path"==e.type||q)&&(l.path=x(~b(m.path).toLowerCase().indexOf("r")?c._pathToAbsolute(m.path):m.path),"image"==e.type&&(e._.fillpos=[m.x,m.y],e._.fillsize=[m.width,m.height],z(e,1,1,0,0,0))),"transform"in i&&e.transform(i.transform),r){var y=+m.cx,B=+m.cy,D=+m.rx||+m.r||0,E=+m.ry||+m.r||0;l.path=c.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",f((y-D)*u),f((B-E)*u),f((y+D)*u),f((B+E)*u),f(y*u)),e._.dirty=1}if("clip-rect"in i){var G=b(i["clip-rect"]).split(k);if(4==G.length){G[2]=+G[2]+ +G[0],G[3]=+G[3]+ +G[1];var H=l.clipRect||c._g.doc.createElement("div"),I=H.style;I.clip=c.format("rect({1}px {2}px {3}px {0}px)",G),l.clipRect||(I.position="absolute",I.top=0,I.left=0,I.width=e.paper.width+"px",I.height=e.paper.height+"px",l.parentNode.insertBefore(H,l),H.appendChild(l),l.clipRect=H)}i["clip-rect"]||l.clipRect&&(l.clipRect.style.clip="auto")}if(e.textpath){var J=e.textpath.style;i.font&&(J.font=i.font),i["font-family"]&&(J.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,o)+'"'),i["font-size"]&&(J.fontSize=i["font-size"]),i["font-weight"]&&(J.fontWeight=i["font-weight"]),i["font-style"]&&(J.fontStyle=i["font-style"])}if("arrow-start"in i&&A(s,i["arrow-start"]),"arrow-end"in i&&A(s,i["arrow-end"],1),null!=i.opacity||null!=i["stroke-width"]||null!=i.fill||null!=i.src||null!=i.stroke||null!=i["stroke-width"]||null!=i["stroke-opacity"]||null!=i["fill-opacity"]||null!=i["stroke-dasharray"]||null!=i["stroke-miterlimit"]||null!=i["stroke-linejoin"]||null!=i["stroke-linecap"]){var K=l.getElementsByTagName(j),L=!1;if(K=K&&K[0],!K&&(L=K=F(j)),"image"==e.type&&i.src&&(K.src=i.src),i.fill&&(K.on=!0),(null==K.on||"none"==i.fill||null===i.fill)&&(K.on=!1),K.on&&i.fill){var M=b(i.fill).match(c._ISURL);if(M){K.parentNode==l&&l.removeChild(K),K.rotate=!0,K.src=M[1],K.type="tile";var N=e.getBBox(1);K.position=N.x+n+N.y,e._.fillpos=[N.x,N.y],c._preload(M[1],function(){e._.fillsize=[this.offsetWidth,this.offsetHeight]})}else K.color=c.getRGB(i.fill).hex,K.src=o,K.type="solid",c.getRGB(i.fill).error&&(s.type in{circle:1,ellipse:1}||"r"!=b(i.fill).charAt())&&C(s,i.fill,K)&&(m.fill="none",m.gradient=i.fill,K.rotate=!1)}if("fill-opacity"in i||"opacity"in i){var O=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+c.getRGB(i.fill).o+1||2)-1);O=h(g(O,0),1),K.opacity=O,K.src&&(K.color="none")}l.appendChild(K);var P=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0],Q=!1;!P&&(Q=P=F("stroke")),(i.stroke&&"none"!=i.stroke||i["stroke-width"]||null!=i["stroke-opacity"]||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])&&(P.on=!0),("none"==i.stroke||null===i.stroke||null==P.on||0==i.stroke||0==i["stroke-width"])&&(P.on=!1);var R=c.getRGB(i.stroke);P.on&&i.stroke&&(P.color=R.hex),O=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+R.o+1||2)-1);var S=.75*(d(i["stroke-width"])||1);if(O=h(g(O,0),1),null==i["stroke-width"]&&(S=m["stroke-width"]),i["stroke-width"]&&(P.weight=S),S&&1>S&&(O*=S)&&(P.weight=1),P.opacity=O,i["stroke-linejoin"]&&(P.joinstyle=i["stroke-linejoin"]||"miter"),P.miterlimit=i["stroke-miterlimit"]||8,i["stroke-linecap"]&&(P.endcap="butt"==i["stroke-linecap"]?"flat":"square"==i["stroke-linecap"]?"square":"round"),i["stroke-dasharray"]){var T={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};P.dashstyle=T[a](i["stroke-dasharray"])?T[i["stroke-dasharray"]]:o}Q&&l.appendChild(P)}if("text"==s.type){s.paper.canvas.style.display=o;var U=s.paper.span,V=100,W=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);p=U.style,m.font&&(p.font=m.font),m["font-family"]&&(p.fontFamily=m["font-family"]),m["font-weight"]&&(p.fontWeight=m["font-weight"]),m["font-style"]&&(p.fontStyle=m["font-style"]),W=d(m["font-size"]||W&&W[0])||10,p.fontSize=W*V+"px",s.textpath.string&&(U.innerHTML=b(s.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=U.getBoundingClientRect();s.W=m.w=(X.right-X.left)/V,s.H=m.h=(X.bottom-X.top)/V,s.X=m.x,s.Y=m.y+s.H/2,("x"in i||"y"in i)&&(s.path.v=c.format("m{0},{1}l{2},{1}",f(m.x*u),f(m.y*u),f(m.x*u)+1));for(var Y=["x","y","text","font","font-family","font-weight","font-style","font-size"],Z=0,$=Y.length;$>Z;Z++)if(Y[Z]in i){s._.dirty=1;break}switch(m["text-anchor"]){case"start":s.textpath.style["v-text-align"]="left",s.bbx=s.W/2;break;case"end":s.textpath.style["v-text-align"]="right",s.bbx=-s.W/2;break;default:s.textpath.style["v-text-align"]="center",s.bbx=0}s.textpath.style["v-text-kern"]=!0}},C=function(a,f,g){a.attrs=a.attrs||{};var h=(a.attrs,Math.pow),i="linear",j=".5 .5";if(a.attrs.gradient=f,f=b(f).replace(c._radial_gradient,function(a,b,c){return i="radial",b&&c&&(b=d(b),c=d(c),h(b-.5,2)+h(c-.5,2)>.25&&(c=e.sqrt(.25-h(b-.5,2))*(2*(c>.5)-1)+.5),j=b+n+c),o}),f=f.split(/\s*\-\s*/),"linear"==i){var k=f.shift();if(k=-d(k),isNaN(k))return null}var l=c._parseDots(f);if(!l)return null;if(a=a.shape||a.node,l.length){a.removeChild(g),g.on=!0,g.method="none",g.color=l[0].color,g.color2=l[l.length-1].color;for(var m=[],p=0,q=l.length;q>p;p++)l[p].offset&&m.push(l[p].offset+n+l[p].color);g.colors=m.length?m.join():"0% "+g.color,"radial"==i?(g.type="gradientTitle",g.focus="100%",g.focussize="0 0",g.focusposition=j,g.angle=0):(g.type="gradient",g.angle=(270-k)%360),a.appendChild(g)}return 1},D=function(a,b){this[0]=this.node=a,a.raphael=!0,this.id=c._oid++,a.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=b,this.matrix=c.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!b.bottom&&(b.bottom=this),this.prev=b.top,b.top&&(b.top.next=this),b.top=this,this.next=null},E=c.el;D.prototype=E,E.constructor=D,E.transform=function(a){if(null==a)return this._.transform;var d,e=this.paper._viewBoxShift,f=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:o;e&&(d=a=b(a).replace(/\.{3}|\u2026/g,this._.transform||o)),c._extractTransform(this,f+a);var g,h=this.matrix.clone(),i=this.skew,j=this.node,k=~b(this.attrs.fill).indexOf("-"),l=!b(this.attrs.fill).indexOf("url(");if(h.translate(1,1),l||k||"image"==this.type)if(i.matrix="1 0 0 1",i.offset="0 0",g=h.split(),k&&g.noRotation||!g.isSimple){j.style.filter=h.toFilter();var m=this.getBBox(),p=this.getBBox(1),q=m.x-p.x,r=m.y-p.y;j.coordorigin=q*-u+n+r*-u,z(this,1,1,q,r,0)}else j.style.filter=o,z(this,g.scalex,g.scaley,g.dx,g.dy,g.rotate);else j.style.filter=o,i.matrix=b(h),i.offset=h.offset();return d&&(this._.transform=d),this},E.rotate=function(a,c,e){if(this.removed)return this;if(null!=a){if(a=b(a).split(k),a.length-1&&(c=d(a[1]),e=d(a[2])),a=d(a[0]),null==e&&(c=e),null==c||null==e){var f=this.getBBox(1);c=f.x+f.width/2,e=f.y+f.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",a,c,e]])),this}},E.translate=function(a,c){return this.removed?this:(a=b(a).split(k),a.length-1&&(c=d(a[1])),a=d(a[0])||0,c=+c||0,this._.bbox&&(this._.bbox.x+=a,this._.bbox.y+=c),this.transform(this._.transform.concat([["t",a,c]])),this)},E.scale=function(a,c,e,f){if(this.removed)return this;if(a=b(a).split(k),a.length-1&&(c=d(a[1]),e=d(a[2]),f=d(a[3]),isNaN(e)&&(e=null),isNaN(f)&&(f=null)),a=d(a[0]),null==c&&(c=a),null==f&&(e=f),null==e||null==f)var g=this.getBBox(1);return e=null==e?g.x+g.width/2:e,f=null==f?g.y+g.height/2:f,this.transform(this._.transform.concat([["s",a,c,e,f]])),this._.dirtyT=1,this},E.hide=function(){return!this.removed&&(this.node.style.display="none"),this},E.show=function(){return!this.removed&&(this.node.style.display=o),this},E._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},E.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this),c.eve.unbind("raphael.*.*."+this.id),c._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape);for(var a in this)this[a]="function"==typeof this[a]?c._removedFactory(a):null;this.removed=!0}},E.attr=function(b,d){if(this.removed)return this;if(null==b){var e={};for(var f in this.attrs)this.attrs[a](f)&&(e[f]=this.attrs[f]);return e.gradient&&"none"==e.fill&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(null==d&&c.is(b,"string")){if(b==j&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var g=b.split(k),h={},i=0,m=g.length;m>i;i++)b=g[i],h[b]=b in this.attrs?this.attrs[b]:c.is(this.paper.customAttributes[b],"function")?this.paper.customAttributes[b].def:c._availableAttrs[b];return m-1?h:h[g[0]]}if(this.attrs&&null==d&&c.is(b,"array")){for(h={},i=0,m=b.length;m>i;i++)h[b[i]]=this.attr(b[i]);return h}var n;null!=d&&(n={},n[b]=d),null==d&&c.is(b,"object")&&(n=b);for(var o in n)l("raphael.attr."+o+"."+this.id,this,n[o]);if(n){for(o in this.paper.customAttributes)if(this.paper.customAttributes[a](o)&&n[a](o)&&c.is(this.paper.customAttributes[o],"function")){var p=this.paper.customAttributes[o].apply(this,[].concat(n[o]));this.attrs[o]=n[o];for(var q in p)p[a](q)&&(n[q]=p[q])}n.text&&"text"==this.type&&(this.textpath.string=n.text),B(this,n)}return this},E.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&c._tofront(this,this.paper),this},E.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),c._toback(this,this.paper)),this)},E.insertAfter=function(a){return this.removed?this:(a.constructor==c.st.constructor&&(a=a[a.length-1]),a.node.nextSibling?a.node.parentNode.insertBefore(this.node,a.node.nextSibling):a.node.parentNode.appendChild(this.node),c._insertafter(this,a,this.paper),this)},E.insertBefore=function(a){return this.removed?this:(a.constructor==c.st.constructor&&(a=a[0]),a.node.parentNode.insertBefore(this.node,a.node),c._insertbefore(this,a,this.paper),this)},E.blur=function(a){var b=this.node.runtimeStyle,d=b.filter;return d=d.replace(r,o),0!==+a?(this.attrs.blur=a,b.filter=d+n+m+".Blur(pixelradius="+(+a||1.5)+")",b.margin=c.format("-{0}px 0 0 -{0}px",f(+a||1.5))):(b.filter=d,b.margin=0,delete this.attrs.blur),this},c._engine.path=function(a,b){var c=F("shape");c.style.cssText=t,c.coordsize=u+n+u,c.coordorigin=b.coordorigin;var d=new D(c,b),e={fill:"none",stroke:"#000"};a&&(e.path=a),d.type="path",d.path=[],d.Path=o,B(d,e),b.canvas.appendChild(c);var f=F("skew");return f.on=!0,c.appendChild(f),d.skew=f,d.transform(o),d},c._engine.rect=function(a,b,d,e,f,g){var h=c._rectPath(b,d,e,f,g),i=a.path(h),j=i.attrs;return i.X=j.x=b,i.Y=j.y=d,i.W=j.width=e,i.H=j.height=f,j.r=g,j.path=h,i.type="rect",i},c._engine.ellipse=function(a,b,c,d,e){{var f=a.path();f.attrs}return f.X=b-d,f.Y=c-e,f.W=2*d,f.H=2*e,f.type="ellipse",B(f,{cx:b,cy:c,rx:d,ry:e}),f},c._engine.circle=function(a,b,c,d){{var e=a.path();e.attrs}return e.X=b-d,e.Y=c-d,e.W=e.H=2*d,e.type="circle",B(e,{cx:b,cy:c,r:d}),e},c._engine.image=function(a,b,d,e,f,g){var h=c._rectPath(d,e,f,g),i=a.path(h).attr({stroke:"none"}),k=i.attrs,l=i.node,m=l.getElementsByTagName(j)[0];return k.src=b,i.X=k.x=d,i.Y=k.y=e,i.W=k.width=f,i.H=k.height=g,k.path=h,i.type="image",m.parentNode==l&&l.removeChild(m),m.rotate=!0,m.src=b,m.type="tile",i._.fillpos=[d,e],i._.fillsize=[f,g],l.appendChild(m),z(i,1,1,0,0,0),i},c._engine.text=function(a,d,e,g){var h=F("shape"),i=F("path"),j=F("textpath");d=d||0,e=e||0,g=g||"",i.v=c.format("m{0},{1}l{2},{1}",f(d*u),f(e*u),f(d*u)+1),i.textpathok=!0,j.string=b(g),j.on=!0,h.style.cssText=t,h.coordsize=u+n+u,h.coordorigin="0 0";var k=new D(h,a),l={fill:"#000",stroke:"none",font:c._availableAttrs.font,text:g};k.shape=h,k.path=i,k.textpath=j,k.type="text",k.attrs.text=b(g),k.attrs.x=d,k.attrs.y=e,k.attrs.w=1,k.attrs.h=1,B(k,l),h.appendChild(j),h.appendChild(i),a.canvas.appendChild(h);var m=F("skew");return m.on=!0,h.appendChild(m),k.skew=m,k.transform(o),k},c._engine.setSize=function(a,b){var d=this.canvas.style;return this.width=a,this.height=b,a==+a&&(a+="px"),b==+b&&(b+="px"),d.width=a,d.height=b,d.clip="rect(0 "+a+" "+b+" 0)",this._viewBox&&c._engine.setViewBox.apply(this,this._viewBox),this},c._engine.setViewBox=function(a,b,d,e,f){c.eve("raphael.setViewBox",this,this._viewBox,[a,b,d,e,f]);var h,i,j=this.width,k=this.height,l=1/g(d/j,e/k);return f&&(h=k/e,i=j/d,j>d*h&&(a-=(j-d*h)/2/h),k>e*i&&(b-=(k-e*i)/2/i)),this._viewBox=[a,b,d,e,!!f],this._viewBoxShift={dx:-a,dy:-b,scale:l},this.forEach(function(a){a.transform("...")}),this};var F;c._engine.initWin=function(a){var b=a.document;b.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!b.namespaces.rvml&&b.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),F=function(a){return b.createElement("<rvml:"+a+' class="rvml">')}}catch(c){F=function(a){return b.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},c._engine.initWin(c._g.win),c._engine.create=function(){var a=c._getContainer.apply(0,arguments),b=a.container,d=a.height,e=a.width,f=a.x,g=a.y;if(!b)throw new Error("VML container not found.");var h=new c._Paper,i=h.canvas=c._g.doc.createElement("div"),j=i.style;return f=f||0,g=g||0,e=e||512,d=d||342,h.width=e,h.height=d,e==+e&&(e+="px"),d==+d&&(d+="px"),h.coordsize=1e3*u+n+1e3*u,h.coordorigin="0 0",h.span=c._g.doc.createElement("span"),h.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",i.appendChild(h.span),j.cssText=c.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",e,d),1==b?(c._g.doc.body.appendChild(i),j.left=f+"px",j.top=g+"px",j.position="absolute"):b.firstChild?b.insertBefore(i,b.firstChild):b.appendChild(i),h.renderfix=function(){},h},c.prototype.clear=function(){c.eve("raphael.clear",this),this.canvas.innerHTML=o,this.span=c._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},c.prototype.remove=function(){c.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas);for(var a in this)this[a]="function"==typeof this[a]?c._removedFactory(a):null;return!0};var G=c.st;for(var H in E)E[a](H)&&!G[a](H)&&(G[H]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a].apply(c,b)})}}(H))}}(),B.was?A.win.Raphael=c:Raphael=c,c}),function(){function a(b){var c=a.resolve(b),d=a.modules[c];if(!d)throw new Error('failed to require "'+b+'"');return d.exports||(d.exports={},d.call(d.exports,d,d.exports,a.relative(c))),d.exports}function b(){for(var a=(new c).getTime();j.length&&(new c).getTime()-a<100;)j.shift()();i=j.length?d(b,0):null}a.modules={},a.resolve=function(b){var c=b,d=b+".js",e=b+"/index.js";return a.modules[d]&&d||a.modules[e]&&e||c},a.register=function(b,c){a.modules[b]=c},a.relative=function(b){return function(c){if("."!=c.charAt(0))return a(c);var d=b.split("/"),e=c.split("/");d.pop();for(var f=0;f<e.length;f++){var g=e[f];".."==g?d.pop():"."!=g&&d.push(g)}return a(d.join("/"))}},a.register("browser/debug.js",function(a){a.exports=function(){return function(){}}}),a.register("browser/diff.js",function(a){var b=function(){function a(a){return{newPos:a.newPos,components:a.components.slice(0)}}function b(a){for(var b=[],c=0;c<a.length;c++)a[c]&&b.push(a[c]);return b}function c(a){var b=a;return b=b.replace(/&/g,"&amp;"),b=b.replace(/</g,"&lt;"),b=b.replace(/>/g,"&gt;"),b=b.replace(/"/g,"&quot;")}var d=function(a){this.ignoreWhitespace=a};d.prototype={diff:function(b,c){if(c===b)return[{value:c}];if(!c)return[{value:b,removed:!0}];if(!b)return[{value:c,added:!0}];c=this.tokenize(c),b=this.tokenize(b);var d=c.length,e=b.length,f=d+e,g=[{newPos:-1,components:[]}],h=this.extractCommon(g[0],c,b,0);if(g[0].newPos+1>=d&&h+1>=e)return g[0].components;for(var i=1;f>=i;i++)for(var j=-1*i;i>=j;j+=2){var k,l=g[j-1],m=g[j+1];h=(m?m.newPos:0)-j,l&&(g[j-1]=void 0);var n=l&&l.newPos+1<d,o=m&&h>=0&&e>h;if(n||o){!n||o&&l.newPos<m.newPos?(k=a(m),this.pushComponent(k.components,b[h],void 0,!0)):(k=a(l),k.newPos++,this.pushComponent(k.components,c[k.newPos],!0,void 0));var h=this.extractCommon(k,c,b,j);if(k.newPos+1>=d&&h+1>=e)return k.components;g[j]=k}else g[j]=void 0}},pushComponent:function(a,b,c,d){var e=a[a.length-1];e&&e.added===c&&e.removed===d?a[a.length-1]={value:this.join(e.value,b),added:c,removed:d}:a.push({value:b,added:c,removed:d})},extractCommon:function(a,b,c,d){for(var e=b.length,f=c.length,g=a.newPos,h=g-d;e>g+1&&f>h+1&&this.equals(b[g+1],c[h+1]);)g++,h++,this.pushComponent(a.components,b[g],void 0,void 0);return a.newPos=g,h},equals:function(a,b){var c=/\S/;return!this.ignoreWhitespace||c.test(a)||c.test(b)?a===b:!0},join:function(a,b){return a+b},tokenize:function(a){return a}};var e=new d,f=new d(!0),g=new d;f.tokenize=g.tokenize=function(a){return b(a.split(/(\s+|\b)/))};var h=new d(!0);h.tokenize=function(a){return b(a.split(/([{}:;,]|\s+)/))};var i=new d;return i.tokenize=function(a){return a.split(/^/m)},{Diff:d,diffChars:function(a,b){return e.diff(a,b)},diffWords:function(a,b){return f.diff(a,b)},diffWordsWithSpace:function(a,b){return g.diff(a,b)},diffLines:function(a,b){return i.diff(a,b)},diffCss:function(a,b){return h.diff(a,b)},createPatch:function(a,b,c,d,e){function f(a){return a.map(function(a){return" "+a})}function g(a,b,c){var d=j[j.length-2],e=b===j.length-2,f=b===j.length-3&&(c.added!==d.added||c.removed!==d.removed);/\n$/.test(c.value)||!e&&!f||a.push("\\ No newline at end of file")}var h=[];h.push("Index: "+a),h.push("==================================================================="),h.push("--- "+a+("undefined"==typeof d?"":"	"+d)),h.push("+++ "+a+("undefined"==typeof e?"":"	"+e));var j=i.diff(b,c);j[j.length-1].value||j.pop(),j.push({value:"",lines:[]});for(var k=0,l=0,m=[],n=1,o=1,p=0;p<j.length;p++){var q=j[p],r=q.lines||q.value.replace(/\n$/,"").split("\n");if(q.lines=r,q.added||q.removed){if(!k){var s=j[p-1];k=n,l=o,s&&(m=f(s.lines.slice(-4)),k-=m.length,l-=m.length)}m.push.apply(m,r.map(function(a){return(q.added?"+":"-")+a})),g(m,p,q),q.added?o+=r.length:n+=r.length}else{if(k)if(r.length<=8&&p<j.length-2)m.push.apply(m,f(r));else{var t=Math.min(r.length,4);h.push("@@ -"+k+","+(n-k+t)+" +"+l+","+(o-l+t)+" @@"),h.push.apply(h,m),h.push.apply(h,f(r.slice(0,t))),r.length<=4&&g(h,p,q),k=0,l=0,m=[]}n+=r.length,o+=r.length}}return h.join("\n")+"\n"},applyPatch:function(a,b){for(var c=b.split("\n"),d=[],e=!1,f=!1,g="I"===c[0][0]?4:0;g<c.length;g++)if("@"===c[g][0]){var h=c[g].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);d.unshift({start:h[3],oldlength:h[2],oldlines:[],newlength:h[4],newlines:[]})}else"+"===c[g][0]?d[0].newlines.push(c[g].substr(1)):"-"===c[g][0]?d[0].oldlines.push(c[g].substr(1)):" "===c[g][0]?(d[0].newlines.push(c[g].substr(1)),d[0].oldlines.push(c[g].substr(1))):"\\"===c[g][0]&&("+"===c[g-1][0]?e=!0:"-"===c[g-1][0]&&(f=!0));for(var i=a.split("\n"),g=d.length-1;g>=0;g--){for(var j=d[g],k=0;k<j.oldlength;k++)if(i[j.start-1+k]!==j.oldlines[k])return!1;Array.prototype.splice.apply(i,[j.start-1,+j.oldlength].concat(j.newlines))}if(e)for(;!i[i.length-1];)i.pop();else f&&i.push("");return i.join("\n")},convertChangesToXML:function(a){for(var b=[],d=0;d<a.length;d++){var e=a[d];e.added?b.push("<ins>"):e.removed&&b.push("<del>"),b.push(c(e.value)),e.added?b.push("</ins>"):e.removed&&b.push("</del>")}return b.join("")},convertChangesToDMP:function(a){for(var b,c=[],d=0;d<a.length;d++)b=a[d],c.push([b.added?1:b.removed?-1:0,b.value]);return c}}}();"undefined"!=typeof a&&(a.exports=b)}),a.register("browser/events.js",function(a,b){function c(a){return"[object Array]"=={}.toString.call(a)}function d(){}b.EventEmitter=d,d.prototype.on=function(a,b){return this.$events||(this.$events={}),this.$events[a]?c(this.$events[a])?this.$events[a].push(b):this.$events[a]=[this.$events[a],b]:this.$events[a]=b,this},d.prototype.addListener=d.prototype.on,d.prototype.once=function(a,b){function c(){d.removeListener(a,c),b.apply(this,arguments)}var d=this;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){if(this.$events&&this.$events[a]){var d=this.$events[a];if(c(d)){for(var e=-1,f=0,g=d.length;g>f;f++)if(d[f]===b||d[f].listener&&d[f].listener===b){e=f;break}if(0>e)return this;d.splice(e,1),d.length||delete this.$events[a]}else(d===b||d.listener&&d.listener===b)&&delete this.$events[a]}return this},d.prototype.removeAllListeners=function(a){return void 0===a?(this.$events={},this):(this.$events&&this.$events[a]&&(this.$events[a]=null),this)},d.prototype.listeners=function(a){return this.$events||(this.$events={}),this.$events[a]||(this.$events[a]=[]),c(this.$events[a])||(this.$events[a]=[this.$events[a]]),this.$events[a]
},d.prototype.emit=function(a){if(!this.$events)return!1;var b=this.$events[a];if(!b)return!1;var d=[].slice.call(arguments,1);if("function"==typeof b)b.apply(this,d);else{if(!c(b))return!1;for(var e=b.slice(),f=0,g=e.length;g>f;f++)e[f].apply(this,d)}return!0}}),a.register("browser/fs.js",function(){}),a.register("browser/path.js",function(){}),a.register("browser/progress.js",function(a){function b(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}a.exports=b,b.prototype.size=function(a){return this._size=a,this},b.prototype.text=function(a){return this._text=a,this},b.prototype.fontSize=function(a){return this._fontSize=a,this},b.prototype.font=function(a){return this._font=a,this},b.prototype.update=function(a){return this.percent=a,this},b.prototype._draw=function(a){try{var b=Math.min(this.percent,100),c=this._size,d=c/2,e=d,f=d,g=d-1,h=this._fontSize;a.font=h+"px "+this._font;var i=2*Math.PI*(b/100);a.clearRect(0,0,c,c),a.color="#9f9f9f",a.beginPath(),a.arc(e,f,g,0,i,!1),a.stroke(),a.color="#eee",a.beginPath(),a.arc(e,f,g-1,0,i,!0),a.stroke();var j=this._text||(0|b)+"%",k=a.measureText(j).width;a.fillText(j,e-k/2+1,f+h/2-1)}catch(l){}return this}}),a.register("browser/tty.js",function(a,b){b.isatty=function(){return!0},b.getWindowSize=function(){return"innerHeight"in global?[global.innerHeight,global.innerWidth]:[640,480]}}),a.register("context.js",function(a){function b(){}a.exports=b,b.prototype.runnable=function(a){return 0==arguments.length?this._runnable:(this.test=this._runnable=a,this)},b.prototype.timeout=function(a){return this.runnable().timeout(a),this},b.prototype.slow=function(a){return this.runnable().slow(a),this},b.prototype.inspect=function(){return JSON.stringify(this,function(a,b){return"_runnable"!=a&&"test"!=a?b:void 0},2)}}),a.register("hook.js",function(a,b,c){function d(a,b){f.call(this,a,b),this.type="hook"}function e(){}var f=c("./runnable");a.exports=d,e.prototype=f.prototype,d.prototype=new e,d.prototype.constructor=d,d.prototype.error=function(a){if(0==arguments.length){var a=this._error;return this._error=null,a}this._error=a}}),a.register("interfaces/bdd.js",function(a,b,c){var d=c("../suite"),e=c("../test"),f=c("../utils");a.exports=function(a){var b=[a];a.on("pre-require",function(a,c,g){a.before=function(a){b[0].beforeAll(a)},a.after=function(a){b[0].afterAll(a)},a.beforeEach=function(a){b[0].beforeEach(a)},a.afterEach=function(a){b[0].afterEach(a)},a.describe=a.context=function(a,c){var e=d.create(b[0],a);return b.unshift(e),c.call(e),b.shift(),e},a.xdescribe=a.xcontext=a.describe.skip=function(a,c){var e=d.create(b[0],a);e.pending=!0,b.unshift(e),c.call(e),b.shift()},a.describe.only=function(b,c){var d=a.describe(b,c);return g.grep(d.fullTitle()),d},a.it=a.specify=function(a,c){var d=b[0];if(d.pending)var c=null;var f=new e(a,c);return d.addTest(f),f},a.it.only=function(b,c){var d=a.it(b,c),e="^"+f.escapeRegexp(d.fullTitle())+"$";return g.grep(new RegExp(e)),d},a.xit=a.xspecify=a.it.skip=function(b){a.it(b)}})}}),a.register("interfaces/exports.js",function(a,b,c){var d=c("../suite"),e=c("../test");a.exports=function(a){function b(a){var f;for(var g in a)if("function"==typeof a[g]){var h=a[g];switch(g){case"before":c[0].beforeAll(h);break;case"after":c[0].afterAll(h);break;case"beforeEach":c[0].beforeEach(h);break;case"afterEach":c[0].afterEach(h);break;default:c[0].addTest(new e(g,h))}}else{var f=d.create(c[0],g);c.unshift(f),b(a[g]),c.shift()}}var c=[a];a.on("require",b)}}),a.register("interfaces/index.js",function(a,b,c){b.bdd=c("./bdd"),b.tdd=c("./tdd"),b.qunit=c("./qunit"),b.exports=c("./exports")}),a.register("interfaces/qunit.js",function(a,b,c){var d=c("../suite"),e=c("../test"),f=c("../utils");a.exports=function(a){var b=[a];a.on("pre-require",function(a,c,g){a.before=function(a){b[0].beforeAll(a)},a.after=function(a){b[0].afterAll(a)},a.beforeEach=function(a){b[0].beforeEach(a)},a.afterEach=function(a){b[0].afterEach(a)},a.suite=function(a){b.length>1&&b.shift();var c=d.create(b[0],a);return b.unshift(c),c},a.suite.only=function(b,c){var d=a.suite(b,c);g.grep(d.fullTitle())},a.test=function(a,c){var d=new e(a,c);return b[0].addTest(d),d},a.test.only=function(b,c){var d=a.test(b,c),e="^"+f.escapeRegexp(d.fullTitle())+"$";g.grep(new RegExp(e))},a.test.skip=function(b){a.test(b)}})}}),a.register("interfaces/tdd.js",function(a,b,c){var d=c("../suite"),e=c("../test"),f=c("../utils");a.exports=function(a){var b=[a];a.on("pre-require",function(a,c,g){a.setup=function(a){b[0].beforeEach(a)},a.teardown=function(a){b[0].afterEach(a)},a.suiteSetup=function(a){b[0].beforeAll(a)},a.suiteTeardown=function(a){b[0].afterAll(a)},a.suite=function(a,c){var e=d.create(b[0],a);return b.unshift(e),c.call(e),b.shift(),e},a.suite.skip=function(a,c){var e=d.create(b[0],a);e.pending=!0,b.unshift(e),c.call(e),b.shift()},a.suite.only=function(b,c){var d=a.suite(b,c);g.grep(d.fullTitle())},a.test=function(a,c){var d=b[0];if(d.pending)var c=null;var f=new e(a,c);return d.addTest(f),f},a.test.only=function(b,c){var d=a.test(b,c),e="^"+f.escapeRegexp(d.fullTitle())+"$";g.grep(new RegExp(e))},a.test.skip=function(b){a.test(b)}})}}),a.register("mocha.js",function(a,b,c){function d(a){return __dirname+"/../images/"+a+".png"}function e(a){a=a||{},this.files=[],this.options=a,this.grep(a.grep),this.suite=new b.Suite("",new b.Context),this.ui(a.ui),this.bail(a.bail),this.reporter(a.reporter),null!=a.timeout&&this.timeout(a.timeout),this.useColors(a.useColors),a.slow&&this.slow(a.slow),this.suite.on("pre-require",function(a){b.afterEach=a.afterEach||a.teardown,b.after=a.after||a.suiteTeardown,b.beforeEach=a.beforeEach||a.setup,b.before=a.before||a.suiteSetup,b.describe=a.describe||a.suite,b.it=a.it||a.test,b.setup=a.setup||a.beforeEach,b.suiteSetup=a.suiteSetup||a.before,b.suiteTeardown=a.suiteTeardown||a.after,b.suite=a.suite||a.describe,b.teardown=a.teardown||a.afterEach,b.test=a.test||a.it})}var f=c("browser/path"),g=c("./utils");b=a.exports=e,b.utils=g,b.interfaces=c("./interfaces"),b.reporters=c("./reporters"),b.Runnable=c("./runnable"),b.Context=c("./context"),b.Runner=c("./runner"),b.Suite=c("./suite"),b.Hook=c("./hook"),b.Test=c("./test"),e.prototype.bail=function(a){return 0==arguments.length&&(a=!0),this.suite.bail(a),this},e.prototype.addFile=function(a){return this.files.push(a),this},e.prototype.reporter=function(a){if("function"==typeof a)this._reporter=a;else{a=a||"dot";var b;try{b=c("./reporters/"+a)}catch(d){}if(!b)try{b=c(a)}catch(d){}if(b||"teamcity"!==a||console.warn("The Teamcity reporter was moved to a package named mocha-teamcity-reporter (https://npmjs.org/package/mocha-teamcity-reporter)."),!b)throw new Error('invalid reporter "'+a+'"');this._reporter=b}return this},e.prototype.ui=function(a){if(a=a||"bdd",this._ui=b.interfaces[a],!this._ui)try{this._ui=c(a)}catch(d){}if(!this._ui)throw new Error('invalid interface "'+a+'"');return this._ui=this._ui(this.suite),this},e.prototype.loadFiles=function(a){var b=this,d=this.suite,e=this.files.length;this.files.forEach(function(g){g=f.resolve(g),d.emit("pre-require",global,g,b),d.emit("require",c(g),g,b),d.emit("post-require",global,g,b),--e||a&&a()})},e.prototype._growl=function(a,b){var e=c("growl");a.on("end",function(){var c=b.stats;if(c.failures){var f=c.failures+" of "+a.total+" tests failed";e(f,{name:"mocha",title:"Failed",image:d("error")})}else e(c.passes+" tests passed in "+c.duration+"ms",{name:"mocha",title:"Passed",image:d("ok")})})},e.prototype.grep=function(a){return this.options.grep="string"==typeof a?new RegExp(g.escapeRegexp(a)):a,this},e.prototype.invert=function(){return this.options.invert=!0,this},e.prototype.ignoreLeaks=function(a){return this.options.ignoreLeaks=!!a,this},e.prototype.checkLeaks=function(){return this.options.ignoreLeaks=!1,this},e.prototype.growl=function(){return this.options.growl=!0,this},e.prototype.globals=function(a){return this.options.globals=(this.options.globals||[]).concat(a),this},e.prototype.useColors=function(a){return this.options.useColors=arguments.length&&void 0!=a?a:!0,this},e.prototype.useInlineDiffs=function(a){return this.options.useInlineDiffs=arguments.length&&void 0!=a?a:!1,this},e.prototype.timeout=function(a){return this.suite.timeout(a),this},e.prototype.slow=function(a){return this.suite.slow(a),this},e.prototype.asyncOnly=function(){return this.options.asyncOnly=!0,this},e.prototype.run=function(a){this.files.length&&this.loadFiles();var c=this.suite,d=this.options,e=new b.Runner(c),f=new this._reporter(e);return e.ignoreLeaks=!1!==d.ignoreLeaks,e.asyncOnly=d.asyncOnly,d.grep&&e.grep(d.grep,d.invert),d.globals&&e.globals(d.globals),d.growl&&this._growl(e,f),b.reporters.Base.useColors=d.useColors,b.reporters.Base.inlineDiffs=d.useInlineDiffs,e.run(a)}}),a.register("ms.js",function(a){function b(a){var b=/^((?:\d+)?\.?\d+) *(ms|seconds?|s|minutes?|m|hours?|h|days?|d|years?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"y":return c*j;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"h":return c*h;case"minutes":case"minute":case"m":return c*g;case"seconds":case"second":case"s":return c*f;case"ms":return c}}}function c(a){return a>=i?Math.round(a/i)+"d":a>=h?Math.round(a/h)+"h":a>=g?Math.round(a/g)+"m":a>=f?Math.round(a/f)+"s":a+"ms"}function d(a){return e(a,i,"day")||e(a,h,"hour")||e(a,g,"minute")||e(a,f,"second")||a+" ms"}function e(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var f=1e3,g=60*f,h=60*g,i=24*h,j=365.25*i;a.exports=function(a,e){return e=e||{},"string"==typeof a?b(a):e.long?d(a):c(a)}}),a.register("reporters/base.js",function(a,b,c){function d(a){var b=this.stats={suites:0,tests:0,passes:0,pending:0,failures:0},c=this.failures=[];a&&(this.runner=a,a.stats=b,a.on("start",function(){b.start=new s}),a.on("suite",function(a){b.suites=b.suites||0,a.root||b.suites++}),a.on("test end",function(){b.tests=b.tests||0,b.tests++}),a.on("pass",function(a){b.passes=b.passes||0;var c=a.slow()/2;a.speed=a.duration>a.slow()?"slow":a.duration>c?"medium":"fast",b.passes++}),a.on("fail",function(a,d){b.failures=b.failures||0,b.failures++,a.err=d,c.push(a)}),a.on("end",function(){b.end=new s,b.duration=new s-b.start}),a.on("pending",function(){b.pending++}))}function f(a,b){return a=String(a),Array(b-a.length+1).join(" ")+a}function g(a,b){var c=i(a,"WordsWithSpace",b),d=c.split("\n");if(d.length>4){var e=String(d.length).length;c=d.map(function(a,b){return f(++b,e)+" | "+a}).join("\n")}return c="\n"+u("diff removed","actual")+" "+u("diff added","expected")+"\n\n"+c+"\n",c=c.replace(/^/gm,"      ")}function h(a,b){function c(a){return b&&(a=j(a)),"+"===a[0]?e+k("diff added",a):"-"===a[0]?e+k("diff removed",a):a.match(/\@\@/)?null:a.match(/\\ No newline/)?null:e+a}function d(a){return null!=a}var e="      ";msg=p.createPatch("string",a.actual,a.expected);var f=msg.split("\n").splice(4);return"\n      "+k("diff added","+ expected")+" "+k("diff removed","- actual")+"\n\n"+f.map(c).filter(d).join("\n")}function i(a,b,c){var d=c?j(a.actual):a.actual,e=c?j(a.expected):a.expected;return p["diff"+b](d,e).map(function(a){return a.added?k("diff added",a.value):a.removed?k("diff removed",a.value):a.value}).join("")}function j(a){return a.replace(/\t/g,"<tab>").replace(/\r/g,"<CR>").replace(/\n/g,"<LF>\n")}function k(a,b){return b.split("\n").map(function(b){return u(a,b)}).join("\n")}function l(a){return a instanceof RegExp?a.toString():JSON.stringify(a,null,2)}function m(a,b){if(b=b||[],-1!==r.indexOf(b,a))return a;var c;return"[object Array]"=={}.toString.call(a)?(b.push(a),c=r.map(a,function(a){return m(a,b)}),b.pop()):"object"==typeof a&&null!==a?(b.push(a),c={},r.forEach(r.keys(a).sort(),function(d){c[d]=m(a[d],b)}),b.pop()):c=a,c}function n(a,b){return a=Object.prototype.toString.call(a),b=Object.prototype.toString.call(b),a==b}var o=c("browser/tty"),p=c("browser/diff"),q=c("../ms"),r=c("../utils"),s=global.Date,t=(global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval,o.isatty(1)&&o.isatty(2));b=a.exports=d,b.useColors=t||void 0!==e.env.MOCHA_COLORS,b.inlineDiffs=!1,b.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41},b.symbols={ok:"✓",err:"✖",dot:"․"},"win32"==e.platform&&(b.symbols.ok="√",b.symbols.err="×",b.symbols.dot=".");var u=b.color=function(a,c){return b.useColors?"["+b.colors[a]+"m"+c+"[0m":c};b.window={width:t?e.stdout.getWindowSize?e.stdout.getWindowSize(1)[0]:o.getWindowSize()[1]:75},b.cursor={hide:function(){t&&e.stdout.write("[?25l")},show:function(){t&&e.stdout.write("[?25h")},deleteLine:function(){t&&e.stdout.write("[2K")},beginningOfLine:function(){t&&e.stdout.write("[0G")},CR:function(){t?(b.cursor.deleteLine(),b.cursor.beginningOfLine()):e.stdout.write("\r")}},b.list=function(a){console.error(),a.forEach(function(a,c){var d=u("error title","  %s) %s:\n")+u("error message","     %s")+u("error stack","\n%s\n"),e=a.err,f=e.message||"",i=e.stack||f,j=i.indexOf(f)+f.length,k=i.slice(0,j),o=e.actual,p=e.expected,q=!0;if(e.uncaught&&(k="Uncaught "+k),e.showDiff&&n(o,p)&&(q=!1,e.actual=o=l(m(o)),e.expected=p=l(m(p))),"string"==typeof o&&"string"==typeof p){d=u("error title","  %s) %s:\n%s")+u("error stack","\n%s\n");var r=f.match(/^([^:]+): expected/);k="\n      "+u("error message",r?r[1]:k),k+=b.inlineDiffs?g(e,q):h(e,q)}i=i.slice(j?j+1:j).replace(/^/gm,"  "),console.error(d,c+1,a.fullTitle(),k,i)})},d.prototype.epilogue=function(){var a,b=this.stats;console.log(),a=u("bright pass"," ")+u("green"," %d passing")+u("light"," (%s)"),console.log(a,b.passes||0,q(b.duration)),b.pending&&(a=u("pending"," ")+u("pending"," %d pending"),console.log(a,b.pending)),b.failures&&(a=u("fail","  %d failing"),console.error(a,b.failures),d.list(this.failures),console.error()),console.log()}}),a.register("reporters/doc.js",function(a,b,c){function d(a){function b(){return Array(c).join("  ")}e.call(this,a);var c=(this.stats,a.total,2);a.on("suite",function(a){a.root||(++c,console.log('%s<section class="suite">',b()),++c,console.log("%s<h1>%s</h1>",b(),f.escape(a.title)),console.log("%s<dl>",b()))}),a.on("suite end",function(a){a.root||(console.log("%s</dl>",b()),--c,console.log("%s</section>",b()),--c)}),a.on("pass",function(a){console.log("%s  <dt>%s</dt>",b(),f.escape(a.title));var c=f.escape(f.clean(a.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",b(),c)})}var e=c("./base"),f=c("../utils");b=a.exports=d}),a.register("reporters/dot.js",function(a,b,c){function d(a){g.call(this,a);var b=this,c=(this.stats,.75*g.window.width|0),d=0;a.on("start",function(){e.stdout.write("\n  ")}),a.on("pending",function(){e.stdout.write(h("pending",g.symbols.dot))}),a.on("pass",function(a){++d%c==0&&e.stdout.write("\n  "),e.stdout.write("slow"==a.speed?h("bright yellow",g.symbols.dot):h(a.speed,g.symbols.dot))}),a.on("fail",function(){++d%c==0&&e.stdout.write("\n  "),e.stdout.write(h("fail",g.symbols.dot))}),a.on("end",function(){console.log(),b.epilogue()})}function f(){}var g=c("./base"),h=g.color;b=a.exports=d,f.prototype=g.prototype,d.prototype=new f,d.prototype.constructor=d}),a.register("reporters/html-cov.js",function(a,b,c){function d(a){var b=c("jade"),d=__dirname+"/templates/coverage.jade",i=h.readFileSync(d,"utf8"),j=b.compile(i,{filename:d}),k=this;g.call(this,a,!1),a.on("end",function(){e.stdout.write(j({cov:k.cov,coverageClass:f}))})}function f(a){return a>=75?"high":a>=50?"medium":a>=25?"low":"terrible"}var g=c("./json-cov"),h=c("browser/fs");b=a.exports=d}),a.register("reporters/html.js",function(a,b,c){function d(a,b){k.call(this,a);var c,d,q=this,r=this.stats,s=(a.total,f(p)),t=s.getElementsByTagName("li"),u=t[1].getElementsByTagName("em")[0],v=t[1].getElementsByTagName("a")[0],w=t[2].getElementsByTagName("em")[0],x=t[2].getElementsByTagName("a")[0],y=t[3].getElementsByTagName("em")[0],z=s.getElementsByTagName("canvas")[0],A=f('<ul id="mocha-report"></ul>'),B=[A];if(b=b||document.getElementById("mocha"),z.getContext){var C=window.devicePixelRatio||1;z.style.width=z.width,z.style.height=z.height,z.width*=C,z.height*=C,d=z.getContext("2d"),d.scale(C,C),c=new m}return b?(j(v,"click",function(){h();var a=/pass/.test(A.className)?"":" pass";A.className=A.className.replace(/fail|pass/g,"")+a,A.className.trim()&&g("test pass")}),j(x,"click",function(){h();var a=/fail/.test(A.className)?"":" fail";A.className=A.className.replace(/fail|pass/g,"")+a,A.className.trim()&&g("test fail")}),b.appendChild(s),b.appendChild(A),c&&c.size(40),a.on("suite",function(a){if(!a.root){var b=q.suiteURL(a),c=f('<li class="suite"><h1><a href="%s">%s</a></h1></li>',b,n(a.title));B[0].appendChild(c),B.unshift(document.createElement("ul")),c.appendChild(B[0])}}),a.on("suite end",function(a){a.root||B.shift()}),a.on("fail",function(b){"hook"==b.type&&a.emit("test end",b)}),void a.on("test end",function(a){var b=r.tests/this.total*100|0;c&&c.update(b)._draw(d);var e=new o-r.start;if(i(u,r.passes),i(w,r.failures),i(y,(e/1e3).toFixed(2)),"passed"==a.state)var g=q.testURL(a),h=f('<li class="test pass %e"><h2>%e<span class="duration">%ems</span> <a href="%s" class="replay">‣</a></h2></li>',a.speed,a.title,a.duration,g);else if(a.pending)var h=f('<li class="test pass pending"><h2>%e</h2></li>',a.title);else{var h=f('<li class="test fail"><h2>%e <a href="?grep=%e" class="replay">‣</a></h2></li>',a.title,encodeURIComponent(a.fullTitle())),k=a.err.stack||a.err.toString();~k.indexOf(a.err.message)||(k=a.err.message+"\n"+k),"[object Error]"==k&&(k=a.err.message),!a.err.stack&&a.err.sourceURL&&void 0!==a.err.line&&(k+="\n("+a.err.sourceURL+":"+a.err.line+")"),h.appendChild(f('<pre class="error">%e</pre>',k))}if(!a.pending){var m=h.getElementsByTagName("h2")[0];j(m,"click",function(){n.style.display="none"==n.style.display?"block":"none"});var n=f("<pre><code>%e</code></pre>",l.clean(a.fn.toString()));h.appendChild(n),n.style.display="none"}B[0]&&B[0].appendChild(h)})):e("#mocha div missing, add it to your document")}function e(a){document.body.appendChild(f('<div id="mocha-error">%s</div>',a))}function f(a){var b=arguments,c=document.createElement("div"),d=1;return c.innerHTML=a.replace(/%([se])/g,function(a,c){switch(c){case"s":return String(b[d++]);case"e":return n(b[d++])}}),c.firstChild}function g(a){for(var b=document.getElementsByClassName("suite"),c=0;c<b.length;c++){var d=b[c].getElementsByClassName(a);0==d.length&&(b[c].className+=" hidden")}}function h(){for(var a=document.getElementsByClassName("suite hidden"),b=0;b<a.length;++b)a[b].className=a[b].className.replace("suite hidden","suite")}function i(a,b){a.textContent?a.textContent=b:a.innerText=b}function j(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)}{var k=c("./base"),l=c("../utils"),m=c("../browser/progress"),n=l.escape,o=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval}b=a.exports=d;var p='<ul id="mocha-stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes"><a href="#">passes:</a> <em>0</em></li><li class="failures"><a href="#">failures:</a> <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>';d.prototype.suiteURL=function(a){return"?grep="+encodeURIComponent(a.fullTitle())},d.prototype.testURL=function(a){return"?grep="+encodeURIComponent(a.fullTitle())}}),a.register("reporters/index.js",function(a,b,c){b.Base=c("./base"),b.Dot=c("./dot"),b.Doc=c("./doc"),b.TAP=c("./tap"),b.JSON=c("./json"),b.HTML=c("./html"),b.List=c("./list"),b.Min=c("./min"),b.Spec=c("./spec"),b.Nyan=c("./nyan"),b.XUnit=c("./xunit"),b.Markdown=c("./markdown"),b.Progress=c("./progress"),b.Landing=c("./landing"),b.JSONCov=c("./json-cov"),b.HTMLCov=c("./html-cov"),b.JSONStream=c("./json-stream")}),a.register("reporters/json-cov.js",function(a,b,c){function d(a,b){var c=this,b=1==arguments.length?!0:b;i.call(this,a);var d=[],g=[],j=[];a.on("test end",function(a){d.push(a)}),a.on("pass",function(a){j.push(a)}),a.on("fail",function(a){g.push(a)}),a.on("end",function(){var a=global._$jscoverage||{},i=c.cov=f(a);i.stats=c.stats,i.tests=d.map(h),i.failures=g.map(h),i.passes=j.map(h),b&&e.stdout.write(JSON.stringify(i,null,2))})}function f(a){var b={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var c in a){var d=g(c,a[c]);b.files.push(d),b.hits+=d.hits,b.misses+=d.misses,b.sloc+=d.sloc}return b.files.sort(function(a,b){return a.filename.localeCompare(b.filename)}),b.sloc>0&&(b.coverage=b.hits/b.sloc*100),b}function g(a,b){var c={filename:a,coverage:0,hits:0,misses:0,sloc:0,source:{}};return b.source.forEach(function(a,d){d++,0===b[d]?(c.misses++,c.sloc++):void 0!==b[d]&&(c.hits++,c.sloc++),c.source[d]={source:a,coverage:void 0===b[d]?"":b[d]}}),c.coverage=c.hits/c.sloc*100,c}function h(a){return{title:a.title,fullTitle:a.fullTitle(),duration:a.duration}}var i=c("./base");b=a.exports=d}),a.register("reporters/json-stream.js",function(a,b,c){function d(a){g.call(this,a);var b=this,c=(this.stats,a.total);a.on("start",function(){console.log(JSON.stringify(["start",{total:c}]))}),a.on("pass",function(a){console.log(JSON.stringify(["pass",f(a)]))}),a.on("fail",function(a){console.log(JSON.stringify(["fail",f(a)]))}),a.on("end",function(){e.stdout.write(JSON.stringify(["end",b.stats]))})}function f(a){return{title:a.title,fullTitle:a.fullTitle(),duration:a.duration}}{var g=c("./base");g.color}b=a.exports=d}),a.register("reporters/json.js",function(a,b,c){function d(a){var b=this;g.call(this,a);var c=[],d=[],h=[];a.on("test end",function(a){c.push(a)}),a.on("pass",function(a){h.push(a)}),a.on("fail",function(a){d.push(a)}),a.on("end",function(){var a={stats:b.stats,tests:c.map(f),failures:d.map(f),passes:h.map(f)};e.stdout.write(JSON.stringify(a,null,2))})}function f(a){return{title:a.title,fullTitle:a.fullTitle(),duration:a.duration}}{var g=c("./base");g.cursor,g.color}b=a.exports=d}),a.register("reporters/landing.js",function(a,b,c){function d(a){function b(){var a=Array(d).join("-");return"  "+i("runway",a)}g.call(this,a);var c=this,d=(this.stats,.75*g.window.width|0),f=a.total,j=e.stdout,k=i("plane","✈"),l=-1,m=0;a.on("start",function(){j.write("\n  "),h.hide()}),a.on("test end",function(a){var c=-1==l?d*++m/f|0:l;"failed"==a.state&&(k=i("plane crash","✈"),l=c),j.write("[4F\n\n"),j.write(b()),j.write("\n  "),j.write(i("runway",Array(c).join("⋅"))),j.write(k),j.write(i("runway",Array(d-c).join("⋅")+"\n")),j.write(b()),j.write("[0m")}),a.on("end",function(){h.show(),console.log(),c.epilogue()})}function f(){}var g=c("./base"),h=g.cursor,i=g.color;b=a.exports=d,g.colors.plane=0,g.colors["plane crash"]=31,g.colors.runway=90,f.prototype=g.prototype,d.prototype=new f,d.prototype.constructor=d}),a.register("reporters/list.js",function(a,b,c){function d(a){g.call(this,a);var b=this,c=(this.stats,0);a.on("start",function(){console.log()}),a.on("test",function(a){e.stdout.write(i("pass","    "+a.fullTitle()+": "))}),a.on("pending",function(a){var b=i("checkmark","  -")+i("pending"," %s");console.log(b,a.fullTitle())}),a.on("pass",function(a){var b=i("checkmark","  "+g.symbols.dot)+i("pass"," %s: ")+i(a.speed,"%dms");h.CR(),console.log(b,a.fullTitle(),a.duration)}),a.on("fail",function(a){h.CR(),console.log(i("fail","  %d) %s"),++c,a.fullTitle())}),a.on("end",b.epilogue.bind(b))}function f(){}var g=c("./base"),h=g.cursor,i=g.color;b=a.exports=d,f.prototype=g.prototype,d.prototype=new f,d.prototype.constructor=d}),a.register("reporters/markdown.js",function(a,b,c){function d(a){function b(a){return Array(i).join("#")+" "+a}function c(a,b){var d=b;return b=b[a.title]=b[a.title]||{suite:a},a.suites.forEach(function(a){c(a,b)}),d}function d(a,b){++b;var c,e="";for(var f in a)"suite"!=f&&(f&&(c=" - ["+f+"](#"+g.slug(a[f].suite.fullTitle())+")\n"),f&&(e+=Array(b).join("  ")+c),e+=d(a[f],b));return--b,e}function h(a){var b=c(a,{});return d(b,0)}f.call(this,a);var i=(this.stats,0),j="";h(a.suite),a.on("suite",function(a){++i;var c=g.slug(a.fullTitle());j+='<a name="'+c+'"></a>\n',j+=b(a.title)+"\n"}),a.on("suite end",function(){--i}),a.on("pass",function(a){var b=g.clean(a.fn.toString());j+=a.title+".\n",j+="\n```js\n",j+=b+"\n",j+="```\n\n"}),a.on("end",function(){e.stdout.write("# TOC\n"),e.stdout.write(h(a.suite)),e.stdout.write(j)})}var f=c("./base"),g=c("../utils");b=a.exports=d}),a.register("reporters/min.js",function(a,b,c){function d(a){g.call(this,a),a.on("start",function(){e.stdout.write("[2J"),e.stdout.write("[1;3H")}),a.on("end",this.epilogue.bind(this))}function f(){}var g=c("./base");b=a.exports=d,f.prototype=g.prototype,d.prototype=new f,d.prototype.constructor=d}),a.register("reporters/nyan.js",function(a,b,c){function d(a){h.call(this,a);{var b=this,c=(this.stats,.75*h.window.width|0),d=(this.rainbowColors=b.generateColors(),this.colorIndex=0,this.numberOfLines=4,this.trajectories=[[],[],[],[]],this.nyanCatWidth=11);this.trajectoryWidthMax=c-d,this.scoreboardWidth=5,this.tick=0}a.on("start",function(){h.cursor.hide(),b._draw()}),a.on("pending",function(){b._draw()}),a.on("pass",function(){b._draw()}),a.on("fail",function(){b._draw()}),a.on("end",function(){h.cursor.show();for(var a=0;a<b.numberOfLines;a++)f("\n");b.epilogue()})}function f(a){e.stdout.write(a)}function g(){}{var h=c("./base");h.color}b=a.exports=d,d.prototype._draw=function(){this.appendRainbow(),this.drawScoreboard(),this.drawRainbow(),this.drawNyanCat(),this.tick=!this.tick},d.prototype.drawScoreboard=function(){function a(a,b){f(" "),f("["+a+"m"+b+"[0m"),f("\n")}var b=this.stats,c=h.colors;a(c.green,b.passes),a(c.fail,b.failures),a(c.pending,b.pending),f("\n"),this.cursorUp(this.numberOfLines)},d.prototype.appendRainbow=function(){for(var a=this.tick?"_":"-",b=this.rainbowify(a),c=0;c<this.numberOfLines;c++){var d=this.trajectories[c];d.length>=this.trajectoryWidthMax&&d.shift(),d.push(b)}},d.prototype.drawRainbow=function(){var a=this;this.trajectories.forEach(function(b){f("["+a.scoreboardWidth+"C"),f(b.join("")),f("\n")}),this.cursorUp(this.numberOfLines)},d.prototype.drawNyanCat=function(){var a=this,b=this.scoreboardWidth+this.trajectories[0].length,c="["+b+"C",d="";f(c),f("_,------,"),f("\n"),f(c),d=a.tick?"  ":"   ",f("_|"+d+"/\\_/\\ "),f("\n"),f(c),d=a.tick?"_":"__";var e=a.tick?"~":"^";f(e+"|"+d+this.face()+" "),f("\n"),f(c),d=a.tick?" ":"  ",f(d+'""  "" '),f("\n"),this.cursorUp(this.numberOfLines)},d.prototype.face=function(){var a=this.stats;return a.failures?"( x .x)":a.pending?"( o .o)":a.passes?"( ^ .^)":"( - .-)"},d.prototype.cursorUp=function(a){f("["+a+"A")},d.prototype.cursorDown=function(a){f("["+a+"B")},d.prototype.generateColors=function(){for(var a=[],b=0;42>b;b++){var c=Math.floor(Math.PI/3),d=b*(1/6),e=Math.floor(3*Math.sin(d)+3),f=Math.floor(3*Math.sin(d+2*c)+3),g=Math.floor(3*Math.sin(d+4*c)+3);a.push(36*e+6*f+g+16)}return a},d.prototype.rainbowify=function(a){var b=this.rainbowColors[this.colorIndex%this.rainbowColors.length];return this.colorIndex+=1,"[38;5;"+b+"m"+a+"[0m"},g.prototype=h.prototype,d.prototype=new g,d.prototype.constructor=d}),a.register("reporters/progress.js",function(a,b,c){function d(a,b){g.call(this,a);{var c=this,b=b||{},d=(this.stats,.5*g.window.width|0),f=a.total,j=0;Math.max}b.open=b.open||"[",b.complete=b.complete||"▬",b.incomplete=b.incomplete||g.symbols.dot,b.close=b.close||"]",b.verbose=!1,a.on("start",function(){console.log(),h.hide()}),a.on("test end",function(){j++;var a=j/f,c=d*a|0,g=d-c;h.CR(),e.stdout.write("[J"),e.stdout.write(i("progress","  "+b.open)),e.stdout.write(Array(c).join(b.complete)),e.stdout.write(Array(g).join(b.incomplete)),e.stdout.write(i("progress",b.close)),b.verbose&&e.stdout.write(i("progress"," "+j+" of "+f))}),a.on("end",function(){h.show(),console.log(),c.epilogue()})}function f(){}var g=c("./base"),h=g.cursor,i=g.color;b=a.exports=d,g.colors.progress=90,f.prototype=g.prototype,d.prototype=new f,d.prototype.constructor=d}),a.register("reporters/spec.js",function(a,b,c){function d(a){function b(){return Array(d).join("  ")}f.call(this,a);var c=this,d=(this.stats,0),e=0;a.on("start",function(){console.log()}),a.on("suite",function(a){++d,console.log(h("suite","%s%s"),b(),a.title)}),a.on("suite end",function(){--d,1==d&&console.log()}),a.on("pending",function(a){var c=b()+h("pending","  - %s");console.log(c,a.title)}),a.on("pass",function(a){if("fast"==a.speed){var c=b()+h("checkmark","  "+f.symbols.ok)+h("pass"," %s ");g.CR(),console.log(c,a.title)}else{var c=b()+h("checkmark","  "+f.symbols.ok)+h("pass"," %s ")+h(a.speed,"(%dms)");g.CR(),console.log(c,a.title,a.duration)}}),a.on("fail",function(a){g.CR(),console.log(b()+h("fail","  %d) %s"),++e,a.title)}),a.on("end",c.epilogue.bind(c))}function e(){}var f=c("./base"),g=f.cursor,h=f.color;b=a.exports=d,e.prototype=f.prototype,d.prototype=new e,d.prototype.constructor=d}),a.register("reporters/tap.js",function(a,b,c){function d(a){f.call(this,a);var b=(this.stats,1),c=0,d=0;a.on("start",function(){var b=a.grepTotal(a.suite);console.log("%d..%d",1,b)}),a.on("test end",function(){++b}),a.on("pending",function(a){console.log("ok %d %s # SKIP -",b,e(a))}),a.on("pass",function(a){c++,console.log("ok %d %s",b,e(a))}),a.on("fail",function(a,c){d++,console.log("not ok %d %s",b,e(a)),c.stack&&console.log(c.stack.replace(/^/gm,"  "))}),a.on("end",function(){console.log("# tests "+(c+d)),console.log("# pass "+c),console.log("# fail "+d)})}function e(a){return a.fullTitle().replace(/#/g,"")}{var f=c("./base");f.cursor,f.color}b=a.exports=d}),a.register("reporters/xunit.js",function(a,b,c){function d(a){i.call(this,a);var b=this.stats,c=[];a.on("pending",function(a){c.push(a)}),a.on("pass",function(a){c.push(a)}),a.on("fail",function(a){c.push(a)}),a.on("end",function(){console.log(g("testsuite",{name:"Mocha Tests",tests:b.tests,failures:b.failures,errors:b.failures,skipped:b.tests-b.failures-b.passes,timestamp:(new l).toUTCString(),time:b.duration/1e3||0},!1)),c.forEach(f),console.log("</testsuite>")})}function e(){}function f(a){var b={classname:a.parent.fullTitle(),name:a.title,time:a.duration/1e3||0};if("failed"==a.state){var c=a.err;b.message=k(c.message),console.log(g("testcase",b,!1,g("failure",b,!1,h(c.stack))))}else console.log(a.pending?g("testcase",b,!1,g("skipped",{},!0)):g("testcase",b,!0))}function g(a,b,c,d){var e,f=c?"/>":">",g=[];for(var h in b)g.push(h+'="'+k(b[h])+'"');return e="<"+a+(g.length?" "+g.join(" "):"")+f,d&&(e+=d+"</"+a+f),e}function h(a){return"<![CDATA["+k(a)+"]]>"}{var i=c("./base"),j=c("../utils"),k=j.escape,l=global.Date;global.setTimeout,global.setInterval,global.clearTimeout,global.clearInterval}b=a.exports=d,e.prototype=i.prototype,d.prototype=new e,d.prototype.constructor=d}),a.register("runnable.js",function(a,b,c){function d(a,b){this.title=a,this.fn=b,this.async=b&&b.length,this.sync=!this.async,this._timeout=2e3,this._slow=75,this.timedOut=!1}function e(){}var f=c("browser/events").EventEmitter,g=c("browser/debug")("mocha:runnable"),h=c("./ms"),i=global.Date,j=global.setTimeout,k=(global.setInterval,global.clearTimeout),l=(global.clearInterval,Object.prototype.toString);a.exports=d,e.prototype=f.prototype,d.prototype=new e,d.prototype.constructor=d,d.prototype.timeout=function(a){return 0==arguments.length?this._timeout:("string"==typeof a&&(a=h(a)),g("timeout %d",a),this._timeout=a,this.timer&&this.resetTimeout(),this)},d.prototype.slow=function(a){return 0===arguments.length?this._slow:("string"==typeof a&&(a=h(a)),g("timeout %d",a),this._slow=a,this)},d.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},d.prototype.clearTimeout=function(){k(this.timer)},d.prototype.inspect=function(){return JSON.stringify(this,function(a,b){return"_"!=a[0]?"parent"==a?"#<Suite>":"ctx"==a?"#<Context>":b:void 0
},2)},d.prototype.resetTimeout=function(){var a=this,b=this.timeout()||1e9;this.clearTimeout(),this.timer=j(function(){a.callback(new Error("timeout of "+b+"ms exceeded")),a.timedOut=!0},b)},d.prototype.globals=function(a){this._allowedGlobals=a},d.prototype.run=function(a){function b(a){e||(e=!0,f.emit("error",a||new Error("done() called multiple times")))}function c(c){if(!f.timedOut){if(d)return b(c);f.clearTimeout(),f.duration=new i-h,d=!0,a(c)}}var d,e,f=this,g=this.timeout(),h=new i,k=this.ctx;if(k&&k.runnable(this),this.async&&g&&(this.timer=j(function(){c(new Error("timeout of "+g+"ms exceeded")),f.timedOut=!0},g)),this.callback=c,this.async)try{this.fn.call(k,function(a){return a instanceof Error||"[object Error]"===l.call(a)?c(a):null!=a?c(new Error("done() invoked with non-Error: "+a)):void c()})}catch(m){c(m)}else{if(this.asyncOnly)return c(new Error("--async-only option in use without declaring `done()`"));try{this.pending||this.fn.call(k),this.duration=new i-h,a()}catch(m){a(m)}}}}),a.register("runner.js",function(a,b,c){function d(a){var b=this;this._globals=[],this._abort=!1,this.suite=a,this.total=a.total(),this.failures=0,this.on("test end",function(a){b.checkGlobals(a)}),this.on("hook end",function(a){b.checkGlobals(a)}),this.grep(/.*/),this.globals(this.globalProps().concat(h()))}function f(){}function g(a,b){return l(b,function(b){if(/^d+/.test(b))return!1;if(global.navigator&&/^getInterface/.test(b))return!1;if(global.navigator&&/^\d+/.test(b))return!1;if(/^mocha-/.test(b))return!1;var c=l(a,function(a){return~a.indexOf("*")?0==b.indexOf(a.split("*")[0]):b==a});return 0==c.length&&(!global.navigator||"onerror"!==b)})}function h(){if("object"==typeof e&&"string"==typeof e.version){var a=e.version.split(".").reduce(function(a,b){return a<<8|b});if(2315>a)return["errno"]}return[]}var i=c("browser/events").EventEmitter,j=c("browser/debug")("mocha:runner"),k=(c("./test"),c("./utils")),l=k.filter,m=(k.keys,["setTimeout","clearTimeout","setInterval","clearInterval","XMLHttpRequest","Date"]);a.exports=d,d.immediately=global.setImmediate||e.nextTick,f.prototype=i.prototype,d.prototype=new f,d.prototype.constructor=d,d.prototype.grep=function(a,b){return j("grep %s",a),this._grep=a,this._invert=b,this.total=this.grepTotal(this.suite),this},d.prototype.grepTotal=function(a){var b=this,c=0;return a.eachTest(function(a){var d=b._grep.test(a.fullTitle());b._invert&&(d=!d),d&&c++}),c},d.prototype.globalProps=function(){for(var a=k.keys(global),b=0;b<m.length;++b)~k.indexOf(a,m[b])||a.push(m[b]);return a},d.prototype.globals=function(a){return 0==arguments.length?this._globals:(j("globals %j",a),this._globals=this._globals.concat(a),this)},d.prototype.checkGlobals=function(a){if(!this.ignoreLeaks){{var b,c=this._globals,d=this.globalProps();e.kill}a&&(c=c.concat(a._allowedGlobals||[])),this.prevGlobalsLength!=d.length&&(this.prevGlobalsLength=d.length,b=g(c,d),this._globals=this._globals.concat(b),b.length>1?this.fail(a,new Error("global leaks detected: "+b.join(", "))):b.length&&this.fail(a,new Error("global leak detected: "+b[0])))}},d.prototype.fail=function(a,b){++this.failures,a.state="failed","string"==typeof b&&(b=new Error('the string "'+b+'" was thrown, throw an Error :)')),this.emit("fail",a,b)},d.prototype.failHook=function(a,b){this.fail(a,b),this.suite.bail()&&this.emit("end")},d.prototype.hook=function(a,b){function c(a){var d=f[a];return d?g.failures&&e.bail()?b():(g.currentRunnable=d,d.ctx.currentTest=g.test,g.emit("hook",d),d.on("error",function(a){g.failHook(d,a)}),void d.run(function(e){d.removeAllListeners("error");var f=d.error();return f&&g.fail(g.test,f),e?(g.failHook(d,e),b(e)):(g.emit("hook end",d),delete d.ctx.currentTest,void c(++a))})):b()}var e=this.suite,f=e["_"+a],g=this;d.immediately(function(){c(0)})},d.prototype.hooks=function(a,b,c){function d(g){return e.suite=g,g?void e.hook(a,function(a){if(a){var g=e.suite;return e.suite=f,c(a,g)}d(b.pop())}):(e.suite=f,c())}var e=this,f=this.suite;d(b.pop())},d.prototype.hookUp=function(a,b){var c=[this.suite].concat(this.parents()).reverse();this.hooks(a,c,b)},d.prototype.hookDown=function(a,b){var c=[this.suite].concat(this.parents());this.hooks(a,c,b)},d.prototype.parents=function(){for(var a=this.suite,b=[];a=a.parent;)b.push(a);return b},d.prototype.runTest=function(a){var b=this.test,c=this;this.asyncOnly&&(b.asyncOnly=!0);try{b.on("error",function(a){c.fail(b,a)}),b.run(a)}catch(d){a(d)}},d.prototype.runTests=function(a,b){function c(a,d,e){var g=f.suite;f.suite=e?d.parent:d,f.suite?f.hookUp("afterEach",function(a,e){return f.suite=g,a?c(a,e,!0):void b(d)}):(f.suite=g,b(d))}function d(h,i){if(f.failures&&a._bail)return b();if(f._abort)return b();if(h)return c(h,i,!0);if(e=g.shift(),!e)return b();var j=f._grep.test(e.fullTitle());return f._invert&&(j=!j),j?e.pending?(f.emit("pending",e),f.emit("test end",e),d()):(f.emit("test",f.test=e),void f.hookDown("beforeEach",function(a,b){return a?c(a,b,!1):(f.currentRunnable=f.test,void f.runTest(function(a){return e=f.test,a?(f.fail(e,a),f.emit("test end",e),f.hookUp("afterEach",d)):(e.state="passed",f.emit("pass",e),f.emit("test end",e),void f.hookUp("afterEach",d))}))})):d()}var e,f=this,g=a.tests.slice();this.next=d,d()},d.prototype.runSuite=function(a,b){function c(b){if(b)return b==a?d():d(b);if(f._abort)return d();var e=a.suites[g++];return e?void f.runSuite(e,c):d()}function d(c){f.suite=a,f.hook("afterAll",function(){f.emit("suite end",a),b(c)})}var e=this.grepTotal(a),f=this,g=0;return j("run suite %s",a.fullTitle()),e?(this.emit("suite",this.suite=a),void this.hook("beforeAll",function(b){return b?d():void f.runTests(a,c)})):b()},d.prototype.uncaught=function(a){j("uncaught exception %s",a.message);var b=this.currentRunnable;if(b&&"failed"!=b.state)return b.clearTimeout(),a.uncaught=!0,this.fail(b,a),"test"==b.type?(this.emit("test end",b),void this.hookUp("afterEach",this.next)):void this.emit("end")},d.prototype.run=function(a){function b(a){c.uncaught(a)}var c=this,a=a||function(){};return j("start"),this.on("end",function(){j("end"),e.removeListener("uncaughtException",b),a(c.failures)}),this.emit("start"),this.runSuite(this.suite,function(){j("finished running"),c.emit("end")}),e.on("uncaughtException",b),this},d.prototype.abort=function(){j("aborting"),this._abort=!0}}),a.register("suite.js",function(a,b,c){function d(a,b){this.title=a,this.ctx=b,this.suites=[],this.tests=[],this.pending=!1,this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!a,this._timeout=2e3,this._slow=75,this._bail=!1}function e(){}var f=c("browser/events").EventEmitter,g=c("browser/debug")("mocha:suite"),h=c("./ms"),i=c("./utils"),j=c("./hook");b=a.exports=d,b.create=function(a,b){var c=new d(b,a.ctx);return c.parent=a,a.pending&&(c.pending=!0),b=c.fullTitle(),a.addSuite(c),c},e.prototype=f.prototype,d.prototype=new e,d.prototype.constructor=d,d.prototype.clone=function(){var a=new d(this.title);return g("clone"),a.ctx=this.ctx,a.timeout(this.timeout()),a.slow(this.slow()),a.bail(this.bail()),a},d.prototype.timeout=function(a){return 0==arguments.length?this._timeout:("string"==typeof a&&(a=h(a)),g("timeout %d",a),this._timeout=parseInt(a,10),this)},d.prototype.slow=function(a){return 0===arguments.length?this._slow:("string"==typeof a&&(a=h(a)),g("slow %d",a),this._slow=a,this)},d.prototype.bail=function(a){return 0==arguments.length?this._bail:(g("bail %s",a),this._bail=a,this)},d.prototype.beforeAll=function(a){if(this.pending)return this;var b=new j('"before all" hook',a);return b.parent=this,b.timeout(this.timeout()),b.slow(this.slow()),b.ctx=this.ctx,this._beforeAll.push(b),this.emit("beforeAll",b),this},d.prototype.afterAll=function(a){if(this.pending)return this;var b=new j('"after all" hook',a);return b.parent=this,b.timeout(this.timeout()),b.slow(this.slow()),b.ctx=this.ctx,this._afterAll.push(b),this.emit("afterAll",b),this},d.prototype.beforeEach=function(a){if(this.pending)return this;var b=new j('"before each" hook',a);return b.parent=this,b.timeout(this.timeout()),b.slow(this.slow()),b.ctx=this.ctx,this._beforeEach.push(b),this.emit("beforeEach",b),this},d.prototype.afterEach=function(a){if(this.pending)return this;var b=new j('"after each" hook',a);return b.parent=this,b.timeout(this.timeout()),b.slow(this.slow()),b.ctx=this.ctx,this._afterEach.push(b),this.emit("afterEach",b),this},d.prototype.addSuite=function(a){return a.parent=this,a.timeout(this.timeout()),a.slow(this.slow()),a.bail(this.bail()),this.suites.push(a),this.emit("suite",a),this},d.prototype.addTest=function(a){return a.parent=this,a.timeout(this.timeout()),a.slow(this.slow()),a.ctx=this.ctx,this.tests.push(a),this.emit("test",a),this},d.prototype.fullTitle=function(){if(this.parent){var a=this.parent.fullTitle();if(a)return a+" "+this.title}return this.title},d.prototype.total=function(){return i.reduce(this.suites,function(a,b){return a+b.total()},0)+this.tests.length},d.prototype.eachTest=function(a){return i.forEach(this.tests,a),i.forEach(this.suites,function(b){b.eachTest(a)}),this}}),a.register("test.js",function(a,b,c){function d(a,b){f.call(this,a,b),this.pending=!b,this.type="test"}function e(){}var f=c("./runnable");a.exports=d,e.prototype=f.prototype,d.prototype=new e,d.prototype.constructor=d}),a.register("utils.js",function(a,b,c){function d(a){return!~j.indexOf(a)}function e(a){return a.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew *(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var f=c("browser/fs"),g=c("browser/path"),h=g.join,i=c("browser/debug")("mocha:watch"),j=["node_modules",".git"];b.escape=function(a){return String(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},b.forEach=function(a,b,c){for(var d=0,e=a.length;e>d;d++)b.call(c,a[d],d)},b.map=function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)d.push(b.call(c,a[e],e));return d},b.indexOf=function(a,b,c){for(var d=c||0,e=a.length;e>d;d++)if(a[d]===b)return d;return-1},b.reduce=function(a,b,c){for(var d=c,e=0,f=a.length;f>e;e++)d=b(d,a[e],e,a);return d},b.filter=function(a,b){for(var c=[],d=0,e=a.length;e>d;d++){var f=a[d];b(f,d,a)&&c.push(f)}return c},b.keys=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);return b},b.watch=function(a,b){var c={interval:100};a.forEach(function(a){i("file %s",a),f.watchFile(a,c,function(c,d){d.mtime<c.mtime&&b(a)})})},b.files=function(a,c){return c=c||[],f.readdirSync(a).filter(d).forEach(function(d){d=h(a,d),f.statSync(d).isDirectory()?b.files(d,c):d.match(/\.(js|coffee|litcoffee|coffee.md)$/)&&c.push(d)}),c},b.slug=function(a){return a.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},b.clean=function(a){a=a.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\) *{/,"").replace(/\s+\}$/,"");var c=a.match(/^\n?( *)/)[1].length,d=a.match(/^\n?(\t*)/)[1].length,e=new RegExp("^\n?"+(d?"	":" ")+"{"+(d?d:c)+"}","gm");return a=a.replace(e,""),b.trim(a)},b.escapeRegexp=function(a){return a.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},b.trim=function(a){return a.replace(/^\s+|\s+$/g,"")},b.parseQuery=function(a){return b.reduce(a.replace("?","").split("&"),function(a,b){var c=b.indexOf("="),d=b.slice(0,c),e=b.slice(++c);return a[d]=decodeURIComponent(e),a},{})},b.highlightTags=function(a){for(var b=document.getElementsByTagName(a),c=0,d=b.length;d>c;++c)b[c].innerHTML=e(b[c].innerHTML)}}),global=function(){return this}();var c=global.Date,d=global.setTimeout,e=(global.setInterval,global.clearTimeout,global.clearInterval,{});e.exit=function(){},e.stdout={};var f=[];e.removeListener=function(a,b){if("uncaughtException"==a){global.onerror=function(){};var c=g.utils.indexOf(f,b);-1!=c&&f.splice(c,1)}},e.on=function(a,b){"uncaughtException"==a&&(global.onerror=function(a,c,d){return b(new Error(a+" ("+c+":"+d+")")),!0},f.push(b))};var g=global.Mocha=a("mocha"),h=global.mocha=new g({reporter:"html"});h.suite.removeAllListeners("pre-require");var i,j=[];g.Runner.immediately=function(a){j.push(a),i||(i=d(b,0))},h.throwError=function(a){throw g.utils.forEach(f,function(b){b(a)}),a},h.ui=function(a){return g.prototype.ui.call(this,a),this.suite.emit("pre-require",global,null,this),this},h.setup=function(a){"string"==typeof a&&(a={ui:a});for(var b in a)this[b](a[b]);return this},h.run=function(a){h.options;h.globals("location");var b=g.utils.parseQuery(global.location.search||"");return b.grep&&h.grep(b.grep),b.invert&&h.invert(),g.prototype.run.call(h,function(){global.document&&g.utils.highlightTags("code"),a&&a()})},g.process=e}(),function(){var a,b,c,d,e=[].slice,f=function(a,b){return function(){return a.apply(b,arguments)}},g={}.hasOwnProperty,h=function(a,b){function c(){this.constructor=a}for(var d in b)g.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},i=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};b=window.Morris={},a=jQuery,b.EventEmitter=function(){function a(){}return a.prototype.on=function(a,b){return null==this.handlers&&(this.handlers={}),null==this.handlers[a]&&(this.handlers[a]=[]),this.handlers[a].push(b),this},a.prototype.fire=function(){var a,b,c,d,f,g,h;if(c=arguments[0],a=2<=arguments.length?e.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[c]){for(g=this.handlers[c],h=[],d=0,f=g.length;f>d;d++)b=g[d],h.push(b.apply(null,a));return h}},a}(),b.commas=function(a){var b,c,d,e;return null!=a?(d=0>a?"-":"",b=Math.abs(a),c=Math.floor(b).toFixed(0),d+=c.replace(/(?=(?:\d{3})+$)(?!^)/g,","),e=b.toString(),e.length>c.length&&(d+=e.slice(c.length)),d):"-"},b.pad2=function(a){return(10>a?"0":"")+a},b.Grid=function(c){function d(b){this.resizeHandler=f(this.resizeHandler,this);var c=this;if(this.el=a("string"==typeof b.element?document.getElementById(b.element):b.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=a.extend({},this.gridDefaults,this.defaults||{},b),"string"==typeof this.options.units&&(this.options.postUnits=b.units),this.raphael=new Raphael(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(a){var b,d,e,f,g;return d=c.el.offset(),g=a.pageX-d.left,c.selectFrom?(b=c.data[c.hitTest(Math.min(g,c.selectFrom))]._x,e=c.data[c.hitTest(Math.max(g,c.selectFrom))]._x,f=e-b,c.selectionRect.attr({x:b,width:f})):c.fire("hovermove",g,a.pageY-d.top)}),this.el.bind("mouseleave",function(){return c.selectFrom&&(c.selectionRect.hide(),c.selectFrom=null),c.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(a){var b,d;return d=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],b=c.el.offset(),c.fire("hover",d.pageX-b.left,d.pageY-b.top),d}),this.el.bind("click",function(a){var b;return b=c.el.offset(),c.fire("gridclick",a.pageX-b.left,a.pageY-b.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(a){var b;return b=c.el.offset(),c.startRange(a.pageX-b.left)}),this.el.bind("mouseup",function(a){var b;return b=c.el.offset(),c.endRange(a.pageX-b.left),c.fire("hovermove",a.pageX-b.left,a.pageY-b.top)})),this.options.resize&&a(window).bind("resize",function(){return null!=c.timeoutId&&window.clearTimeout(c.timeoutId),c.timeoutId=window.setTimeout(c.resizeHandler,100)}),this.postInit&&this.postInit()}return h(d,c),d.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},d.prototype.setData=function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r;return null==c&&(c=!0),this.options.data=a,null==a||0===a.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(o=this.cumulative?0:null,p=this.cumulative?0:null,this.options.goals.length>0&&(h=Math.min.apply(Math,this.options.goals),g=Math.max.apply(Math,this.options.goals),p=null!=p?Math.min(p,h):h,o=null!=o?Math.max(o,g):g),this.data=function(){var c,d,g;for(g=[],f=c=0,d=a.length;d>c;f=++c)j=a[f],i={src:j},i.label=j[this.options.xkey],this.options.parseTime?(i.x=b.parseDate(i.label),this.options.dateFormat?i.label=this.options.dateFormat(i.x):"number"==typeof i.label&&(i.label=new Date(i.label).toString())):(i.x=f,this.options.xLabelFormat&&(i.label=this.options.xLabelFormat(i))),l=0,i.y=function(){var a,b,c,d;for(c=this.options.ykeys,d=[],e=a=0,b=c.length;b>a;e=++a)n=c[e],q=j[n],"string"==typeof q&&(q=parseFloat(q)),null!=q&&"number"!=typeof q&&(q=null),null!=q&&(this.cumulative?l+=q:null!=o?(o=Math.max(q,o),p=Math.min(q,p)):o=p=q),this.cumulative&&null!=l&&(o=Math.max(l,o),p=Math.min(l,p)),d.push(q);return d}.call(this),g.push(i);return g}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(a,b){return(a.x>b.x)-(b.x>a.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.events=this.options.parseTime?function(){var a,c,e,f;for(e=this.options.events,f=[],a=0,c=e.length;c>a;a++)d=e[a],f.push(b.parseDate(d));return f}.call(this):this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",p),this.ymax=this.yboundary("max",o),this.ymin===this.ymax&&(p&&(this.ymin-=1),this.ymax+=1),((r=this.options.axes)===!0||"both"===r||"y"===r||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(k=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var a,b,c,d;for(d=[],m=a=b=this.ymin,c=this.ymax;k>0?c>=a:a>=c;m=a+=k)d.push(m);return d}.call(this))),this.dirty=!0,c?this.redraw():void 0)},d.prototype.yboundary=function(a,b){var c,d;return c=this.options["y"+a],"string"==typeof c?"auto"===c.slice(0,4)?c.length>5?(d=parseInt(c.slice(5),10),null==b?d:Math[a](b,d)):null!=b?b:0:parseInt(c,10):c},d.prototype.autoGridLines=function(a,b,c){var d,e,f,g,h,i,j,k,l;return h=b-a,l=Math.floor(Math.log(h)/Math.log(10)),j=Math.pow(10,l),e=Math.floor(a/j)*j,d=Math.ceil(b/j)*j,i=(d-e)/(c-1),1===j&&i>1&&Math.ceil(i)!==i&&(i=Math.ceil(i),d=e+i*(c-1)),0>e&&d>0&&(e=Math.floor(a/i)*i,d=Math.ceil(b/i)*i),1>i?(g=Math.floor(Math.log(i)/Math.log(10)),f=function(){var a,b;for(b=[],k=a=e;i>0?d>=a:a>=d;k=a+=i)b.push(parseFloat(k.toFixed(1-g)));return b}()):f=function(){var a,b;for(b=[],k=a=e;i>0?d>=a:a>=d;k=a+=i)b.push(k);return b}(),f},d.prototype._calc=function(){var a,b,c,d,e,f,g,h;return e=this.el.width(),c=this.el.height(),(this.elementWidth!==e||this.elementHeight!==c||this.dirty)&&(this.elementWidth=e,this.elementHeight=c,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((g=this.options.axes)===!0||"both"===g||"y"===g)&&(f=function(){var a,c,d,e;for(d=this.grid,e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(this.measureText(this.yAxisFormat(b)).width);return e}.call(this),this.left+=Math.max.apply(Math,f)),((h=this.options.axes)===!0||"both"===h||"x"===h)&&(a=function(){var a,b,c;for(c=[],d=a=0,b=this.data.length;b>=0?b>a:a>b;d=b>=0?++a:--a)c.push(this.measureText(this.data[d].text,-this.options.xLabelAngle).height);return c}.call(this),this.bottom-=Math.max.apply(Math,a)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},d.prototype.transY=function(a){return this.bottom-(a-this.ymin)*this.dy},d.prototype.transX=function(a){return 1===this.data.length?(this.left+this.right)/2:this.left+(a-this.xmin)*this.dx},d.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this._draw?this._draw():void 0},d.prototype.measureText=function(a,b){var c,d;return null==b&&(b=0),d=this.raphael.text(100,100,a).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(b),c=d.getBBox(),d.remove(),c},d.prototype.yAxisFormat=function(a){return this.yLabelFormat(a)},d.prototype.yLabelFormat=function(a){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(a):""+this.options.preUnits+b.commas(a)+this.options.postUnits},d.prototype.drawGrid=function(){var a,b,c,d,e,f,g,h;if(this.options.grid!==!1||(e=this.options.axes)===!0||"both"===e||"y"===e){for(f=this.grid,h=[],c=0,d=f.length;d>c;c++)a=f[c],b=this.transY(a),((g=this.options.axes)===!0||"both"===g||"y"===g)&&this.drawYAxisLabel(this.left-this.options.padding/2,b,this.yAxisFormat(a)),h.push(this.options.grid?this.drawGridLine("M"+this.left+","+b+"H"+(this.left+this.width)):void 0);return h}},d.prototype.drawGoals=function(){var a,b,c,d,e,f,g;for(f=this.options.goals,g=[],c=d=0,e=f.length;e>d;c=++d)b=f[c],a=this.options.goalLineColors[c%this.options.goalLineColors.length],g.push(this.drawGoal(b,a));return g},d.prototype.drawEvents=function(){var a,b,c,d,e,f,g;for(f=this.events,g=[],c=d=0,e=f.length;e>d;c=++d)b=f[c],a=this.options.eventLineColors[c%this.options.eventLineColors.length],g.push(this.drawEvent(b,a));return g},d.prototype.drawGoal=function(a,b){return this.raphael.path("M"+this.left+","+this.transY(a)+"H"+this.right).attr("stroke",b).attr("stroke-width",this.options.goalStrokeWidth)},d.prototype.drawEvent=function(a,b){return this.raphael.path("M"+this.transX(a)+","+this.bottom+"V"+this.top).attr("stroke",b).attr("stroke-width",this.options.eventStrokeWidth)},d.prototype.drawYAxisLabel=function(a,b,c){return this.raphael.text(a,b,c).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},d.prototype.drawGridLine=function(a){return this.raphael.path(a).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},d.prototype.startRange=function(a){return this.hover.hide(),this.selectFrom=a,this.selectionRect.attr({x:a,width:0}).show()},d.prototype.endRange=function(a){var b,c;return this.selectFrom?(c=Math.min(this.selectFrom,a),b=Math.max(this.selectFrom,a),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(c)].x,end:this.data[this.hitTest(b)].x}),this.selectFrom=null):void 0},d.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},d}(b.EventEmitter),b.parseDate=function(a){var b,c,d,e,f,g,h,i,j,k,l;return"number"==typeof a?a:(c=a.match(/^(\d+) Q(\d)$/),e=a.match(/^(\d+)-(\d+)$/),f=a.match(/^(\d+)-(\d+)-(\d+)$/),h=a.match(/^(\d+) W(\d+)$/),i=a.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),j=a.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),c?new Date(parseInt(c[1],10),3*parseInt(c[2],10)-1,1).getTime():e?new Date(parseInt(e[1],10),parseInt(e[2],10)-1,1).getTime():f?new Date(parseInt(f[1],10),parseInt(f[2],10)-1,parseInt(f[3],10)).getTime():h?(k=new Date(parseInt(h[1],10),0,1),4!==k.getDay()&&k.setMonth(0,1+(4-k.getDay()+7)%7),k.getTime()+6048e5*parseInt(h[2],10)):i?i[6]?(g=0,"Z"!==i[6]&&(g=60*parseInt(i[8],10)+parseInt(i[9],10),"+"===i[7]&&(g=0-g)),Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)+g)):new Date(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)).getTime():j?(l=parseFloat(j[6]),b=Math.floor(l),d=Math.round(1e3*(l-b)),j[8]?(g=0,"Z"!==j[8]&&(g=60*parseInt(j[10],10)+parseInt(j[11],10),"+"===j[9]&&(g=0-g)),Date.UTC(parseInt(j[1],10),parseInt(j[2],10)-1,parseInt(j[3],10),parseInt(j[4],10),parseInt(j[5],10)+g,b,d)):new Date(parseInt(j[1],10),parseInt(j[2],10)-1,parseInt(j[3],10),parseInt(j[4],10),parseInt(j[5],10),b,d).getTime()):new Date(parseInt(a,10),0,1).getTime())},b.Hover=function(){function c(c){null==c&&(c={}),this.options=a.extend({},b.Hover.defaults,c),this.el=a("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return c.defaults={"class":"morris-hover morris-default-style"},c.prototype.update=function(a,b,c){return this.html(a),this.show(),this.moveTo(b,c)},c.prototype.html=function(a){return this.el.html(a)},c.prototype.moveTo=function(a,b){var c,d,e,f,g,h;return g=this.options.parent.innerWidth(),f=this.options.parent.innerHeight(),d=this.el.outerWidth(),c=this.el.outerHeight(),e=Math.min(Math.max(0,a-d/2),g-d),null!=b?(h=b-c-10,0>h&&(h=b+10,h+c>f&&(h=f/2-c/2))):h=f/2-c/2,this.el.css({left:e+"px",top:parseInt(h)+"px"})},c.prototype.show=function(){return this.el.show()},c.prototype.hide=function(){return this.el.hide()},c}(),b.Line=function(a){function c(a){return this.hilight=f(this.hilight,this),this.onHoverOut=f(this.onHoverOut,this),this.onHoverMove=f(this.onHoverMove,this),this.onGridClick=f(this.onGridClick,this),this instanceof b.Line?void c.__super__.constructor.call(this,a):new b.Line(a)}return h(c,a),c.prototype.init=function(){return"always"!==this.options.hideHover?(this.hover=new b.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},c.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,continuousLine:!0,hideHover:!1},c.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},c.prototype.calcPoints=function(){var a,b,c,d,e,f;for(e=this.data,f=[],c=0,d=e.length;d>c;c++)a=e[c],a._x=this.transX(a.x),a._y=function(){var c,d,e,f;for(e=a.y,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(null!=b?this.transY(b):b);return f}.call(this),f.push(a._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var c,d,e,f;for(e=a._y,f=[],c=0,d=e.length;d>c;c++)b=e[c],null!=b&&f.push(b);return f}())));return f},c.prototype.hitTest=function(a){var b,c,d,e,f;if(0===this.data.length)return null;for(f=this.data.slice(1),b=d=0,e=f.length;e>d&&(c=f[b],!(a<(c._x+this.data[b]._x)/2));b=++d);return b},c.prototype.onGridClick=function(a,b){var c;return c=this.hitTest(a),this.fire("click",c,this.data[c].src,a,b)},c.prototype.onHoverMove=function(a){var b;return b=this.hitTest(a),this.displayHoverForRow(b)},c.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.displayHoverForRow(null):void 0},c.prototype.displayHoverForRow=function(a){var b;return null!=a?((b=this.hover).update.apply(b,this.hoverContentForRow(a)),this.hilight(a)):(this.hover.hide(),this.hilight())},c.prototype.hoverContentForRow=function(a){var b,c,d,e,f,g,h;for(d=this.data[a],b="<div class='morris-hover-row-label'>"+d.label+"</div>",h=d.y,c=f=0,g=h.length;g>f;c=++f)e=h[c],b+="<div class='morris-hover-point' style='color: "+this.colorFor(d,c,"label")+"'>\n  "+this.options.labels[c]+":\n  "+this.yLabelFormat(e)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(b=this.options.hoverCallback(a,this.options,b,d.src)),[b,d._x,d._ymax]},c.prototype.generatePaths=function(){var a,c,d,e,f;return this.paths=function(){var g,h,j,k;for(k=[],d=g=0,h=this.options.ykeys.length;h>=0?h>g:g>h;d=h>=0?++g:--g)f="boolean"==typeof this.options.smooth?this.options.smooth:(j=this.options.ykeys[d],i.call(this.options.smooth,j)>=0),c=function(){var a,b,c,f;for(c=this.data,f=[],a=0,b=c.length;b>a;a++)e=c[a],void 0!==e._y[d]&&f.push({x:e._x,y:e._y[d]});return f}.call(this),this.options.continuousLine&&(c=function(){var b,d,e;for(e=[],b=0,d=c.length;d>b;b++)a=c[b],null!==a.y&&e.push(a);return e}()),k.push(c.length>1?b.Line.createPath(c,f,this.bottom):null);return k}.call(this)},c.prototype._draw=function(){var a;return((a=this.options.axes)===!0||"both"===a||"x"===a)&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},c.prototype.drawXAxis=function(){var a,c,d,e,f,g,h,i,j,k,l=this;for(h=this.bottom+this.options.padding/2,f=null,e=null,a=function(a,b){var c,d,g,i,j;return c=l.drawXAxisLabel(l.transX(b),h,a),j=c.getBBox(),c.transform("r"+-l.options.xLabelAngle),d=c.getBBox(),c.transform("t0,"+d.height/2+"..."),0!==l.options.xLabelAngle&&(i=-.5*j.width*Math.cos(l.options.xLabelAngle*Math.PI/180),c.transform("t"+i+",0...")),d=c.getBBox(),(null==f||f>=d.x+d.width||null!=e&&e>=d.x)&&d.x>=0&&d.x+d.width<l.el.width()?(0!==l.options.xLabelAngle&&(g=1.25*l.options.gridTextSize/Math.sin(l.options.xLabelAngle*Math.PI/180),e=d.x-g),f=d.x-l.options.xLabelMargin):c.remove()},d=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:b.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var a,b,c,d;for(c=this.data,d=[],a=0,b=c.length;b>a;a++)g=c[a],d.push([g.label,g.x]);return d}.call(this),d.reverse(),k=[],i=0,j=d.length;j>i;i++)c=d[i],k.push(a(c[0],c[1]));return k},c.prototype.drawSeries=function(){var a,b,c,d,e,f;for(this.seriesPoints=[],a=b=d=this.options.ykeys.length-1;0>=d?0>=b:b>=0;a=0>=d?++b:--b)this._drawLineFor(a);for(f=[],a=c=e=this.options.ykeys.length-1;0>=e?0>=c:c>=0;a=0>=e?++c:--c)f.push(this._drawPointFor(a));return f},c.prototype._drawPointFor=function(a){var b,c,d,e,f,g;for(this.seriesPoints[a]=[],f=this.data,g=[],d=0,e=f.length;e>d;d++)c=f[d],b=null,null!=c._y[a]&&(b=this.drawLinePoint(c._x,c._y[a],this.colorFor(c,a,"point"),a)),g.push(this.seriesPoints[a].push(b));return g},c.prototype._drawLineFor=function(a){var b;return b=this.paths[a],null!==b?this.drawLinePath(b,this.colorFor(null,a,"line"),a):void 0},c.createPath=function(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r;for(k="",c&&(g=b.Line.gradients(a)),l={y:null},h=q=0,r=a.length;r>q;h=++q)e=a[h],null!=e.y&&(null!=l.y?c?(f=g[h],j=g[h-1],i=(e.x-l.x)/4,m=l.x+i,o=Math.min(d,l.y+i*j),n=e.x-i,p=Math.min(d,e.y-i*f),k+="C"+m+","+o+","+n+","+p+","+e.x+","+e.y):k+="L"+e.x+","+e.y:c&&null==g[h]||(k+="M"+e.x+","+e.y)),l=e;return k},c.gradients=function(a){var b,c,d,e,f,g,h,i;for(c=function(a,b){return(a.y-b.y)/(a.x-b.x)},i=[],d=g=0,h=a.length;h>g;d=++g)b=a[d],null!=b.y?(e=a[d+1]||{y:null},f=a[d-1]||{y:null},i.push(null!=f.y&&null!=e.y?c(f,e):null!=f.y?c(f,b):null!=e.y?c(b,e):null)):i.push(null);return i},c.prototype.hilight=function(a){var b,c,d,e,f;if(null!==this.prevHilight&&this.prevHilight!==a)for(b=c=0,e=this.seriesPoints.length-1;e>=0?e>=c:c>=e;b=e>=0?++c:--c)this.seriesPoints[b][this.prevHilight]&&this.seriesPoints[b][this.prevHilight].animate(this.pointShrinkSeries(b));
if(null!==a&&this.prevHilight!==a)for(b=d=0,f=this.seriesPoints.length-1;f>=0?f>=d:d>=f;b=f>=0?++d:--d)this.seriesPoints[b][a]&&this.seriesPoints[b][a].animate(this.pointGrowSeries(b));return this.prevHilight=a},c.prototype.colorFor=function(a,b,c){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,a,b,c):"point"===c?this.options.pointFillColors[b%this.options.pointFillColors.length]||this.options.lineColors[b%this.options.lineColors.length]:this.options.lineColors[b%this.options.lineColors.length]},c.prototype.drawXAxisLabel=function(a,b,c){return this.raphael.text(a,b,c).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},c.prototype.drawLinePath=function(a,b,c){return this.raphael.path(a).attr("stroke",b).attr("stroke-width",this.lineWidthForSeries(c))},c.prototype.drawLinePoint=function(a,b,c,d){return this.raphael.circle(a,b,this.pointSizeForSeries(d)).attr("fill",c).attr("stroke-width",this.pointStrokeWidthForSeries(d)).attr("stroke",this.pointStrokeColorForSeries(d))},c.prototype.pointStrokeWidthForSeries=function(a){return this.options.pointStrokeWidths[a%this.options.pointStrokeWidths.length]},c.prototype.pointStrokeColorForSeries=function(a){return this.options.pointStrokeColors[a%this.options.pointStrokeColors.length]},c.prototype.lineWidthForSeries=function(a){return this.options.width instanceof Array?this.options.width[a%this.options.width.length]:this.options.width},c.prototype.pointSizeForSeries=function(a){return this.options.pointSize instanceof Array?this.options.pointSize[a%this.options.pointSize.length]:this.options.pointSize},c.prototype.pointGrowSeries=function(a){return Raphael.animation({r:this.pointSizeForSeries(a)+3},25,"linear")},c.prototype.pointShrinkSeries=function(a){return Raphael.animation({r:this.pointSizeForSeries(a)},25,"linear")},c}(b.Grid),b.labelSeries=function(c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;if(j=200*(d-c)/e,i=new Date(c),n=b.LABEL_SPECS[f],void 0===n)for(r=b.AUTO_LABEL_ORDER,p=0,q=r.length;q>p;p++)if(k=r[p],m=b.LABEL_SPECS[k],j>=m.span){n=m;break}for(void 0===n&&(n=b.LABEL_SPECS.second),g&&(n=a.extend({},n,{fmt:g})),h=n.start(i),l=[];(o=h.getTime())<=d;)o>=c&&l.push([n.fmt(h),o]),n.incr(h);return l},c=function(a){return{span:60*a*1e3,start:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours())},fmt:function(a){return""+b.pad2(a.getHours())+":"+b.pad2(a.getMinutes())},incr:function(b){return b.setUTCMinutes(b.getUTCMinutes()+a)}}},d=function(a){return{span:1e3*a,start:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes())},fmt:function(a){return""+b.pad2(a.getHours())+":"+b.pad2(a.getMinutes())+":"+b.pad2(a.getSeconds())},incr:function(b){return b.setUTCSeconds(b.getUTCSeconds()+a)}}},b.LABEL_SPECS={decade:{span:1728e8,start:function(a){return new Date(a.getFullYear()-a.getFullYear()%10,0,1)},fmt:function(a){return""+a.getFullYear()},incr:function(a){return a.setFullYear(a.getFullYear()+10)}},year:{span:1728e7,start:function(a){return new Date(a.getFullYear(),0,1)},fmt:function(a){return""+a.getFullYear()},incr:function(a){return a.setFullYear(a.getFullYear()+1)}},month:{span:24192e5,start:function(a){return new Date(a.getFullYear(),a.getMonth(),1)},fmt:function(a){return""+a.getFullYear()+"-"+b.pad2(a.getMonth()+1)},incr:function(a){return a.setMonth(a.getMonth()+1)}},week:{span:6048e5,start:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},fmt:function(a){return""+a.getFullYear()+"-"+b.pad2(a.getMonth()+1)+"-"+b.pad2(a.getDate())},incr:function(a){return a.setDate(a.getDate()+7)}},day:{span:864e5,start:function(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate())},fmt:function(a){return""+a.getFullYear()+"-"+b.pad2(a.getMonth()+1)+"-"+b.pad2(a.getDate())},incr:function(a){return a.setDate(a.getDate()+1)}},hour:c(60),"30min":c(30),"15min":c(15),"10min":c(10),"5min":c(5),minute:c(1),"30sec":d(30),"15sec":d(15),"10sec":d(10),"5sec":d(5),second:d(1)},b.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],b.Area=function(c){function d(c){var f;return this instanceof b.Area?(f=a.extend({},e,c),this.cumulative=!f.behaveLikeLine,"auto"===f.fillOpacity&&(f.fillOpacity=f.behaveLikeLine?.8:1),void d.__super__.constructor.call(this,f)):new b.Area(c)}var e;return h(d,c),e={fillOpacity:"auto",behaveLikeLine:!1},d.prototype.calcPoints=function(){var a,b,c,d,e,f,g;for(f=this.data,g=[],d=0,e=f.length;e>d;d++)a=f[d],a._x=this.transX(a.x),b=0,a._y=function(){var d,e,f,g;for(f=a.y,g=[],d=0,e=f.length;e>d;d++)c=f[d],this.options.behaveLikeLine?g.push(this.transY(c)):(b+=c||0,g.push(this.transY(b)));return g}.call(this),g.push(a._ymax=Math.max.apply(Math,a._y));return g},d.prototype.drawSeries=function(){var a,b,c,d,e,f,g,h;for(this.seriesPoints=[],b=this.options.behaveLikeLine?function(){f=[];for(var a=0,b=this.options.ykeys.length-1;b>=0?b>=a:a>=b;b>=0?a++:a--)f.push(a);return f}.apply(this):function(){g=[];for(var a=e=this.options.ykeys.length-1;0>=e?0>=a:a>=0;0>=e?a++:a--)g.push(a);return g}.apply(this),h=[],c=0,d=b.length;d>c;c++)a=b[c],this._drawFillFor(a),this._drawLineFor(a),h.push(this._drawPointFor(a));return h},d.prototype._drawFillFor=function(a){var b;return b=this.paths[a],null!==b?(b+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(b,this.fillForSeries(a))):void 0},d.prototype.fillForSeries=function(a){var b;return b=Raphael.rgb2hsl(this.colorFor(this.data[a],a,"line")),Raphael.hsl(b.h,this.options.behaveLikeLine?.9*b.s:.75*b.s,Math.min(.98,this.options.behaveLikeLine?1.2*b.l:1.25*b.l))},d.prototype.drawFilledPath=function(a,b){return this.raphael.path(a).attr("fill",b).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},d}(b.Line),b.Bar=function(c){function d(c){return this.onHoverOut=f(this.onHoverOut,this),this.onHoverMove=f(this.onHoverMove,this),this.onGridClick=f(this.onGridClick,this),this instanceof b.Bar?void d.__super__.constructor.call(this,a.extend({},c,{parseTime:!1})):new b.Bar(c)}return h(d,c),d.prototype.init=function(){return this.cumulative=this.options.stacked,"always"!==this.options.hideHover?(this.hover=new b.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)):void 0},d.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},d.prototype.calc=function(){var a;return this.calcBars(),this.options.hideHover===!1?(a=this.hover).update.apply(a,this.hoverContentForRow(this.data.length-1)):void 0},d.prototype.calcBars=function(){var a,b,c,d,e,f,g;for(f=this.data,g=[],a=d=0,e=f.length;e>d;a=++d)b=f[a],b._x=this.left+this.width*(a+.5)/this.data.length,g.push(b._y=function(){var a,d,e,f;for(e=b.y,f=[],a=0,d=e.length;d>a;a++)c=e[a],f.push(null!=c?this.transY(c):null);return f}.call(this));return g},d.prototype._draw=function(){var a;return((a=this.options.axes)===!0||"both"===a||"x"===a)&&this.drawXAxis(),this.drawSeries()},d.prototype.drawXAxis=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;for(j=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),g=null,f=null,m=[],a=k=0,l=this.data.length;l>=0?l>k:k>l;a=l>=0?++k:--k)h=this.data[this.data.length-1-a],b=this.drawXAxisLabel(h._x,j,h.label),i=b.getBBox(),b.transform("r"+-this.options.xLabelAngle),c=b.getBBox(),b.transform("t0,"+c.height/2+"..."),0!==this.options.xLabelAngle&&(e=-.5*i.width*Math.cos(this.options.xLabelAngle*Math.PI/180),b.transform("t"+e+",0...")),(null==g||g>=c.x+c.width||null!=f&&f>=c.x)&&c.x>=0&&c.x+c.width<this.el.width()?(0!==this.options.xLabelAngle&&(d=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),f=c.x-d),m.push(g=c.x-this.options.xLabelMargin)):m.push(b.remove());return m},d.prototype.drawSeries=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;return c=this.width/this.options.data.length,h=null!=this.options.stacked?1:this.options.ykeys.length,a=(c*this.options.barSizeRatio-this.options.barGap*(h-1))/h,this.options.barSize&&(a=Math.min(a,this.options.barSize)),l=c-a*h-this.options.barGap*(h-1),g=l/2,o=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var h,l,p,q;for(p=this.data,q=[],d=h=0,l=p.length;l>h;d=++h)i=p[d],e=0,q.push(function(){var h,l,p,q;for(p=i._y,q=[],j=h=0,l=p.length;l>h;j=++h)n=p[j],null!==n?(o?(m=Math.min(n,o),b=Math.max(n,o)):(m=n,b=this.bottom),f=this.left+d*c+g,this.options.stacked||(f+=j*(a+this.options.barGap)),k=b-m,this.options.stacked&&(m-=e),this.drawBar(f,m,a,k,this.colorFor(i,j,"bar"),this.options.barOpacity,this.options.barRadius),q.push(e+=k)):q.push(null);return q}.call(this));return q}.call(this)},d.prototype.colorFor=function(a,b,c){var d,e;return"function"==typeof this.options.barColors?(d={x:a.x,y:a.y[b],label:a.label},e={index:b,key:this.options.ykeys[b],label:this.options.labels[b]},this.options.barColors.call(this,d,e,c)):this.options.barColors[b%this.options.barColors.length]},d.prototype.hitTest=function(a){return 0===this.data.length?null:(a=Math.max(Math.min(a,this.right),this.left),Math.min(this.data.length-1,Math.floor((a-this.left)/(this.width/this.data.length))))},d.prototype.onGridClick=function(a,b){var c;return c=this.hitTest(a),this.fire("click",c,this.data[c].src,a,b)},d.prototype.onHoverMove=function(a){var b,c;return b=this.hitTest(a),(c=this.hover).update.apply(c,this.hoverContentForRow(b))},d.prototype.onHoverOut=function(){return this.options.hideHover!==!1?this.hover.hide():void 0},d.prototype.hoverContentForRow=function(a){var b,c,d,e,f,g,h,i;for(d=this.data[a],b="<div class='morris-hover-row-label'>"+d.label+"</div>",i=d.y,c=g=0,h=i.length;h>g;c=++g)f=i[c],b+="<div class='morris-hover-point' style='color: "+this.colorFor(d,c,"label")+"'>\n  "+this.options.labels[c]+":\n  "+this.yLabelFormat(f)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(b=this.options.hoverCallback(a,this.options,b,d.src)),e=this.left+(a+.5)*this.width/this.data.length,[b,e]},d.prototype.drawXAxisLabel=function(a,b,c){var d;return d=this.raphael.text(a,b,c).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},d.prototype.drawBar=function(a,b,c,d,e,f,g){var h,i;return h=Math.max.apply(Math,g),i=0===h||h>d?this.raphael.rect(a,b,c,d):this.raphael.path(this.roundedRect(a,b,c,d,g)),i.attr("fill",e).attr("fill-opacity",f).attr("stroke","none")},d.prototype.roundedRect=function(a,b,c,d,e){return null==e&&(e=[0,0,0,0]),["M",a,e[0]+b,"Q",a,b,a+e[0],b,"L",a+c-e[1],b,"Q",a+c,b,a+c,b+e[1],"L",a+c,b+d-e[2],"Q",a+c,b+d,a+c-e[2],b+d,"L",a+e[3],b+d,"Q",a,b+d,a,b+d-e[3],"Z"]},d}(b.Grid),b.Donut=function(c){function d(c){this.resizeHandler=f(this.resizeHandler,this),this.select=f(this.select,this),this.click=f(this.click,this);var d=this;if(!(this instanceof b.Donut))return new b.Donut(c);if(this.options=a.extend({},this.defaults,c),this.el=a("string"==typeof c.element?document.getElementById(c.element):c.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==c.data&&0!==c.data.length&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&a(window).bind("resize",function(){return null!=d.timeoutId&&window.clearTimeout(d.timeoutId),d.timeoutId=window.setTimeout(d.resizeHandler,100)}),this.setData(c.data))}return h(d,c),d.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:b.commas,resize:!1},d.prototype.redraw=function(){var a,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;for(this.raphael.clear(),c=this.el.width()/2,d=this.el.height()/2,n=(Math.min(c,d)-10)/3,l=0,u=this.values,o=0,r=u.length;r>o;o++)m=u[o],l+=m;for(i=5/(2*n),a=1.9999*Math.PI-i*this.data.length,g=0,f=0,this.segments=[],v=this.values,e=p=0,s=v.length;s>p;e=++p)m=v[e],j=g+i+a*(m/l),k=new b.DonutSegment(c,d,2*n,n,g,j,this.data[e].color||this.options.colors[f%this.options.colors.length],this.options.backgroundColor,f,this.raphael),k.render(),this.segments.push(k),k.on("hover",this.select),k.on("click",this.click),g=j,f+=1;for(this.text1=this.drawEmptyDonutLabel(c,d-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(c,d+10,this.options.labelColor,14),h=Math.max.apply(Math,this.values),f=0,w=this.values,x=[],q=0,t=w.length;t>q;q++){if(m=w[q],m===h){this.select(f);break}x.push(f+=1)}return x},d.prototype.setData=function(a){var b;return this.data=a,this.values=function(){var a,c,d,e;for(d=this.data,e=[],a=0,c=d.length;c>a;a++)b=d[a],e.push(parseFloat(b.value));return e}.call(this),this.redraw()},d.prototype.click=function(a){return this.fire("click",a,this.data[a])},d.prototype.select=function(a){var b,c,d,e,f,g;for(g=this.segments,e=0,f=g.length;f>e;e++)c=g[e],c.deselect();return d=this.segments[a],d.select(),b=this.data[a],this.setLabels(b.label,this.options.formatter(b.value,b))},d.prototype.setLabels=function(a,b){var c,d,e,f,g,h,i,j;return c=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,f=1.8*c,e=c/2,d=c/3,this.text1.attr({text:a,transform:""}),g=this.text1.getBBox(),h=Math.min(f/g.width,e/g.height),this.text1.attr({transform:"S"+h+","+h+","+(g.x+g.width/2)+","+(g.y+g.height)}),this.text2.attr({text:b,transform:""}),i=this.text2.getBBox(),j=Math.min(f/i.width,d/i.height),this.text2.attr({transform:"S"+j+","+j+","+(i.x+i.width/2)+","+i.y})},d.prototype.drawEmptyDonutLabel=function(a,b,c,d,e){var f;return f=this.raphael.text(a,b,"").attr("font-size",d).attr("fill",c),null!=e&&f.attr("font-weight",e),f},d.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},d}(b.EventEmitter),b.DonutSegment=function(a){function b(a,b,c,d,e,g,h,i,j,k){this.cx=a,this.cy=b,this.inner=c,this.outer=d,this.color=h,this.backgroundColor=i,this.index=j,this.raphael=k,this.deselect=f(this.deselect,this),this.select=f(this.select,this),this.sin_p0=Math.sin(e),this.cos_p0=Math.cos(e),this.sin_p1=Math.sin(g),this.cos_p1=Math.cos(g),this.is_long=g-e>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return h(b,a),b.prototype.calcArcPoints=function(a){return[this.cx+a*this.sin_p0,this.cy+a*this.cos_p0,this.cx+a*this.sin_p1,this.cy+a*this.cos_p1]},b.prototype.calcSegment=function(a,b){var c,d,e,f,g,h,i,j,k,l;return k=this.calcArcPoints(a),c=k[0],e=k[1],d=k[2],f=k[3],l=this.calcArcPoints(b),g=l[0],i=l[1],h=l[2],j=l[3],"M"+c+","+e+("A"+a+","+a+",0,"+this.is_long+",0,"+d+","+f)+("L"+h+","+j)+("A"+b+","+b+",0,"+this.is_long+",1,"+g+","+i)+"Z"},b.prototype.calcArc=function(a){var b,c,d,e,f;return f=this.calcArcPoints(a),b=f[0],d=f[1],c=f[2],e=f[3],"M"+b+","+d+("A"+a+","+a+",0,"+this.is_long+",0,"+c+","+e)},b.prototype.render=function(){var a=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return a.fire("hover",a.index)},function(){return a.fire("click",a.index)})},b.prototype.drawDonutArc=function(a,b){return this.raphael.path(a).attr({stroke:b,"stroke-width":2,opacity:0})},b.prototype.drawDonutSegment=function(a,b,c,d,e){return this.raphael.path(a).attr({fill:b,stroke:c,"stroke-width":3}).hover(d).click(e)},b.prototype.select=function(){return this.selected?void 0:(this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0)},b.prototype.deselect=function(){return this.selected?(this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1):void 0},b}(b.EventEmitter)}.call(this),function(a){a.color={},a.color.make=function(b,c,d,e){var f={};return f.r=b||0,f.g=c||0,f.b=d||0,f.a=null!=e?e:1,f.add=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]+=b;return f.normalize()},f.scale=function(a,b){for(var c=0;c<a.length;++c)f[a.charAt(c)]*=b;return f.normalize()},f.toString=function(){return f.a>=1?"rgb("+[f.r,f.g,f.b].join(",")+")":"rgba("+[f.r,f.g,f.b,f.a].join(",")+")"},f.normalize=function(){function a(a,b,c){return a>b?a:b>c?c:b}return f.r=a(0,parseInt(f.r),255),f.g=a(0,parseInt(f.g),255),f.b=a(0,parseInt(f.b),255),f.a=a(0,f.a,1),f},f.clone=function(){return a.color.make(f.r,f.b,f.g,f.a)},f.normalize()},a.color.extract=function(b,c){var d;do{if(d=b.css(c).toLowerCase(),""!=d&&"transparent"!=d)break;b=b.parent()}while(b.length&&!a.nodeName(b.get(0),"body"));return"rgba(0, 0, 0, 0)"==d&&(d="transparent"),a.color.parse(d)},a.color.parse=function(c){var d,e=a.color.make;if(d=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10));if(d=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(parseInt(d[1],10),parseInt(d[2],10),parseInt(d[3],10),parseFloat(d[4]));if(d=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]));if(d=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(c))return e(2.55*parseFloat(d[1]),2.55*parseFloat(d[2]),2.55*parseFloat(d[3]),parseFloat(d[4]));if(d=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(c))return e(parseInt(d[1],16),parseInt(d[2],16),parseInt(d[3],16));if(d=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(c))return e(parseInt(d[1]+d[1],16),parseInt(d[2]+d[2],16),parseInt(d[3]+d[3],16));var f=a.trim(c).toLowerCase();return"transparent"==f?e(255,255,255,0):(d=b[f]||[0,0,0],e(d[0],d[1],d[2]))};var b={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(jQuery),function(a){function b(b,c){var d=c.children("."+b)[0];if(null==d&&(d=document.createElement("canvas"),d.className=b,a(d).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(c),!d.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");d=window.G_vmlCanvasManager.initElement(d)}this.element=d;var e=this.context=d.getContext("2d"),f=window.devicePixelRatio||1,g=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;this.pixelRatio=f/g,this.resize(c.width(),c.height()),this.textContainer=null,this.text={},this._textCache={}}function c(c,e,f,g){function h(a,b){b=[qb].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}function i(){for(var c={Canvas:b},d=0;d<g.length;++d){var e=g[d];e.init(qb,c),e.options&&a.extend(!0,eb,e.options)}}function j(b){a.extend(!0,eb,b),b&&b.colors&&(eb.colors=b.colors),null==eb.xaxis.color&&(eb.xaxis.color=a.color.parse(eb.grid.color).scale("a",.22).toString()),null==eb.yaxis.color&&(eb.yaxis.color=a.color.parse(eb.grid.color).scale("a",.22).toString()),null==eb.xaxis.tickColor&&(eb.xaxis.tickColor=eb.grid.tickColor||eb.xaxis.color),null==eb.yaxis.tickColor&&(eb.yaxis.tickColor=eb.grid.tickColor||eb.yaxis.color),null==eb.grid.borderColor&&(eb.grid.borderColor=eb.grid.color),null==eb.grid.tickColor&&(eb.grid.tickColor=a.color.parse(eb.grid.color).scale("a",.22).toString());var d,e,f,g=c.css("font-size"),i=g?+g.replace("px",""):13,j={style:c.css("font-style"),size:Math.round(.8*i),variant:c.css("font-variant"),weight:c.css("font-weight"),family:c.css("font-family")};for(f=eb.xaxes.length||1,d=0;f>d;++d)e=eb.xaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},eb.xaxis,e),eb.xaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(f=eb.yaxes.length||1,d=0;f>d;++d)e=eb.yaxes[d],e&&!e.tickColor&&(e.tickColor=e.color),e=a.extend(!0,{},eb.yaxis,e),eb.yaxes[d]=e,e.font&&(e.font=a.extend({},j,e.font),e.font.color||(e.font.color=e.color),e.font.lineHeight||(e.font.lineHeight=Math.round(1.15*e.font.size)));for(eb.xaxis.noTicks&&null==eb.xaxis.ticks&&(eb.xaxis.ticks=eb.xaxis.noTicks),eb.yaxis.noTicks&&null==eb.yaxis.ticks&&(eb.yaxis.ticks=eb.yaxis.noTicks),eb.x2axis&&(eb.xaxes[1]=a.extend(!0,{},eb.xaxis,eb.x2axis),eb.xaxes[1].position="top",null==eb.x2axis.min&&(eb.xaxes[1].min=null),null==eb.x2axis.max&&(eb.xaxes[1].max=null)),eb.y2axis&&(eb.yaxes[1]=a.extend(!0,{},eb.yaxis,eb.y2axis),eb.yaxes[1].position="right",null==eb.y2axis.min&&(eb.yaxes[1].min=null),null==eb.y2axis.max&&(eb.yaxes[1].max=null)),eb.grid.coloredAreas&&(eb.grid.markings=eb.grid.coloredAreas),eb.grid.coloredAreasColor&&(eb.grid.markingsColor=eb.grid.coloredAreasColor),eb.lines&&a.extend(!0,eb.series.lines,eb.lines),eb.points&&a.extend(!0,eb.series.points,eb.points),eb.bars&&a.extend(!0,eb.series.bars,eb.bars),null!=eb.shadowSize&&(eb.series.shadowSize=eb.shadowSize),null!=eb.highlightColor&&(eb.series.highlightColor=eb.highlightColor),d=0;d<eb.xaxes.length;++d)q(kb,d+1).options=eb.xaxes[d];for(d=0;d<eb.yaxes.length;++d)q(lb,d+1).options=eb.yaxes[d];for(var k in pb)eb.hooks[k]&&eb.hooks[k].length&&(pb[k]=pb[k].concat(eb.hooks[k]));h(pb.processOptions,[eb])}function k(a){db=l(a),r(),s()}function l(b){for(var c=[],d=0;d<b.length;++d){var e=a.extend(!0,{},eb.series);null!=b[d].data?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d],c.push(e)}return c}function m(a,b){var c=a[b+"axis"];return"object"==typeof c&&(c=c.n),"number"!=typeof c&&(c=1),c}function n(){return a.grep(kb.concat(lb),function(a){return a})}function o(a){var b,c,d={};for(b=0;b<kb.length;++b)c=kb[b],c&&c.used&&(d["x"+c.n]=c.c2p(a.left));for(b=0;b<lb.length;++b)c=lb[b],c&&c.used&&(d["y"+c.n]=c.c2p(a.top));return void 0!==d.x1&&(d.x=d.x1),void 0!==d.y1&&(d.y=d.y1),d}function p(a){var b,c,d,e={};for(b=0;b<kb.length;++b)if(c=kb[b],c&&c.used&&(d="x"+c.n,null==a[d]&&1==c.n&&(d="x"),null!=a[d])){e.left=c.p2c(a[d]);break}for(b=0;b<lb.length;++b)if(c=lb[b],c&&c.used&&(d="y"+c.n,null==a[d]&&1==c.n&&(d="y"),null!=a[d])){e.top=c.p2c(a[d]);break}return e}function q(b,c){return b[c-1]||(b[c-1]={n:c,direction:b==kb?"x":"y",options:a.extend(!0,{},b==kb?eb.xaxis:eb.yaxis)}),b[c-1]}function r(){var b,c=db.length,d=-1;for(b=0;b<db.length;++b){var e=db[b].color;null!=e&&(c--,"number"==typeof e&&e>d&&(d=e))}d>=c&&(c=d+1);var f,g=[],h=eb.colors,i=h.length,j=0;for(b=0;c>b;b++)f=a.color.parse(h[b%i]||"#666"),b%i==0&&b&&(j=j>=0?.5>j?-j-.2:0:-j),g[b]=f.scale("rgb",1+j);var k,l=0;for(b=0;b<db.length;++b){if(k=db[b],null==k.color?(k.color=g[l].toString(),++l):"number"==typeof k.color&&(k.color=g[k.color].toString()),null==k.lines.show){var n,o=!0;for(n in k)if(k[n]&&k[n].show){o=!1;break}o&&(k.lines.show=!0)}null==k.lines.zero&&(k.lines.zero=!!k.lines.fill),k.xaxis=q(kb,m(k,"x")),k.yaxis=q(lb,m(k,"y"))}}function s(){function b(a,b,c){b<a.datamin&&b!=-s&&(a.datamin=b),c>a.datamax&&c!=s&&(a.datamax=c)}var c,d,e,f,g,i,j,k,l,m,o,p,q=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,s=Number.MAX_VALUE;for(a.each(n(),function(a,b){b.datamin=q,b.datamax=r,b.used=!1}),c=0;c<db.length;++c)g=db[c],g.datapoints={points:[]},h(pb.processRawData,[g,g.data,g.datapoints]);for(c=0;c<db.length;++c){if(g=db[c],o=g.data,p=g.datapoints.format,!p){if(p=[],p.push({x:!0,number:!0,required:!0}),p.push({y:!0,number:!0,required:!0}),g.bars.show||g.lines.show&&g.lines.fill){var t=!!(g.bars.show&&g.bars.zero||g.lines.show&&g.lines.zero);p.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:t}),g.bars.horizontal&&(delete p[p.length-1].y,p[p.length-1].x=!0)}g.datapoints.format=p}if(null==g.datapoints.pointsize){g.datapoints.pointsize=p.length,j=g.datapoints.pointsize,i=g.datapoints.points;var u=g.lines.show&&g.lines.steps;for(g.xaxis.used=g.yaxis.used=!0,d=e=0;d<o.length;++d,e+=j){m=o[d];var v=null==m;if(!v)for(f=0;j>f;++f)k=m[f],l=p[f],l&&(l.number&&null!=k&&(k=+k,isNaN(k)?k=null:1/0==k?k=s:k==-1/0&&(k=-s)),null==k&&(l.required&&(v=!0),null!=l.defaultValue&&(k=l.defaultValue))),i[e+f]=k;if(v)for(f=0;j>f;++f)k=i[e+f],null!=k&&(l=p[f],l.autoscale!==!1&&(l.x&&b(g.xaxis,k,k),l.y&&b(g.yaxis,k,k))),i[e+f]=null;else if(u&&e>0&&null!=i[e-j]&&i[e-j]!=i[e]&&i[e-j+1]!=i[e+1]){for(f=0;j>f;++f)i[e+j+f]=i[e+f];i[e+1]=i[e-j+1],e+=j}}}}for(c=0;c<db.length;++c)g=db[c],h(pb.processDatapoints,[g,g.datapoints]);for(c=0;c<db.length;++c){g=db[c],i=g.datapoints.points,j=g.datapoints.pointsize,p=g.datapoints.format;var w=q,x=q,y=r,z=r;for(d=0;d<i.length;d+=j)if(null!=i[d])for(f=0;j>f;++f)k=i[d+f],l=p[f],l&&l.autoscale!==!1&&k!=s&&k!=-s&&(l.x&&(w>k&&(w=k),k>y&&(y=k)),l.y&&(x>k&&(x=k),k>z&&(z=k)));if(g.bars.show){var A;switch(g.bars.align){case"left":A=0;break;case"right":A=-g.bars.barWidth;break;default:A=-g.bars.barWidth/2}g.bars.horizontal?(x+=A,z+=A+g.bars.barWidth):(w+=A,y+=A+g.bars.barWidth)}b(g.xaxis,w,y),b(g.yaxis,x,z)}a.each(n(),function(a,b){b.datamin==q&&(b.datamin=null),b.datamax==r&&(b.datamax=null)})}function t(){c.css("padding",0).children().filter(function(){return!a(this).hasClass("flot-overlay")&&!a(this).hasClass("flot-base")}).remove(),"static"==c.css("position")&&c.css("position","relative"),fb=new b("flot-base",c),gb=new b("flot-overlay",c),ib=fb.context,jb=gb.context,hb=a(gb.element).unbind();var d=c.data("plot");d&&(d.shutdown(),gb.clear()),c.data("plot",qb)}function u(){eb.grid.hoverable&&(hb.mousemove(T),hb.bind("mouseleave",U)),eb.grid.clickable&&hb.click(V),h(pb.bindEvents,[hb])}function v(){sb&&clearTimeout(sb),hb.unbind("mousemove",T),hb.unbind("mouseleave",U),hb.unbind("click",V),h(pb.shutdown,[hb])}function w(a){function b(a){return a}var c,d,e=a.options.transform||b,f=a.options.inverseTransform;"x"==a.direction?(c=a.scale=nb/Math.abs(e(a.max)-e(a.min)),d=Math.min(e(a.max),e(a.min))):(c=a.scale=ob/Math.abs(e(a.max)-e(a.min)),c=-c,d=Math.max(e(a.max),e(a.min))),a.p2c=e==b?function(a){return(a-d)*c}:function(a){return(e(a)-d)*c},a.c2p=f?function(a){return f(d+a/c)}:function(a){return d+a/c}}function x(a){for(var b=a.options,c=a.ticks||[],d=b.labelWidth||0,e=b.labelHeight||0,f=d||("x"==a.direction?Math.floor(fb.width/(c.length||1)):null),g=a.direction+"Axis "+a.direction+a.n+"Axis",h="flot-"+a.direction+"-axis flot-"+a.direction+a.n+"-axis "+g,i=b.font||"flot-tick-label tickLabel",j=0;j<c.length;++j){var k=c[j];if(k.label){var l=fb.getTextInfo(h,k.label,i,null,f);d=Math.max(d,l.width),e=Math.max(e,l.height)}}a.labelWidth=b.labelWidth||d,a.labelHeight=b.labelHeight||e}function y(b){var c=b.labelWidth,d=b.labelHeight,e=b.options.position,f="x"===b.direction,g=b.options.tickLength,h=eb.grid.axisMargin,i=eb.grid.labelMargin,j=!0,k=!0,l=!0,m=!1;a.each(f?kb:lb,function(a,c){c&&(c.show||c.reserveSpace)&&(c===b?m=!0:c.options.position===e&&(m?k=!1:j=!1),m||(l=!1))}),k&&(h=0),null==g&&(g=l?"full":5),isNaN(+g)||(i+=+g),f?(d+=i,"bottom"==e?(mb.bottom+=d+h,b.box={top:fb.height-mb.bottom,height:d}):(b.box={top:mb.top+h,height:d},mb.top+=d+h)):(c+=i,"left"==e?(b.box={left:mb.left+h,width:c},mb.left+=c+h):(mb.right+=c+h,b.box={left:fb.width-mb.right,width:c})),b.position=e,b.tickLength=g,b.box.padding=i,b.innermost=j}function z(a){"x"==a.direction?(a.box.left=mb.left-a.labelWidth/2,a.box.width=fb.width-mb.left-mb.right+a.labelWidth):(a.box.top=mb.top-a.labelHeight/2,a.box.height=fb.height-mb.bottom-mb.top+a.labelHeight)}function A(){var b,c=eb.grid.minBorderMargin;if(null==c)for(c=0,b=0;b<db.length;++b)c=Math.max(c,2*(db[b].points.radius+db[b].points.width/2));var d={left:c,right:c,top:c,bottom:c};a.each(n(),function(a,b){b.reserveSpace&&b.ticks&&b.ticks.length&&("x"===b.direction?(d.left=Math.max(d.left,b.labelWidth/2),d.right=Math.max(d.right,b.labelWidth/2)):(d.bottom=Math.max(d.bottom,b.labelHeight/2),d.top=Math.max(d.top,b.labelHeight/2)))}),mb.left=Math.ceil(Math.max(d.left,mb.left)),mb.right=Math.ceil(Math.max(d.right,mb.right)),mb.top=Math.ceil(Math.max(d.top,mb.top)),mb.bottom=Math.ceil(Math.max(d.bottom,mb.bottom))}function B(){var b,c=n(),d=eb.grid.show;for(var e in mb){var f=eb.grid.margin||0;mb[e]="number"==typeof f?f:f[e]||0}h(pb.processOffset,[mb]);for(var e in mb)mb[e]+="object"==typeof eb.grid.borderWidth?d?eb.grid.borderWidth[e]:0:d?eb.grid.borderWidth:0;if(a.each(c,function(a,b){var c=b.options;b.show=null==c.show?b.used:c.show,b.reserveSpace=null==c.reserveSpace?b.show:c.reserveSpace,C(b)}),d){var g=a.grep(c,function(a){return a.show||a.reserveSpace});for(a.each(g,function(a,b){D(b),E(b),F(b,b.ticks),x(b)}),b=g.length-1;b>=0;--b)y(g[b]);A(),a.each(g,function(a,b){z(b)})}nb=fb.width-mb.left-mb.right,ob=fb.height-mb.bottom-mb.top,a.each(c,function(a,b){w(b)}),d&&K(),R()}function C(a){var b=a.options,c=+(null!=b.min?b.min:a.datamin),d=+(null!=b.max?b.max:a.datamax),e=d-c;if(0==e){var f=0==d?1:.01;null==b.min&&(c-=f),(null==b.max||null!=b.min)&&(d+=f)}else{var g=b.autoscaleMargin;null!=g&&(null==b.min&&(c-=e*g,0>c&&null!=a.datamin&&a.datamin>=0&&(c=0)),null==b.max&&(d+=e*g,d>0&&null!=a.datamax&&a.datamax<=0&&(d=0)))}a.min=c,a.max=d}function D(b){var c,e=b.options;c="number"==typeof e.ticks&&e.ticks>0?e.ticks:.3*Math.sqrt("x"==b.direction?fb.width:fb.height);var f=(b.max-b.min)/c,g=-Math.floor(Math.log(f)/Math.LN10),h=e.tickDecimals;null!=h&&g>h&&(g=h);var i,j=Math.pow(10,-g),k=f/j;if(1.5>k?i=1:3>k?(i=2,k>2.25&&(null==h||h>=g+1)&&(i=2.5,++g)):i=7.5>k?5:10,i*=j,null!=e.minTickSize&&i<e.minTickSize&&(i=e.minTickSize),b.delta=f,b.tickDecimals=Math.max(0,null!=h?h:g),b.tickSize=e.tickSize||i,"time"==e.mode&&!b.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(b.tickGenerator||(b.tickGenerator=function(a){var b,c=[],e=d(a.min,a.tickSize),f=0,g=Number.NaN;do b=g,g=e+f*a.tickSize,c.push(g),++f;while(g<a.max&&g!=b);return c},b.tickFormatter=function(a,b){var c=b.tickDecimals?Math.pow(10,b.tickDecimals):1,d=""+Math.round(a*c)/c;if(null!=b.tickDecimals){var e=d.indexOf("."),f=-1==e?0:d.length-e-1;if(f<b.tickDecimals)return(f?d:d+".")+(""+c).substr(1,b.tickDecimals-f)}return d}),a.isFunction(e.tickFormatter)&&(b.tickFormatter=function(a,b){return""+e.tickFormatter(a,b)}),null!=e.alignTicksWithAxis){var l=("x"==b.direction?kb:lb)[e.alignTicksWithAxis-1];if(l&&l.used&&l!=b){var m=b.tickGenerator(b);if(m.length>0&&(null==e.min&&(b.min=Math.min(b.min,m[0])),null==e.max&&m.length>1&&(b.max=Math.max(b.max,m[m.length-1]))),b.tickGenerator=function(a){var b,c,d=[];for(c=0;c<l.ticks.length;++c)b=(l.ticks[c].v-l.min)/(l.max-l.min),b=a.min+b*(a.max-a.min),d.push(b);return d},!b.mode&&null==e.tickDecimals){var n=Math.max(0,-Math.floor(Math.log(b.delta)/Math.LN10)+1),o=b.tickGenerator(b);o.length>1&&/\..*0$/.test((o[1]-o[0]).toFixed(n))||(b.tickDecimals=n)
}}}}function E(b){var c=b.options.ticks,d=[];null==c||"number"==typeof c&&c>0?d=b.tickGenerator(b):c&&(d=a.isFunction(c)?c(b):c);var e,f;for(b.ticks=[],e=0;e<d.length;++e){var g=null,h=d[e];"object"==typeof h?(f=+h[0],h.length>1&&(g=h[1])):f=+h,null==g&&(g=b.tickFormatter(f,b)),isNaN(f)||b.ticks.push({v:f,label:g})}}function F(a,b){a.options.autoscaleMargin&&b.length>0&&(null==a.options.min&&(a.min=Math.min(a.min,b[0].v)),null==a.options.max&&b.length>1&&(a.max=Math.max(a.max,b[b.length-1].v)))}function G(){fb.clear(),h(pb.drawBackground,[ib]);var a=eb.grid;a.show&&a.backgroundColor&&I(),a.show&&!a.aboveData&&J();for(var b=0;b<db.length;++b)h(pb.drawSeries,[ib,db[b]]),L(db[b]);h(pb._draw,[ib]),a.show&&a.aboveData&&J(),fb.render(),X()}function H(a,b){for(var c,d,e,f,g=n(),h=0;h<g.length;++h)if(c=g[h],c.direction==b&&(f=b+c.n+"axis",a[f]||1!=c.n||(f=b+"axis"),a[f])){d=a[f].from,e=a[f].to;break}if(a[f]||(c="x"==b?kb[0]:lb[0],d=a[b+"1"],e=a[b+"2"]),null!=d&&null!=e&&d>e){var i=d;d=e,e=i}return{from:d,to:e,axis:c}}function I(){ib.save(),ib.translate(mb.left,mb.top),ib.fillStyle=cb(eb.grid.backgroundColor,ob,0,"rgba(255, 255, 255, 0)"),ib.fillRect(0,0,nb,ob),ib.restore()}function J(){var b,c,d,e;ib.save(),ib.translate(mb.left,mb.top);var f=eb.grid.markings;if(f)for(a.isFunction(f)&&(c=qb.getAxes(),c.xmin=c.xaxis.min,c.xmax=c.xaxis.max,c.ymin=c.yaxis.min,c.ymax=c.yaxis.max,f=f(c)),b=0;b<f.length;++b){var g=f[b],h=H(g,"x"),i=H(g,"y");if(null==h.from&&(h.from=h.axis.min),null==h.to&&(h.to=h.axis.max),null==i.from&&(i.from=i.axis.min),null==i.to&&(i.to=i.axis.max),!(h.to<h.axis.min||h.from>h.axis.max||i.to<i.axis.min||i.from>i.axis.max)){h.from=Math.max(h.from,h.axis.min),h.to=Math.min(h.to,h.axis.max),i.from=Math.max(i.from,i.axis.min),i.to=Math.min(i.to,i.axis.max);var j=h.from===h.to,k=i.from===i.to;if(!j||!k)if(h.from=Math.floor(h.axis.p2c(h.from)),h.to=Math.floor(h.axis.p2c(h.to)),i.from=Math.floor(i.axis.p2c(i.from)),i.to=Math.floor(i.axis.p2c(i.to)),j||k){var l=g.width||eb.grid.markingsLineWidth,m=l%2?.5:0;ib.beginPath(),ib.color=g.color||eb.grid.markingsColor,ib.width=l,j?(ib.moveTo(h.to+m,i.from),ib.lineTo(h.to+m,i.to)):(ib.moveTo(h.from,i.to+m),ib.lineTo(h.to,i.to+m)),ib.stroke()}else ib.fillStyle=g.color||eb.grid.markingsColor,ib.fillRect(h.from,i.to,h.to-h.from,i.from-i.to)}}c=n(),d=eb.grid.borderWidth;for(var o=0;o<c.length;++o){var p,q,r,s,t=c[o],u=t.box,v=t.tickLength;if(t.show&&0!=t.ticks.length){for(ib.width=1,"x"==t.direction?(p=0,q="full"==v?"top"==t.position?0:ob:u.top-mb.top+("top"==t.position?u.height:0)):(q=0,p="full"==v?"left"==t.position?0:nb:u.left-mb.left+("left"==t.position?u.width:0)),t.innermost||(ib.color=t.options.color,ib.beginPath(),r=s=0,"x"==t.direction?r=nb+1:s=ob+1,1==ib.width&&("x"==t.direction?q=Math.floor(q)+.5:p=Math.floor(p)+.5),ib.moveTo(p,q),ib.lineTo(p+r,q+s),ib.stroke()),ib.color=t.options.tickColor,ib.beginPath(),b=0;b<t.ticks.length;++b){var w=t.ticks[b].v;r=s=0,isNaN(w)||w<t.min||w>t.max||"full"==v&&("object"==typeof d&&d[t.position]>0||d>0)&&(w==t.min||w==t.max)||("x"==t.direction?(p=t.p2c(w),s="full"==v?-ob:v,"top"==t.position&&(s=-s)):(q=t.p2c(w),r="full"==v?-nb:v,"left"==t.position&&(r=-r)),1==ib.width&&("x"==t.direction?p=Math.floor(p)+.5:q=Math.floor(q)+.5),ib.moveTo(p,q),ib.lineTo(p+r,q+s))}ib.stroke()}}d&&(e=eb.grid.borderColor,"object"==typeof d||"object"==typeof e?("object"!=typeof d&&(d={top:d,right:d,bottom:d,left:d}),"object"!=typeof e&&(e={top:e,right:e,bottom:e,left:e}),d.top>0&&(ib.color=e.top,ib.width=d.top,ib.beginPath(),ib.moveTo(0-d.left,0-d.top/2),ib.lineTo(nb,0-d.top/2),ib.stroke()),d.right>0&&(ib.color=e.right,ib.width=d.right,ib.beginPath(),ib.moveTo(nb+d.right/2,0-d.top),ib.lineTo(nb+d.right/2,ob),ib.stroke()),d.bottom>0&&(ib.color=e.bottom,ib.width=d.bottom,ib.beginPath(),ib.moveTo(nb+d.right,ob+d.bottom/2),ib.lineTo(0,ob+d.bottom/2),ib.stroke()),d.left>0&&(ib.color=e.left,ib.width=d.left,ib.beginPath(),ib.moveTo(0-d.left/2,ob+d.bottom),ib.lineTo(0-d.left/2,0),ib.stroke())):(ib.width=d,ib.color=eb.grid.borderColor,ib.strokeRect(-d/2,-d/2,nb+d,ob+d))),ib.restore()}function K(){a.each(n(),function(a,b){var c,d,e,f,g,h=b.box,i=b.direction+"Axis "+b.direction+b.n+"Axis",j="flot-"+b.direction+"-axis flot-"+b.direction+b.n+"-axis "+i,k=b.options.font||"flot-tick-label tickLabel";if(fb.removeText(j),b.show&&0!=b.ticks.length)for(var l=0;l<b.ticks.length;++l)c=b.ticks[l],!c.label||c.v<b.min||c.v>b.max||("x"==b.direction?(f="center",d=mb.left+b.p2c(c.v),"bottom"==b.position?e=h.top+h.padding:(e=h.top+h.height-h.padding,g="bottom")):(g="middle",e=mb.top+b.p2c(c.v),"left"==b.position?(d=h.left+h.width-h.padding,f="right"):d=h.left+h.padding),fb.addText(j,d,e,c.label,k,null,null,f,g))})}function L(a){a.lines.show&&M(a),a.bars.show&&P(a),a.points.show&&N(a)}function M(a){function b(a,b,c,d,e){var f=a.points,g=a.pointsize,h=null,i=null;ib.beginPath();for(var j=g;j<f.length;j+=g){var k=f[j-g],l=f[j-g+1],m=f[j],n=f[j+1];if(null!=k&&null!=m){if(n>=l&&l<e.min){if(n<e.min)continue;k=(e.min-l)/(n-l)*(m-k)+k,l=e.min}else if(l>=n&&n<e.min){if(l<e.min)continue;m=(e.min-l)/(n-l)*(m-k)+k,n=e.min}if(l>=n&&l>e.max){if(n>e.max)continue;k=(e.max-l)/(n-l)*(m-k)+k,l=e.max}else if(n>=l&&n>e.max){if(l>e.max)continue;m=(e.max-l)/(n-l)*(m-k)+k,n=e.max}if(m>=k&&k<d.min){if(m<d.min)continue;l=(d.min-k)/(m-k)*(n-l)+l,k=d.min}else if(k>=m&&m<d.min){if(k<d.min)continue;n=(d.min-k)/(m-k)*(n-l)+l,m=d.min}if(k>=m&&k>d.max){if(m>d.max)continue;l=(d.max-k)/(m-k)*(n-l)+l,k=d.max}else if(m>=k&&m>d.max){if(k>d.max)continue;n=(d.max-k)/(m-k)*(n-l)+l,m=d.max}(k!=h||l!=i)&&ib.moveTo(d.p2c(k)+b,e.p2c(l)+c),h=m,i=n,ib.lineTo(d.p2c(m)+b,e.p2c(n)+c)}}ib.stroke()}function c(a,b,c){for(var d=a.points,e=a.pointsize,f=Math.min(Math.max(0,c.min),c.max),g=0,h=!1,i=1,j=0,k=0;;){if(e>0&&g>d.length+e)break;g+=e;var l=d[g-e],m=d[g-e+i],n=d[g],o=d[g+i];if(h){if(e>0&&null!=l&&null==n){k=g,e=-e,i=2;continue}if(0>e&&g==j+e){ib.fill(),h=!1,e=-e,i=1,g=j=k+e;continue}}if(null!=l&&null!=n){if(n>=l&&l<b.min){if(n<b.min)continue;m=(b.min-l)/(n-l)*(o-m)+m,l=b.min}else if(l>=n&&n<b.min){if(l<b.min)continue;o=(b.min-l)/(n-l)*(o-m)+m,n=b.min}if(l>=n&&l>b.max){if(n>b.max)continue;m=(b.max-l)/(n-l)*(o-m)+m,l=b.max}else if(n>=l&&n>b.max){if(l>b.max)continue;o=(b.max-l)/(n-l)*(o-m)+m,n=b.max}if(h||(ib.beginPath(),ib.moveTo(b.p2c(l),c.p2c(f)),h=!0),m>=c.max&&o>=c.max)ib.lineTo(b.p2c(l),c.p2c(c.max)),ib.lineTo(b.p2c(n),c.p2c(c.max));else if(m<=c.min&&o<=c.min)ib.lineTo(b.p2c(l),c.p2c(c.min)),ib.lineTo(b.p2c(n),c.p2c(c.min));else{var p=l,q=n;o>=m&&m<c.min&&o>=c.min?(l=(c.min-m)/(o-m)*(n-l)+l,m=c.min):m>=o&&o<c.min&&m>=c.min&&(n=(c.min-m)/(o-m)*(n-l)+l,o=c.min),m>=o&&m>c.max&&o<=c.max?(l=(c.max-m)/(o-m)*(n-l)+l,m=c.max):o>=m&&o>c.max&&m<=c.max&&(n=(c.max-m)/(o-m)*(n-l)+l,o=c.max),l!=p&&ib.lineTo(b.p2c(p),c.p2c(m)),ib.lineTo(b.p2c(l),c.p2c(m)),ib.lineTo(b.p2c(n),c.p2c(o)),n!=q&&(ib.lineTo(b.p2c(n),c.p2c(o)),ib.lineTo(b.p2c(q),c.p2c(o)))}}}}ib.save(),ib.translate(mb.left,mb.top),ib.lineJoin="round";var d=a.lines.width,e=a.shadowSize;if(d>0&&e>0){ib.width=e,ib.color="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis),ib.width=e/2,b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}ib.width=d,ib.color=a.color;var g=Q(a.lines,a.color,0,ob);g&&(ib.fillStyle=g,c(a.datapoints,a.xaxis,a.yaxis)),d>0&&b(a.datapoints,0,0,a.xaxis,a.yaxis),ib.restore()}function N(a){function b(a,b,c,d,e,f,g,h){for(var i=a.points,j=a.pointsize,k=0;k<i.length;k+=j){var l=i[k],m=i[k+1];null==l||l<f.min||l>f.max||m<g.min||m>g.max||(ib.beginPath(),l=f.p2c(l),m=g.p2c(m)+d,"circle"==h?ib.arc(l,m,b,0,e?Math.PI:2*Math.PI,!1):h(ib,l,m,b,e),ib.closePath(),c&&(ib.fillStyle=c,ib.fill()),ib.stroke())}}ib.save(),ib.translate(mb.left,mb.top);var c=a.points.width,d=a.shadowSize,e=a.points.radius,f=a.points.symbol;if(0==c&&(c=1e-4),c>0&&d>0){var g=d/2;ib.width=g,ib.color="rgba(0,0,0,0.1)",b(a.datapoints,e,null,g+g/2,!0,a.xaxis,a.yaxis,f),ib.color="rgba(0,0,0,0.2)",b(a.datapoints,e,null,g/2,!0,a.xaxis,a.yaxis,f)}ib.width=c,ib.color=a.color,b(a.datapoints,e,Q(a.points,a.color),0,!1,a.xaxis,a.yaxis,f),ib.restore()}function O(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t;j?(s=q=r=!0,p=!1,l=c,m=a,o=b+d,n=b+e,l>m&&(t=m,m=l,l=t,p=!0,q=!1)):(p=q=r=!0,s=!1,l=a+d,m=a+e,n=c,o=b,n>o&&(t=o,o=n,n=t,s=!0,r=!1)),m<g.min||l>g.max||o<h.min||n>h.max||(l<g.min&&(l=g.min,p=!1),m>g.max&&(m=g.max,q=!1),n<h.min&&(n=h.min,s=!1),o>h.max&&(o=h.max,r=!1),l=g.p2c(l),n=h.p2c(n),m=g.p2c(m),o=h.p2c(o),f&&(i.fillStyle=f(n,o),i.fillRect(l,o,m-l,n-o)),k>0&&(p||q||r||s)&&(i.beginPath(),i.moveTo(l,n),p?i.lineTo(l,o):i.moveTo(l,o),r?i.lineTo(m,o):i.moveTo(m,o),q?i.lineTo(m,n):i.moveTo(m,n),s?i.lineTo(l,n):i.moveTo(l,n),i.stroke()))}function P(a){function b(b,c,d,e,f,g){for(var h=b.points,i=b.pointsize,j=0;j<h.length;j+=i)null!=h[j]&&O(h[j],h[j+1],h[j+2],c,d,e,f,g,ib,a.bars.horizontal,a.bars.width)}ib.save(),ib.translate(mb.left,mb.top),ib.width=a.bars.width,ib.color=a.color;var c;switch(a.bars.align){case"left":c=0;break;case"right":c=-a.bars.barWidth;break;default:c=-a.bars.barWidth/2}var d=a.bars.fill?function(b,c){return Q(a.bars,a.color,b,c)}:null;b(a.datapoints,c,c+a.bars.barWidth,d,a.xaxis,a.yaxis),ib.restore()}function Q(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return cb(b.fillColor,d,e,c);var g=a.color.parse(c);return g.a="number"==typeof f?f:.4,g.normalize(),g.toString()}function R(){if(null!=eb.legend.container?a(eb.legend.container).html(""):c.find(".legend").remove(),eb.legend.show){for(var b,d,e=[],f=[],g=!1,h=eb.legend.labelFormatter,i=0;i<db.length;++i)b=db[i],b.label&&(d=h?h(b.label,b):b.label,d&&f.push({label:d,color:b.color}));if(eb.legend.sorted)if(a.isFunction(eb.legend.sorted))f.sort(eb.legend.sorted);else if("reverse"==eb.legend.sorted)f.reverse();else{var j="descending"!=eb.legend.sorted;f.sort(function(a,b){return a.label==b.label?0:a.label<b.label!=j?1:-1})}for(var i=0;i<f.length;++i){var k=f[i];i%eb.legend.noColumns==0&&(g&&e.push("</tr>"),e.push("<tr>"),g=!0),e.push('<td class="legendColorBox"><div style="border:1px solid '+eb.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+k.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+k.label+"</td>")}if(g&&e.push("</tr>"),0!=e.length){var l='<table style="font-size:smaller;color:'+eb.grid.color+'">'+e.join("")+"</table>";if(null!=eb.legend.container)a(eb.legend.container).html(l);else{var m="",n=eb.legend.position,o=eb.legend.margin;null==o[0]&&(o=[o,o]),"n"==n.charAt(0)?m+="top:"+(o[1]+mb.top)+"px;":"s"==n.charAt(0)&&(m+="bottom:"+(o[1]+mb.bottom)+"px;"),"e"==n.charAt(1)?m+="right:"+(o[0]+mb.right)+"px;":"w"==n.charAt(1)&&(m+="left:"+(o[0]+mb.left)+"px;");var p=a('<div class="legend">'+l.replace('style="','style="position:absolute;'+m+";")+"</div>").appendTo(c);if(0!=eb.legend.backgroundOpacity){var q=eb.legend.backgroundColor;null==q&&(q=eb.grid.backgroundColor,q=q&&"string"==typeof q?a.color.parse(q):a.color.extract(p,"background-color"),q.a=1,q=q.toString());var r=p.children();a('<div style="position:absolute;width:'+r.width()+"px;height:"+r.height()+"px;"+m+"background-color:"+q+';"> </div>').prependTo(p).css("opacity",eb.legend.backgroundOpacity)}}}}}function S(a,b,c){var d,e,f,g=eb.grid.mouseActiveRadius,h=g*g+1,i=null;for(d=db.length-1;d>=0;--d)if(c(db[d])){var j=db[d],k=j.xaxis,l=j.yaxis,m=j.datapoints.points,n=k.c2p(a),o=l.c2p(b),p=g/k.scale,q=g/l.scale;if(f=j.datapoints.pointsize,k.options.inverseTransform&&(p=Number.MAX_VALUE),l.options.inverseTransform&&(q=Number.MAX_VALUE),j.lines.show||j.points.show)for(e=0;e<m.length;e+=f){var r=m[e],s=m[e+1];if(null!=r&&!(r-n>p||-p>r-n||s-o>q||-q>s-o)){var t=Math.abs(k.p2c(r)-a),u=Math.abs(l.p2c(s)-b),v=t*t+u*u;h>v&&(h=v,i=[d,e/f])}}if(j.bars.show&&!i){var w,x;switch(j.bars.align){case"left":w=0;break;case"right":w=-j.bars.barWidth;break;default:w=-j.bars.barWidth/2}for(x=w+j.bars.barWidth,e=0;e<m.length;e+=f){var r=m[e],s=m[e+1],y=m[e+2];null!=r&&(db[d].bars.horizontal?n<=Math.max(y,r)&&n>=Math.min(y,r)&&o>=s+w&&s+x>=o:n>=r+w&&r+x>=n&&o>=Math.min(y,s)&&o<=Math.max(y,s))&&(i=[d,e/f])}}}return i?(d=i[0],e=i[1],f=db[d].datapoints.pointsize,{datapoint:db[d].datapoints.points.slice(e*f,(e+1)*f),dataIndex:e,series:db[d],seriesIndex:d}):null}function T(a){eb.grid.hoverable&&W("plothover",a,function(a){return 0!=a.hoverable})}function U(a){eb.grid.hoverable&&W("plothover",a,function(){return!1})}function V(a){W("plotclick",a,function(a){return 0!=a.clickable})}function W(a,b,d){var e=hb.offset(),f=b.pageX-e.left-mb.left,g=b.pageY-e.top-mb.top,h=o({left:f,top:g});h.pageX=b.pageX,h.pageY=b.pageY;var i=S(f,g,d);if(i&&(i.pageX=parseInt(i.series.xaxis.p2c(i.datapoint[0])+e.left+mb.left,10),i.pageY=parseInt(i.series.yaxis.p2c(i.datapoint[1])+e.top+mb.top,10)),eb.grid.autoHighlight){for(var j=0;j<rb.length;++j){var k=rb[j];k.auto!=a||i&&k.series==i.series&&k.point[0]==i.datapoint[0]&&k.point[1]==i.datapoint[1]||$(k.series,k.point)}i&&Z(i.series,i.datapoint,a)}c.trigger(a,[h,i])}function X(){var a=eb.interaction.redrawOverlayInterval;return-1==a?void Y():void(sb||(sb=setTimeout(Y,a)))}function Y(){sb=null,jb.save(),gb.clear(),jb.translate(mb.left,mb.top);var a,b;for(a=0;a<rb.length;++a)b=rb[a],b.series.bars.show?bb(b.series,b.point):ab(b.series,b.point);jb.restore(),h(pb.drawOverlay,[jb])}function Z(a,b,c){if("number"==typeof a&&(a=db[a]),"number"==typeof b){var d=a.datapoints.pointsize;b=a.datapoints.points.slice(d*b,d*(b+1))}var e=_(a,b);-1==e?(rb.push({series:a,point:b,auto:c}),X()):c||(rb[e].auto=!1)}function $(a,b){if(null==a&&null==b)return rb=[],void X();if("number"==typeof a&&(a=db[a]),"number"==typeof b){var c=a.datapoints.pointsize;b=a.datapoints.points.slice(c*b,c*(b+1))}var d=_(a,b);-1!=d&&(rb.splice(d,1),X())}function _(a,b){for(var c=0;c<rb.length;++c){var d=rb[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function ab(b,c){var d=c[0],e=c[1],f=b.xaxis,g=b.yaxis,h="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString();if(!(d<f.min||d>f.max||e<g.min||e>g.max)){var i=b.points.radius+b.points.width/2;jb.width=i,jb.color=h;var j=1.5*i;d=f.p2c(d),e=g.p2c(e),jb.beginPath(),"circle"==b.points.symbol?jb.arc(d,e,j,0,2*Math.PI,!1):b.points.symbol(jb,d,e,j,!1),jb.closePath(),jb.stroke()}}function bb(b,c){var d,e="string"==typeof b.highlightColor?b.highlightColor:a.color.parse(b.color).scale("a",.5).toString(),f=e;switch(b.bars.align){case"left":d=0;break;case"right":d=-b.bars.barWidth;break;default:d=-b.bars.barWidth/2}jb.width=b.bars.width,jb.color=e,O(c[0],c[1],c[2]||0,d,d+b.bars.barWidth,function(){return f},b.xaxis,b.yaxis,jb,b.bars.horizontal,b.bars.width)}function cb(b,c,d,e){if("string"==typeof b)return b;for(var f=ib.createLinearGradient(0,d,0,c),g=0,h=b.colors.length;h>g;++g){var i=b.colors[g];if("string"!=typeof i){var j=a.color.parse(e);null!=i.brightness&&(j=j.scale("rgb",i.brightness)),null!=i.opacity&&(j.a*=i.opacity),i=j.toString()}f.addColorStop(g/(h-1),i)}return f}var db=[],eb={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},fb=null,gb=null,hb=null,ib=null,jb=null,kb=[],lb=[],mb={left:0,right:0,top:0,bottom:0},nb=0,ob=0,pb={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],_draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},qb=this;qb.setData=k,qb.setupGrid=B,qb._draw=G,qb.getPlaceholder=function(){return c},qb.getCanvas=function(){return fb.element},qb.getPlotOffset=function(){return mb},qb.width=function(){return nb},qb.height=function(){return ob},qb.offset=function(){var a=hb.offset();return a.left+=mb.left,a.top+=mb.top,a},qb.getData=function(){return db},qb.getAxes=function(){var b={};return a.each(kb.concat(lb),function(a,c){c&&(b[c.direction+(1!=c.n?c.n:"")+"axis"]=c)}),b},qb.getXAxes=function(){return kb},qb.getYAxes=function(){return lb},qb.c2p=o,qb.p2c=p,qb.getOptions=function(){return eb},qb.highlight=Z,qb.unhighlight=$,qb.triggerRedrawOverlay=X,qb.pointOffset=function(a){return{left:parseInt(kb[m(a,"x")-1].p2c(+a.x)+mb.left,10),top:parseInt(lb[m(a,"y")-1].p2c(+a.y)+mb.top,10)}},qb.shutdown=v,qb.destroy=function(){v(),c.removeData("plot").empty(),db=[],eb=null,fb=null,gb=null,hb=null,ib=null,jb=null,kb=[],lb=[],pb=null,rb=[],qb=null},qb.resize=function(){var a=c.width(),b=c.height();fb.resize(a,b),gb.resize(a,b)},qb.hooks=pb,i(qb),j(f),t(),k(e),B(),G(),u();var rb=[],sb=null}function d(a,b){return b*Math.floor(a/b)}var e=Object.prototype.hasOwnProperty;a.fn.detach||(a.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),b.prototype.resize=function(a,b){if(0>=a||0>=b)throw new Error("Invalid dimensions for plot, width = "+a+", height = "+b);var c=this.element,d=this.context,e=this.pixelRatio;this.width!=a&&(c.width=a*e,c.style.width=a+"px",this.width=a),this.height!=b&&(c.height=b*e,c.style.height=b+"px",this.height=b),d.restore(),d.save(),d.scale(e,e)},b.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},b.prototype.render=function(){var a=this._textCache;for(var b in a)if(e.call(a,b)){var c=this.getTextLayer(b),d=a[b];c.hide();for(var f in d)if(e.call(d,f)){var g=d[f];for(var h in g)if(e.call(g,h)){for(var i,j=g[h].positions,k=0;i=j[k];k++)i.active?i.rendered||(c.append(i.element),i.rendered=!0):(j.splice(k--,1),i.rendered&&i.element.detach());0==j.length&&delete g[h]}}c.show()}},b.prototype.getTextLayer=function(b){var c=this.text[b];return null==c&&(null==this.textContainer&&(this.textContainer=a("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),c=this.text[b]=a("<div></div>").addClass(b).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),c},b.prototype.getTextInfo=function(b,c,d,e,f){var g,h,i,j;if(c=""+c,g="object"==typeof d?d.style+" "+d.variant+" "+d.weight+" "+d.size+"px/"+d.lineHeight+"px "+d.family:d,h=this._textCache[b],null==h&&(h=this._textCache[b]={}),i=h[g],null==i&&(i=h[g]={}),j=i[c],null==j){var k=a("<div></div>").html(c).css({position:"absolute","max-width":f,top:-9999}).appendTo(this.getTextLayer(b));"object"==typeof d?k.css({font:g,color:d.color}):"string"==typeof d&&k.addClass(d),j=i[c]={width:k.outerWidth(!0),height:k.outerHeight(!0),element:k,positions:[]},k.detach()}return j},b.prototype.addText=function(a,b,c,d,e,f,g,h,i){var j=this.getTextInfo(a,d,e,f,g),k=j.positions;"center"==h?b-=j.width/2:"right"==h&&(b-=j.width),"middle"==i?c-=j.height/2:"bottom"==i&&(c-=j.height);for(var l,m=0;l=k[m];m++)if(l.x==b&&l.y==c)return void(l.active=!0);l={active:!0,rendered:!1,element:k.length?j.element.clone():j.element,x:b,y:c},k.push(l),l.element.css({top:Math.round(c),left:Math.round(b),"text-align":h})},b.prototype.removeText=function(a,b,c,d,f,g){if(null==d){var h=this._textCache[a];if(null!=h)for(var i in h)if(e.call(h,i)){var j=h[i];for(var k in j)if(e.call(j,k))for(var l,m=j[k].positions,n=0;l=m[n];n++)l.active=!1}}else for(var l,m=this.getTextInfo(a,d,f,g).positions,n=0;l=m[n];n++)l.x==b&&l.y==c&&(l.active=!1)},a.plot=function(b,d,e){var f=new c(a(b),d,e,a.plot.plugins);return f},a.plot.version="0.8.3",a.plot.plugins=[],a.fn.plot=function(b,c){return this.each(function(){a.plot(this,b,c)})}}(jQuery),function(a,b,c){"$:nomunge";function d(c){h===!0&&(h=c||1);for(var i=f.length-1;i>=0;i--){var m=a(f[i]);if(m[0]==b||m.is(":visible")){var n=m.width(),o=m.height(),p=m.data(k);!p||n===p.w&&o===p.h||(m.trigger(j,[p.w=n,p.h=o]),h=c||!0)}else p=m.data(k),p.w=0,p.h=0}null!==e&&(h&&(null==c||1e3>c-h)?e=b.requestAnimationFrame(d):(e=setTimeout(d,g[l]),h=!1))}var e,f=[],g=a.resize=a.extend(a.resize,{}),h=!1,i="setTimeout",j="resize",k=j+"-special-event",l="pendingDelay",m="activeDelay",n="throttleWindow";g[l]=200,g[m]=20,g[n]=!0,a.event.special[j]={setup:function(){if(!g[n]&&this[i])return!1;var b=a(this);f.push(this),b.data(k,{w:b.width(),h:b.height()}),1===f.length&&(e=c,d())},teardown:function(){if(!g[n]&&this[i])return!1;for(var b=a(this),c=f.length-1;c>=0;c--)if(f[c]==this){f.splice(c,1);break}b.removeData(k),f.length||(h?cancelAnimationFrame(e):clearTimeout(e),e=null)},add:function(b){function d(b,d,f){var g=a(this),h=g.data(k)||{};h.w=d!==c?d:g.width(),h.h=f!==c?f:g.height(),e.apply(this,arguments)}if(!g[n]&&this[i])return!1;var e;return a.isFunction(b)?(e=b,d):(e=b.handler,void(b.handler=d))}},b.requestAnimationFrame||(b.requestAnimationFrame=function(){return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||b.oRequestAnimationFrame||b.msRequestAnimationFrame||function(a){return b.setTimeout(function(){a((new Date).getTime())},g[m])}}()),b.cancelAnimationFrame||(b.cancelAnimationFrame=function(){return b.webkitCancelRequestAnimationFrame||b.mozCancelRequestAnimationFrame||b.oCancelRequestAnimationFrame||b.msCancelRequestAnimationFrame||clearTimeout}())}(jQuery,this),function(a){function b(a){function b(){var b=a.getPlaceholder();0!=b.width()&&0!=b.height()&&(a.resize(),a.setupGrid(),a._draw())}function c(a){a.getPlaceholder().resize(b)}function d(a){a.getPlaceholder().unbind("resize",b)}a.hooks.bindEvents.push(c),a.hooks.shutdown.push(d)}var c={};a.plot.plugins.push({init:b,options:c,name:"resize",version:"1.0"})}(jQuery),function(a){function b(b){function e(b){x||(x=!0,r=b.getCanvas(),s=a(r).parent(),t=b.getOptions(),b.setData(f(b.getData())))}function f(b){for(var c=0,d=0,e=0,f=t.series.pie.combine.color,g=[],h=0;h<b.length;++h){var i=b[h].data;a.isArray(i)&&1==i.length&&(i=i[0]),a.isArray(i)?i[1]=!isNaN(parseFloat(i[1]))&&isFinite(i[1])?+i[1]:0:i=!isNaN(parseFloat(i))&&isFinite(i)?[1,+i]:[1,0],b[h].data=[i]}for(var h=0;h<b.length;++h)c+=b[h].data[0][1];for(var h=0;h<b.length;++h){var i=b[h].data[0][1];i/c<=t.series.pie.combine.threshold&&(d+=i,e++,f||(f=b[h].color))}for(var h=0;h<b.length;++h){var i=b[h].data[0][1];(2>e||i/c>t.series.pie.combine.threshold)&&g.push(a.extend(b[h],{data:[[1,i]],color:b[h].color,label:b[h].label,angle:i*Math.PI*2/c,percent:i/(c/100)}))}return e>1&&g.push({data:[[1,d]],color:f,label:t.series.pie.combine.label,angle:d*Math.PI*2/c,percent:d/(c/100)}),g}function g(b,e){function f(){y.clearRect(0,0,j,k),s.children().filter(".pieLabel, .pieLabelBackground").remove()}function g(){var a=t.series.pie.shadow.left,b=t.series.pie.shadow.top,c=10,d=t.series.pie.shadow.alpha,e=t.series.pie.radius>1?t.series.pie.radius:u*t.series.pie.radius;if(!(e>=j/2-a||e*t.series.pie.tilt>=k/2-b||c>=e)){y.save(),y.translate(a,b),y.globalAlpha=d,y.fillStyle="#000",y.translate(v,w),y.scale(1,t.series.pie.tilt);for(var f=1;c>=f;f++)y.beginPath(),y.arc(0,0,e,0,2*Math.PI,!1),y.fill(),e-=f;y.restore()}}function i(){function b(a,b,c){0>=a||isNaN(a)||(c?y.fillStyle=b:(y.color=b,y.lineJoin="round"),y.beginPath(),Math.abs(a-2*Math.PI)>1e-9&&y.moveTo(0,0),y.arc(0,0,e,f,f+a/2,!1),y.arc(0,0,e,f+a/2,f+a,!1),y.closePath(),f+=a,c?y.fill():y.stroke())}function c(){function b(b,c,d){if(0==b.data[0][1])return!0;var f,g=t.legend.labelFormatter,h=t.series.pie.label.formatter;f=g?g(b.label,b):b.label,h&&(f=h(f,b));var i=(c+b.angle+c)/2,l=v+Math.round(Math.cos(i)*e),m=w+Math.round(Math.sin(i)*e)*t.series.pie.tilt,n="<span class='pieLabel' id='pieLabel"+d+"' style='position:absolute;top:"+m+"px;left:"+l+"px;'>"+f+"</span>";s.append(n);var o=s.children("#pieLabel"+d),p=m-o.height()/2,q=l-o.width()/2;if(o.css("top",p),o.css("left",q),0-p>0||0-q>0||k-(p+o.height())<0||j-(q+o.width())<0)return!1;if(0!=t.series.pie.label.background.opacity){var r=t.series.pie.label.background.color;null==r&&(r=b.color);var u="top:"+p+"px;left:"+q+"px;";a("<div class='pieLabelBackground' style='position:absolute;width:"+o.width()+"px;height:"+o.height()+"px;"+u+"background-color:"+r+";'></div>").css("opacity",t.series.pie.label.background.opacity).insertBefore(o)}return!0}for(var c=d,e=t.series.pie.label.radius>1?t.series.pie.label.radius:u*t.series.pie.label.radius,f=0;f<m.length;++f){if(m[f].percent>=100*t.series.pie.label.threshold&&!b(m[f],c,f))return!1;c+=m[f].angle}return!0}var d=Math.PI*t.series.pie.startAngle,e=t.series.pie.radius>1?t.series.pie.radius:u*t.series.pie.radius;y.save(),y.translate(v,w),y.scale(1,t.series.pie.tilt),y.save();for(var f=d,g=0;g<m.length;++g)m[g].startAngle=f,b(m[g].angle,m[g].color,!0);if(y.restore(),t.series.pie.stroke.width>0){y.save(),y.width=t.series.pie.stroke.width,f=d;for(var g=0;g<m.length;++g)b(m[g].angle,t.series.pie.stroke.color,!1);y.restore()}return h(y),y.restore(),t.series.pie.label.show?c():!0}if(s){var j=b.getPlaceholder().width(),k=b.getPlaceholder().height(),l=s.children().filter(".legend").children().width()||0;y=e,x=!1,u=Math.min(j,k/t.series.pie.tilt)/2,w=k/2+t.series.pie.offset.top,v=j/2,"auto"==t.series.pie.offset.left?(t.legend.position.match("w")?v+=l/2:v-=l/2,u>v?v=u:v>j-u&&(v=j-u)):v+=t.series.pie.offset.left;var m=b.getData(),n=0;do n>0&&(u*=d),n+=1,f(),t.series.pie.tilt<=.8&&g();while(!i()&&c>n);n>=c&&(f(),s.prepend("<div class='error'>Could not draw pie with labels contained inside canvas</div>")),b.setSeries&&b.insertLegend&&(b.setSeries(m),b.insertLegend())}}function h(a){if(t.series.pie.innerRadius>0){a.save();var b=t.series.pie.innerRadius>1?t.series.pie.innerRadius:u*t.series.pie.innerRadius;a.globalCompositeOperation="destination-out",a.beginPath(),a.fillStyle=t.series.pie.stroke.color,a.arc(0,0,b,0,2*Math.PI,!1),a.fill(),a.closePath(),a.restore(),a.save(),a.beginPath(),a.color=t.series.pie.stroke.color,a.arc(0,0,b,0,2*Math.PI,!1),a.stroke(),a.closePath(),a.restore()}}function i(a,b){for(var c=!1,d=-1,e=a.length,f=e-1;++d<e;f=d)(a[d][1]<=b[1]&&b[1]<a[f][1]||a[f][1]<=b[1]&&b[1]<a[d][1])&&b[0]<(a[f][0]-a[d][0])*(b[1]-a[d][1])/(a[f][1]-a[d][1])+a[d][0]&&(c=!c);return c}function j(a,c){for(var d,e,f=b.getData(),g=b.getOptions(),h=g.series.pie.radius>1?g.series.pie.radius:u*g.series.pie.radius,j=0;j<f.length;++j){var k=f[j];if(k.pie.show){if(y.save(),y.beginPath(),y.moveTo(0,0),y.arc(0,0,h,k.startAngle,k.startAngle+k.angle/2,!1),y.arc(0,0,h,k.startAngle+k.angle/2,k.startAngle+k.angle,!1),y.closePath(),d=a-v,e=c-w,y.isPointInPath){if(y.isPointInPath(a-v,c-w))return y.restore(),{datapoint:[k.percent,k.data],dataIndex:0,series:k,seriesIndex:j}}else{var l=h*Math.cos(k.startAngle),m=h*Math.sin(k.startAngle),n=h*Math.cos(k.startAngle+k.angle/4),o=h*Math.sin(k.startAngle+k.angle/4),p=h*Math.cos(k.startAngle+k.angle/2),q=h*Math.sin(k.startAngle+k.angle/2),r=h*Math.cos(k.startAngle+k.angle/1.5),s=h*Math.sin(k.startAngle+k.angle/1.5),t=h*Math.cos(k.startAngle+k.angle),x=h*Math.sin(k.startAngle+k.angle),z=[[0,0],[l,m],[n,o],[p,q],[r,s],[t,x]],A=[d,e];if(i(z,A))return y.restore(),{datapoint:[k.percent,k.data],dataIndex:0,series:k,seriesIndex:j}}y.restore()}}return null}function k(a){m("plothover",a)}function l(a){m("plotclick",a)}function m(a,c){var d=b.offset(),e=parseInt(c.pageX-d.left),f=parseInt(c.pageY-d.top),g=j(e,f);if(t.grid.autoHighlight)for(var h=0;h<z.length;++h){var i=z[h];i.auto!=a||g&&i.series==g.series||o(i.series)}g&&n(g.series,a);var k={pageX:c.pageX,pageY:c.pageY};s.trigger(a,[k,g])}function n(a,c){var d=p(a);-1==d?(z.push({series:a,auto:c}),b.triggerRedrawOverlay()):c||(z[d].auto=!1)}function o(a){null==a&&(z=[],b.triggerRedrawOverlay());var c=p(a);-1!=c&&(z.splice(c,1),b.triggerRedrawOverlay())}function p(a){for(var b=0;b<z.length;++b){var c=z[b];if(c.series==a)return b}return-1}function q(a,b){function c(a){a.angle<=0||isNaN(a.angle)||(b.fillStyle="rgba(255, 255, 255, "+d.series.pie.highlight.opacity+")",b.beginPath(),Math.abs(a.angle-2*Math.PI)>1e-9&&b.moveTo(0,0),b.arc(0,0,e,a.startAngle,a.startAngle+a.angle/2,!1),b.arc(0,0,e,a.startAngle+a.angle/2,a.startAngle+a.angle,!1),b.closePath(),b.fill())}var d=a.getOptions(),e=d.series.pie.radius>1?d.series.pie.radius:u*d.series.pie.radius;b.save(),b.translate(v,w),b.scale(1,d.series.pie.tilt);for(var f=0;f<z.length;++f)c(z[f].series);h(b),b.restore()}var r=null,s=null,t=null,u=null,v=null,w=null,x=!1,y=null,z=[];b.hooks.processOptions.push(function(a,b){b.series.pie.show&&(b.grid.show=!1,"auto"==b.series.pie.label.show&&(b.series.pie.label.show=b.legend.show?!1:!0),"auto"==b.series.pie.radius&&(b.series.pie.radius=b.series.pie.label.show?.75:1),b.series.pie.tilt>1?b.series.pie.tilt=1:b.series.pie.tilt<0&&(b.series.pie.tilt=0))}),b.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.series.pie.show&&(c.grid.hoverable&&b.unbind("mousemove").mousemove(k),c.grid.clickable&&b.unbind("click").click(l))}),b.hooks.processDatapoints.push(function(a,b,c,d){var f=a.getOptions();f.series.pie.show&&e(a,b,c,d)}),b.hooks.drawOverlay.push(function(a,b){var c=a.getOptions();c.series.pie.show&&q(a,b)}),b.hooks._draw.push(function(a,b){var c=a.getOptions();c.series.pie.show&&g(a,b)})}var c=10,d=.95,e={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,shadow:{left:5,top:15,alpha:.02},offset:{top:0,left:"auto"},stroke:{color:"#fff",width:1},label:{show:"auto",formatter:function(a,b){return"<div style='font-size:x-small;text-align:center;padding:2px;color:"+b.color+";'>"+a+"<br/>"+Math.round(b.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:.5}}}};a.plot.plugins.push({init:b,options:e,name:"pie",version:"1.1"})}(jQuery),function(a){function b(a){function b(a,b){for(var c=null,d=0;d<b.length&&a!=b[d];++d)b[d].stack==a.stack&&(c=b[d]);return c}function c(a,c,d){if(null!=c.stack&&c.stack!==!1){var e=b(c,a.getData());if(e){for(var f,g,h,i,j,k,l,m,n=d.pointsize,o=d.points,p=e.datapoints.pointsize,q=e.datapoints.points,r=[],s=c.lines.show,t=c.bars.horizontal,u=n>2&&(t?d.format[2].x:d.format[2].y),v=s&&c.lines.steps,w=!0,x=t?1:0,y=t?0:1,z=0,A=0;;){if(z>=o.length)break;if(l=r.length,null==o[z]){for(m=0;n>m;++m)r.push(o[z+m]);z+=n}else if(A>=q.length){if(!s)for(m=0;n>m;++m)r.push(o[z+m]);z+=n}else if(null==q[A]){for(m=0;n>m;++m)r.push(null);w=!0,A+=p}else{if(f=o[z+x],g=o[z+y],i=q[A+x],j=q[A+y],k=0,f==i){for(m=0;n>m;++m)r.push(o[z+m]);r[l+y]+=j,k=j,z+=n,A+=p}else if(f>i){if(s&&z>0&&null!=o[z-n]){for(h=g+(o[z-n+y]-g)*(i-f)/(o[z-n+x]-f),r.push(i),r.push(h+j),m=2;n>m;++m)r.push(o[z+m]);k=j}A+=p}else{if(w&&s){z+=n;continue}for(m=0;n>m;++m)r.push(o[z+m]);s&&A>0&&null!=q[A-p]&&(k=j+(q[A-p+y]-j)*(f-i)/(q[A-p+x]-i)),r[l+y]+=k,z+=n}w=!1,l!=r.length&&u&&(r[l+2]+=k)}if(v&&l!=r.length&&l>0&&null!=r[l]&&r[l]!=r[l-n]&&r[l+1]!=r[l-n+1]){for(m=0;n>m;++m)r[l+n+m]=r[l+m];r[l+1]=r[l-n+1]}}d.points=r}}}a.hooks.processDatapoints.push(c)
}var c={series:{stack:null}};a.plot.plugins.push({init:b,options:c,name:"stack",version:"1.2"})}(jQuery),function(a){function b(a,b){return b*Math.floor(a/b)}function c(a,b,c,d){if("function"==typeof a.strftime)return a.strftime(b);var e=function(a,b){return a=""+a,b=""+(null==b?"0":b),1==a.length?b+a:a},f=[],g=!1,h=a.getHours(),i=12>h;null==c&&(c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==d&&(d=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var j;j=h>12?h-12:0==h?12:h;for(var k=0;k<b.length;++k){var l=b.charAt(k);if(g){switch(l){case"a":l=""+d[a.getDay()];break;case"b":l=""+c[a.getMonth()];break;case"d":l=e(a.getDate());break;case"e":l=e(a.getDate()," ");break;case"h":case"H":l=e(h);break;case"I":l=e(j);break;case"l":l=e(j," ");break;case"m":l=e(a.getMonth()+1);break;case"M":l=e(a.getMinutes());break;case"q":l=""+(Math.floor(a.getMonth()/3)+1);break;case"S":l=e(a.getSeconds());break;case"y":l=e(a.getFullYear()%100);break;case"Y":l=""+a.getFullYear();break;case"p":l=i?"am":"pm";break;case"P":l=i?"AM":"PM";break;case"w":l=""+a.getDay()}f.push(l),g=!1}else"%"==l?g=!0:f.push(l)}return f.join("")}function d(a){function b(a,b,c,d){a[b]=function(){return c[d].apply(c,arguments)}}var c={date:a};void 0!=a.strftime&&b(c,"strftime",a,"strftime"),b(c,"getTime",a,"getTime"),b(c,"setTime",a,"setTime");for(var d=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],e=0;e<d.length;e++)b(c,"get"+d[e],a,"getUTC"+d[e]),b(c,"set"+d[e],a,"setUTC"+d[e]);return c}function e(a,b){if("browser"==b.timezone)return new Date(a);if(b.timezone&&"utc"!=b.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var c=new timezoneJS.Date;return c.setTimezone(b.timezone),c.setTime(a),c}return d(new Date(a))}return d(new Date(a))}function f(d){d.hooks.processOptions.push(function(d){a.each(d.getAxes(),function(a,d){var f=d.options;"time"==f.mode&&(d.tickGenerator=function(a){var c=[],d=e(a.min,f),g=0,i=f.tickSize&&"quarter"===f.tickSize[1]||f.minTickSize&&"quarter"===f.minTickSize[1]?k:j;null!=f.minTickSize&&(g="number"==typeof f.tickSize?f.tickSize:f.minTickSize[0]*h[f.minTickSize[1]]);for(var l=0;l<i.length-1&&!(a.delta<(i[l][0]*h[i[l][1]]+i[l+1][0]*h[i[l+1][1]])/2&&i[l][0]*h[i[l][1]]>=g);++l);var m=i[l][0],n=i[l][1];if("year"==n){if(null!=f.minTickSize&&"year"==f.minTickSize[1])m=Math.floor(f.minTickSize[0]);else{var o=Math.pow(10,Math.floor(Math.log(a.delta/h.year)/Math.LN10)),p=a.delta/h.year/o;m=1.5>p?1:3>p?2:7.5>p?5:10,m*=o}1>m&&(m=1)}a.tickSize=f.tickSize||[m,n];var q=a.tickSize[0];n=a.tickSize[1];var r=q*h[n];"second"==n?d.setSeconds(b(d.getSeconds(),q)):"minute"==n?d.setMinutes(b(d.getMinutes(),q)):"hour"==n?d.setHours(b(d.getHours(),q)):"month"==n?d.setMonth(b(d.getMonth(),q)):"quarter"==n?d.setMonth(3*b(d.getMonth()/3,q)):"year"==n&&d.setFullYear(b(d.getFullYear(),q)),d.setMilliseconds(0),r>=h.minute&&d.setSeconds(0),r>=h.hour&&d.setMinutes(0),r>=h.day&&d.setHours(0),r>=4*h.day&&d.setDate(1),r>=2*h.month&&d.setMonth(b(d.getMonth(),3)),r>=2*h.quarter&&d.setMonth(b(d.getMonth(),6)),r>=h.year&&d.setMonth(0);var s,t=0,u=Number.NaN;do if(s=u,u=d.getTime(),c.push(u),"month"==n||"quarter"==n)if(1>q){d.setDate(1);var v=d.getTime();d.setMonth(d.getMonth()+("quarter"==n?3:1));var w=d.getTime();d.setTime(u+t*h.hour+(w-v)*q),t=d.getHours(),d.setHours(0)}else d.setMonth(d.getMonth()+q*("quarter"==n?3:1));else"year"==n?d.setFullYear(d.getFullYear()+q):d.setTime(u+r);while(u<a.max&&u!=s);return c},d.tickFormatter=function(a,b){var d=e(a,b.options);if(null!=f.timeformat)return c(d,f.timeformat,f.monthNames,f.dayNames);var g,i=b.options.tickSize&&"quarter"==b.options.tickSize[1]||b.options.minTickSize&&"quarter"==b.options.minTickSize[1],j=b.tickSize[0]*h[b.tickSize[1]],k=b.max-b.min,l=f.twelveHourClock?" %p":"",m=f.twelveHourClock?"%I":"%H";g=j<h.minute?m+":%M:%S"+l:j<h.day?k<2*h.day?m+":%M"+l:"%b %d "+m+":%M"+l:j<h.month?"%b %d":i&&j<h.quarter||!i&&j<h.year?k<h.year?"%b":"%b %Y":i&&j<h.year?k<h.year?"Q%q":"Q%q %Y":"%Y";var n=c(d,g,f.monthNames,f.dayNames);return n})})})}var g={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},h={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},i=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],j=i.concat([[3,"month"],[6,"month"],[1,"year"]]),k=i.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);a.plot.plugins.push({init:f,options:g,name:"time",version:"1.0"}),a.plot.formatDate=c,a.plot.dateGenerator=e}(jQuery),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;for(b=+b||0,1/0===Math.abs(b)&&(b=0),0>b&&(b+=c,0>b&&(b=0));c>b;b++)if(this[b]===a)return b;return-1}),function(a){var b={tooltip:!1,tooltipOpts:{content:"%s | X: %x | Y: %y",xDateFormat:null,yDateFormat:null,monthNames:null,dayNames:null,shifts:{x:10,y:20},defaultTheme:!0,onHover:function(){}}},c=function(a){this.tipPosition={x:0,y:0},this.init(a)};c.prototype.init=function(b){function c(a){var b={};b.x=a.pageX,b.y=a.pageY,e.updateTooltipPosition(b)}function d(a,b,c){var d=e.getDomElement();if(c){var f;f=e.stringFormat(e.tooltipOptions.content,c),d.html(f),e.updateTooltipPosition({x:b.pageX,y:b.pageY}),d.css({left:e.tipPosition.x+e.tooltipOptions.shifts.x,top:e.tipPosition.y+e.tooltipOptions.shifts.y}).show(),"function"==typeof e.tooltipOptions.onHover&&e.tooltipOptions.onHover(c,d)}else d.hide().html("")}var e=this,f=a.plot.plugins.length;if(this.plotPlugins=[],f)for(var g=0;f>g;g++)this.plotPlugins.push(a.plot.plugins[g].name);b.hooks.bindEvents.push(function(b,f){if(e.plotOptions=b.getOptions(),e.plotOptions.tooltip!==!1&&"undefined"!=typeof e.plotOptions.tooltip){e.tooltipOptions=e.plotOptions.tooltipOpts;{e.getDomElement()}a(b.getPlaceholder()).bind("plothover",d),a(f).bind("mousemove",c)}}),b.hooks.shutdown.push(function(b,e){a(b.getPlaceholder()).unbind("plothover",d),a(e).unbind("mousemove",c)})},c.prototype.getDomElement=function(){var b;return a("#flotTip").length>0?b=a("#flotTip"):(b=a("<div />").attr("id","flotTip"),b.appendTo("body").hide().css({position:"absolute"}),this.tooltipOptions.defaultTheme&&b.css({background:"#fff","z-index":"1040",padding:"0.4em 0.6em","border-radius":"0.5em","font-size":"0.8em",border:"1px solid #111",display:"none","white-space":"nowrap"})),b},c.prototype.updateTooltipPosition=function(b){var c=a("#flotTip").outerWidth()+this.tooltipOptions.shifts.x,d=a("#flotTip").outerHeight()+this.tooltipOptions.shifts.y;b.x-a(window).scrollLeft()>a(window).innerWidth()-c&&(b.x-=c),b.y-a(window).scrollTop()>a(window).innerHeight()-d&&(b.y-=d),this.tipPosition.x=b.x,this.tipPosition.y=b.y},c.prototype.stringFormat=function(a,b){var c,d,e=/%p\.{0,1}(\d{0,})/,f=/%s/,g=/%lx/,h=/%ly/,i=/%x\.{0,1}(\d{0,})/,j=/%y\.{0,1}(\d{0,})/,k="%x",l="%y";if("undefined"!=typeof b.series.threshold?(c=b.datapoint[0],d=b.datapoint[1]):(c=b.series.data[b.dataIndex][0],d=b.series.data[b.dataIndex][1]),null===b.series.label&&b.series.originSeries&&(b.series.label=b.series.originSeries.label),"function"==typeof a&&(a=a(b.series.label,c,d,b)),"undefined"!=typeof b.series.percent&&(a=this.adjustValPrecision(e,a,b.series.percent)),a="undefined"!=typeof b.series.label?a.replace(f,b.series.label):a.replace(f,""),a=this.hasAxisLabel("xaxis",b)?a.replace(g,b.series.xaxis.options.axisLabel):a.replace(g,""),a=this.hasAxisLabel("yaxis",b)?a.replace(h,b.series.yaxis.options.axisLabel):a.replace(h,""),this.isTimeMode("xaxis",b)&&this.isXDateFormat(b)&&(a=a.replace(i,this.timestampToDate(c,this.tooltipOptions.xDateFormat))),this.isTimeMode("yaxis",b)&&this.isYDateFormat(b)&&(a=a.replace(j,this.timestampToDate(d,this.tooltipOptions.yDateFormat))),"number"==typeof c&&(a=this.adjustValPrecision(i,a,c)),"number"==typeof d&&(a=this.adjustValPrecision(j,a,d)),"undefined"!=typeof b.series.xaxis.ticks){var m;m=this.hasRotatedXAxisTicks(b)?"rotatedTicks":"ticks";var n=b.dataIndex+b.seriesIndex;b.series.xaxis[m].length>n&&!this.isTimeMode("xaxis",b)&&(a=a.replace(i,b.series.xaxis[m][n].label))}if("undefined"!=typeof b.series.yaxis.ticks)for(var o in b.series.yaxis.ticks)if(b.series.yaxis.ticks.hasOwnProperty(o)){var p=this.isCategoriesMode("yaxis",b)?b.series.yaxis.ticks[o].label:b.series.yaxis.ticks[o].v;p===d&&(a=a.replace(j,b.series.yaxis.ticks[o].label))}return"undefined"!=typeof b.series.xaxis.tickFormatter&&(a=a.replace(k,b.series.xaxis.tickFormatter(c,b.series.xaxis).replace(/\$/g,"$$"))),"undefined"!=typeof b.series.yaxis.tickFormatter&&(a=a.replace(l,b.series.yaxis.tickFormatter(d,b.series.yaxis).replace(/\$/g,"$$"))),a},c.prototype.isTimeMode=function(a,b){return"undefined"!=typeof b.series[a].options.mode&&"time"===b.series[a].options.mode},c.prototype.isXDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.xDateFormat&&null!==this.tooltipOptions.xDateFormat},c.prototype.isYDateFormat=function(){return"undefined"!=typeof this.tooltipOptions.yDateFormat&&null!==this.tooltipOptions.yDateFormat},c.prototype.isCategoriesMode=function(a,b){return"undefined"!=typeof b.series[a].options.mode&&"categories"===b.series[a].options.mode},c.prototype.timestampToDate=function(b,c){var d=new Date(1*b);return a.plot.formatDate(d,c,this.tooltipOptions.monthNames,this.tooltipOptions.dayNames)},c.prototype.adjustValPrecision=function(a,b,c){var d,e=b.match(a);return null!==e&&""!==RegExp.$1&&(d=RegExp.$1,c=c.toFixed(d),b=b.replace(a,c)),b},c.prototype.hasAxisLabel=function(a,b){return-1!==this.plotPlugins.indexOf("axisLabels")&&"undefined"!=typeof b.series[a].options.axisLabel&&b.series[a].options.axisLabel.length>0},c.prototype.hasRotatedXAxisTicks=function(b){return 1===a.grep(a.plot.plugins,function(a){return"tickRotor"===a.name}).length&&"undefined"!=typeof b.series.xaxis.rotatedTicks};var d=function(a){new c(a)};a.plot.plugins.push({init:d,options:b,name:"tooltip",version:"0.6.7"})}(jQuery);var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){(c||!hasProp(a,e))&&(!d||"object"!=typeof b||!b||isArray(b)||isFunction(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),mixin(a[e],b,c,d)))}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c,d=a.length;for(b=0;d>b;b++)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(1===b&&(".."===a[2]||".."===a[0]))break;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p=c&&c.split("/"),q=p,r=x.map,s=r&&r["*"];if(a&&"."===a.charAt(0)&&(c?(q=p.slice(0,p.length-1),a=a.split("/"),k=a.length-1,x.nodeIdCompat&&jsSuffixRegExp.test(a[k])&&(a[k]=a[k].replace(jsSuffixRegExp,"")),a=q.concat(a),b(a),a=a.join("/")):0===a.indexOf("./")&&(a=a.substring(2))),d&&r&&(p||s)){g=a.split("/");a:for(h=g.length;h>0;h-=1){if(j=g.slice(0,h).join("/"),p)for(i=p.length;i>0;i-=1)if(f=getOwn(r,p.slice(0,i).join("/")),f&&(f=getOwn(f,j))){l=f,m=h;break a}!n&&s&&getOwn(s,j)&&(n=getOwn(s,j),o=h)}!l&&n&&(l=n,m=o),l&&(g.splice(0,m,l),a=g.join("/"))}return e=getOwn(x.pkgs,a),e?e:a}function d(a){isBrowser&&each(scripts(),function(b){return b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName?(b.parentNode.removeChild(b),!0):void 0})}function e(a){var b=getOwn(x.paths,a);return b&&isArray(b)&&b.length>1?(b.shift(),u.require.undef(a),u.require([a]),!0):void 0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(F+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=getOwn(C,k)),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):c(a,l,e):(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(G+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=getOwn(y,b);return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=getOwn(y,d);!hasProp(C,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(C[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(y,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(apsp.apply(B,[B.length,0].concat(globalDefQueue)),globalDefQueue=[])}function l(a){delete y[a],delete z[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(y,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,C[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c=1e3*x.waitSeconds,f=c&&u.startTime+c<(new Date).getTime(),g=[],h=[],i=!1,k=!0;if(!s){if(s=!0,eachProp(z,function(a){var c=a.map,j=c.id;if(a.enabled&&(c.isDefine||h.push(a),!a.error))if(!a.inited&&f)e(j)?(b=!0,i=!0):(g.push(j),d(j));else if(!a.inited&&a.fetched&&c.isDefine&&(i=!0,!c.prefix))return k=!1}),f&&g.length)return a=makeError("timeout","Load timeout for modules: "+g,null,g),a.contextName=u.contextName,j(a);k&&each(h,function(a){m(a,{},{})}),f&&!b||!i||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){hasProp(C,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();B.length;){if(a=B.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},y={},z={},A={},B=[],C={},D={},E={},F=1,G=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){return a.usingExports=!0,a.map.isDefine?a.exports?C[a.map.id]=a.exports:a.exports=C[a.map.id]={}:void 0},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return getOwn(x.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},t=function(a){this.events=getOwn(A,a.id)||{},this.map=a,this.shim=getOwn(x.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?void u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;D[a]||(D[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{e=u.execCb(c,f,d,e)}catch(g){a=g}else e=u.execCb(c,f,d,e);if(this.map.isDefine&&void 0===e&&(b=this.module,b?e=b.exports:this.usingExports&&(e=this.exports)),a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a)}else e=f;this.exports=e,this.map.isDefine&&!this.ignore&&(C[c]=e,req.onResourceLoad&&req.onResourceLoad(u,this.map,this.depMaps)),l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=getOwn(E,this.map.id),n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=u.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(d.normalize&&(n=d.normalize(n,function(a){return c(a,o,!0)})||""),f=g(a.prefix+"!"+n,this.map.parentMap),i(f,"defined",bind(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=getOwn(y,f.id),void(k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()))):m?(this.map.url=u.nameToUrl(m),void this.load()):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(c,d){var f=a.name,i=g(f),k=useInteractive;d&&(c=d),k&&(useInteractive=!1),h(i),hasProp(x.config,b)&&(x.config[f]=x.config[b]);try{req.exec(c)}catch(l){return j(makeError("fromtexteval","fromText eval for "+b+" failed: "+l,l,[b]))}k&&(useInteractive=!0),this.depMaps.push(i),u.completeLoad(f),p([f],e)}),void d.load(a.name,p,e,x))})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=getOwn(v,a.id))return void(this.depExports[b]=e(this));this.depCount+=1,i(a,"defined",bind(this,function(a){this.defineDep(b,a),this.check()})),this.errback&&i(a,"error",bind(this,this.errback))}c=a.id,d=y[c],hasProp(v,c)||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(y,a.id);b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:C,urlFetched:D,defQueue:B,Module:t,makeModuleMap:g,nextTick:req.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=x.shim,c={paths:!0,bundles:!0,config:!0,map:!0};eachProp(a,function(a,b){c[b]?(x[b]||(x[b]={}),mixin(x[b],a,!0,!0)):x[b]=a}),a.bundles&&eachProp(a.bundles,function(a,b){each(a,function(a){a!==b&&(E[a]=b)})}),a.shim&&(eachProp(a.shim,function(a,c){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=u.makeShimExports(a)),b[c]=a}),x.shim=b),a.packages&&each(a.packages,function(a){var b,c;a="string"==typeof a?{name:a}:a,c=a.name,b=a.location,b&&(x.paths[c]=a.location),x.pkgs[c]=a.name+"/"+(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,e){function f(c,d,i){var k,l,m;return e.enableBuildCallback&&d&&isFunction(d)&&(d.__requireJsBuild=!0),"string"==typeof c?isFunction(d)?j(makeError("requireargs","Invalid require call"),i):b&&hasProp(v,c)?v[c](y[b.id]):req.get?req.get(u,c,b,f):(l=g(c,b,!1,!0),k=l.id,hasProp(C,k)?C[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=e.skipMap,m.init(c,d,i,{enabled:!0}),n()}),f)}return e=e||{},mixin(f,{isBrowser:isBrowser,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return-1!==e&&(!g||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),u.nameToUrl(c(a,b&&b.id,!0),d,!0)},defined:function(a){return hasProp(C,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(C,a)||hasProp(y,a)}}),b||(f.undef=function(a){k();var c=g(a,b,!0),e=getOwn(y,a);d(a),delete C[a],delete D[c.url],delete A[a],eachReverse(B,function(b,c){b[0]===a&&B.splice(c,1)}),e&&(e.events.defined&&(A[a]=e.events),l(a))}),f},enable:function(a){var b=getOwn(y,a.id);b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=getOwn(x.shim,a)||{},g=f.exports;for(k();B.length;){if(c=B.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(d=getOwn(y,a),!b&&!hasProp(C,a)&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b,c){var d,e,f,g,h,i,j,k=getOwn(x.pkgs,a);if(k&&(a=k),j=getOwn(E,a))return u.nameToUrl(j,b,c);if(req.jsExtRegExp.test(a))h=a+(b||"");else{for(d=x.paths,e=a.split("/"),f=e.length;f>0;f-=1)if(g=e.slice(0,f).join("/"),i=getOwn(d,g)){isArray(i)&&(i=i[0]),e.splice(0,f,i);break}h=e.join("/"),h+=b||(/^data\:|\?/.test(h)||c?"":".js"),h=("/"===h.charAt(0)||h.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+h}return x.urlArgs?h+((-1===h.indexOf("?")?"?":"&")+x.urlArgs):h},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);return e(b.id)?void 0:j(makeError("scripterror","Script error for: "+b.id,a,[b.id]))}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){return"interactive"===a.readyState?interactiveScript=a:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.11",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a){var b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return b.type=a.scriptType||"text/javascript",b.charset="utf-8",b.async=!0,b},req.load=function(a,b,c){var d,e=a&&a.config||{};if(isBrowser)return d=req.createNode(e,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d;if(isWebWorker)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(a){return head||(head=a.parentNode),dataMain=a.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),(e?e.defQueue:globalDefQueue).push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this);var EasyPieChart=function(a,b){var c={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(a,b,c,d,e){return b/=e/2,1>b?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},onStart:function(){},onStep:function(){},onStop:function(){}};if("undefined"!=typeof CanvasRenderer)c.renderer=CanvasRenderer;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");c.renderer=SVGRenderer}var d={},e=0,f=function(){this.el=a,this.options=d;for(var f in c)c.hasOwnProperty(f)&&(d[f]=b&&"undefined"!=typeof b[f]?b[f]:c[f],"function"==typeof d[f]&&(d[f]=d[f].bind(this)));d.easing="string"==typeof d.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[d.easing])?jQuery.easing[d.easing]:c.easing,"number"==typeof d.animate&&(d.animate={duration:d.animate,enabled:!0}),"boolean"!=typeof d.animate||d.animate||(d.animate={duration:1e3,enabled:d.animate}),this.renderer=new d.renderer(a,d),this.renderer._draw(e),a.dataset&&a.dataset.percent?this.update(parseFloat(a.dataset.percent)):a.getAttribute&&a.getAttribute("data-percent")&&this.update(parseFloat(a.getAttribute("data-percent")))}.bind(this);this.update=function(a){return a=parseFloat(a),d.animate.enabled?this.renderer.animate(e,a):this.renderer._draw(a),e=a,this}.bind(this),this.disableAnimation=function(){return d.animate.enabled=!1,this},this.enableAnimation=function(){return d.animate.enabled=!0,this},f()};!function(a){"use strict";return a.module("easypiechart",[]).directive("easypiechart",[function(){return{restrict:"A",require:"?ngModel",scope:{percent:"=",options:"="},link:function(b,c){b.percent=b.percent||0;var d={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",width:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0}};b.options=a.extend(d,b.options);var e=new EasyPieChart(c[0],d);b.$watch("percent",function(a){e.update(a)})}}}])}(angular);var CanvasRenderer=function(a,b){var c,d=document.createElement("canvas");a.appendChild(d),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(d);var e=d.getContext("2d");d.width=d.height=b.size;var f=1;window.devicePixelRatio>1&&(f=window.devicePixelRatio,d.style.width=d.style.height=[b.size,"px"].join(""),d.width=d.height=b.size*f,e.scale(f,f)),e.translate(b.size/2,b.size/2),e.rotate((-0.5+b.rotate/180)*Math.PI);var g=(b.size-b.width)/2;b.scaleColor&&b.scaleLength&&(g-=b.scaleLength+2),Date.now=Date.now||function(){return+new Date};var h=function(a,b,c){c=Math.min(Math.max(-1,c||0),1);var d=0>=c?!0:!1;e.beginPath(),e.arc(0,0,g,0,2*Math.PI*c,d),e.color=a,e.width=b,e.stroke()},i=function(){var a,c;e.width=1,e.fillStyle=b.scaleColor,e.save();for(var d=24;d>0;--d)d%6===0?(c=b.scaleLength,a=0):(c=.6*b.scaleLength,a=b.scaleLength-c),e.fillRect(-b.size/2+a,0,c,1),e.rotate(Math.PI/12);e.restore()},j=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),k=function(){b.scaleColor&&i(),b.trackColor&&h(b.trackColor,b.width,1)};this.getCanvas=function(){return d},this.getCtx=function(){return e},this.clear=function(){e.clearRect(b.size/-2,b.size/-2,b.size,b.size)},this._draw=function(a){b.scaleColor||b.trackColor?e.getImageData&&e.putImageData?c?e.putImageData(c,0,0):(k(),c=e.getImageData(0,0,b.size*f,b.size*f)):(this.clear(),k()):this.clear(),e.lineCap=b.lineCap;var d;d="function"==typeof b.barColor?b.barColor(a):b.barColor,h(d,b.width,a/100)}.bind(this),this.animate=function(a,c){var d=Date.now();b.onStart(a,c);var e=function(){var f=Math.min(Date.now()-d,b.animate.duration),g=b.easing(this,f,a,c-a,b.animate.duration);this._draw(g),b.onStep(a,c,g),f>=b.animate.duration?b.onStop(a,c):j(e)}.bind(this);j(e)}.bind(this)};(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s={}.hasOwnProperty,t=function(a,b){function c(){this.constructor=a}for(var d in b)s.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a};!function(){var a,b,c,d,e,f,g;for(e=["ms","moz","webkit","o"],f=0,g=e.length;g>f&&(d=e[f],!window.requestAnimationFrame);f++)window.requestAnimationFrame=window[d+"RequestAnimationFrame"],window.cancelAnimationFrame=window[d+"CancelAnimationFrame"]||window[d+"CancelRequestAnimationFrame"];return a=null,c=0,b={},requestAnimationFrame?window.cancelAnimationFrame?void 0:(a=window.requestAnimationFrame,window.requestAnimationFrame=function(d,e){var f;return f=++c,a(function(){return b[f]?void 0:d()},e),f},window.cancelAnimationFrame=function(a){return b[a]=!0}):(window.requestAnimationFrame=function(a){var b,c,d,e;return b=(new Date).getTime(),e=Math.max(0,16-(b-d)),c=window.setTimeout(function(){return a(b+e)},e),d=b+e,c},window.cancelAnimationFrame=function(a){return clearTimeout(a)})}(),String.prototype.hashCode=function(){var a,b,c,d,e;
if(b=0,0===this.length)return b;for(c=d=0,e=this.length;e>=0?e>d:d>e;c=e>=0?++d:--d)a=this.charCodeAt(c),b=(b<<5)-b+a,b&=b;return b},o=function(a){var b,c;for(b=Math.floor(a/3600),c=Math.floor((a-3600*b)/60),a-=3600*b+60*c,a+="",c+="";c.length<2;)c="0"+c;for(;a.length<2;)a="0"+a;return b=b?b+":":"",b+c+":"+a},m=function(a){return k(a.toFixed(0))},p=function(a,b){var c,d;for(c in b)s.call(b,c)&&(d=b[c],a[c]=d);return a},n=function(a,b){var c,d,e;d={};for(c in a)s.call(a,c)&&(e=a[c],d[c]=e);for(c in b)s.call(b,c)&&(e=b[c],d[c]=e);return d},k=function(a){var b,c,d,e;for(a+="",c=a.split("."),d=c[0],e="",c.length>1&&(e="."+c[1]),b=/(\d+)(\d{3})/;b.test(d);)d=d.replace(b,"$1,$2");return d+e},l=function(a){return"#"===a.charAt(0)?a.substring(1,7):a},j=function(){function a(a,b){null==a&&(a=!0),this.clear=null!=b?b:!0,a&&AnimationUpdater.add(this)}return a.prototype.animationSpeed=32,a.prototype.update=function(a){var b;return null==a&&(a=!1),a||this.displayedValue!==this.value?(this.ctx&&this.clear&&this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),b=this.value-this.displayedValue,this.displayedValue=Math.abs(b/this.animationSpeed)<=.001?this.value:this.displayedValue+b/this.animationSpeed,this.render(),!0):!1},a}(),e=function(a){function b(){return q=b.__super__.constructor.apply(this,arguments)}return t(b,a),b.prototype.displayScale=1,b.prototype.setTextField=function(a){return this.textField=a instanceof i?a:new i(a)},b.prototype.setMinValue=function(a,b){var c,d,e,f,g;if(this.minValue=a,null==b&&(b=!0),b){for(this.displayedValue=this.minValue,f=this.gp||[],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.displayedValue=this.minValue);return g}},b.prototype.setOptions=function(a){return null==a&&(a=null),this.options=n(this.options,a),this.textField&&(this.textField.el.style.fontSize=a.fontSize+"px"),this.options.angle>.5&&(this.gauge.options.angle=.5),this.configDisplayScale(),this},b.prototype.configDisplayScale=function(){var a,b,c,d,e;return d=this.displayScale,this.options.highDpiSupport===!1?delete this.displayScale:(b=window.devicePixelRatio||1,a=this.ctx.webkitBackingStorePixelRatio||this.ctx.mozBackingStorePixelRatio||this.ctx.msBackingStorePixelRatio||this.ctx.oBackingStorePixelRatio||this.ctx.backingStorePixelRatio||1,this.displayScale=b/a),this.displayScale!==d&&(e=this.canvas.G__width||this.canvas.width,c=this.canvas.G__height||this.canvas.height,this.canvas.width=e*this.displayScale,this.canvas.height=c*this.displayScale,this.canvas.style.width=""+e+"px",this.canvas.style.height=""+c+"px",this.canvas.G__width=e,this.canvas.G__height=c),this},b}(j),i=function(){function a(a){this.el=a}return a.prototype.render=function(a){return this.el.innerHTML=m(a.displayedValue)},a}(),a=function(a){function b(a,b){this.elem=a,this.text=null!=b?b:!1,this.value=1*this.elem.innerHTML,this.text&&(this.value=0)}return t(b,a),b.prototype.displayedValue=0,b.prototype.value=0,b.prototype.setVal=function(a){return this.value=1*a},b.prototype.render=function(){var a;return a=this.text?o(this.displayedValue.toFixed(0)):k(m(this.displayedValue)),this.elem.innerHTML=a},b}(j),b={create:function(b){var c,d,e,f;for(d=[],e=0,f=b.length;f>e;e++)c=b[e],d.push(new a(c));return d}},h=function(a){function b(a){this.gauge=a,this.ctx=this.gauge.ctx,this.canvas=this.gauge.canvas,b.__super__.constructor.call(this,!1,!1),this.setOptions()}return t(b,a),b.prototype.displayedValue=0,b.prototype.value=0,b.prototype.options={strokeWidth:.035,length:.1,color:"#000000"},b.prototype.setOptions=function(a){return null==a&&(a=null),p(this.options,a),this.length=this.canvas.height*this.options.length,this.strokeWidth=this.canvas.height*this.options.strokeWidth,this.maxValue=this.gauge.maxValue,this.minValue=this.gauge.minValue,this.animationSpeed=this.gauge.animationSpeed,this.options.angle=this.gauge.options.angle},b.prototype.render=function(){var a,b,c,d,e,f,g,h,i;return a=this.gauge.getAngle.call(this,this.displayedValue),b=this.canvas.width/2,c=.9*this.canvas.height,h=Math.round(b+this.length*Math.cos(a)),i=Math.round(c+this.length*Math.sin(a)),f=Math.round(b+this.strokeWidth*Math.cos(a-Math.PI/2)),g=Math.round(c+this.strokeWidth*Math.sin(a-Math.PI/2)),d=Math.round(b+this.strokeWidth*Math.cos(a+Math.PI/2)),e=Math.round(c+this.strokeWidth*Math.sin(a+Math.PI/2)),this.ctx.fillStyle=this.options.color,this.ctx.beginPath(),this.ctx.arc(b,c,this.strokeWidth,0,2*Math.PI,!0),this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(f,g),this.ctx.lineTo(h,i),this.ctx.lineTo(d,e),this.ctx.fill()},b}(j),c=function(){function a(a){this.elem=a}return a.prototype.updateValues=function(a){return this.value=a[0],this.maxValue=a[1],this.avgValue=a[2],this.render()},a.prototype.render=function(){var a,b;return this.textField&&this.textField.text(m(this.value)),0===this.maxValue&&(this.maxValue=2*this.avgValue),b=this.value/this.maxValue*100,a=this.avgValue/this.maxValue*100,$(".bar-value",this.elem).css({width:b+"%"}),$(".typical-value",this.elem).css({width:a+"%"})},a}(),g=function(a){function b(a){this.canvas=a,b.__super__.constructor.call(this),this.percentColors=null,"undefined"!=typeof G_vmlCanvasManager&&(this.canvas=window.G_vmlCanvasManager.initElement(this.canvas)),this.ctx=this.canvas.getContext("2d"),this.gp=[new h(this)],this.setOptions(),this.render()}return t(b,a),b.prototype.elem=null,b.prototype.value=[20],b.prototype.maxValue=80,b.prototype.minValue=0,b.prototype.displayedAngle=0,b.prototype.displayedValue=0,b.prototype.width=40,b.prototype.paddingBottom=.1,b.prototype.percentColors=null,b.prototype.options={colorStart:"#6fadcf",colorStop:void 0,gradientType:0,strokeColor:"#e0e0e0",pointer:{length:.8,strokeWidth:.035},angle:.15,lineWidth:.44,fontSize:40,limitMax:!1},b.prototype.setOptions=function(a){var c,d,e,f;for(null==a&&(a=null),b.__super__.setOptions.call(this,a),this.configPercentColors(),this.width=this.canvas.height*(1-this.paddingBottom)*this.options.width,this.radius=this.canvas.height*(1-this.paddingBottom)-this.width,this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.render(),f=this.gp,d=0,e=f.length;e>d;d++)c=f[d],c.setOptions(this.options.pointer),c.render();return this},b.prototype.configPercentColors=function(){var a,b,c,d,e,f,g;if(this.percentColors=null,void 0!==this.options.percentColors){for(this.percentColors=new Array,g=[],c=e=0,f=this.options.percentColors.length-1;f>=0?f>=e:e>=f;c=f>=0?++e:--e)d=parseInt(l(this.options.percentColors[c][1]).substring(0,2),16),b=parseInt(l(this.options.percentColors[c][1]).substring(2,4),16),a=parseInt(l(this.options.percentColors[c][1]).substring(4,6),16),g.push(this.percentColors[c]={pct:this.options.percentColors[c][0],color:{r:d,g:b,b:a}});return g}},b.prototype.set=function(a){var b,c,d,e,f,g,i;if(a instanceof Array||(a=[a]),a.length>this.gp.length)for(b=e=0,i=a.length-this.gp.length;i>=0?i>e:e>i;b=i>=0?++e:--e)this.gp.push(new h(this));for(b=0,c=!1,f=0,g=a.length;g>f;f++)d=a[f],d>this.maxValue&&(this.maxValue=1.1*this.value,c=!0),this.gp[b].value=d,this.gp[b++].setOptions({maxValue:this.maxValue,angle:this.options.angle});return this.value=a[a.length-1],c&&this.options.limitMax?void 0:AnimationUpdater.run()},b.prototype.getAngle=function(a){return(1+this.options.angle)*Math.PI+(a-this.minValue)/(this.maxValue-this.minValue)*(1-2*this.options.angle)*Math.PI},b.prototype.getColorForPercentage=function(a,b){var c,d,e,f,g,h,i;if(0===a)c=this.percentColors[0].color;else for(c=this.percentColors[this.percentColors.length-1].color,e=h=0,i=this.percentColors.length-1;i>=0?i>=h:h>=i;e=i>=0?++h:--h)if(a<=this.percentColors[e].pct){b===!0?(g=this.percentColors[e-1],d=this.percentColors[e],f=(a-g.pct)/(d.pct-g.pct),c={r:Math.floor(g.color.r*(1-f)+d.color.r*f),g:Math.floor(g.color.g*(1-f)+d.color.g*f),b:Math.floor(g.color.b*(1-f)+d.color.b*f)}):c=this.percentColors[e].color;break}return"rgb("+[c.r,c.g,c.b].join(",")+")"},b.prototype.getColorForValue=function(a,b){var c;return c=(a-this.minValue)/(this.maxValue-this.minValue),this.getColorForPercentage(c,b)},b.prototype.render=function(){var a,b,c,d,e,f,g,h,i;for(e=this.canvas.width/2,d=this.canvas.height*(1-this.paddingBottom),a=this.getAngle(this.displayedValue),this.textField&&this.textField.render(this),this.ctx.lineCap="butt",void 0!==this.options.customFillStyle?b=this.options.customFillStyle(this):null!==this.percentColors?b=this.getColorForValue(this.displayedValue,!0):void 0!==this.options.colorStop?(b=0===this.options.gradientType?this.ctx.createRadialGradient(e,d,9,e,d,70):this.ctx.createLinearGradient(0,0,e,0),b.addColorStop(0,this.options.colorStart),b.addColorStop(1,this.options.colorStop)):b=this.options.colorStart,this.ctx.color=b,this.ctx.beginPath(),this.ctx.arc(e,d,this.radius,(1+this.options.angle)*Math.PI,a,!1),this.ctx.width=this.width,this.ctx.stroke(),this.ctx.color=this.options.strokeColor,this.ctx.beginPath(),this.ctx.arc(e,d,this.radius,a,(2-this.options.angle)*Math.PI,!1),this.ctx.stroke(),h=this.gp,i=[],f=0,g=h.length;g>f;f++)c=h[f],i.push(c.update(!0));return i},b}(e),d=function(a){function b(a){this.canvas=a,b.__super__.constructor.call(this),"undefined"!=typeof G_vmlCanvasManager&&(this.canvas=window.G_vmlCanvasManager.initElement(this.canvas)),this.ctx=this.canvas.getContext("2d"),this.setOptions(),this.render()}return t(b,a),b.prototype.width=15,b.prototype.displayedValue=0,b.prototype.value=33,b.prototype.maxValue=80,b.prototype.minValue=0,b.prototype.options={lineWidth:.1,colorStart:"#6f6ea0",colorStop:"#c0c0db",strokeColor:"#eeeeee",shadowColor:"#d5d5d5",angle:.35},b.prototype.getAngle=function(a){return(1-this.options.angle)*Math.PI+(a-this.minValue)/(this.maxValue-this.minValue)*(2+this.options.angle-(1-this.options.angle))*Math.PI},b.prototype.setOptions=function(a){return null==a&&(a=null),b.__super__.setOptions.call(this,a),this.width=this.canvas.height*this.options.width,this.radius=this.canvas.height/2-this.width/2,this},b.prototype.set=function(a){return this.value=a,this.value>this.maxValue&&(this.maxValue=1.1*this.value),AnimationUpdater.run()},b.prototype.render=function(){var a,b,c,d,e,f;return a=this.getAngle(this.displayedValue),f=this.canvas.width/2,c=this.canvas.height/2,this.textField&&this.textField.render(this),b=this.ctx.createRadialGradient(f,c,39,f,c,70),b.addColorStop(0,this.options.colorStart),b.addColorStop(1,this.options.colorStop),d=this.radius-this.width/2,e=this.radius+this.width/2,this.ctx.color=this.options.strokeColor,this.ctx.beginPath(),this.ctx.arc(f,c,this.radius,(1-this.options.angle)*Math.PI,(2+this.options.angle)*Math.PI,!1),this.ctx.width=this.width,this.ctx.lineCap="round",this.ctx.stroke(),this.ctx.color=b,this.ctx.beginPath(),this.ctx.arc(f,c,this.radius,(1-this.options.angle)*Math.PI,a,!1),this.ctx.stroke()},b}(e),f=function(a){function b(){return r=b.__super__.constructor.apply(this,arguments)}return t(b,a),b.prototype.strokeGradient=function(a,b,c,d){var e;return e=this.ctx.createRadialGradient(a,b,c,a,b,d),e.addColorStop(0,this.options.shadowColor),e.addColorStop(.12,this.options._orgStrokeColor),e.addColorStop(.88,this.options._orgStrokeColor),e.addColorStop(1,this.options.shadowColor),e},b.prototype.setOptions=function(a){var c,d,e,f;return null==a&&(a=null),b.__super__.setOptions.call(this,a),f=this.canvas.width/2,c=this.canvas.height/2,d=this.radius-this.width/2,e=this.radius+this.width/2,this.options._orgStrokeColor=this.options.strokeColor,this.options.strokeColor=this.strokeGradient(f,c,d,e),this},b}(d),window.AnimationUpdater={elements:[],animId:null,addAll:function(a){var b,c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(AnimationUpdater.elements.push(b));return e},add:function(a){return AnimationUpdater.elements.push(a)},run:function(){var a,b,c,d,e;for(a=!0,e=AnimationUpdater.elements,c=0,d=e.length;d>c;c++)b=e[c],b.update()&&(a=!1);return a?cancelAnimationFrame(AnimationUpdater.animId):AnimationUpdater.animId=requestAnimationFrame(AnimationUpdater.run)}},window.Gauge=g,window.Donut=f,window.BaseDonut=d,window.TextRenderer=i}).call(this),function(a,b){"use strict";function c(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return f(b,i(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function d(a){var c=[],d=i(c,b.noop);return d.chars(a),c.join("")}function e(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function f(a,c){function d(a,d,f,h){if(d=b.lowercase(d),x[d])for(;s.last()&&y[s.last()];)e("",s.last());w[d]&&s.last()==d&&e("",d),h=t[d]||!!h,h||s.push(d);var i={};f.replace(m,function(a,b,c,d,e){var f=c||d||e||"";i[b]=g(f)}),c.start&&c.start(d,i,h)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=s.length-1;f>=0&&s[f]!=d;f--);if(f>=0){for(e=s.length-1;e>=f;e--)c.end&&c.end(s[e]);s.length=f}}var f,h,i,s=[],u=a;for(s.last=function(){return s[s.length-1]};a;){if(h=!0,s.last()&&z[s.last()])a=a.replace(new RegExp("(.*)<\\s*\\/\\s*"+s.last()+"[^>]*>","i"),function(a,b){return b=b.replace(p,"$1").replace(r,"$1"),c.chars&&c.chars(g(b)),""}),e("",s.last());else if(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),h=!1)):q.test(a)?(i=a.match(q),i&&(a=a.replace(i[0],""),h=!1)):o.test(a)?(i=a.match(l),i&&(a=a.substring(i[0].length),i[0].replace(l,e),h=!1)):n.test(a)&&(i=a.match(k),i&&(a=a.substring(i[0].length),i[0].replace(k,d),h=!1)),h){f=a.indexOf("<");var v=0>f?a:a.substring(0,f);a=0>f?"":a.substring(f),c.chars&&c.chars(g(v))}if(a==u)throw j("badparse","The sanitizer was unable to parse the following block of html: {0}",a);u=a}e()}function g(a){if(!a)return"";var b=E.exec(a),c=b[1],d=b[3],e=b[2];return e&&(D.innerHTML=e.replace(/</g,"&lt;"),e="textContent"in D?D.textContent:D.innerText),c+e+d}function h(a){return a.replace(/&/g,"&amp;").replace(s,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&z[a]&&(d=a),d||A[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),i="img"===a&&"src"===g||"background"===g;C[g]!==!0||B[g]===!0&&!c(d,i)||(e(" "),e(f),e('="'),e(h(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||A[a]!==!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(h(a))}}}var j=b.$$minErr("$sanitize"),k=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,l=/^<\s*\/\s*([\w:-]+)[^>]*>/,m=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,n=/^</,o=/^<\s*\//,p=/<!--(.*?)-->/g,q=/<!DOCTYPE([^>]*?)>/i,r=/<!\[CDATA\[(.*?)]]>/g,s=/([^\#-~| |!])/g,t=e("area,br,col,hr,img,wbr"),u=e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v=e("rp,rt"),w=b.extend({},v,u),x=b.extend({},u,e("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),y=b.extend({},v,e("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),z=e("script,style"),A=b.extend({},t,x,y,w),B=e("background,cite,href,longdesc,src,usemap"),C=b.extend({},B,e("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),D=document.createElement("pre"),E=/^(\s*)([\s\S]*?)(\s*)$/;b.module("ngSanitize",[]).provider("$sanitize",c),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,e=/^mailto:/;return function(f,g){function h(a){a&&n.push(d(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&(n.push('target="'),n.push(g),n.push('" ')),n.push('href="'),n.push(a),n.push('">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]==j[3]&&(k="mailto:"+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(e,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),function(){"Use Strict";function a(a,b){if(!a||""===a||c.hasOwnProperty(a))throw"textAngular Error: A unique name is required for a Tool Definition";if(b.display&&(""===b.display||0===angular.element(b.display).length)||!b.display&&!b.buttontext&&!b.iconclass)throw'textAngular Error: Tool Definition for "'+a+'" does not have a valid display/iconclass/buttontext value';c[a]=b}var b=angular.module("textAngular",["ngSanitize"]);b.value("taOptions",{toolbar:[["h1","h2","h3","h4","h5","h6","p","pre","quote"],["bold","italics","underline","ul","ol","redo","undo","clear"],["justifyLeft","justifyCenter","justifyRight"],["html","insertImage","insertLink","unlink"]],classes:{focussed:"focussed",toolbar:"btn-toolbar",toolbarGroup:"btn-group",toolbarButton:"btn btn-default",toolbarButtonActive:"active",disabled:"disabled",textEditor:"form-control",htmlEditor:"form-control"},setup:{textEditorSetup:function(){},htmlEditorSetup:function(){}}});var c={};b.constant("taRegisterTool",a),b.value("taTools",c),b.config(["taRegisterTool",function(a){angular.forEach(c,function(a,b){delete c[b]}),a("html",{buttontext:"Toggle HTML",action:function(){this.$editor().switchView()},activeState:function(){return this.$editor().showHtml}});var b=function(a){return function(){return this.$editor().queryFormatBlockState(a)}},d=function(){return this.$editor().wrapSelection("formatBlock","<"+this.name.toUpperCase()+">")};angular.forEach(["h1","h2","h3","h4","h5","h6"],function(c){a(c.toLowerCase(),{buttontext:c.toUpperCase(),action:d,activeState:b(c.toLowerCase())})}),a("p",{buttontext:"P",action:function(){return this.$editor().wrapSelection("formatBlock","<P>")},activeState:function(){return this.$editor().queryFormatBlockState("p")}}),a("pre",{buttontext:"pre",action:function(){return this.$editor().wrapSelection("formatBlock","<PRE>")},activeState:function(){return this.$editor().queryFormatBlockState("pre")}}),a("ul",{iconclass:"fa fa-list-ul",action:function(){return this.$editor().wrapSelection("insertUnorderedList",null)},activeState:function(){return document.queryCommandState("insertUnorderedList")}}),a("ol",{iconclass:"fa fa-list-ol",action:function(){return this.$editor().wrapSelection("insertOrderedList",null)},activeState:function(){return document.queryCommandState("insertOrderedList")}}),a("quote",{iconclass:"fa fa-quote-right",action:function(){return this.$editor().wrapSelection("formatBlock","<BLOCKQUOTE>")},activeState:function(){return this.$editor().queryFormatBlockState("blockquote")}}),a("undo",{iconclass:"fa fa-undo",action:function(){return this.$editor().wrapSelection("undo",null)}}),a("redo",{iconclass:"fa fa-repeat",action:function(){return this.$editor().wrapSelection("redo",null)}}),a("bold",{iconclass:"fa fa-bold",action:function(){return this.$editor().wrapSelection("bold",null)},activeState:function(){return document.queryCommandState("bold")},commandKeyCode:98}),a("justifyLeft",{iconclass:"fa fa-align-left",action:function(){return this.$editor().wrapSelection("justifyLeft",null)},activeState:function(a){var b=!1;return a&&(b="left"===a.css("text-align")||"left"===a.attr("align")||"right"!==a.css("text-align")&&"center"!==a.css("text-align")&&!document.queryCommandState("justifyRight")&&!document.queryCommandState("justifyCenter")),b=b||document.queryCommandState("justifyLeft")}}),a("justifyRight",{iconclass:"fa fa-align-right",action:function(){return this.$editor().wrapSelection("justifyRight",null)},activeState:function(a){var b=!1;return a&&(b="right"===a.css("text-align")),b=b||document.queryCommandState("justifyRight")}}),a("justifyCenter",{iconclass:"fa fa-align-center",action:function(){return this.$editor().wrapSelection("justifyCenter",null)},activeState:function(a){var b=!1;return a&&(b="center"===a.css("text-align")),b=b||document.queryCommandState("justifyCenter")}}),a("italics",{iconclass:"fa fa-italic",action:function(){return this.$editor().wrapSelection("italic",null)},activeState:function(){return document.queryCommandState("italic")},commandKeyCode:105}),a("underline",{iconclass:"fa fa-underline",action:function(){return this.$editor().wrapSelection("underline",null)},activeState:function(){return document.queryCommandState("underline")},commandKeyCode:117}),a("clear",{iconclass:"fa fa-ban",action:function(){return this.$editor().wrapSelection("removeFormat",null)}}),a("insertImage",{iconclass:"fa fa-picture-o",action:function(){var a;return a=prompt("Please enter an image URL to insert","http://"),""!==a&&"http://"!==a?this.$editor().wrapSelection("insertImage",a):void 0}}),a("insertLink",{iconclass:"fa fa-link",action:function(){var a;return a=prompt("Please enter an URL to insert","http://"),""!==a&&"http://"!==a?this.$editor().wrapSelection("createLink",a):void 0},activeState:function(a){return a?"A"===a[0].tagName:!1}}),a("unlink",{iconclass:"fa fa-unlink",action:function(){return this.$editor().wrapSelection("unlink",null)},activeState:function(a){return a?"A"===a[0].tagName:!1}})}]),b.directive("textAngular",["$compile","$timeout","taOptions","taSanitize","textAngularManager",function(a,b,c,d,e){return{require:"?ngModel",scope:{},restrict:"EA",link:function(d,f,g,h){var i,j,k,l,m,n,o,p,q=Math.floor(1e16*Math.random()),r=g.name?g.name:"textAngularEditor"+q;angular.extend(d,angular.copy(c),{wrapSelection:function(a,b){try{document.execCommand(a,!1,b)}catch(c){}d.displayElements.text[0].focus()},showHtml:!1}),g.taFocussedClass&&(d.classes.focussed=g.taFocussedClass),g.taTextEditorClass&&(d.classes.textEditor=g.taTextEditorClass),g.taHtmlEditorClass&&(d.classes.htmlEditor=g.taHtmlEditorClass),g.taTextEditorSetup&&(d.setup.textEditorSetup=d.$parent.$eval(g.taTextEditorSetup)),g.taHtmlEditorSetup&&(d.setup.htmlEditorSetup=d.$parent.$eval(g.taHtmlEditorSetup)),o=f[0].innerHTML,f[0].innerHTML="",d.displayElements={forminput:angular.element("<input type='hidden' tabindex='-1' style='display: none;'>"),html:angular.element("<textarea></textarea>"),text:angular.element("<div></div>")},d.setup.htmlEditorSetup(d.displayElements.html),d.setup.textEditorSetup(d.displayElements.text),d.displayElements.html.attr({id:"taHtmlElement","ng-show":"showHtml","ta-bind":"ta-bind","ng-model":"html"}),d.displayElements.text.attr({id:"taTextElement",contentEditable:"true","ng-hide":"showHtml","ta-bind":"ta-bind","ng-model":"html"}),f.append(d.displayElements.text),f.append(d.displayElements.html),d.displayElements.forminput.attr("name",r),f.append(d.displayElements.forminput),g.tabindex&&(d.displayElements.text.attr("tabindex",g.tabindex),d.displayElements.html.attr("tabindex",g.tabindex)),g.placeholder&&(d.displayElements.text.attr("placeholder",g.placeholder),d.displayElements.html.attr("placeholder",g.placeholder)),g.taDisabled&&(d.displayElements.text.attr("ta-readonly","disabled"),d.displayElements.html.attr("ta-readonly","disabled"),d.disabled=d.$parent.$eval(g.taDisabled),d.$parent.$watch(g.taDisabled,function(a){d.disabled=a,d.disabled?f.addClass(d.classes.disabled):f.removeClass(d.classes.disabled)})),a(d.displayElements.text)(d),a(d.displayElements.html)(d),f.addClass("ta-root"),d.displayElements.text.addClass("ta-text ta-editor "+d.classes.textEditor),d.displayElements.html.addClass("ta-html ta-editor "+d.classes.textEditor),d._actionRunning=!1;var s=!1;if(d.startAction=function(){return d._actionRunning=!0,window.rangy&&window.rangy.saveSelection?(s=window.rangy.saveSelection(),function(){s&&window.rangy.restoreSelection(s)}):void 0},d.endAction=function(){d._actionRunning=!1,s&&rangy.removeMarkers(s),s=!1,d.updateSelectedStyles(),d.showHtml||d.updateTaBindtaTextElement()},m=function(){f.addClass(d.classes.focussed),p.focus()},d.displayElements.html.on("focus",m),d.displayElements.text.on("focus",m),n=function(a){return b(function(){d._actionRunning||document.activeElement===d.displayElements.html[0]||document.activeElement===d.displayElements.text[0]||(f.removeClass(d.classes.focussed),p.unfocus(),b(function(){f.triggerHandler("blur")},0))},100),a.preventDefault(),!1},d.displayElements.html.on("blur",n),d.displayElements.text.on("blur",n),d.queryFormatBlockState=function(a){return a.toLowerCase()===document.queryCommandValue("formatBlock").toLowerCase()},d.switchView=function(){d.showHtml=!d.showHtml,d.showHtml?b(function(){return d.displayElements.html[0].focus()},100):b(function(){return d.displayElements.text[0].focus()},100)},g.ngModel){var t=!0;h.$render=function(){if(t){t=!1;var a=d.$parent.$eval(g.ngModel);void 0!==a&&null!==a||!o||""===o||h.$setViewValue(o)}d.displayElements.forminput.val(h.$viewValue),document.activeElement!==d.displayElements.html[0]&&document.activeElement!==d.displayElements.text[0]&&(d.html=h.$viewValue||"")}}else d.displayElements.forminput.val(o),d.html=o;if(d.$watch("html",function(a,b){a!==b&&(g.ngModel&&h.$setViewValue(a),d.displayElements.forminput.val(a))}),g.taTargetToolbars)p=e.registerEditor(r,d,g.taTargetToolbars.split(","));else{var u=angular.element('<div text-angular-toolbar name="textAngularToolbar'+q+'">');g.taToolbar&&u.attr("ta-toolbar",g.taToolbar),g.taToolbarClass&&u.attr("ta-toolbar-class",g.taToolbarClass),g.taToolbarGroupClass&&u.attr("ta-toolbar-group-class",g.taToolbarGroupClass),g.taToolbarButtonClass&&u.attr("ta-toolbar-button-class",g.taToolbarButtonClass),g.taToolbarActiveButtonClass&&u.attr("ta-toolbar-active-button-class",g.taToolbarActiveButtonClass),g.taFocussedClass&&u.attr("ta-focussed-class",g.taFocussedClass),f.prepend(u),a(u)(d.$parent),p=e.registerEditor(r,d,["textAngularToolbar"+q])}d.$on("$destroy",function(){e.unregisterEditor(r)}),d._bUpdateSelectedStyles=!1,d.updateSelectedStyles=function(){var a;window.rangy&&window.rangy.getSelection&&1===(a=window.rangy.getSelection().getAllRanges()).length&&a[0].commonAncestorContainer.parentNode!==d.displayElements.text[0]?p.updateSelectedStyles(angular.element(a[0].commonAncestorContainer.parentNode)):p.updateSelectedStyles(),d._bUpdateSelectedStyles&&b(d.updateSelectedStyles,200)},i=function(){d._bUpdateSelectedStyles||(d._bUpdateSelectedStyles=!0,d.$apply(function(){d.updateSelectedStyles()}))},d.displayElements.html.on("keydown",i),d.displayElements.text.on("keydown",i),j=function(){d._bUpdateSelectedStyles=!1},d.displayElements.html.on("keyup",j),d.displayElements.text.on("keyup",j),k=function(a){d.$apply(function(){return p.sendKeyCommand(a)?(d._bUpdateSelectedStyles||d.updateSelectedStyles(),a.preventDefault(),!1):void 0})},d.displayElements.html.on("keypress",k),d.displayElements.text.on("keypress",k),l=function(){d._bUpdateSelectedStyles=!1,d.$apply(function(){d.updateSelectedStyles()})},d.displayElements.html.on("mouseup",l),d.displayElements.text.on("mouseup",l)}}}]).directive("taBind",["taSanitize","$timeout","taFixChrome",function(a,b,c){return{require:"ngModel",scope:{},link:function(d,e,f,g){var h=void 0!==e.attr("contenteditable")&&e.attr("contenteditable"),i=h||"textarea"===e[0].tagName.toLowerCase()||"input"===e[0].tagName.toLowerCase(),j=!1,k=function(){if(h)return e[0].innerHTML;if(i)return e.val();throw"textAngular Error: attempting to update non-editable taBind"};d.$parent["updateTaBind"+(f.id||"")]=function(){j||g.$setViewValue(k())},i&&(e.on("paste cut",function(){j||b(function(){g.$setViewValue(k())},0)}),h?(e.on("keyup",function(){j||g.$setViewValue(k())}),e.on("blur",function(){var a=k();""===a&&e.attr("placeholder")&&e.addClass("placeholder-text"),j||g.$setViewValue(k()),g.$render()}),e.attr("placeholder")&&(e.addClass("placeholder-text"),e.on("focus",function(){e.removeClass("placeholder-text"),g.$render()}))):e.on("change blur",function(){j||g.$setViewValue(k())}));var l=function(b){return g.$oldViewValue=a(c(b),g.$oldViewValue)};g.$parsers.push(l),g.$formatters.push(l),g.$render=function(){if(document.activeElement!==e[0]){var a=g.$viewValue||"";h?(e[0].innerHTML=""===a&&e.attr("placeholder")&&e.hasClass("placeholder-text")?e.attr("placeholder"):a,j||e.find("a").on("click",function(a){return a.preventDefault(),!1})):"textarea"!==e[0].tagName.toLowerCase()&&"input"!==e[0].tagName.toLowerCase()?e[0].innerHTML=a:e.val(a)}},f.taReadonly&&(j=d.$parent.$eval(f.taReadonly),j?(("textarea"===e[0].tagName.toLowerCase()||"input"===e[0].tagName.toLowerCase())&&e.attr("disabled","disabled"),void 0!==e.attr("contenteditable")&&e.attr("contenteditable")&&e.removeAttr("contenteditable")):"textarea"===e[0].tagName.toLowerCase()||"input"===e[0].tagName.toLowerCase()?e.removeAttr("disabled"):h&&e.attr("contenteditable","true"),d.$parent.$watch(f.taReadonly,function(a,b){b!==a&&(a?(("textarea"===e[0].tagName.toLowerCase()||"input"===e[0].tagName.toLowerCase())&&e.attr("disabled","disabled"),void 0!==e.attr("contenteditable")&&e.attr("contenteditable")&&e.removeAttr("contenteditable")):"textarea"===e[0].tagName.toLowerCase()||"input"===e[0].tagName.toLowerCase()?e.removeAttr("disabled"):h&&e.attr("contenteditable","true"),j=a)}))}}}]).factory("taFixChrome",function(){var a=function(a){for(var b=angular.element("<div>"+a+"</div>"),c=angular.element(b).find("span"),d=0;d<c.length;d++){var e=angular.element(c[d]);e.attr("style")&&e.attr("style").match(/line-height: 1.428571429;|color: inherit; line-height: 1.1;/i)&&(e.attr("style",e.attr("style").replace(/( |)font-family: inherit;|( |)line-height: 1.428571429;|( |)line-height:1.1;|( |)color: inherit;/gi,"")),e.attr("style")&&""!==e.attr("style")||(e.next().length>0&&"BR"===e.next()[0].tagName&&e.next().remove(),e.replaceWith(e[0].innerHTML)))}var f=b[0].innerHTML.replace(/style="[^"]*?(line-height: 1.428571429;|color: inherit; line-height: 1.1;)[^"]*"/gi,"");return f!==b[0].innerHTML&&(b[0].innerHTML=f),b[0].innerHTML};return a}).factory("taSanitize",["$sanitize",function(a){function b(a,c){var d=[],e=a.children();return e.length&&angular.forEach(e,function(a){d=d.concat(b(angular.element(a),c))}),a.attr(c)&&d.push(a),d}return function(c,d){var e=angular.element("<div>"+c+"</div>");angular.forEach(b(e,"align"),function(a){a.css("text-align",a.attr("align")),a.removeAttr("align")}),c=e[0].innerHTML;var f;try{f=a(c)}catch(g){f=d||""}return f}}]).directive("textAngularToolbar",["$compile","textAngularManager","taOptions","taTools","taToolExecuteAction",function(a,b,c,d,e){return{scope:{name:"@"},restrict:"EA",link:function(f,g,h){if(!f.name||""===f.name)throw"textAngular Error: A toolbar requires a name";angular.extend(f,angular.copy(c)),h.taToolbar&&(f.toolbar=f.$parent.$eval(h.taToolbar)),h.taToolbarClass&&(f.classes.toolbar=h.taToolbarClass),h.taToolbarGroupClass&&(f.classes.toolbarGroup=h.taToolbarGroupClass),h.taToolbarButtonClass&&(f.classes.toolbarButton=h.taToolbarButtonClass),h.taToolbarActiveButtonClass&&(f.classes.toolbarButtonActive=h.taToolbarActiveButtonClass),h.taFocussedClass&&(f.classes.focussed=h.taFocussedClass),f.disabled=!0,f.focussed=!1,g[0].innerHTML="",g.addClass("ta-toolbar "+f.classes.toolbar),f.$watch("focussed",function(){f.focussed?g.addClass(f.classes.focussed):g.removeClass(f.classes.focussed)}),setupToolElement=function(b,c){var d;if(d=angular.element(b&&b.display?b.display:"<button type='button'>"),d.addClass(f.classes.toolbarButton),d.attr("name",c.name),d.attr("unselectable","on"),d.attr("ng-disabled","isDisabled()"),d.attr("tabindex","-1"),d.attr("ng-click","executeAction()"),d.attr("ng-class","displayActiveToolClass(active)"),d.on("mousedown",function(a){return a.preventDefault(),!1}),b&&!b.display&&!c._display&&(d[0].innerHTML="",b.buttontext&&(d[0].innerHTML=b.buttontext),b.iconclass)){var e=angular.element("<i>"),g=d[0].innerHTML;e.addClass(b.iconclass),d[0].innerHTML="",d.append(e),g&&""!==g&&d.append("&nbsp;"+g)}return c._lastToolDefinition=angular.copy(b),a(d)(c)
},f.tools={},f._parent={disabled:!0,showHtml:!1,queryFormatBlockState:function(){return!1}};var i={$editor:function(){return f._parent},isDisabled:function(){return this.$eval("disabled")||this.$eval("disabled()")||"html"!==this.name&&this.$editor().showHtml||this.$parent.disabled||this.$editor().disabled},displayActiveToolClass:function(a){return a?f.classes.toolbarButtonActive:""},executeAction:e};angular.forEach(f.toolbar,function(a){groupElement=angular.element("<div>"),groupElement.addClass(f.classes.toolbarGroup),angular.forEach(a,function(a){f.tools[a]=angular.extend(f.$new(!0),d[a],i,{name:a}),f.tools[a].$element=setupToolElement(d[a],f.tools[a]),groupElement.append(f.tools[a].$element)}),g.append(groupElement)}),f.updateToolDisplay=function(a,b,c){var d=f.tools[a];if(d){if(d._lastToolDefinition&&!c&&(b=angular.extend({},d._lastToolDefinition,b)),null===b.buttontext&&null===b.iconclass&&null===b.display)throw'textAngular Error: Tool Definition for updating "'+a+'" does not have a valid display/iconclass/buttontext value';null===b.buttontext&&delete b.buttontext,null===b.iconclass&&delete b.iconclass,null===b.display&&delete b.display,toolElement=setupToolElement(b,d),d.$element.replaceWith(toolElement),d.$element=toolElement}},b.registerToolbar(f),f.$on("$destroy",function(){b.unregisterToolbar(f.name)})}}}]).service("taToolExecuteAction",["$q",function(a){return function(b){void 0!==b&&(this.$editor=function(){return b});var c=a.defer(),d=c.promise,e=this.$editor();d["finally"](function(){e.endAction.call(e)});var f;try{f=this.action(c,e.startAction())}catch(g){}(f||void 0===f)&&c.resolve()}}]).service("textAngularManager",["taToolExecuteAction",function(a){var b={},d={};return{registerEditor:function(e,f,g){if(!e||""===e)throw"textAngular Error: An editor requires a name";if(!f)throw"textAngular Error: An editor requires a scope";if(d[e])throw'textAngular Error: An Editor with name "'+e+'" already exists';var h=[];return angular.forEach(g,function(a){b[a]&&h.push(b[a])}),d[e]={scope:f,toolbars:g,_registerToolbar:function(a){this.toolbars.indexOf(a.name)>=0&&h.push(a)},editorFunctions:{disable:function(){angular.forEach(h,function(a){a.disabled=!0})},enable:function(){angular.forEach(h,function(a){a.disabled=!1})},focus:function(){angular.forEach(h,function(a){a._parent=f,a.disabled=!1,a.focussed=!0})},unfocus:function(){angular.forEach(h,function(a){a.disabled=!0,a.focussed=!1})},updateSelectedStyles:function(a){angular.forEach(h,function(b){angular.forEach(b.tools,function(b){b.activeState&&(b.active=b.activeState(a))})})},sendKeyCommand:function(b){var d=!1;return(b.ctrlKey||b.metaKey)&&angular.forEach(c,function(c,e){if(c.commandKeyCode&&c.commandKeyCode===b.which)for(var g=0;g<h.length;g++)if(void 0!==h[g].tools[e]){a.call(h[g].tools[e],f),d=!0;break}}),d}}},d[e].editorFunctions},retrieveEditor:function(a){return d[a]},unregisterEditor:function(a){delete d[a]},registerToolbar:function(a){if(!a)throw"textAngular Error: A toolbar requires a scope";if(!a.name||""===a.name)throw"textAngular Error: A toolbar requires a name";if(b[a.name])throw'textAngular Error: A toolbar with name "'+a.name+'" already exists';b[a.name]=a,angular.forEach(d,function(b){b._registerToolbar(a)})},retrieveToolbar:function(a){return b[a]},retrieveToolbarsViaEditor:function(a){var b=[],c=this;return angular.forEach(this.retrieveEditor(a).toolbars,function(a){b.push(c.retrieveToolbar(a))}),b},unregisterToolbar:function(a){delete b[a]},updateToolsDisplay:function(a){var b=this;angular.forEach(a,function(a,c){b.updateToolDisplay(c,a)})},resetToolsDisplay:function(){var a=this;angular.forEach(c,function(b,c){a.resetToolDisplay(c)})},updateToolDisplay:function(a,c){var d=this;angular.forEach(b,function(b,e){d.updateToolbarToolDisplay(e,a,c)})},resetToolDisplay:function(a){var c=this;angular.forEach(b,function(b,d){c.resetToolbarToolDisplay(d,a)})},updateToolbarToolDisplay:function(a,c,d){if(!b[a])throw'textAngular Error: No Toolbar with name "'+a+'" exists';b[a].updateToolDisplay(c,d)},resetToolbarToolDisplay:function(a,d){if(!b[a])throw'textAngular Error: No Toolbar with name "'+a+'" exists';b[a].updateToolDisplay(d,c[d],!0)},refreshEditor:function(a){if(!d[a])throw'textAngular Error: No Editor with name "'+a+'" exists';d[a].scope.updateTaBindtaTextElement(),d[a].scope.$$phase||d[a].scope.$digest()}}}])}(),function(a,b){"use strict";function c(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return f(b,j(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function d(a){var c=[],d=j(c,b.noop);return d.chars(a),c.join("")}function e(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function f(a,c){function d(a,d,f,h){if(d=b.lowercase(d),y[d])for(;j.last()&&z[j.last()];)e("",j.last());x[d]&&j.last()==d&&e("",d),h=u[d]||!!h,h||j.push(d);var i={};f.replace(n,function(a,b,c,d,e){var f=c||d||e||"";i[b]=g(f)}),c.start&&c.start(d,i,h)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=j.length-1;f>=0&&j[f]!=d;f--);if(f>=0){for(e=j.length-1;e>=f;e--)c.end&&c.end(j[e]);j.length=f}}var f,h,i,j=[],t=a;for(j.last=function(){return j[j.length-1]};a;){if(h=!0,j.last()&&A[j.last()])a=a.replace(new RegExp("(.*)<\\s*\\/\\s*"+j.last()+"[^>]*>","i"),function(a,b){return b=b.replace(q,"$1").replace(s,"$1"),c.chars&&c.chars(g(b)),""}),e("",j.last());else if(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),h=!1)):r.test(a)?(i=a.match(r),i&&(a=a.replace(i[0],""),h=!1)):p.test(a)?(i=a.match(m),i&&(a=a.substring(i[0].length),i[0].replace(m,e),h=!1)):o.test(a)&&(i=a.match(l),i&&(a=a.substring(i[0].length),i[0].replace(l,d),h=!1)),h){f=a.indexOf("<");var v=0>f?a:a.substring(0,f);a=0>f?"":a.substring(f),c.chars&&c.chars(g(v))}if(a==t)throw k("badparse","The sanitizer was unable to parse the following block of html: {0}",a);t=a}e()}function g(a){if(!a)return"";var b=F.exec(a),c=b[1],d=b[3],e=b[2];return e&&(E.innerHTML=e.replace(/</g,"&lt;"),e="textContent"in E?E.textContent:E.innerText),c+e+d}function h(a){return a.replace(/&/g,"&amp;").replace(t,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(a){var c="",d=a.split(";");return b.forEach(d,function(a){var d=a.split(":");if(2==d.length){var e=G(b.lowercase(d[0])),a=G(b.lowercase(d[1]));("color"===e&&(a.match(/^rgb\([0-9%,\. ]*\)$/i)||a.match(/^rgba\([0-9%,\. ]*\)$/i)||a.match(/^hsl\([0-9%,\. ]*\)$/i)||a.match(/^hsla\([0-9%,\. ]*\)$/i)||a.match(/^#[0-9a-f]{3,6}$/i)||a.match(/^[a-z]*$/i))||"text-align"===e&&("left"===a||"right"===a||"center"===a||"justify"===a))&&(c+=e+": "+a+";")}}),c}function j(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&A[a]&&(d=a),d||B[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),j="img"===a&&"src"===g||"background"===g;("style"===g&&""!==(d=i(d))||D[g]===!0&&(C[g]!==!0||c(d,j)))&&(e(" "),e(f),e('="'),e(h(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||B[a]!==!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(h(a))}}}var k=b.$$minErr("$sanitize"),l=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,m=/^<\s*\/\s*([\w:-]+)[^>]*>/,n=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,o=/^</,p=/^<\s*\//,q=/<!--(.*?)-->/g,r=/<!DOCTYPE([^>]*?)>/i,s=/<!\[CDATA\[(.*?)]]>/g,t=/([^\#-~| |!])/g,u=e("area,br,col,hr,img,wbr"),v=e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),w=e("rp,rt"),x=b.extend({},w,v),y=b.extend({},v,e("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),z=b.extend({},w,e("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),A=e("script,style"),B=b.extend({},u,y,z,x),C=e("background,cite,href,longdesc,src,usemap"),D=b.extend({},C,e("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),E=document.createElement("pre"),F=/^(\s*)([\s\S]*?)(\s*)$/,G=function(){return String.prototype.trim?function(a){return b.isString(a)?a.trim():a}:function(a){return b.isString(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}();b.module("ngSanitize",[]).provider("$sanitize",c),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,e=/^mailto:/;return function(f,g){function h(a){a&&n.push(d(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&(n.push('target="'),n.push(g),n.push('" ')),n.push('href="'),n.push(a),n.push('">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]==j[3]&&(k="mailto:"+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(e,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),function($){var apiParams={colors:1,values:1,backgroundColor:1,scaleColors:1,normalizeFunction:1,enableZoom:1,showTooltip:1,borderColor:1,borderWidth:1,borderOpacity:1,selectedRegions:1,multiSelectRegion:1},apiEvents={onLabelShow:"labelShow",onRegionOver:"regionMouseOver",onRegionOut:"regionMouseOut",onRegionClick:"regionClick",onRegionSelect:"regionSelect",onRegionDeselect:"regionDeselect"};$.fn.vectorMap=function(a){var b={map:"world_en",backgroundColor:"#a5bfdd",color:"#f4f3f0",hoverColor:"#c9dfaf",selectedColor:"#c9dfaf",scaleColors:["#b6d6ff","#005ace"],normalizeFunction:"linear",enableZoom:!0,showTooltip:!0,borderColor:"#818181",borderWidth:1,borderOpacity:.25,selectedRegions:null,multiSelectRegion:!1},c=this.data("mapObject");if("addMap"===a)WorldMap.maps[arguments[1]]=arguments[2];else if("set"===a&&apiParams[arguments[1]])c["set"+arguments[1].charAt(0).toUpperCase()+arguments[1].substr(1)].apply(c,Array.prototype.slice.call(arguments,2));else{if("string"==typeof a&&"function"==typeof c[a])return c[a].apply(c,Array.prototype.slice.call(arguments,1));$.extend(b,a),b.container=this,this.css({position:"relative",overflow:"hidden"}),c=new WorldMap(b),this.data("mapObject",c);for(var d in apiEvents)b[d]&&this.bind(apiEvents[d]+".jqvmap",b[d])}};var VectorCanvas=function(a,b,c){if(this.mode=window.SVGAngle?"svg":"vml",this.params=c,"svg"==this.mode)this.createSvgNode=function(a){return document.createElementNS(this.svgns,a)};else{try{document.namespaces.rvml||document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),this.createVmlNode=function(a){return document.createElement("<rvml:"+a+' class="rvml">')}}catch(d){this.createVmlNode=function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)")}"svg"==this.mode?this.canvas=this.createSvgNode("svg"):(this.canvas=this.createVmlNode("group"),this.canvas.style.position="absolute"),this.setSize(a,b)};VectorCanvas.prototype={svgns:"http://www.w3.org/2000/svg",mode:"svg",width:0,height:0,canvas:null,setSize:function(a,b){if("svg"==this.mode)this.canvas.setAttribute("width",a),this.canvas.setAttribute("height",b);else if(this.canvas.style.width=a+"px",this.canvas.style.height=b+"px",this.canvas.coordsize=a+" "+b,this.canvas.coordorigin="0 0",this.rootGroup){for(var c=this.rootGroup.getElementsByTagName("shape"),d=0,e=c.length;e>d;d++)c[d].coordsize=a+" "+b,c[d].style.width=a+"px",c[d].style.height=b+"px";this.rootGroup.coordsize=a+" "+b,this.rootGroup.style.width=a+"px",this.rootGroup.style.height=b+"px"}this.width=a,this.height=b},createPath:function(a){var b;if("svg"==this.mode)b=this.createSvgNode("path"),b.setAttribute("d",a.path),null!==this.params.borderColor&&b.setAttribute("stroke",this.params.borderColor),this.params.borderWidth>0&&(b.setAttribute("stroke-width",this.params.borderWidth),b.setAttribute("stroke-linecap","round"),b.setAttribute("stroke-linejoin","round")),this.params.borderOpacity>0&&b.setAttribute("stroke-opacity",this.params.borderOpacity),b.setFill=function(a){this.setAttribute("fill",a),null===this.getAttribute("original")&&this.setAttribute("original",a)},b.getFill=function(){return this.getAttribute("fill")},b.getOriginalFill=function(){return this.getAttribute("original")},b.setOpacity=function(a){this.setAttribute("fill-opacity",a)};else{b=this.createVmlNode("shape"),b.coordorigin="0 0",b.coordsize=this.width+" "+this.height,b.style.width=this.width+"px",b.style.height=this.height+"px",b.fillcolor=WorldMap.defaultFillColor,b.stroked=!1,b.path=VectorCanvas.pathSvgToVml(a.path);var c=this.createVmlNode("skew");c.on=!0,c.matrix="0.01,0,0,0.01,0,0",c.offset="0,0",b.appendChild(c);var d=this.createVmlNode("fill");b.appendChild(d),b.setFill=function(a){this.getElementsByTagName("fill")[0].color=a,null===this.getAttribute("original")&&this.setAttribute("original",a)},b.getFill=function(){return this.getElementsByTagName("fill")[0].color},b.getOriginalFill=function(){return this.getAttribute("original")},b.setOpacity=function(a){this.getElementsByTagName("fill")[0].opacity=parseInt(100*a,10)+"%"}}return b},createGroup:function(a){var b;return"svg"==this.mode?b=this.createSvgNode("g"):(b=this.createVmlNode("group"),b.style.width=this.width+"px",b.style.height=this.height+"px",b.style.left="0px",b.style.top="0px",b.coordorigin="0 0",b.coordsize=this.width+" "+this.height),a&&(this.rootGroup=b),b},applyTransformParams:function(a,b,c){"svg"==this.mode?this.rootGroup.setAttribute("transform","scale("+a+") translate("+b+", "+c+")"):(this.rootGroup.coordorigin=this.width-b+","+(this.height-c),this.rootGroup.coordsize=this.width/a+","+this.height/a)}},VectorCanvas.pathSvgToVml=function(a){var b,c,d=0,e=0;return a.replace(/([MmLlHhVvCcSs])((?:-?(?:\d+)?(?:\.\d+)?,?\s?)+)/g,function(a,f,g){g=g.replace(/(\d)-/g,"$1,-").replace(/\s+/g,",").split(","),g[0]||g.shift();for(var h=0,i=g.length;i>h;h++)g[h]=Math.round(100*g[h]);switch(f){case"m":return d+=g[0],e+=g[1],"t"+g.join(",");case"M":return d=g[0],e=g[1],"m"+g.join(",");case"l":return d+=g[0],e+=g[1],"r"+g.join(",");case"L":return d=g[0],e=g[1],"l"+g.join(",");case"h":return d+=g[0],"r"+g[0]+",0";case"H":return d=g[0],"l"+d+","+e;case"v":return e+=g[0],"r0,"+g[0];case"V":return e=g[0],"l"+d+","+e;case"c":return b=d+g[g.length-4],c=e+g[g.length-3],d+=g[g.length-2],e+=g[g.length-1],"v"+g.join(",");case"C":return b=g[g.length-4],c=g[g.length-3],d=g[g.length-2],e=g[g.length-1],"c"+g.join(",");case"s":return g.unshift(e-c),g.unshift(d-b),b=d+g[g.length-4],c=e+g[g.length-3],d+=g[g.length-2],e+=g[g.length-1],"v"+g.join(",");case"S":return g.unshift(e+e-c),g.unshift(d+d-b),b=g[g.length-4],c=g[g.length-3],d=g[g.length-2],e=g[g.length-1],"c"+g.join(",");default:return!1}return""}).replace(/z/g,"")};var WorldMap=function(a){a=a||{};var b=this,c=WorldMap.maps[a.map];this.selectedRegions=[],this.multiSelectRegion=a.multiSelectRegion,this.container=a.container,this.defaultWidth=c.width,this.defaultHeight=c.height,this.color=a.color,this.selectedColor=a.selectedColor,this.hoverColor=a.hoverColor,this.hoverOpacity=a.hoverOpacity,this.setBackgroundColor(a.backgroundColor),this.width=a.container.width(),this.height=a.container.height(),this.resize(),jQuery(window).resize(function(){b.width=a.container.width(),b.height=a.container.height(),b.resize(),b.canvas.setSize(b.width,b.height),b.applyTransform()}),this.canvas=new VectorCanvas(this.width,this.height,a),a.container.append(this.canvas.canvas),this.makeDraggable(),this.rootGroup=this.canvas.createGroup(!0),this.index=WorldMap.mapIndex,this.label=jQuery("<div/>").addClass("jqvmap-label").appendTo(jQuery("body")).hide(),a.enableZoom&&(jQuery("<div/>").addClass("jqvmap-zoomin").text("+").appendTo(a.container),jQuery("<div/>").addClass("jqvmap-zoomout").html("&#x2212;").appendTo(a.container)),b.countries=[];for(var d in c.pathes){var e=this.canvas.createPath({path:c.pathes[d].path});e.setFill(this.color),e.id=b.getCountryId(d),b.countries[d]=e,"svg"==this.canvas.mode?e.setAttribute("class","jvectormap-region"):jQuery(e).addClass("jvectormap-region"),jQuery(this.rootGroup).append(e)}if(jQuery(a.container).delegate("svg"==this.canvas.mode?"path":"shape","mouseover mouseout",function(d){var e=d.target,f=d.target.id.split("_").pop(),g=$.Event("labelShow.jqvmap"),h=$.Event("regionMouseOver.jqvmap");"mouseover"==d.type?(jQuery(a.container).trigger(h,[f,c.pathes[f].name]),h.isDefaultPrevented()||b.highlight(f,e),a.showTooltip&&(b.label.text(c.pathes[f].name),jQuery(a.container).trigger(g,[b.label,f]),g.isDefaultPrevented()||(b.label.show(),b.labelWidth=b.label.width(),b.labelHeight=b.label.height()))):(b.unhighlight(f,e),b.label.hide(),jQuery(a.container).trigger("regionMouseOut.jqvmap",[f,c.pathes[f].name]))}),jQuery(a.container).delegate("svg"==this.canvas.mode?"path":"shape","click",function(d){if(!a.multiSelectRegion)for(var e in c.pathes)b.countries[e].currentFillColor=b.countries[e].getOriginalFill(),b.countries[e].setFill(b.countries[e].getOriginalFill());var f=d.target,g=d.target.id.split("_").pop();regionClickEvent=$.Event("regionClick.jqvmap"),jQuery(a.container).trigger("regionClick.jqvmap",[g,c.pathes[g].name]),regionClickEvent.isDefaultPrevented()||(-1!==b.selectedRegions.indexOf(g)?b.deselect(g,f):b.select(g,f))}),a.showTooltip&&a.container.mousemove(function(a){if(b.label.is(":visible")){var c=a.pageX-15-b.labelWidth,d=a.pageY-15-b.labelHeight;0>c&&(c=a.pageX+15),0>d&&(d=a.pageY+15),b.label.css({left:c,top:d})}}),this.setColors(a.colors),this.canvas.canvas.appendChild(this.rootGroup),this.applyTransform(),this.colorScale=new ColorScale(a.scaleColors,a.normalizeFunction,a.valueMin,a.valueMax),a.values&&(this.values=a.values,this.setValues(a.values)),a.selectedRegions)if(a.selectedRegions instanceof Array)for(var f in a.selectedRegions)this.select(a.selectedRegions[f].toLowerCase());else this.select(a.selectedRegions.toLowerCase());this.bindZoomButtons(),a.pins&&(this.pinHandlers=!1,this.placePins(a.pins,a.pinMode)),WorldMap.mapIndex++};WorldMap.prototype={transX:0,transY:0,scale:1,baseTransX:0,baseTransY:0,baseScale:1,width:0,height:0,countries:{},countriesColors:{},countriesData:{},zoomStep:1.4,zoomMaxStep:4,zoomCurStep:1,setColors:function(a,b){if("string"==typeof a)this.countries[a].setFill(b),this.countries[a].setAttribute("original",b);else{var c=a;for(var d in c)this.countries[d]&&(this.countries[d].setFill(c[d]),this.countries[d].setAttribute("original",c[d]))}},setValues:function(a){var b,c=0,d=Number.MAX_VALUE;for(var e in a)b=parseFloat(a[e]),b>c&&(c=a[e]),b&&d>b&&(d=b);this.colorScale.setMin(d),this.colorScale.setMax(c);var f={};for(e in a)b=parseFloat(a[e]),f[e]=b?this.colorScale.applyColor(b):this.color;this.setColors(f),this.values=a},setBackgroundColor:function(a){this.container.css("background-color",a)},setScaleColors:function(a){this.colorScale.setColors(a),this.values&&this.setValues(this.values)},setNormalizeFunction:function(a){this.colorScale.setNormalizeFunction(a),this.values&&this.setValues(this.values)},highlight:function(a,b){b=b||$("#"+this.getCountryId(a))[0],this.hoverOpacity?b.setOpacity(this.hoverOpacity):this.hoverColor&&(b.currentFillColor=b.getFill()+"",b.setFill(this.hoverColor))},unhighlight:function(a,b){b=b||$("#"+this.getCountryId(a))[0],b.setOpacity(1),b.currentFillColor&&b.setFill(b.currentFillColor)},select:function(a,b){b=b||$("#"+this.getCountryId(a))[0],this.selectedRegions.indexOf(a)<0&&(this.multiSelectRegion?this.selectedRegions.push(a):this.selectedRegions=[a],$(this.container).trigger("regionSelect.jqvmap",[a]),this.selectedColor&&(b.currentFillColor=this.selectedColor,b.setFill(this.selectedColor)))},deselect:function(a,b){b=b||$("#"+this.getCountryId(a))[0],this.selectedRegions.indexOf(a)>=0&&(this.selectedRegions.splice(this.selectedRegions.indexOf(a),1),$(this.container).trigger("regionDeselect.jqvmap",[a]),b.currentFillColor=b.getOriginalFill(),b.setFill(b.getOriginalFill()))},isSelected:function(a){return this.selectedRegions.indexOf(a)>=0},resize:function(){var a=this.baseScale;this.width/this.height>this.defaultWidth/this.defaultHeight?(this.baseScale=this.height/this.defaultHeight,this.baseTransX=Math.abs(this.width-this.defaultWidth*this.baseScale)/(2*this.baseScale)):(this.baseScale=this.width/this.defaultWidth,this.baseTransY=Math.abs(this.height-this.defaultHeight*this.baseScale)/(2*this.baseScale)),this.scale*=this.baseScale/a,this.transX*=this.baseScale/a,this.transY*=this.baseScale/a},reset:function(){this.countryTitle.reset();for(var a in this.countries)this.countries[a].setFill(WorldMap.defaultColor);this.scale=this.baseScale,this.transX=this.baseTransX,this.transY=this.baseTransY,this.applyTransform()},applyTransform:function(){var a,b,c,d;this.defaultWidth*this.scale<=this.width?(a=(this.width-this.defaultWidth*this.scale)/(2*this.scale),c=(this.width-this.defaultWidth*this.scale)/(2*this.scale)):(a=0,c=(this.width-this.defaultWidth*this.scale)/this.scale),this.defaultHeight*this.scale<=this.height?(b=(this.height-this.defaultHeight*this.scale)/(2*this.scale),d=(this.height-this.defaultHeight*this.scale)/(2*this.scale)):(b=0,d=(this.height-this.defaultHeight*this.scale)/this.scale),this.transY>b?this.transY=b:this.transY<d&&(this.transY=d),this.transX>a?this.transX=a:this.transX<c&&(this.transX=c),this.canvas.applyTransformParams(this.scale,this.transX,this.transY)},makeDraggable:function(){var a,b,c=!1,d=this;d.isMoving=!1,d.isMovingTimeout=!1,this.container.mousemove(function(e){if(c){{d.transX,d.transY}d.transX-=(a-e.pageX)/d.scale,d.transY-=(b-e.pageY)/d.scale,d.applyTransform(),a=e.pageX,b=e.pageY,d.isMoving=!0,d.isMovingTimeout&&clearTimeout(d.isMovingTimeout),d.container.trigger("drag")}return!1}).mousedown(function(d){return c=!0,a=d.pageX,b=d.pageY,!1}).mouseup(function(){return c=!1,d.isMovingTimeout=setTimeout(function(){d.isMoving=!1},100),!1})},bindZoomButtons:function(){var a=this;this.container.find(".jqvmap-zoomin").click(function(){a.zoomIn()}),this.container.find(".jqvmap-zoomout").click(function(){a.zoomOut()})},zoomIn:function(){var a=this,b=(jQuery("#zoom").innerHeight()-12-30-6-7-6)/(this.zoomMaxStep-this.zoomCurStep);if(a.zoomCurStep<a.zoomMaxStep){{a.transX,a.transY,a.scale}a.transX-=(a.width/a.scale-a.width/(a.scale*a.zoomStep))/2,a.transY-=(a.height/a.scale-a.height/(a.scale*a.zoomStep))/2,a.setScale(a.scale*a.zoomStep),a.zoomCurStep++,jQuery("#zoomSlider").css("top",parseInt(jQuery("#zoomSlider").css("top"),10)-b),a.container.trigger("zoomIn")}},zoomOut:function(){var a=this,b=(jQuery("#zoom").innerHeight()-12-30-6-7-6)/(this.zoomMaxStep-this.zoomCurStep);if(a.zoomCurStep>1){{a.transX,a.transY,a.scale}a.transX+=(a.width/(a.scale/a.zoomStep)-a.width/a.scale)/2,a.transY+=(a.height/(a.scale/a.zoomStep)-a.height/a.scale)/2,a.setScale(a.scale/a.zoomStep),a.zoomCurStep--,jQuery("#zoomSlider").css("top",parseInt(jQuery("#zoomSlider").css("top"),10)+b),a.container.trigger("zoomOut")}},setScale:function(a){this.scale=a,this.applyTransform()},getCountryId:function(a){return"jqvmap"+this.index+"_"+a},getPinId:function(a){return this.getCountryId(a)+"_pin"},placePins:function(a,b){var c=this;if((!b||"content"!=b&&"id"!=b)&&(b="content"),"content"==b?jQuery.each(a,function(a,b){if(0!=jQuery("#"+c.getCountryId(a)).length){var d=c.getPinId(a);jQuery("#"+d).length>0&&jQuery("#"+d).remove(),c.container.append('<div id="'+d+'" for="'+a+'" class="jqvmap_pin" style="position:absolute">'+b+"</div>")}}):jQuery.each(a,function(a,b){if(0!=jQuery("#"+c.getCountryId(a)).length){var d=c.getPinId(a);jQuery("#"+d).length>0&&jQuery("#"+d).remove(),c.container.append('<div id="'+d+'" for="'+a+'" class="jqvmap_pin" style="position:absolute"></div>'),jQuery("#"+d).append(jQuery("#"+b))}}),this.positionPins(),!this.pinHandlers){this.pinHandlers=!0;var d=function(){c.positionPins()};this.container.bind("zoomIn",d).bind("zoomOut",d).bind("drag",d)}},positionPins:function(){var a=this,b=this.container.find(".jqvmap_pin");jQuery.each(b,function(b,c){c=jQuery(c);var d=a.getCountryId(c.attr("for")),e=jQuery("#"+d),f=document.getElementById(d).getBBox(),g=e.position(),h=a.scale,i=g.left+f.width/2*h-c.width()/2,j=g.top+f.height/2*h-c.height()/2;c.css("left",i).css("top",j)})},getPin:function(a){var b=jQuery("#"+this.getPinId(a));return b.html()},getPins:function(){var pins=this.container.find(".jqvmap_pin"),ret=new Object;return jQuery.each(pins,function(index,pinObj){pinObj=jQuery(pinObj);var cc=pinObj.attr("for"),pinContent=pinObj.html();eval("ret."+cc+"=pinContent")}),JSON.stringify(ret)},removePin:function(a){jQuery("#"+this.getPinId(a)).remove()},removePins:function(){this.container.find(".jqvmap_pin").remove()}},WorldMap.xlink="http://www.w3.org/1999/xlink",WorldMap.mapIndex=1,WorldMap.maps={};var ColorScale=function(a,b,c,d){a&&this.setColors(a),b&&this.setNormalizeFunction(b),c&&this.setMin(c),c&&this.setMax(d)};ColorScale.prototype={colors:[],setMin:function(a){this.clearMinValue=a,this.minValue="function"==typeof this.normalize?this.normalize(a):a},setMax:function(a){this.clearMaxValue=a,this.maxValue="function"==typeof this.normalize?this.normalize(a):a},setColors:function(a){for(var b=0;b<a.length;b++)a[b]=ColorScale.rgbToArray(a[b]);this.colors=a},setNormalizeFunction:function(a){"polynomial"===a?this.normalize=function(a){return Math.pow(a,.2)}:"linear"===a?delete this.normalize:this.normalize=a,this.setMin(this.clearMinValue),this.setMax(this.clearMaxValue)},applyColor:function(a){"function"==typeof this.normalize&&(a=this.normalize(a));for(var b,c=[],d=0,e=0;e<this.colors.length-1;e++)b=this.vectorLength(this.vectorSubtract(this.colors[e+1],this.colors[e])),c.push(b),d+=b;var f=(this.maxValue-this.minValue)/d;for(e=0;e<c.length;e++)c[e]*=f;for(e=0,a-=this.minValue;a-c[e]>=0;)a-=c[e],e++;var g;for(g=e==this.colors.length-1?this.vectorToNum(this.colors[e]).toString(16):this.vectorToNum(this.vectorAdd(this.colors[e],this.vectorMult(this.vectorSubtract(this.colors[e+1],this.colors[e]),a/c[e]))).toString(16);g.length<6;)g="0"+g;return"#"+g},vectorToNum:function(a){for(var b=0,c=0;c<a.length;c++)b+=Math.round(a[c])*Math.pow(256,a.length-c-1);return b},vectorSubtract:function(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=a[d]-b[d];return c},vectorAdd:function(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=a[d]+b[d];return c},vectorMult:function(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=a[d]*b;return c},vectorLength:function(a){for(var b=0,c=0;c<a.length;c++)b+=a[c]*a[c];return Math.sqrt(b)}},ColorScale.arrayToRgb=function(a){for(var b,c="#",d=0;d<a.length;d++)b=a[d].toString(16),c+=1==b.length?"0"+b:b;return c},ColorScale.rgbToArray=function(a){return a=a.substr(1),[parseInt(a.substr(0,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(4,2),16)]}}(jQuery),function(){"use strict";function a(){var a={};return{on:function(b,c){return b.split(" ").forEach(function(b){a[b]||(a[b]=[]),a[b].push(c)}),this},trigger:function(b,c){return angular.forEach(a[b],function(a){a.call(null,c)}),this}}}function b(a,b){return a=a||[],a.length>0&&!angular.isObject(a[0])&&a.forEach(function(c,d){a[d]={},a[d][b]=c}),a}function c(a,b,c){for(var d=null,e=0;e<a.length;e++)if(a[e][c].toLowerCase()===b[c].toLowerCase()){d=a[e];break}return d}function d(a,b,c){var d=b.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return a.replace(new RegExp(d,"gi"),c)}var e={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,comma:188},f=angular.module("ngTagsInput",[]);f.directive("tagsInput",["$timeout","$document","tagsInputConfig",function(d,f,g){function h(a,b){var d,e,f,g={};return d=function(b){return b[a.displayProperty]},e=function(b,c){b[a.displayProperty]=c},f=function(b){var e=d(b);return e.length>=a.minLength&&e.length<=(a.maxLength||e.length)&&a.allowedTagsPattern.test(e)&&!c(g.items,b,a.displayProperty)},g.items=[],g.addText=function(a){var b={};return e(b,a),g.add(b)},g.add=function(c){var h=d(c).trim();return a.replaceSpacesWithDashes&&(h=h.replace(/\s/g,"-")),e(c,h),f(c)?(g.items.push(c),b.trigger("tag-added",{$tag:c})):b.trigger("invalid-tag",{$tag:c}),c},g.remove=function(a){var c=g.items.splice(a,1)[0];return b.trigger("tag-removed",{$tag:c}),c},g.removeLast=function(){var b,c=g.items.length-1;return a.enableEditingLastTag||g.selected?(g.selected=null,b=g.remove(c)):g.selected||(g.selected=g.items[c]),b},g}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",onTagAdded:"&",onTagRemoved:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(b,c,d){g.load("tagsInput",b,c,{placeholder:[String,"Add a tag"],tabindex:[Number],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number],maxTags:[Number],displayProperty:[String,"text"],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1]}),b.events=new a,b.tagList=new h(b.options,b.events),this.registerAutocomplete=function(){var a=d.find("input");return a.on("keydown",function(a){b.events.trigger("input-keydown",a)}),{addTag:function(a){return b.tagList.add(a)},focusInput:function(){a[0].focus()},getTags:function(){return b.tags},getOptions:function(){return b.options},on:function(a,c){return b.events.on(a,c),this}}}}],link:function(a,c,g,h){var i=[e.enter,e.comma,e.space,e.backspace],j=a.tagList,k=a.events,l=a.options,m=c.find("input");k.on("tag-added",a.onTagAdded).on("tag-removed",a.onTagRemoved).on("tag-added",function(){a.newTag.text=""}).on("tag-added tag-removed",function(){h.$setViewValue(a.tags)}).on("invalid-tag",function(){a.newTag.invalid=!0}).on("input-change",function(){j.selected=null,a.newTag.invalid=null}).on("input-focus",function(){h.$setValidity("leftoverText",!0)}).on("input-blur",function(){l.addFromAutocompleteOnly||(l.addOnBlur&&j.addText(a.newTag.text),h.$setValidity("leftoverText",l.allowLeftoverText?!0:!a.newTag.text))}),a.newTag={text:"",invalid:null},a.getDisplayText=function(a){return a[l.displayProperty].trim()},a.track=function(a){return a[l.displayProperty]},a.newTagChange=function(){k.trigger("input-change",a.newTag.text)},a.$watch("tags",function(c){a.tags=b(c,l.displayProperty),j.items=a.tags}),a.$watch("tags.length",function(a){h.$setValidity("maxTags",angular.isUndefined(l.maxTags)||a<=l.maxTags),h.$setValidity("minTags",angular.isUndefined(l.minTags)||a>=l.minTags)}),m.on("keydown",function(b){if(!b.isImmediatePropagationStopped||!b.isImmediatePropagationStopped()){var c,d,f=b.keyCode,g=b.shiftKey||b.altKey||b.ctrlKey||b.metaKey,h={};if(!g&&-1!==i.indexOf(f))if(h[e.enter]=l.addOnEnter,h[e.comma]=l.addOnComma,h[e.space]=l.addOnSpace,c=!l.addFromAutocompleteOnly&&h[f],d=!c&&f===e.backspace&&0===a.newTag.text.length,c)j.addText(a.newTag.text),a.$apply(),b.preventDefault();else if(d){var k=j.removeLast();k&&l.enableEditingLastTag&&(a.newTag.text=k[l.displayProperty]),a.$apply(),b.preventDefault()}}}).on("focus",function(){a.hasFocus||(a.hasFocus=!0,k.trigger("input-focus"),a.$apply())}).on("blur",function(){d(function(){var b=f.prop("activeElement"),d=b===m[0],e=c[0].contains(b);(d||!e)&&(a.hasFocus=!1,k.trigger("input-blur"))})}),c.find("div").on("click",function(){m[0].focus()})}}}]),f.directive("autoComplete",["$document","$timeout","$sce","tagsInputConfig",function(a,f,g,h){function i(a,d){var e,g,h,i={};return g=function(a,b){return a.filter(function(a){return!c(b,a,d.tagsInput.displayProperty)})},i.reset=function(){h=null,i.items=[],i.visible=!1,i.index=-1,i.selected=null,i.query=null,f.cancel(e)},i.show=function(){i.selected=null,i.visible=!0
},i.load=function(c,j){return c.length<d.minLength?void i.reset():(f.cancel(e),void(e=f(function(){i.query=c;var e=a({$query:c});h=e,e.then(function(a){e===h&&(a=b(a.data||a,d.tagsInput.displayProperty),a=g(a,j),i.items=a.slice(0,d.maxResultsToShow),i.items.length>0?i.show():i.reset())})},d.debounceDelay,!1)))},i.selectNext=function(){i.select(++i.index)},i.selectPrior=function(){i.select(--i.index)},i.select=function(a){0>a?a=i.items.length-1:a>=i.items.length&&(a=0),i.index=a,i.selected=i.items[a]},i.reset(),i}function j(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",link:function(b,c,f,k){var l,m,n,o,p,q=[e.enter,e.tab,e.escape,e.up,e.down];h.load("autoComplete",b,f,{debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10]}),n=b.options,m=k.registerAutocomplete(),n.tagsInput=m.getOptions(),l=new i(b.source,n),o=function(a){return a[n.tagsInput.displayProperty]},b.suggestionList=l,b.addSuggestion=function(){var a=!1;return l.selected&&(m.addTag(l.selected),l.reset(),m.focusInput(),a=!0),a},b.highlight=function(a){var b=o(a);return b=j(b),n.highlightMatchedText&&(b=d(b,j(l.query),"<em>$&</em>")),g.trustAsHtml(b)},b.track=function(a){return o(a)},m.on("tag-added invalid-tag",function(){l.reset()}).on("input-change",function(a){a?l.load(a,m.getTags()):l.reset()}).on("input-keydown",function(a){var c,d;if(-1!==q.indexOf(a.keyCode)){var f=!1;a.stopImmediatePropagation=function(){f=!0,a.stopPropagation()},a.isImmediatePropagationStopped=function(){return f},l.visible&&(c=a.keyCode,d=!1,c===e.down?(l.selectNext(),d=!0):c===e.up?(l.selectPrior(),d=!0):c===e.escape?(l.reset(),d=!0):(c===e.enter||c===e.tab)&&(d=b.addSuggestion()),d&&(a.preventDefault(),a.stopImmediatePropagation(),b.$apply()))}}).on("input-blur",function(){l.reset()}),p=function(){l.visible&&(l.reset(),b.$apply())},a.on("click",p),b.$on("$destroy",function(){a.off("click",p)})}}}]),f.directive("tiTranscludeAppend",function(){return function(a,b,c,d,e){e(function(a){b.append(a)})}}),f.directive("tiAutosize",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e,f,g=3;e=angular.element('<span class="input"></span>'),e.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),b.parent().append(e),f=function(a){var d,f=a;return angular.isString(f)&&0===f.length&&(f=c.placeholder),f&&(e.text(f),e.css("display",""),d=e.prop("offsetWidth"),e.css("display","none")),b.css("width",d?d+g+"px":""),a},d.$parsers.unshift(f),d.$formatters.unshift(f),c.$observe("placeholder",function(a){d.$modelValue||f(a)})}}}),f.provider("tagsInputConfig",function(){var a={},b={};this.setDefaults=function(b,c){return a[b]=c,this},this.setActiveInterpolation=function(a,c){return b[a]=c,this},this.$get=["$interpolate",function(c){var d={};return d[String]=function(a){return a},d[Number]=function(a){return parseInt(a,10)},d[Boolean]=function(a){return"true"===a.toLowerCase()},d[RegExp]=function(a){return new RegExp(a)},{load:function(e,f,g,h){f.options={},angular.forEach(h,function(h,i){var j,k,l,m,n;j=h[0],k=h[1],l=d[j],m=function(){var b=a[e]&&a[e][i];return angular.isDefined(b)?b:k},n=function(a){f.options[i]=a?l(a):m()},b[e]&&b[e][i]?g.$observe(i,function(a){n(a)}):n(g[i]&&c(g[i])(f.$parent))})}}}]}),f.run(["$templateCache",function(a){a.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ti-transclude-append=""><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }"><span>{{getDisplayText(tag)}}</span> <a class="remove-button" ng-click="tagList.remove($index)">{{options.removeTagSymbol}}</a></li></ul><input class="input" placeholder="{{options.placeholder}}" tabindex="{{options.tabindex}}" ng-model="newTag.text" ng-change="newTagChange()" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ti-autosize=""></div></div>'),a.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-show="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestion()" ng-mouseenter="suggestionList.select($index)" ng-bind-html="highlight(item)"></li></ul></div>')}])}();var ngMap=angular.module("ngMap",[]);ngMap.directive("infoWindow",["Attr2Options",function(Attr2Options){var parser=new Attr2Options;return{restrict:"E",require:"^map",link:function(scope,element,attrs,mapController){var filtered=new parser.filter(attrs),options=parser.getOptions(filtered);options.pixelOffset&&(options.pixelOffset=google.maps.Size.apply(this,options.pixelOffset)),infoWindow=new google.maps.InfoWindow(options),infoWindow.contents=element.html();var events=parser.getEvents(scope,filtered);for(var eventName in events)google.maps.event.addListener(infoWindow,eventName,events[eventname]);mapController.infoWindows.push(infoWindow),element.css({display:"none"}),scope.showInfoWindow=function(event,id,options){var infoWindow=scope.infoWindows[id],contents=infoWindow.contents,matches=contents.match(/\[\[[^\]]+\]\]/g);if(matches)for(var i=0,length=matches.length;length>i;i++){var expression=matches[i].replace(/\[\[/,"").replace(/\]\]/,"");try{contents=contents.replace(matches[i],eval(expression))}catch(e){expression="options."+expression,contents=contents.replace(matches[i],eval(expression))}}infoWindow.setContent(contents),infoWindow.open(scope.map,this)}}}}]),ngMap.directive("map",["Attr2Options","$parse","NavigatorGeolocation","GeoCoder","$compile",function(a,b,c,d){var e=new a;return{restrict:"AE",controller:["$scope",function(a){this.map=null,this.controls={},this.markers=[],this.shapes=[],this.infoWindows=[],this.initializeMap=function(a,b,f){var g=e.filter(f),h=e.getOptions(g),i=e.getControlOptions(g);for(key in i)h[key]=i[key];var j=this;if(h.zoom||(h.zoom=15),h.center instanceof Array){var k=h.center[0],l=h.center[1];h.center=new google.maps.LatLng(k,l)}else{var m=h.center;delete h.center}for(var n in this.controls)h[n+"Control"]="false"===this.controls[n].enabled?0:1,delete this.controls[n].enabled,h[n+"ControlOptions"]=this.controls[n];console.log("mapOptions",h);var o=document.createElement("div");o.style.width="100%",o.style.height="100%",b.prepend(o),j.map=new google.maps.Map(o,h),"string"==typeof m?d.geocode({address:m}).then(function(a){j.map.setCenter(a[0].geometry.location)}):h.center||c.getCurrentPosition().then(function(a){var b=a.coords.latitude,c=a.coords.longitude;j.map.setCenter(new google.maps.LatLng(b,c))});var p=e.getEvents(a,g);console.log("mapEvents",p);for(var q in p)google.maps.event.addListener(j.map,q,p[q]);return a.map=j.map,j.map},this.addMarker=function(b){b.setMap(this.map),b.centered&&this.map.setCenter(b.position);var c=Object.keys(a.markers).length;a.markers[b.id||c]=b},this.initializeMarkers=function(){a.markers={};for(var b=0;b<this.markers.length;b++){var c=this.markers[b];this.addMarker(c)}},this.initializeShapes=function(){a.shapes={};for(var b=0;b<this.shapes.length;b++){var c=this.shapes[b];c.setMap(this.map),a.shapes[c.id||b+1]=c}},this.initializeInfoWindows=function(){a.infoWindows={};for(var b=0;b<this.infoWindows.length;b++){var c=this.infoWindows[b];a.infoWindows[c.id||b+1]=c}}}],link:function(a,b,c,d){d.initializeMap(a,b,c),d.initializeMarkers(),d.initializeShapes(),d.initializeInfoWindows()}}}]),ngMap.directive("marker",["Attr2Options","GeoCoder","NavigatorGeolocation",function(a,b,c){var d=new a;return{restrict:"E",require:"^map",link:function(a,e,f,g){var h=new d.filter(f),i=d.getOptions(h),j=d.getEvents(a,h),k=function(){var a=new google.maps.Marker(i);Object.keys(j).length>0&&console.log("markerEvents",j);for(var b in j)google.maps.event.addListener(a,b,j[b]);return a};if(i.position instanceof Array){var l=i.position[0],m=i.position[1];i.position=new google.maps.LatLng(l,m),console.log("adding marker with options, ",i);var n=k();i.ngRepeat?g.addMarker(n):g.markers.push(n)}else if("string"==typeof i.position){var o=i.position;o.match(/^current/i)?c.getCurrentPosition().then(function(a){var b=a.coords.latitude,c=a.coords.longitude;i.position=new google.maps.LatLng(b,c);var d=k();g.addMarker(d)}):b.geocode({address:i.position}).then(function(a){var b=a[0].geometry.location;i.position=b;var c=k();g.addMarker(c)})}else console.error("invalid marker position",i.position)}}}]),ngMap.directive("shape",["Attr2Options",function(a){var b=new a,c=function(a){return a[0]&&a[0]instanceof Array?a.map(function(a){return new google.maps.LatLng(a[0],a[1])}):new google.maps.LatLng(a[0],a[1])},d=function(a){var b=c(a);return new google.maps.LatLngBounds(b[0],b[1])},e=function(a,b){switch(a){case"circle":return b.center=c(b.center),new google.maps.Circle(b);case"polygon":return b.paths=c(b.paths),new google.maps.Polygon(b);case"polyline":return b.path=c(b.path),new google.maps.Polyline(b);case"rectangle":return b.bounds=d(b.bounds),new google.maps.Rectangle(b);case"groundOverlay":case"image":var e=b.url,f=d(b.bounds),g={opacity:b.opacity,clickable:b.clickable};return new google.maps.GroundOverlay(e,f,g)}return null};return{restrict:"E",require:"^map",link:function(a,c,d,f){var g=b.filter(d),h=g.name;delete g.name;var i=b.getOptions(g);console.log("shape",h,"options",i);var j=e(h,i);j?f.shapes.push(j):console.error("shape",h,"is not defined");var k=b.getEvents(a,g);console.log("shape",h,"events",k);for(var l in k)k[l]&&(console.log(l,k[l]),google.maps.event.addListener(j,l,k[l]))}}}]),ngMap.provider("Attr2Options",function(){this.$get=function(){return function(){this.filter=function(a){var b={};for(var c in a)c.match(/^\$/)||(b[c]=a[c]);return b},this.getOptions=function(attrs){var options={};for(var key in attrs)if(attrs[key]){if(key.match(/^on[A-Z]/))continue;if(key.match(/ControlOptions$/))continue;var val=attrs[key];try{var num=Number(val);if(isNaN(num))throw"Not a number";options[key]=num}catch(err){try{options[key]=JSON.parse(val)}catch(err2){if(val.match(/^[A-Z][a-zA-Z0-9]+\(.*\)$/))try{var exp="new google.maps."+val;options[key]=eval(exp)}catch(e){options[key]=val}else if(val.match(/^[A-Z][a-zA-Z0-9]+\.[A-Z]+$/))try{options[key]=eval("google.maps."+val)}catch(e){options[key]=val}else options[key]=val}}}return options},this.getEvents=function(a,b){var c={},d=function(a){return"_"+a.toLowerCase()},e=function(b){var c=b.match(/([^\(]+)\(([^\)]*)\)/),d=c[1],e=c[2].replace(/event[ ,]*/,""),f=a.$eval("["+e+"]");return function(b){a[d].apply(this,[b].concat(f))}};for(var f in b)if(b[f]){if(!f.match(/^on[A-Z]/))continue;var g=f.replace(/^on/,"");g=g.charAt(0).toLowerCase()+g.slice(1),g=g.replace(/([A-Z])/g,d);var h=b[f];c[g]=new e(h)}return c},this.getControlOptions=function(a){var b={};for(var c in a)if(a[c]){if(!c.match(/(.*)ControlOptions$/))continue;var d=a[c],e=d.replace(/'/g,'"');e=e.replace(/([^"]+)|("[^"]+")/g,function(a,b,c){return b?b.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):c});try{var f=JSON.parse(e);for(var g in f)if(f[g]){var h=f[g];if("string"==typeof h?h=h.toUpperCase():"mapTypeIds"===g&&(h=h.map(function(a){return google.maps.MapTypeId[a.toUpperCase()]})),"style"===g){var i=c.charAt(0).toUpperCase()+c.slice(1),j=i.replace(/Options$/,"")+"Style";f[g]=google.maps[j][h]}else f[g]="position"===g?google.maps.ControlPosition[h]:h}b[c]=f}catch(k){console.error("invald option for",c,e,k,k.stack)}}return b}}}}),ngMap.service("GeoCoder",["$q",function(a){return{geocode:function(b){var c=a.defer(),d=new google.maps.Geocoder;return d.geocode(b,function(a,b){b==google.maps.GeocoderStatus.OK?c.resolve(a):c.reject("Geocoder failed due to: "+b)}),c.promise}}}]),ngMap.service("NavigatorGeolocation",["$q",function(a){return{getCurrentPosition:function(){var b=a.defer();return navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){b.resolve(a)},function(a){console.error(a),b.reject(a)}):b.reject("Browser Geolocation service failed."),b.promise},watchPosition:function(){return"TODO"},clearWatch:function(){return"TODO"}}}]);